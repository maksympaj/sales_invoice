(this["webpackJsonpsales-invoicing-system-app"]=this["webpackJsonpsales-invoicing-system-app"]||[]).push([[0],{376:function(e,t,n){},400:function(e,t){},402:function(e,t){},431:function(e,t){},432:function(e,t){},507:function(e,t){},677:function(e,t,n){"use strict";n.r(t);var a=n(2),r=n.n(a),i=n(77),c=n.n(i),o=(n(376),n(4)),l=n(26),s=n(37),u=n(760),d=n(810),p=n(775),h=n(784),b=n(348),j=n(811),f=n(24),m=n(98),x=n(65),O=Object(m.b)({name:"auth",initialState:{isLoggedIn:!1,isAdmin:!1,token:null},reducers:{loginSuccess:function(e,t){e.isLoggedIn=!0,e.token=t.payload.token,e.isAdmin=t.payload.isAdmin},loginFail:function(e){e.isLoggedIn=!1},logout:function(e){e.isLoggedIn=!1,e.isAdmin=!1,e.token=null}}}),g=O.actions,y=(g.loginSuccess,g.loginFail,g.logout,O.reducer),k=Object(m.b)({name:"counter",initialState:{value:0},reducers:{increment:function(e){e.value+=1},decrement:function(e){e.value-=1},incrementByAmount:function(e,t){e.value+=t.payload}}}),v=k.actions,S=(v.increment,v.decrement,v.incrementByAmount,k.reducer),C=Object(m.b)({name:"loading",initialState:{value:!1},reducers:{beginLoading:function(e){e.value=!0},endLoading:function(e){e.value=!1}}}),w=C.actions,T=(w.increment,w.decrement,w.incrementByAmount,C.reducer),D=Object(x.b)({auth:y,counter:S,loading:T}),A=localStorage.getItem("state")?JSON.parse(localStorage.getItem("state")):{},P=Object(m.a)({reducer:D,preloadedState:A});P.subscribe((function(){localStorage.setItem("state",JSON.stringify(P.getState()))}));var B=P,I=n(10),W=n.n(I),R=n(25),H=n(5),L=n(14),N=n(6),M=n(731),z=n(146),q=n.p+"static/media/chinese.msyh.554cdb5e.ttf",V="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAVcAAACWCAYAAABq8su9AAAkCElEQVR42uzdX0yVdRzH8S/m1urGpRetP9x3hSABBYqgR/7JnwMLT/x/Tmuu1WqpjRGuNramIN2Uq03amo5NoJQgFCeghEVoY0bNlOq2rQvn2rLNrRmn7/Pg2c7s1H7nnIfnfE7nc/Getz/2++61rw+c58jpCwXyf2zmuxx5s+d52VFqSZ0/yNamB7RsLaB1a+9pJ7QhbUQbBmxUe1eTcPaMvN7ZKlNXt9w/R59rvxvkQ5n7ZDa1mCsfnvBJvT8gjY0BCQTSO4hLIa4p1SatQ/tU+0ULpWB3DHH9RgsZVIsy98QVJ4hLIa4pUYF2XLsNAmQiXTPEdcYQ1wqUuSeuOEFcCnGFLkcbA0GRuAJHXIkrMytD6wfBkLjiJ8SVuDKzbfUHEAiJa4pEXIkr+++aQAAkrikWcSWu7N/bB4IfcU3BiCtxZdE7AAKfF10nrsSVuBJXL2oBQc+rbmsSrnS7Ja/sayOuxJW4EldXy3IBq5+1Ea1He0mztDatHbAXtVpN7PwNQSkptuSN7mZ7ZogrcSWuxNWV1mm/xgnqb9r72rMgP0tcVVZZUlsXlMHxYjm78DRxJa7Elbi60sdxwtqrbQL5GeLO2Vq36dZ6sFlmr2fLqZkC4kpciStxTbjsOH8RlAtyfhe21qDU1Abl5NlCmbxib63ElbgSV+KaeIsxwnpOWw9y9oSrv7e1HuhukdkbztZKXIkrcSWuCbctVlhBzu3u1loTlKHJIjnnbK3ElbgSV+KaeBdigHUZ5MyuPmvdXmw/a20JP2slrsSVuBLXhMuMcWvNBDm3y89aI7dW4kpciStxTbyuGGA9CHJmd7fWog7771rDWytxJa7Elbi60mVDWG+CnNfVX2L5dlpSXW3JyPlCmbxsb63ElbgSV+KaeBu1FUNcu0HO7Bqsu3yWlJdbcuxkhfNRV91aiStxJa7E1ZUqtZBhjyb7vLurg1JWZsnO0sQrLuyQigqFdag84k+viCtxJa7E1Z06DWG94vmz0Hr9t97ZLJ0Xqfh8q/fWZgVl78sdsr+rVXr6A/L24T1x1flWs26su2RmKccQVqdpQ1wrUeaeuOIEcSnE1bMGDHE9oonXVdcEpbnVkv3dbdJ7tEGOj5bKxFd5cn4xV6au5srM9zmKY3xdvJbt/GXAqemY5miamytxJa7E1aQJQ1wtj8/l/Jd9T5Ml45fyZW55s0wvbXFepDL2Rb6cvligJWWOFgxxLUGZe+KKE8SlEFfPmjPEtdzjczmPA1rbLZmYz7OBRZihDO2mIa6bUeaeuOIEcSnE1bMWDHHd6vnmWr76SOCz2XwUXLMNYf1TewRl7okrThCXQlzhcC0krgVHDHG9gTLzxBUriEshrp71tSGuRWmO63rtD0NcB1FmnrhiBXEpxJW4guE6oIUMa0eZeeKKFcSlEFfiCoRrYwywrmgbUGaeuGIFcSnElbiC4PqcFoqhT1DmnbjiBXEpxBUO16eSgWtTS9JwzdDe0UIxloUy78QVL4hLIa5wuNZrT2qZa1iWlh9+qcqOEkv8fkvG5jzF9THtVe2nOGCdRJl1lIgrcU3nTHFd0e5qf61RoXt1hN9WVVVlSd8HDXJmPk9Go38a62HtGa1Z69IOaX1abwwd1vq1Y9q8dkcLxdnjKLOOEnElrumcgytIu21YfT7L+ejrwHC5XFrOsu8u8sUqG7QXtNHwp6VAeg1lzpEirsQ1nUPA9a6WEwnrR8Nl938rwEbtkHYLBNPIxlFmHC3iSlzTOQRct0a8uDoarHtBUbVbQplvxIgrcU3nko2rFYa14p+wPqiNgiAarW+1h1DmGzHiSlzTuWTiOuhvWH21YGWl/Y0AZZHfCPCE9iMIotE6o63TJFpEl7gSV5YsXG9pUlsXlJJiS/qO1smXf7N39tFR1Wcef+wetJ59cXfP2dbdPdvds6fb/aMlSCCBQBLyQpJJJpnJvN6ZvM0kVoqAoAhSxEoQBasWX2vR+gZSQY0FRQFDhGB9obXtsra+UGrbQ2urp7Wn7bHHHqtOv/eZO+kwTJJ7Z+6Q39x5/viciUm8d7jzy2ee+8zze57Xy1Ji/SR4SxGJZmMQ0ATcCC5WZd2LXNVBiRdF5Op4uXb69JHW1XGMbOmjZ34wkzcLGMX7bygi0UyeBXMATUAAJECPKute5KoOSrwoIldHy/VlzMbiHViBYJwePVhF+78zOxW1Pq6ISDOlGgQ0CR6QMGhUZd2LXNVBiRdF5KqcXN8Bb4Jf5cHbBnX68MGaeTG69iv+ZDpgmF+jLkVk+j54CWwCswCZYEBmaIlcRa4i11zkWgemgXPy4OM6SAfwNNeeeBwzscZGuJyTx+6o18D9YCNYB75kgasNVoNe0ADOB2SBm2RAochV5CpyzVWuZbaMyzZGZbvdcdq5rxoTXMtT01c35CDVXaAa0BRRBl6U6a8iV5GryHVKWw5mVgeMvjYDYrXa5Z/5CIQATRHngetltLbIVeQqcp1yuSJiZbFWz43RoqWoDnh5rDpAJ2JRrLMBTRGLUz0NRK4iV5GryHVK5erzcxqA86wDi2K097lK5FpT1QGWKwQ6AU0hJ0BC5GqOp1+aRVt3NJLfJ3IVuZYehZQr92V1tfZTfV2cVl3Vw/Ws+yDWZDqAmQZ+V0T9UkdErqbgN8+RYzPprm80kNcrchW5lh4Fk6svkOxy1YjrfcMdPs6xPvGtirSIlSkHCZPMELkWF4d/eAGtWecjd6sachO5ilyLXq6IWFmqHZ443bGtnQ7hjww51gyxWqptPaHIOhK5moxah79XTg88VkOdnREKBCNKyE3kKnItarlCrHyNPV6UW+2v4YgVf2xZxMqsMimr+xRZRyJXc/DrfvkaP7maIhSJqiE3kWth4HzfFV/q4k+sW1v7QZzc7SUvWjvlyqmAxjSxoirAyK9mw1J96zWKrCORq5mo9fuzaNs3a/UqAYlaS0GuB/+vnK66VuMi9mC4n0KRARZCQ32MGhv0W1iUDPmVEF7RyrW1rZ8CuLY7nqyhkcnFShYmrA4qso5Erhai1laJWktDrvqQu0eGq7AzaD7t2jePv75vaCFt3BJG7WWcWprjtLAxTtj3DkomojUr13kmjsUTW6+72UfPH59uQqzMRolcnUMy1zoLudZa6tSj1oAaUlMFJV6kQr3we0Yr6ckXKlBrWcGfXO87Ops/bDl4rBwfvLipqzdOdTUxau8omSj2RTsj14UNcbrmxqCe38Y1F7mWIvokiZV61NqsUVSi1tKQ6wTS5agW+UEuel59VQ+nCZqb4knBOjuK/ZZJuTaalevgl0OobxS5KvJ8z3TUilxrskIgKFGryNWAb2P3Pl/Bo0a23O0hrzfOxe8ePHb6lBBhIdhvUq4Rs3LdcENQ5FqCcj21QkCjSEQNoamEEi/SFEexfFu758hcWry8j9MEHR7H5mEfMCnXq81HrmGRa4nJNVUhgFyr1LWKXCdfLEgRcD72kpV9vC8egnViBLvepFwPmDgWX6eVa3v0CEY+0FLj+Z7RqHXlFT6paxW5mkwTPFfBi2bN+ihVV8W4AYnP76gINmRSru+BjwOaCJeLy9ywG4vfnHANRa5OAHdzvMMuG988zGWOvBvLJ1GryNVKBIs8LN/yrN0Q5VItNCJxkmD/EyRM0mtmd1Z9bZwuXNTHda7JXgIi12JlaJgDDE7z7P/2bJ51lgneRLn07rLVXCEgUavI1VIEy6NInjteRptuDlB9neMEe9ykXF8BZIa66hhdekU3HXl9Bu0erYRgRa7Fhr7u9x+dzcHF6rU+WrQ4REuXB09j2Qo8XhKkUFjvfCVRq8jVcgTLt0WcIth8q58F2+ocwX7FykjsyRtj93OdcEMd17zyNcOt43iCXS9yVRMEFDyGZwnE2bhAI3dbhNrd2um04WcgFJK6VpFrHoKFJFgWm251VAQ704Jc3wFnTSpYpAfa2uJ6igDRvl8vLMc1FLkWC4haeZ1fe6Obmho1CmsR0qS0SuR6BgXL0VlrmyN2c71qQbCPmZ1A4GqJc0/Xux5qSg4jHBG5FgOYFMHpnCiE6umQmlWR65kVLOcTr9vCESxug4u+TKsbJCyw0axgmyBXr68f126u/kcrclUcPWp99vUyGtzcLpsBRK5T16eAy7SujlLtfH2jQdHv5HrLomA3ADKRIuDr88X1Ed79NjQiclWZp16YzaVX0S6NOr2SDhC5TpFgUWrEu7mWrexFBFv0udcgSFjkQXA2oHHxxcnlSr7xPHqQo1eRq6IMjfAdmUStIlc1bqHQZYsbcff1x2hBdZx8xZ1/PZqDYH8MvJNFr3U1cVo7GDEmE4hcVYRzrYclahW5KgJEwcXUjz87h4LhODXUFbVg/x0kcuQZEAbnZoteW43o9eGnq/iP2KJcVynyej/pVLliHY/lWlskahW5qoIewR76wQW0/fE64xPyohZsF0jkwdtgJ1gB2sB08GmOXmvjtGpdN2+XtCjXr4LPgP+dYl5wqlwlahW5KgsEyz1h73m4mVyuohfsFpCwkd+Cafrgws8vjtGBl2bxhyYpuTqQopLrqVGrbGEVuSrI0Ah3YneKYHfZKNffgWl6E/KLl/eJXBUjGbVWStQqclWblGC/vssRgt1pk1x/KXJVk6GDUiEgci0ixgT7cIsTcrA3i1ydK9enXpS6VpFrkaEL9tArF9Ddu5q5B0FNVYz0nGNjFsa+D/m0tCjZmPsikavz5DqWa90kUavItcjA4uVNBthbzx36r7wmkpV1GyPoFxuhxZfEKNrTzx236mtjvHXU41VmxMznwBGRa/HIFeuPewQ8gzWIOymuaEnn6I8+x3XamiZRq8i1COG+mN/mEd4s2nE5humz353Frd7ufNCF6Qdd1BvvZ8FifIpK474XgZMiV7XlinWH0fHJZtabtrhp3aAXedWOU9h8i4cuuTRAno6IRK0iV2cD4bBcjfldLOWbtnbSoqVxo4VfDJJVos3h2WAFeEXkqp5c9Yh1H3KpgBtatyyMUGuTRm7XqbS2aNTRHtH7sErUKnItHYxbOi64R/0scrcuunhFjJqbkrvAvD5l8rJtYCv46QRy/Wgcud6kiAztpnOK36Q5DXD5Gh811mkUDks+VeQqZJMsPyJlwF2l7nignbpjcR757WpRIopNpxwsBjeDfeAoOAFeHEeuy8HPwRsO4SfgJKidwnQAjyS6a0cDR6ehkESlqqCEUITxJXvwWDkNQ7SDX46Qx8vd/iE1ZaLYiTjrdLkyf6PKNbaJj03xNmw8VvGtvqdDxlyrhCoLVJh4YCIXfu86UK1vJ+WOU263clHsaZwqVzWup1MYE+tIFWlamNpcGkW71JCKIHItKvDHpH/wxZUG666NsriakI/1BdQQqcj1jIsVX0OsEQ1ilWGBKqLEYhHMpwoQxXKP1Fvu8ZC7PU4LG9TdDSZyzXP6xZFK2vtcBTdpN+DvHcZmlUcO6mINi1gVRomFJFjOxXKaYPsT9dSusGBFrrk3ZIdAWayPPD33tO2rO/bWQqgiVtVRYkEJud8aPvhEHQu2UUHBilwtvWnyPCtsT+VrtX6TlwY+H6aeXo3i/eEU+J5GWpg/vBKxKo4SC0uwSbD1aglW5GpNqrtH59CGzR7q6tZ473+HWyNfp75VlWG8Ho0CfqljLQaUWGBCXoLlmV5IESgnWJHrhFLl23+W6mFEqpu9Sak2Q6IeXZ5Sr1rsKLHQBFsEq1yKQOSa9bXiSBU5c5bqIKSailS9IlVHocSCE5yZgxW5jpNTPTw3Gal2GZGqNyJSdSBKLDzBVsFmpAjiIldFpKrnVAevN6TaJLf/TkeJBSjYnyLYtqeeBedy6aIb4D6x2Un+rIMfB0Su9uZU+fYfkapx+y9SLSWUWIiC7YLlSOlrDy5EBNtNgUAXhULd2QknHwPBXkS5saRoPbpoRa4516k+z1Idu/2PdklOtRRRYkEKtsNbZbfvnk/hcIjCoRBFImYIQ7ZdLFpMQ8iIZuMi10kYGp5Dw9+bxRHr+usyb/+lfKrUUGJRCoWR690P1SNqNdrQaSZgAYQoGg2yCIKhbiOaHWAsduLiPrRLL4vp40W4T+2e0cpk/9HDliikmPnYGDONx7wjVu77sOfIHIrFwtRUL7f/pY4SIhAUkWsGEC0TRjTLkaxnwFK7w6aF/XThF/rozu1NdMf9C3nrJiTLz80sB74zi/+f4e+XswCHRuzJhwI+Nsbt8AQIPPJ5IFr8zHrECrGi78Mc6u4OU2uzfPoviFwdiw1yBTzEzohkwzhWL3WYimKTIvYHYnxuT3uy3GjxkhBduirIc5zMsmRZkJZfFqDb72/iwXvAkGzuUkV/XG5+c/9jdXT5FT666Ashumx1gG79egtLHBUXpiXLEeuxZMTaBbG2tch+f0Hk6mhMyNUKLNdINIhjdbFAs0Sx/LWHf3YhpxMQ9ULOYR47EgKe9gi5WzVyt0VM0w5aWyIs6GXLQ/iQDpJ9OV2y1qW6bXcdrfpigPx+HLuZnw9Lsd2t0eKlIbr93hYWZoZks3atev74dKQ75lK3iFUQuZYGdsvVAPLQhalxFJuei2WpGlUG/kAfy5jlqtkhdo3CodSAPUh2xV8lOzIm2Ymlik/vIdUFtHqtLlUu3udrE4mmnSPMvVEh2zHJcqogTbLM45AqJM3XeMvWtqRYXdJIRRC5lgSFkitgcSJVwJUFPv9YLpalGtaiqcoDE8eyQbLbOV2QJtnsUl3FUo2wVP2BbJ/cZ0i2NZKU7JIw3XYvpwtY5hAt52pv+mobXXiRLmPuUCVTAASRa6lQQLmCCNCMyDRMwWAPhMRSZdJ/BxREsqGUZN2cLhiTLCTI8ht9NS1S9XFJlCFVC+cIa5zGaIdkL14Woq3fwAdz97VAqmGcm7+P35USK0HkWlJkyLWQojMj1cJLliPZIN03VE8791fT6iv9aVLNPRdqSJZFyi3/OnShi1QFkWvJcqpc1VhsBoVKF/AtejCY/O+2lvRI1QZYsjoiVUHkWtKUklzTJRsIRqSZtKAESohAELkKgtNQQgSCyFUQnIYSIhBEroLgNJQQgSByFQSnoYQIBJGrIDgNJUQgiFwFwWkoIQJB5CoITkMJEQgiV0FwGqk/xhmgAdRZoBHMA5QDZcb56jOOWW9QCc4HdIY4C3wGzDXOXwE+BWgK+AQoBwtANSgDf3cG5Tod1IC54J8A2cSnQD1YAGpNUmc8ngeogMwD5wKyif/O+LdapQ5UAbLIZ0GVDdfik4Dy5BNgPjgbUIH4WzADzAO1oCL13AvIP4A5oAbMBGdNJNcNIJEHh8A0QCZZZ/K474FR0FdAoUbBY+BklvN/CF4BW0ELoAJSAa4H3wV/BIkMfgMOg7Us/cLI9UrwMvgTSBj8AuwwhEt50Ar+DBI58hb4H0A28zHwAkiAEza9mfhBwib2WZBTL0gYbANkkXPAMyABfg/KAOXIdOMYCXDcEC3ZxPlgFdhrHPuPGdfsZ2AUbAbzbQ4O7gEn0871AXjVONd52eSasIEyQCZ5K4fjj4B/BmQTA+ANi8/h/0EUkI18Fuyx+DzeB7eAv7dJrv8GjoHEJCwBlCP7bRDNGkA2c3nGOW4HlCcHQMJGLgBkgoMgYfBn8K+ALDAz47xvG5Eh5cD6jGOFbHojvA781uL1OwBqAeVBG3h3kvO8CSoz5fpenmL9EPwLIJOcyPE8J8E/AsqD88BTIJEHu8G5gPJkeZ7P4xegHlAWuJfpndsbuDNUODThbdVP096FP8xcNBkRZxRQDuwGCfBRKqLJARcgGzkH/Bok0p7b++B8QHmwESTGh8/zrnGudyb53d9biPoezRDjfwGyQCX4IOP8I4ByYC1I2LBuUswAr6Yd733w0STXLvNO6QZAOVA5/jGZD9O+/wH4dLpc/wASBm+CWy1wo7WolXktdT7j3LdlOe62cW7VXwKUI/8BfjaOqN4Bh8DXjPNvBaPg3XF+//U8I+nbJpDmMfBQ2rXYA34ywe/3AsqAZ+fv3DePeno08vnGbQN4L0hkLNRhcIv2l/buPtqmOo/j+Dd5KJMeTItGmRZW5THPIaFl3IQbE3OvS43ShJqmUomyZkijovIcdbm6HoahrJWiTGR6LpJqpGJVo4iuTBKL67r4zXudtWtt39nnzvnt375P7v7j9Y97zj5nX3t/7u/8zvf3/fXvv9ALAeML3XycD7H0rO84u5GNyRb6QSJ2r+/cC3y/gycgDqpgOCZhsjIJ63AQR5CH+d7PtMcsP5ovhfF8i7oQC619IXHc938+HmJppO84riPXq2A8Ovw3YzGmYyqewis4nOQ5SyAWKuNrdQ8cxmLv9VbCqJ+/hlOCwnU1pBjpcP0SksSpGJssTCydlWQ6YpN3vGQfsc/FPT/9jpSXISFMhQnwOJpCkuiCpTAB+qrHJrYlefGdNnLzkEx6nQaG64Uw6ia4TT2mnX905+kWJlzVjS+lrKo6rz045hu9FueXIo/CePahOsSde7j6gugH9Qe3VymF6+VJQnI5ehQxH90U03XweUZbvP716jy+Ryf1mJthlMpB4fpWCYfrdi9EpQg6YD+FWHofRhlv8fw6WBEw2hVLNyYZjTe2OEbvJCPqBupxia1PRo/pI72uDrxwhqkL7ylIgIvwFQxW4ReO4ZqHOpBSdLcatRoU+H4X0yHFJBvGF2LNymC47lVTFgWoW8LhWhM/qmu0EIMsjtERm1XwLbN4/gJ1HpmQAJkwngcg5SVcBV+oILnQ4vXuh1EGQ0K4D8dRiN+GKLEyHtdPCvWxRx1rs3pMYr+nSbO6J3Y1zeyflXwEBfUXWTsDXSGQch6uVbHbd9Pk4zFsV3N6tStwuO5GoQqWzSUcrivUMQ6hDcTSqciFwXY0tHjuuzCevd6xJIlG6AApb+E6UQVJD0gKzoFRRkAcXIi6EEuL1fv4HOLgYhglC+JJ7CU1d2kXuvNnQV0MBIoK1ysgRTlJwvVuddO+BcE89e8zKnC45uN1bFe/k/klFK5XwiiuZVUXhZiCWQfj+R6VIEUpj+F6rwqRfhCPzZTCu5BSUBtGuQTi6HZ1zK3+ny9/zZt3HZoRNO/6R3UDTK8A4VoFeeq8e/pqM42aLqhdQcPV4AZ0DJiXH1YC4bpSTQc8DCkFi9R59DkZw3W2ChGvBMl6OqEFpBTcpd7HEkhEtuuaY9++/Yn99ceM753YUlptfVI/4MYZfJKH613qfDeony/To9cKHK4TIJgNo7QqxnCtgwJ1LlUgpWCwCvk8tA4brq+UwXCthH0qQFIpg2oQUBkgpeQl9V46QCKiV7yN8v989cbWkrOkS2Ln0oyMLH0B/C2gFOt5jMNoZATVS5bTagE912rQXc+bBdW9VtBwnQnxfKh+b3moXkzhOkg9dxKklFTDThWwBzEXY3AveuHMVML1I7RCW1wWoB3a4IwIw1UUbQVMiD8AGep5EyARuBSNIRa+UlUGp0Ai0k6d5yJVkpVYrTX01ozEHvxq9Ho2dqlSFy3fC+FfRxCux/Et0tEK7ZLSr+fuHnXTrocEWKZupicqaLhOU0tOD6rf39piCteHAz+Ku2uFCyCWOulFBAG+wQNJw9VSHhoXc51re6yBUdpDUjBcPe8miKMHYTz3pPqlmuoX8E4xNHophPG8CvFPDby6uYVMnZ1GSVZWUNVAfWyFUbT9SHMM16M4AJOCY/h9hKPW75KMWrUmQaPXCh6ugu4wyviIw1VPQ+RH8Pup4lshWBCyTrufHnz4z89nI2qHCVdtSgThesALmw34wLOhiBVJTzp8XO4HcVAJBf7VbBYrw47CeF6EROgM7IXxrIeoL7YS0wNDb8mQ9B5ZQdtOV8Ej+BwF/2cpYUeHcLW1sZgqBN5LZbmuv+41DteEMQGh0ivicH0GxnNQnUcYzWF8/g4JoSEW4zt1PL2ibRtquIbrdU7ham8ZxMJI9fyBEAdV8B2M5zNICs5DQTHOa5+NQzCetyF69LqWBQUz53Xz5l6LbI7RBmnIQjaOq2mD/+AXDstfj1iE6+wo51o9hSnUOtZQPRAKUCsO14RVKjjVAgPncF3gD1f/Wn3X3gCepyEOzkUXdMMQrAhYCfZcULjm4UnMxpwAOcjGMEgJhesxjIVYGqyOMxLioDJ2wXg+tgjl3XoqJEKXqPN8HqKteKut/GN9a7nxpkzp09vqYuqM/epmecAhXPdgMZ5EThJzMBY1Ip5rPYpNuAgt0SqJeliLI74bZlocrgmnY5deYBBhuE5RS167OM+1Rv8HW7szYETfSYfrGogz93D9As/hr2pZp43L1TGXl2C4au+p93IBJCIDoXoUqJHrGuZdP2khU7K7S+90Rq6Z1hdPN3XxfIFKIacFdpVSXetR7Ff9P4tyCPt9PQcOo1YcrgktYIpYYHCfDleHKZw7y0G4Ch5Xo9f5pV3nul6tvoqy2L+a+iKpANVLKVynwegvwyLysjp2Hz0lsGpdG3nhzbYycGB/Rq2+igE7q9QN1cShzvVXJVnXqkauxoIXrPACJw7X4IYlaoHBKIdwbauO+XY5CdfT1fTTxtIO10/0/KgK3qoQB8+oY04spXDVo+jdkAg0Cti94TT9uDe3XCr308Dl6jT1ZZad0TA+vcr4IgJ/hcARGAf5vlVbteJw/VmOP0Q9NZFmGa7aZ+r5vykH4SpY7f+EVtrhugvieThJb9NqDq/VAUa5OMpwdWgSPgPi6OOijrlsdTt5fUtzmfF0mvSkM1Y/egz0twxX/VHP55oyHq7+udZCbMMs5GBuCnIwE5vUx71pcbie4F8qCNfgITXiz3Cs7thWTsLVvwvF7rKw/LWyDljlA/UYW2+o4+3EOc5LTe3D9WrH7lxaLozyS990QKJxy5KXOgpNWxK9BQYMOOFCqI5RuBWSgmUwPi3LcLgG1bVeBQmhQUDPgVpxuP7sfBwOaA14xCFcqwWUPK0Mu1GiQ7g2wF9SvHYqYQeM56Oy2FsgKGA3OARsXRhlGxpBLFym+qhugVh6AUa5A2JpPoxyq55rfe3T5jJ8RF9J69pfBgxUHda9zeg8U1OoFTzmu1l2oGoZDte7g3oIOHhGhcfUOFxP0FMF2D4U6nC1lB7wpdnKEJ2t/qTqUHMhKain9s3qDSnCKHWNLNXhuraM9BYICtiNapdZG5kwylGMwGkp1JGOgVH+HbJW9msYZTmapTj63QSjLNWPffHdNrJg+RWSSWVA375ZQdsDG+W2Ioqnd+r13mW4t0DS1VgOGsHoutc4XE8wTvXDzcexkOGq22LqSpWsFIv+c33v55hl28RrA7Z3aQ8J0D/gffbQ4fohmqAZmitaCzQppnBNPkVgH7B6Oay2E9NxPdqhCdrjBmTje5gAf4aEUMc3d6utwnCkoRlaoA/GYl0RzxElseT1wUfTpUf3pNUBCwO+jFiAPmiKThiHfeoiK8C5Dr0F8nAVmqFlClrg1DBzrXrUGvHodVocrv/jZTXPfVSFaxjzkqwUXIdxXgi2RDN0xi14FodU1YftNkVnYUfAHnIT0BVN0Qs5Aa/zxk+LCA647oZq+ZF9C4xnhwpX7REYZR1Od9hS20QgJ4J+ABtgHD0NSRquE9Np1pL04jkT3/hqQI+ntJOmfSMN3QxlL4ylragHUbRzkBfRqFVrqN7TYdSHWJqtwvXSYgjXvBCNb9qocJ0eshwpLyBsMqOoIfUU+o6rabpK5HaHPbzUsZLeI/tRByIRhU0zSIq+gfH8gEoQTY9glWshIbXCmzAhbFA9ClxNhAlhj25EE7TFy/jH0iW9Z5EXzwXYrG+GInbbHORQoqJqTa2NhCjaLep9vw9Rohi9Fjps17xI3bAtIYprHfKPIVpFdlB/lHIgIbTU11NEDXgy8CWMPr4SdH2tQDtICNcgXx0/2evtQFN/45aPYBzVhqTon+pjvnhsArYxxFF/1XUrmZ2YhzRIMWiIWfgWRtG2YjTOgoQMV60SJqgCaO0VtHHdy99ROkTRrrDaqdbexer410EsPQjjOYCakAjMgvFsD/HFTx11biMgIQ0NbK7t7jSMwAfqk5Z2DB/jcbSGOKqHRSgsog46W/d1/Wn76MlYiAUWFiIHnSEWzsNMZFtuNDgEs9EJEqH6GIDx3vHn4Sncgc5qjrc4VUNXDMdM5GIupmAI2kIUl3DVaiILjyAXs3CHmsQP6xSMxnwssLAQubjZ4rW6Iwd/gETNN882yGElz0OYg8shEamBRzHHYTR8JXIwNoLu/zd4x/odpBi08l5jvPc6uZiIG1WgRqkxhmGG93qTMSRZcxkxxsRisVgsWnG4xmKxWByusVgsVk6UiTcRi8ViJ5sy8SZisVjsZFMm3kQsFoudbP4LF1ZXxIg2zNsAAAAASUVORK5CYII=",F=n(0),Q=["cells"],E=["content","width"],U=["cells"],K=["content","width"],Y=["cells"],J=["content","width"],G=["cells"],_=["content","width"],X=N.StyleSheet.create({body:{paddingTop:35,paddingBottom:65,paddingHorizontal:35},header:{width:"100%",fontSize:8,lineHeight:1.2,marginBottom:40,flexDirection:"row",alignItems:"center"},title:{fontFamily:"Microsoft Yahei",fontSize:15,marginBottom:10,textTransform:"uppercase"},logo:{marginLeft:"auto",width:50},info:{flexDirection:"row",marginBottom:10},companyInfo:{fontFamily:"Microsoft Yahei",fontSize:8,width:200,paddingRight:10,lineHeight:1.2},clientInfo:{fontFamily:"Microsoft Yahei",fontSize:8,width:200,paddingRight:10,lineHeight:1.2},email:{color:"#0000ff",textDecoration:"underline"},subtitle:{fontSize:18,margin:12,fontWeight:100,fontFamily:"Microsoft Yahei"},text:{margin:12,fontSize:14,textAlign:"justify",fontFamily:"Times-Roman"},table:{fontSize:8,marginBottom:10,border:"0.5px solid #808080"},tableRow:{fontSize:8,borderBottom:"0.5px solid #808080",flexDirection:"row",minHeight:15,fontFamily:"Microsoft Yahei"},tableColumn:{flex:1,padding:"3px 5px",borderRight:"0.5px solid #808080"}});N.Font.register({family:"Microsoft Yahei",src:q});var Z=["January","February","March","April","May","June","July","August","September","October","November","December"],$=Object(f.b)((function(e){return{loading:e.loading.value}}))((function(e){var t=e.loading,n=Object(a.useState)(!1),r=Object(o.a)(n,2),i=r[0],c=r[1],l=Object(a.useState)({Seller:{},ChairStocks:[],DeskStocks:[],AccessoryStocks:[],ServiceToOrders:[],DeskToOrders:[]}),u=Object(o.a)(l,2),d=u[0],b=u[1],j=Object(s.h)().id;Object(a.useEffect)((function(){var e=W.a.CancelToken.source();return m({id:j,cancelToken:e.token}),function(){return e.cancel("Brand Component got unmounted")}}),[j]);var f=function(e){var t=new Date(e);return"".concat(Z[t.getMonth()]," ").concat(t.getDate(),", ").concat(t.getFullYear())},m=function(e){var t=e.id,n=e.cancelToken;W.a.get("/sales/".concat(t),{cancelToken:n}).then((function(e){c(!0),console.log(e.data),b(e.data)})).catch((function(e){c(!1)}))};return t?Object(F.jsx)(p.a,{sx:{color:"#fff",zIndex:function(e){return e.zIndex.drawer+1}},open:!0,children:Object(F.jsx)(h.a,{color:"inherit"})}):i?Object(F.jsxs)(a.Fragment,{children:[/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)&&Object(F.jsx)(N.PDFDownloadLink,{document:Object(F.jsx)(N.Document,{children:Object(F.jsxs)(N.Page,{style:X.body,wrap:!0,children:[Object(F.jsxs)(N.View,{style:X.header,children:[Object(F.jsxs)(N.View,{children:[Object(F.jsx)(N.Text,{style:X.title,children:"Invoice"}),Object(F.jsxs)(N.Text,{children:["Date: ",f(d.createdAt)]}),Object(F.jsx)(N.Text,{children:"No: I-".concat(d.Seller.prefix).concat(new Date(d.createdAt).getFullYear(),"-").concat(("000"+d.invoiceNum).substr(-3))})]}),Object(F.jsx)(N.View,{style:X.logo,children:Object(F.jsx)(N.Image,{src:V})})]}),Object(F.jsxs)(N.View,{style:X.info,children:[Object(F.jsxs)(N.View,{style:X.companyInfo,children:[Object(F.jsx)(N.Text,{children:"Blueocean International (HK) Ltd."}),Object(F.jsx)(N.Text,{children:"23/F"}),Object(F.jsx)(N.Text,{children:"Lockhart Centre"}),Object(F.jsx)(N.Text,{children:"301-307Lockhart Rd"}),Object(F.jsx)(N.Text,{children:"Wanchai, Hong Kong"}),Object(F.jsx)(N.Text,{children:"Tel: 2169 3337"}),Object(F.jsxs)(N.Text,{children:["Email:"," ",Object(F.jsx)(N.Tspan,{style:X.email,children:"info@ergoseatings.com"})]})]}),Object(F.jsxs)(N.View,{style:X.clientInfo,children:[Object(F.jsxs)(N.Text,{children:["Client's Name: ",d.name]}),d.unit?Object(F.jsxs)(N.Text,{children:["Unit ",d.unit]}):null,d.floor?Object(F.jsxs)(N.Text,{children:["Floor ",d.floor]}):null,d.block?Object(F.jsxs)(N.Text,{children:["Block ",d.block]}):null,Object(F.jsx)(N.Text,{children:d.street}),Object(F.jsx)(N.Text,{children:d.district}),Object(F.jsxs)(N.Text,{children:["Phone: ",d.phone]}),Object(F.jsxs)(N.Text,{children:["Email: ",Object(F.jsx)(N.Tspan,{style:X.email,children:d.email})]})]})]}),Object(F.jsx)(N.View,{style:X.table,children:[{cells:[{content:"Salesperson",width:"15%"},{content:"Estimated Delivery Date",width:"55%"},{content:"Payment Terms",width:"15%"},{content:"Due Date",textAlign:"right",width:"15%"}],backgroundColor:"#dbe5f1",textTransform:"uppercase"},{cells:[{content:"".concat(d.Seller.firstName," ").concat(d.Seller.lastName),width:"15%"},{content:d.timeLine%7===0?"Est ".concat(d.timeLine/7," working week").concat(d.timeLine/7===1?"":"s"," after payment"):"Est ".concat(d.timeLine," working day").concat(1===d.timeLine?"":"s"," after payment"),width:"55%"},{content:d.paymentTerms,width:"15%"},{content:d.paid?"Paid":d.dueDate,textAlign:"right",width:"15%"}]}].map((function(e,t,n){var a=e.cells,r=Object(L.a)(e,Q);return Object(F.jsx)(N.View,{style:[X.tableRow,Object(H.a)({borderBottom:t===n.length-1?"none":null},r)],children:a.map((function(e,t,n){var a=e.content,r=e.width,i=Object(L.a)(e,E);return Object(F.jsx)(N.Text,{style:[X.tableColumn,Object(H.a)({borderRight:t===n.length-1?"none":null,flexBasis:r,maxWidth:r},i)],children:a},t)}))},t)}))}),Object(F.jsxs)(N.View,{style:X.table,children:[[{cells:[{content:"QTY",width:"15%"},{content:"Description",width:"55%"},{content:"Unit Price",width:"15%"},{content:"Line Total (HKD)",textAlign:"right",width:"15%"}],backgroundColor:"#dbe5f1",textTransform:"uppercase"}].concat(Object(R.a)(d.ChairStocks.map((function(e){return{cells:[{content:"".concat(e.ChairToOrder.qty),width:"15%"},{content:"Chair Brand: ".concat(e.brand,"\nChair Model: ").concat(e.model,"\n").concat(e.withHeadrest?"With Headrest":"Without Headrest","\n").concat(e.withAdArmrest?"With Adjustable Armrest":"Without Adjustable Armrest","\nRemark: ").concat(e.ChairToOrder.remark,"\n").concat(JSON.parse(e.ChairToOrder.deliveryOption)),width:"55%"},{content:"".concat(e.ChairToOrder.unitPrice),textAlign:"right",width:"15%"},{content:"".concat(e.ChairToOrder.unitPrice*e.ChairToOrder.qty),textAlign:"right",width:"15%"}]}}))),Object(R.a)(d.DeskToOrders.map((function(e){return{cells:[{content:"".concat(e.qty),width:"15%"},{content:"Desk Model: ".concat(d.DeskStocks.find((function(t){return t.id===e.stockId})).model,"\n                            Color of Legs: ").concat(d.DeskStocks.find((function(t){return t.id===e.stockId})).color,"\n                            ArmSize: ").concat(d.DeskStocks.find((function(t){return t.id===e.stockId})).armSize,"\n                            FeetSize: ").concat(d.DeskStocks.find((function(t){return t.id===e.stockId})).feetSize,"\n                            Beam Size: ").concat(d.DeskStocks.find((function(t){return t.id===e.stockId})).beamSize,"\n                            ").concat(e.hasDeskTop?"Table Top: ".concat(e.topMaterial,"\n                                  Table Top Size: ").concat(e.topLength,"x").concat(e.topWidth,"x").concat(e.topThickness,"\n                                  Table Top Color: ").concat(e.topColor," ").concat(0===e.topRoundedCorners?"":"\nRounded Corners: ".concat(e.topRoundedCorners,", Radius: R").concat(e.topCornerRadius)," ").concat(0===e.topHoleCount?"":"\nHoles Required: ".concat(e.topHoleCount,", Hole Position: ").concat(e.topHolePosition,", Holes Shaped: ").concat(e.topHoleType),"\n                                  Remark: ").concat(e.remark):"Without DeskTop","\n                            ").concat(JSON.parse(e.deliveryOption)),width:"55%"},{content:"".concat(e.unitPrice),textAlign:"right",width:"15%"},{content:"".concat(e.unitPrice*e.qty),textAlign:"right",width:"15%"}]}}))),Object(R.a)(d.AccessoryStocks.map((function(e){return{cells:[{content:"".concat(e.AccessoryToOrder.qty),width:"15%"},{content:"".concat(e.name,"\nAccessory Category: ").concat(e.category,"\nRemark: ").concat(e.AccessoryToOrder.remark,"\n").concat(JSON.parse(e.AccessoryToOrder.deliveryOption)),width:"55%"},{content:"".concat(e.AccessoryToOrder.unitPrice),textAlign:"right",width:"15%"},{content:"".concat(e.AccessoryToOrder.unitPrice*e.AccessoryToOrder.qty),textAlign:"right",width:"15%"}]}}))),Object(R.a)(d.ServiceToOrders.map((function(e){return{cells:[{content:"1",width:"15%"},{content:"".concat(e.description),width:"55%"},{content:"".concat(e.price),textAlign:"right",width:"15%"},{content:"".concat(e.price),textAlign:"right",width:"15%"}]}}))),Object(R.a)(Array(Math.max(0,6-d.ChairStocks.length-d.DeskStocks.length-d.AccessoryStocks.length-d.ServiceToOrders.length)).fill({cells:[{content:"",width:"15%"},{content:"",width:"55%"},{content:"",width:"15%"},{content:"",width:"15%"}]})),[{cells:[{content:"",width:"70%",fontSize:12},{content:"SUBTOTAL",width:"15%"},{content:"".concat((d.ChairStocks.length?d.ChairStocks.map((function(e){return e.ChairToOrder.unitPrice*e.ChairToOrder.qty})).reduce((function(e,t){return e+t})):0)+(d.DeskToOrders.length?d.DeskToOrders.map((function(e){return e.unitPrice*e.qty})).reduce((function(e,t){return e+t})):0)+(d.AccessoryStocks.length?d.AccessoryStocks.map((function(e){return e.AccessoryToOrder.unitPrice*e.AccessoryToOrder.qty})).reduce((function(e,t){return e+t})):0)+(d.ServiceToOrders.length?d.ServiceToOrders.map((function(e){return e.price})).reduce((function(e,t){return e+t})):0)),textAlign:"right",width:"15%",borderBottom:"0.5px solid #808080"}],borderBottom:"none"},{cells:[{content:"",width:"70%",fontSize:12},{content:"DISCOUNT",width:"15%"},{content:"".concat(d.discountType?d.discount:((d.ChairStocks.length?d.ChairStocks.map((function(e){return e.ChairToOrder.unitPrice*e.ChairToOrder.qty})).reduce((function(e,t){return e+t})):0)+(d.DeskStocks.length?d.DeskStocks.map((function(e){return e.DeskToOrder.unitPrice*e.DeskToOrder.qty})).reduce((function(e,t){return e+t})):0)+(d.AccessoryStocks.length?d.AccessoryStocks.map((function(e){return e.AccessoryToOrder.unitPrice*e.AccessoryToOrder.qty})).reduce((function(e,t){return e+t})):0))*d.discount/100),textAlign:"right",width:"15%",borderBottom:"0.5px solid #808080"}],borderBottom:"none"},{cells:[{content:"",width:"70%",fontSize:12},{content:"SURCHARGE",width:"15%"},{content:"".concat(d.surchargeType?d.surcharge:((d.ChairStocks.length?d.ChairStocks.map((function(e){return e.ChairToOrder.unitPrice*e.ChairToOrder.qty})).reduce((function(e,t){return e+t})):0)+(d.DeskStocks.length?d.DeskStocks.map((function(e){return e.DeskToOrder.unitPrice*e.DeskToOrder.qty})).reduce((function(e,t){return e+t})):0)+(d.AccessoryStocks.length?d.AccessoryStocks.map((function(e){return e.AccessoryToOrder.unitPrice*e.AccessoryToOrder.qty})).reduce((function(e,t){return e+t})):0))*d.surcharge/100),textAlign:"right",width:"15%",borderBottom:"0.5px solid #808080"}],borderBottom:"none"},{cells:[{content:"",width:"70%",fontSize:12},{content:"TOTAL",width:"15%"},{content:"".concat((d.ChairStocks.length?d.ChairStocks.map((function(e){return e.ChairToOrder.unitPrice*e.ChairToOrder.qty})).reduce((function(e,t){return e+t})):0)+(d.DeskToOrders.length?d.DeskToOrders.map((function(e){return e.unitPrice*e.qty})).reduce((function(e,t){return e+t})):0)+(d.AccessoryStocks.length?d.AccessoryStocks.map((function(e){return e.AccessoryToOrder.unitPrice*e.AccessoryToOrder.qty})).reduce((function(e,t){return e+t})):0)+(d.ServiceToOrders.length?d.ServiceToOrders.map((function(e){return e.price})).reduce((function(e,t){return e+t})):0)-(d.discountType?d.discount:((d.ChairStocks.length?d.ChairStocks.map((function(e){return e.ChairToOrder.unitPrice*e.ChairToOrder.qty})).reduce((function(e,t){return e+t})):0)+(d.DeskStocks.length?d.DeskStocks.map((function(e){return e.DeskToOrder.unitPrice*e.DeskToOrder.qty})).reduce((function(e,t){return e+t})):0)+(d.AccessoryStocks.length?d.AccessoryStocks.map((function(e){return e.AccessoryToOrder.unitPrice*e.AccessoryToOrder.qty})).reduce((function(e,t){return e+t})):0))*d.discount/100)+(d.surchargeType?d.surcharge:((d.ChairStocks.length?d.ChairStocks.map((function(e){return e.ChairToOrder.unitPrice*e.ChairToOrder.qty})).reduce((function(e,t){return e+t})):0)+(d.DeskStocks.length?d.DeskStocks.map((function(e){return e.DeskToOrder.unitPrice*e.DeskToOrder.qty})).reduce((function(e,t){return e+t})):0)+(d.AccessoryStocks.length?d.AccessoryStocks.map((function(e){return e.AccessoryToOrder.unitPrice*e.AccessoryToOrder.qty})).reduce((function(e,t){return e+t})):0))*d.surcharge/100)),textAlign:"right",width:"15%"}]}]).map((function(e,t,n){var a=e.cells,r=Object(L.a)(e,U);return Object(F.jsx)(N.View,{style:[X.tableRow,Object(H.a)({borderBottom:t===n.length-1?"none":null},r)],children:a.map((function(e,t,n){var a=e.content,r=e.width,i=Object(L.a)(e,K);return Object(F.jsx)(N.Text,{style:[X.tableColumn,Object(H.a)({borderRight:t===n.length-1?"none":null,flexBasis:r,maxWidth:r},i)],children:a},t)}))},t)})),Object(F.jsx)(N.Text,{children:"Blueocean International (HK) Ltd."}),Object(F.jsx)(N.Text,{style:{fontSize:12,padding:3,position:"absolute",width:"70%",bottom:0,left:0},children:"NOTE: Please deposit to HSBC 023-472038-838 (bank code: 004, Bank address: 1 Queen's Road Central, Hong Kong. SWIFT code: HSBCHKHHHKH or FPS: info@ergoseatings.com"})]}),["Should the delivery of goods involved any staircases at the provided location, there will be an additional delivery fee of HK$100 per level to be charged in advance.","If you have special assembling requirements, please let us know prior to delivery.  Otherwise, all chairs will be assembled before delivery and all desks will be assembled on site.","If the delivery address is located in a remote area within Hong Kong, we reserve the rights to charge the client extra for delivery charges.  In such cases, we will provide a quotation upon investigation of the detailed address.  Client will be notified of such extra cost prior to delivery.","Delivery date for pre-orders stated above is an estimate only. While we will try our best to deliver the products as soon as possible, the actual delivery date may be adjusted depending on actual freight schedule. We do NOT accept refund in case of delay arising from delivery delay.","You understand that pre-orders are non-refundable.  Decision to switch to another product after purchase can only be treated as store credits. ","You understand that a late payment penalty of 2% Interest Rate per month maybe charged for overdue payment"].map((function(e,t){return Object(F.jsxs)(N.View,{style:{flexDirection:"row",margin:"5px 0"},children:[Object(F.jsx)(N.View,{style:{width:2,fontSize:10,lineHeight:1.2,margin:"0 10px 0 0",color:"#888888"},children:Object(F.jsx)(N.Text,{children:"\u2022"})}),Object(F.jsx)(N.View,{style:{flexGrow:1,fontSize:10,lineHeight:1.2,color:"#888888"},children:Object(F.jsx)(N.Text,{children:e})})]},t)})),Object(F.jsx)(N.Text,{style:{marginTop:"5px",fontSize:10,lineHeight:1.2,color:"#888888"},children:"The warranty is effective from the date of purchase from Blueocean International (HK) Ltd by the original purchaser. Such warranty applies under the following terms and conditions and is covered by the original manufacturers for specific period stated:"}),["Nightingale chairs: 5 years for defective parts under regular usage, by Nightingale Corp.","Allseating chairs:  5 years for defective parts under regular usage, by Allseating Corp.","Standing desks: 5 years by manufacturer","Okamura chairs:  5 years for defective parts under regular usage, by Okamura Salotto HK Ltd.","10 years for structural defective parts, under regular usage by Okamura Salotto HK Ltd, for details please refer to our website FAQ section.","Bestuhl chairs: 3 years for defective parts under regular usage, by Bestuhl Co. Ltd.","Duorest chairs: 3 years for defective parts under regular usage, by Duoback Co. Ltd.","Wagner chairs: 5 years for defective parts under regular usage, by Topstar GMBH","Topstar chairs: 3 years for defective parts under regular usage, by Topstar GMBH","Ergohuman chairs: 2 years for defective parts under regular usage, by manufacturer","Atlas Headrest, 3 years for defective parts under regular usage, by Back Foley LLC"].map((function(e,t){return Object(F.jsxs)(N.View,{style:{flexDirection:"row",marginLeft:"10px"},children:[Object(F.jsx)(N.View,{style:{width:2,fontSize:10,lineHeight:1.2,margin:"0 10px 0 0",color:"#888888"},children:Object(F.jsx)(N.Text,{children:"\u2022"})}),Object(F.jsx)(N.View,{style:{flexGrow:1,fontSize:10,lineHeight:1.2,color:"#888888"},children:Object(F.jsx)(N.Text,{children:e})})]},t)})),Object(F.jsx)(N.Text,{style:{fontSize:10,lineHeight:1.2,marginTop:10,color:"#888888"},children:"Claiming of any aforementioned warranties only covers replacement of the defective or broken parts only and does not include the following cost, which shall be borne by the claimant. A quotation will be provided in advance for approval by the claimant: 1) labor costs of technician for replacing the parts; 2) transportation costs incurred for sending the product(s) to our company and delivering back to the claimant from our shop after service. I, the undersigned, have read and understand these policies and agree to all the above."}),Object(F.jsx)(N.Text,{style:{fontSize:10,lineHeight:1.2,marginTop:10,color:"#888888"},children:"Agreement to this invoice represents that client understands our refund policy and terms and condition as stated in our website ergoseatings.com and ergoseatings.com.hk"}),Object(F.jsx)(N.Text,{style:{fontSize:10,lineHeight:1.2,marginTop:10,color:"#888888"},children:"Initials: _________________"}),Object(F.jsx)(N.Text,{style:{fontSize:12,lineHeight:1.2,marginTop:12,fontWeight:"bold",textAlign:"center"},children:"Thank you for your business!"})]})}),fileName:"somename.pdf",children:function(e){e._blob,e._url;var t=e.loading;e._error;return t?"Loading document...":"Download now!"}}),Object(F.jsx)(N.PDFViewer,{height:"100%",children:Object(F.jsx)(N.Document,{children:Object(F.jsxs)(N.Page,{style:X.body,wrap:!0,children:[Object(F.jsxs)(N.View,{style:X.header,children:[Object(F.jsxs)(N.View,{children:[Object(F.jsx)(N.Text,{style:X.title,children:"Invoice"}),Object(F.jsxs)(N.Text,{children:["Date: ",f(d.createdAt)]}),Object(F.jsx)(N.Text,{children:"No: I-".concat(d.Seller.prefix).concat(new Date(d.createdAt).getFullYear(),"-").concat(("000"+d.invoiceNum).substr(-3))})]}),Object(F.jsx)(N.View,{style:X.logo,children:Object(F.jsx)(N.Image,{src:V})})]}),Object(F.jsxs)(N.View,{style:X.info,children:[Object(F.jsxs)(N.View,{style:X.companyInfo,children:[Object(F.jsx)(N.Text,{children:"Blueocean International (HK) Ltd."}),Object(F.jsx)(N.Text,{children:"23/F"}),Object(F.jsx)(N.Text,{children:"Lockhart Centre"}),Object(F.jsx)(N.Text,{children:"301-307 Lockhart Rd"}),Object(F.jsx)(N.Text,{children:"Wanchai, Hong Kong"}),Object(F.jsx)(N.Text,{children:"Tel: 2169 3337"}),Object(F.jsxs)(N.Text,{children:["Email:"," ",Object(F.jsx)(N.Tspan,{style:X.email,children:"info@ergoseatings.com"})]})]}),Object(F.jsxs)(N.View,{style:X.clientInfo,children:[Object(F.jsxs)(N.Text,{children:["Client's Name: ",d.name]}),d.unit?Object(F.jsxs)(N.Text,{children:["Unit ",d.unit]}):null,d.floor?Object(F.jsxs)(N.Text,{children:["Floor ",d.floor]}):null,d.block?Object(F.jsxs)(N.Text,{children:["Block ",d.block]}):null,Object(F.jsx)(N.Text,{children:d.street}),Object(F.jsx)(N.Text,{children:d.district}),Object(F.jsxs)(N.Text,{children:["Phone: ",d.phone]}),Object(F.jsxs)(N.Text,{children:["Email: ",Object(F.jsx)(N.Tspan,{style:X.email,children:d.email})]})]})]}),Object(F.jsx)(N.View,{style:X.table,children:[{cells:[{content:"Salesperson",width:"15%"},{content:"Estimated Delivery Date",width:"55%"},{content:"Payment Terms",width:"15%"},{content:"Due Date",textAlign:"right",width:"15%"}],backgroundColor:"#dbe5f1",textTransform:"uppercase"},{cells:[{content:"".concat(d.Seller.firstName," ").concat(d.Seller.lastName),width:"15%"},{content:(d.timeLine%7===0?"Est ".concat(d.timeLine/7," working week").concat(d.timeLine/7===1?"":"s"," after payment"):"Est ".concat(d.timeLine," working day").concat(1===d.timeLine?"":"s"," after payment"))+"\n"+"".concat(d.remark),width:"55%"},{content:d.paymentTerms,width:"15%"},{content:d.paid?"Paid":d.dueDate,textAlign:"right",width:"15%"}]}].map((function(e,t,n){var a=e.cells,r=Object(L.a)(e,Y);return Object(F.jsx)(N.View,{style:[X.tableRow,Object(H.a)({borderBottom:t===n.length-1?"none":null},r)],children:a.map((function(e,t,n){var a=e.content,r=e.width,i=Object(L.a)(e,J);return Object(F.jsx)(N.Text,{style:[X.tableColumn,Object(H.a)({borderRight:t===n.length-1?"none":null,flexBasis:r,maxWidth:r},i)],children:a},t)}))},t)}))}),Object(F.jsxs)(N.View,{style:X.table,children:[[{cells:[{content:"QTY",width:"15%"},{content:"Description",width:"55%"},{content:"Unit Price",width:"15%"},{content:"Line Total (HKD)",textAlign:"right",width:"15%"}],backgroundColor:"#dbe5f1",textTransform:"uppercase"}].concat(Object(R.a)(d.ChairStocks.map((function(e){return{cells:[{content:"".concat(e.ChairToOrder.qty),width:"15%"},{content:"Chair Brand: ".concat(e.brand,"\n                        Chair Model: ").concat(e.model,"\n                        ").concat(e.withHeadrest?"With Headrest":"Without Headrest","\n                        ").concat(e.withAdArmrest?"With Adjustable Armrest":"Without Adjustable Armrest","\n                        Specification: ").concat(e.ChairToOrder.remark,"\n                        Other Remark: ").concat(e.remark,"\n                        ").concat(JSON.parse(e.ChairToOrder.deliveryOption),"\n                        "),width:"55%"},{content:"".concat(e.ChairToOrder.unitPrice),textAlign:"right",width:"15%"},{content:"".concat(e.ChairToOrder.unitPrice*e.ChairToOrder.qty),textAlign:"right",width:"15%"}]}}))),Object(R.a)(d.DeskToOrders.map((function(e){return{cells:[{content:"".concat(e.qty),width:"15%"},{content:"Desk Model: ".concat(d.DeskStocks.find((function(t){return t.id===e.stockId})).model,"\n                        Color of Legs: ").concat(d.DeskStocks.find((function(t){return t.id===e.stockId})).color,"\n                        ArmSize: ").concat(d.DeskStocks.find((function(t){return t.id===e.stockId})).armSize,"\n                        FeetSize: ").concat(d.DeskStocks.find((function(t){return t.id===e.stockId})).feetSize,"\n                        Beam Size: ").concat(d.DeskStocks.find((function(t){return t.id===e.stockId})).beamSize,"\n                        ").concat(e.hasDeskTop?"Table Top: ".concat(e.topMaterial,"\n                              Table Top Size: ").concat(e.topLength,"x").concat(e.topWidth,"x").concat(e.topThickness,"\n                              Table Top Color: ").concat(e.topColor," ").concat(0===e.topRoundedCorners?"":"\nRounded Corners: ".concat(e.topRoundedCorners,", Radius: R").concat(e.topCornerRadius)," ").concat(0===e.topHoleCount?"":"\nHoles Required: ".concat(e.topHoleCount,", Hole Position: ").concat(e.topHolePosition,", Holes Shaped: ").concat(e.topHoleType),"\n                              Specification: ").concat(e.remark,"\n                              Other Remark: ").concat(d.DeskStocks.find((function(t){return t.id===e.stockId})).remark):"Without DeskTop","\n                    ").concat(JSON.parse(e.deliveryOption)),width:"55%"},{content:"".concat(e.unitPrice),textAlign:"right",width:"15%"},{content:"".concat(e.unitPrice*e.qty),textAlign:"right",width:"15%"}]}}))),Object(R.a)(d.AccessoryStocks.map((function(e){return{cells:[{content:"".concat(e.AccessoryToOrder.qty),width:"15%"},{content:"".concat(e.name,"\nAccessory Category: ").concat(e.category,"\n                      Specification: ").concat(e.AccessoryToOrder.remark,"\n                      Other Remark: ").concat(e.remark,"\n                      ").concat(JSON.parse(e.AccessoryToOrder.deliveryOption)),width:"55%"},{content:"".concat(e.AccessoryToOrder.unitPrice),textAlign:"right",width:"15%"},{content:"".concat(e.AccessoryToOrder.unitPrice*e.AccessoryToOrder.qty),textAlign:"right",width:"15%"}]}}))),Object(R.a)(d.ServiceToOrders.map((function(e){return{cells:[{content:"1",width:"15%"},{content:"".concat(e.description),width:"55%"},{content:"".concat(e.price),textAlign:"right",width:"15%"},{content:"".concat(e.price),textAlign:"right",width:"15%"}]}}))),Object(R.a)(Array(Math.max(0,6-d.ChairStocks.length-d.DeskStocks.length-d.AccessoryStocks.length-d.ServiceToOrders.length)).fill({cells:[{content:"",width:"15%"},{content:"",width:"55%"},{content:"",width:"15%"},{content:"",width:"15%"}]})),[{cells:[{content:"",width:"70%",fontSize:12},{content:"SUBTOTAL",width:"15%"},{content:"".concat((d.ChairStocks.length?d.ChairStocks.map((function(e){return e.ChairToOrder.unitPrice*e.ChairToOrder.qty})).reduce((function(e,t){return e+t})):0)+(d.DeskToOrders.length?d.DeskToOrders.map((function(e){return e.unitPrice*e.qty})).reduce((function(e,t){return e+t})):0)+(d.AccessoryStocks.length?d.AccessoryStocks.map((function(e){return e.AccessoryToOrder.unitPrice*e.AccessoryToOrder.qty})).reduce((function(e,t){return e+t})):0)+(d.ServiceToOrders.length?d.ServiceToOrders.map((function(e){return e.price})).reduce((function(e,t){return e+t})):0)),textAlign:"right",width:"15%",borderBottom:"0.5px solid #808080"}],borderBottom:"none"},{cells:[{content:"",width:"70%",fontSize:12},{content:"DISCOUNT",width:"15%"},{content:"".concat(d.discountType?d.discount:((d.ChairStocks.length?d.ChairStocks.map((function(e){return e.ChairToOrder.unitPrice*e.ChairToOrder.qty})).reduce((function(e,t){return e+t})):0)+(d.DeskStocks.length?d.DeskStocks.map((function(e){return e.DeskToOrder.unitPrice*e.DeskToOrder.qty})).reduce((function(e,t){return e+t})):0)+(d.AccessoryStocks.length?d.AccessoryStocks.map((function(e){return e.AccessoryToOrder.unitPrice*e.AccessoryToOrder.qty})).reduce((function(e,t){return e+t})):0))*d.discount/100),textAlign:"right",width:"15%",borderBottom:"0.5px solid #808080"}],borderBottom:"none"},{cells:[{content:"",width:"70%",fontSize:12},{content:"SURCHARGE",width:"15%"},{content:"".concat(d.surchargeType?d.surcharge:((d.ChairStocks.length?d.ChairStocks.map((function(e){return e.ChairToOrder.unitPrice*e.ChairToOrder.qty})).reduce((function(e,t){return e+t})):0)+(d.DeskStocks.length?d.DeskStocks.map((function(e){return e.DeskToOrder.unitPrice*e.DeskToOrder.qty})).reduce((function(e,t){return e+t})):0)+(d.AccessoryStocks.length?d.AccessoryStocks.map((function(e){return e.AccessoryToOrder.unitPrice*e.AccessoryToOrder.qty})).reduce((function(e,t){return e+t})):0))*d.surcharge/100),textAlign:"right",width:"15%",borderBottom:"0.5px solid #808080"}],borderBottom:"none"},{cells:[{content:"",width:"70%",fontSize:12},{content:"TOTAL",width:"15%"},{content:"".concat((d.ChairStocks.length?d.ChairStocks.map((function(e){return e.ChairToOrder.unitPrice*e.ChairToOrder.qty})).reduce((function(e,t){return e+t})):0)+(d.DeskToOrders.length?d.DeskToOrders.map((function(e){return e.unitPrice*e.qty})).reduce((function(e,t){return e+t})):0)+(d.AccessoryStocks.length?d.AccessoryStocks.map((function(e){return e.AccessoryToOrder.unitPrice*e.AccessoryToOrder.qty})).reduce((function(e,t){return e+t})):0)+(d.ServiceToOrders.length?d.ServiceToOrders.map((function(e){return e.price})).reduce((function(e,t){return e+t})):0)-(d.discountType?d.discount:((d.ChairStocks.length?d.ChairStocks.map((function(e){return e.ChairToOrder.unitPrice*e.ChairToOrder.qty})).reduce((function(e,t){return e+t})):0)+(d.DeskStocks.length?d.DeskStocks.map((function(e){return e.DeskToOrder.unitPrice*e.DeskToOrder.qty})).reduce((function(e,t){return e+t})):0)+(d.AccessoryStocks.length?d.AccessoryStocks.map((function(e){return e.AccessoryToOrder.unitPrice*e.AccessoryToOrder.qty})).reduce((function(e,t){return e+t})):0))*d.discount/100)+(d.surchargeType?d.surcharge:((d.ChairStocks.length?d.ChairStocks.map((function(e){return e.ChairToOrder.unitPrice*e.ChairToOrder.qty})).reduce((function(e,t){return e+t})):0)+(d.DeskStocks.length?d.DeskStocks.map((function(e){return e.DeskToOrder.unitPrice*e.DeskToOrder.qty})).reduce((function(e,t){return e+t})):0)+(d.AccessoryStocks.length?d.AccessoryStocks.map((function(e){return e.AccessoryToOrder.unitPrice*e.AccessoryToOrder.qty})).reduce((function(e,t){return e+t})):0))*d.surcharge/100)),textAlign:"right",width:"15%"}]}]).map((function(e,t,n){var a=e.cells,r=Object(L.a)(e,G);return Object(F.jsx)(N.View,{style:[X.tableRow,Object(H.a)({borderBottom:t===n.length-1?"none":null},r)],children:a.map((function(e,t,n){var a=e.content,r=e.width,i=Object(L.a)(e,_);return Object(F.jsx)(N.Text,{style:[X.tableColumn,Object(H.a)({borderRight:t===n.length-1?"none":null,flexBasis:r,maxWidth:r},i)],children:a},t)}))},t)})),Object(F.jsx)(N.Text,{style:{fontSize:12,padding:3,position:"absolute",width:"70%",bottom:45,left:0},children:"Blueocean International (HK) Ltd."}),Object(F.jsx)(N.Text,{style:{fontSize:12,padding:3,position:"absolute",width:"70%",bottom:0,left:0},children:"NOTE: Please deposit to HSBC 023-472038-838 (bank code: 004, Bank address: 1 Queen's Road Central, Hong Kong. SWIFT code: HSBCHKHHHKH or FPS: info@ergoseatings.com"})]}),["Should the delivery of goods involved any staircases at the provided location, there will be an additional delivery fee of HK$100 per level to be charged in advance.","If you have special assembling requirements, please let us know prior to delivery.  Otherwise, all chairs will be assembled before delivery and all desks will be assembled on site.","If the delivery address is located in a remote area within Hong Kong, we reserve the rights to charge the client extra for delivery charges.  In such cases, we will provide a quotation upon investigation of the detailed address.  Client will be notified of such extra cost prior to delivery.","Delivery date for pre-orders stated above is an estimate only. While we will try our best to deliver the products as soon as possible, the actual delivery date may be adjusted depending on actual freight schedule. We do NOT accept refund in case of delay arising from delivery delay.","You understand that pre-orders are non-refundable.  Decision to switch to another product after purchase can only be treated as store credits. ","You understand that a late payment penalty of 2% Interest Rate per month maybe charged for overdue payment"].map((function(e,t){return Object(F.jsxs)(N.View,{style:{flexDirection:"row",margin:"5px 0"},children:[Object(F.jsx)(N.View,{style:{width:2,fontSize:10,lineHeight:1.2,margin:"0 10px 0 0",color:"#888888"},children:Object(F.jsx)(N.Text,{children:"\u2022"})}),Object(F.jsx)(N.View,{style:{flexGrow:1,fontSize:10,lineHeight:1.2,color:"#888888"},children:Object(F.jsx)(N.Text,{children:e})})]},t)})),Object(F.jsx)(N.Text,{style:{marginTop:"5px",fontSize:10,lineHeight:1.2,color:"#888888"},children:"The warranty is effective from the date of purchase from Blueocean International (HK) Ltd by the original purchaser. Such warranty applies under the following terms and conditions and is covered by the original manufacturers for specific period stated:"}),["Nightingale chairs: 5 years for defective parts under regular usage, by Nightingale Corp.","Allseating chairs:  5 years for defective parts under regular usage, by Allseating Corp.","Standing desks: 5 years by manufacturer","Okamura chairs:  5 years for defective parts under regular usage, by Okamura Salotto HK Ltd.","10 years for structural defective parts, under regular usage by Okamura Salotto HK Ltd, for details please refer to our website FAQ section.","Bestuhl chairs: 3 years for defective parts under regular usage, by Bestuhl Co. Ltd.","Duorest chairs: 3 years for defective parts under regular usage, by Duoback Co. Ltd.","Wagner chairs: 5 years for defective parts under regular usage, by Topstar GMBH","Topstar chairs: 3 years for defective parts under regular usage, by Topstar GMBH","Ergohuman chairs: 2 years for defective parts under regular usage, by manufacturer","Atlas Headrest, 3 years for defective parts under regular usage, by Back Foley LLC"].map((function(e,t){return Object(F.jsxs)(N.View,{style:{flexDirection:"row",marginLeft:"10px"},children:[Object(F.jsx)(N.View,{style:{width:2,fontSize:10,lineHeight:1.2,margin:"0 10px 0 0",color:"#888888"},children:Object(F.jsx)(N.Text,{children:"\u2022"})}),Object(F.jsx)(N.View,{style:{flexGrow:1,fontSize:10,lineHeight:1.2,color:"#888888"},children:Object(F.jsx)(N.Text,{children:e})})]},t)})),Object(F.jsx)(N.Text,{style:{fontSize:10,marginTop:10,lineHeight:1.2,color:"#888888"},children:"Claiming of any aforementioned warranties only covers replacement of the defective or broken parts only and does not include the following cost, which shall be borne by the claimant. A quotation will be provided in advance for approval by the claimant: 1) labor costs of technician for replacing the parts; 2) transportation costs incurred for sending the product(s) to our company and delivering back to the claimant from our shop after service. I, the undersigned, have read and understand these policies and agree to all the above."}),Object(F.jsx)(N.Text,{style:{fontSize:10,lineHeight:1.2,marginTop:10,color:"#888888"},children:"Agreement to this invoice represents that client understands our refund policy and terms and condition as stated in our website ergoseatings.com and ergoseatings.com.hk"}),Object(F.jsx)(N.Text,{style:{fontSize:10,lineHeight:1.2,marginTop:10,color:"#888888"},children:"Initials: _________________"}),Object(F.jsx)(N.Text,{style:{fontSize:12,lineHeight:1.2,marginTop:12,fontWeight:"bold",textAlign:"center"},children:"Thank you for your business!"})]})})})]}):Object(F.jsxs)(p.a,{sx:{color:"#fff",zIndex:function(e){return e.zIndex.drawer+1}},open:!0,children:[Object(F.jsx)(M.a,{}),Object(F.jsx)(z.a,{children:"This url is not a valid invoice url."})]})})),ee=n.p+"static/media/receipt_logo.15fa4131.png",te=["cells"],ne=["content","width"],ae=["cells"],re=["content","width"],ie=["cells"],ce=["content","width"],oe=["cells"],le=["content","width"],se=N.StyleSheet.create({body:{paddingTop:35,paddingBottom:65,paddingHorizontal:35},header:{width:"100%",fontSize:8,lineHeight:1.2,marginBottom:40,flexDirection:"row",alignItems:"center"},title:{fontFamily:"Microsoft Yahei",fontSize:15,marginBottom:10,textTransform:"uppercase"},logo:{marginLeft:"auto",width:50},info:{flexDirection:"row",marginBottom:10},companyInfo:{fontFamily:"Microsoft Yahei",fontSize:8,width:200,paddingRight:10,lineHeight:1.2},clientInfo:{fontFamily:"Microsoft Yahei",fontSize:8,width:200,paddingRight:10,lineHeight:1.2},receiptLogo:{width:70,marginLeft:10},note:{flexDirection:"row"},email:{color:"#0000ff",textDecoration:"underline"},subtitle:{fontSize:18,margin:12,fontWeight:100,fontFamily:"Microsoft Yahei"},text:{margin:12,fontSize:14,textAlign:"justify",fontFamily:"Times-Roman"},table:{fontSize:8,marginBottom:10,border:"0.5px solid #808080"},tableRow:{fontSize:8,borderBottom:"0.5px solid #808080",flexDirection:"row",minHeight:15,fontFamily:"Microsoft Yahei"},tableColumn:{flex:1,padding:"3px 5px",borderRight:"0.5px solid #808080"}});N.Font.register({family:"Microsoft Yahei",src:q});var ue=["January","February","March","April","May","June","July","August","September","October","November","December"],de=Object(f.b)((function(e){return{loading:e.loading.value}}))((function(e){var t=e.loading,n=Object(a.useState)(!1),r=Object(o.a)(n,2),i=r[0],c=r[1],l=Object(a.useState)({Seller:{},ChairStocks:[],DeskStocks:[],AccessoryStocks:[],ServiceToOrders:[],DeskToOrders:[]}),u=Object(o.a)(l,2),d=u[0],b=u[1],j=Object(s.h)().id;Object(a.useEffect)((function(){var e=W.a.CancelToken.source();return m({id:j,cancelToken:e.token}),function(){return e.cancel("Brand Component got unmounted")}}),[j]);var f=function(e){var t=new Date(e);return"".concat(ue[t.getMonth()]," ").concat(t.getDate(),", ").concat(t.getFullYear())},m=function(e){var t=e.id,n=e.cancelToken;W.a.get("/sales/".concat(t),{cancelToken:n}).then((function(e){c(!0),b(e.data)})).catch((function(e){c(!1)}))};return t?Object(F.jsx)(p.a,{sx:{color:"#fff",zIndex:function(e){return e.zIndex.drawer+1}},open:!0,children:Object(F.jsx)(h.a,{color:"inherit"})}):i?Object(F.jsxs)(a.Fragment,{children:[/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)&&Object(F.jsx)(N.PDFDownloadLink,{document:Object(F.jsx)(N.Document,{children:Object(F.jsxs)(N.Page,{style:se.body,wrap:!0,children:[Object(F.jsxs)(N.View,{style:se.header,children:[Object(F.jsxs)(N.View,{children:[Object(F.jsx)(N.Text,{style:se.title,children:"Receipt"}),Object(F.jsxs)(N.Text,{children:["Date: ",f(d.createdAt)]}),Object(F.jsx)(N.Text,{children:"No: I-".concat(d.Seller.prefix).concat(new Date(d.createdAt).getFullYear(),"-").concat(("000"+d.invoiceNum).substr(-3))})]}),Object(F.jsx)(N.View,{style:se.logo,children:Object(F.jsx)(N.Image,{src:V})})]}),Object(F.jsxs)(N.View,{style:se.info,children:[Object(F.jsxs)(N.View,{style:se.companyInfo,children:[Object(F.jsx)(N.Text,{children:"Blueocean International (HK) Ltd."}),Object(F.jsx)(N.Text,{children:"19/F"}),Object(F.jsx)(N.Text,{children:"Bel Trade Commercial Building"}),Object(F.jsx)(N.Text,{children:"3 Burrows Street"}),Object(F.jsx)(N.Text,{children:"Wanchai, Hong Kong"}),Object(F.jsx)(N.Text,{children:"Tel: 2169 3337"}),Object(F.jsxs)(N.Text,{children:["Email:"," ",Object(F.jsx)(N.Tspan,{style:se.email,children:"info@ergoseatings.com"})]})]}),Object(F.jsxs)(N.View,{style:se.clientInfo,children:[Object(F.jsxs)(N.Text,{children:["Client's Name: ",d.name]}),d.unit?Object(F.jsxs)(N.Text,{children:["Unit ",d.unit]}):null,d.floor?Object(F.jsxs)(N.Text,{children:["Floor ",d.floor]}):null,d.block?Object(F.jsxs)(N.Text,{children:["Block ",d.block]}):null,Object(F.jsx)(N.Text,{children:d.street}),Object(F.jsx)(N.Text,{children:d.district}),Object(F.jsxs)(N.Text,{children:["Phone: ",d.phone]}),Object(F.jsxs)(N.Text,{children:["Email: ",Object(F.jsx)(N.Tspan,{style:se.email,children:d.email})]})]})]}),Object(F.jsx)(N.View,{style:se.table,children:[{cells:[{content:"Salesperson",width:"15%"},{content:"Estimated Delivery Date",width:"55%"},{content:"Payment Terms",width:"15%"},{content:"Due Date",textAlign:"right",width:"15%"}],backgroundColor:"#dbe5f1",textTransform:"uppercase"},{cells:[{content:"".concat(d.Seller.firstName," ").concat(d.Seller.lastName),width:"15%"},{content:d.timeLine%7===0?"Est ".concat(d.timeLine/7," working week").concat(d.timeLine/7===1?"":"s"," after payment"):"Est ".concat(d.timeLine," working day").concat(1===d.timeLine?"":"s"," after payment"),width:"55%"},{content:d.paymentTerms,width:"15%"},{content:d.paid?"Paid":d.dueDate,textAlign:"right",width:"15%"}]}].map((function(e,t,n){var a=e.cells,r=Object(L.a)(e,te);return Object(F.jsx)(N.View,{style:[se.tableRow,Object(H.a)({borderBottom:t===n.length-1?"none":null},r)],children:a.map((function(e,t,n){var a=e.content,r=e.width,i=Object(L.a)(e,ne);return Object(F.jsx)(N.Text,{style:[se.tableColumn,Object(H.a)({borderRight:t===n.length-1?"none":null,flexBasis:r,maxWidth:r},i)],children:a},t)}))},t)}))}),Object(F.jsxs)(N.View,{style:se.table,children:[[{cells:[{content:"QTY",width:"15%"},{content:"Description",width:"55%"},{content:"Unit Price",width:"15%"},{content:"Line Total (HKD)",textAlign:"right",width:"15%"}],backgroundColor:"#dbe5f1",textTransform:"uppercase"}].concat(Object(R.a)(d.ChairStocks.map((function(e){return{cells:[{content:"".concat(e.ChairToOrder.qty),width:"15%"},{content:"Chair Brand: ".concat(e.brand,"\nChair Model: ").concat(e.model,"\n").concat(e.withHeadrest?"With Headrest":"Without Headrest","\n").concat(e.withAdArmrest?"With Adjustable Armrest":"Without Adjustable Armrest","\nRemark: ").concat(e.ChairToOrder.remark,"\n").concat(JSON.parse(e.ChairToOrder.deliveryOption)),width:"55%"},{content:"".concat(e.ChairToOrder.unitPrice),textAlign:"right",width:"15%"},{content:"".concat(e.ChairToOrder.unitPrice*e.ChairToOrder.qty),textAlign:"right",width:"15%"}]}}))),Object(R.a)(d.DeskToOrders.map((function(e){return{cells:[{content:"".concat(e.qty),width:"15%"},{content:"Desk Model: ".concat(d.DeskStocks.find((function(t){return t.id===e.stockId})).model,"\n                    Color of Legs: ").concat(d.DeskStocks.find((function(t){return t.id===e.stockId})).color,"\n                    ArmSize: ").concat(d.DeskStocks.find((function(t){return t.id===e.stockId})).armSize,"\n                    FeetSize: ").concat(d.DeskStocks.find((function(t){return t.id===e.stockId})).feetSize,"\n                    Beam Size: ").concat(d.DeskStocks.find((function(t){return t.id===e.stockId})).beamSize,"\n                    ").concat(e.hasDeskTop?"Table Top: ".concat(e.topMaterial,"\n                          Table Top Size: ").concat(e.topLength,"x").concat(e.topWidth,"x").concat(e.topThickness,"\n                          Table Top Color: ").concat(e.topColor," ").concat(0===e.topRoundedCorners?"":"\nRounded Corners: ".concat(e.topRoundedCorners,", Radius: R").concat(e.topCornerRadius)," ").concat(0===e.topHoleCount?"":"\nHoles Required: ".concat(e.topHoleCount,", Hole Position: ").concat(e.topHolePosition,", Holes Shaped: ").concat(e.topHoleType),"\n                          Remark: ").concat(e.remark):"Without DeskTop","\n                    ").concat(JSON.parse(e.deliveryOption)),width:"55%"},{content:"".concat(e.unitPrice),textAlign:"right",width:"15%"},{content:"".concat(e.unitPrice*e.qty),textAlign:"right",width:"15%"}]}}))),Object(R.a)(d.AccessoryStocks.map((function(e){return{cells:[{content:"".concat(e.AccessoryToOrder.qty),width:"15%"},{content:"".concat(e.name,"\nAccessory Category: ").concat(e.category,"\nRemark: ").concat(e.AccessoryToOrder.remark,"\n").concat(JSON.parse(e.AccessoryToOrder.deliveryOption)),width:"55%"},{content:"".concat(e.AccessoryToOrder.unitPrice),textAlign:"right",width:"15%"},{content:"".concat(e.AccessoryToOrder.unitPrice*e.AccessoryToOrder.qty),textAlign:"right",width:"15%"}]}}))),Object(R.a)(d.ServiceToOrders.map((function(e){return{cells:[{content:"1",width:"15%"},{content:"".concat(e.description),width:"55%"},{content:"".concat(e.price),textAlign:"right",width:"15%"},{content:"".concat(e.price),textAlign:"right",width:"15%"}]}}))),Object(R.a)(Array(Math.max(0,6-d.ChairStocks.length-d.DeskStocks.length-d.AccessoryStocks.length-d.ServiceToOrders.length)).fill({cells:[{content:"",width:"15%"},{content:"",width:"55%"},{content:"",width:"15%"},{content:"",width:"15%"}]})),[{cells:[{content:"",width:"70%",fontSize:12},{content:"SUBTOTAL",width:"15%"},{content:"".concat((d.ChairStocks.length?d.ChairStocks.map((function(e){return e.ChairToOrder.unitPrice*e.ChairToOrder.qty})).reduce((function(e,t){return e+t})):0)+(d.DeskToOrders.length?d.DeskToOrders.map((function(e){return e.unitPrice*e.qty})).reduce((function(e,t){return e+t})):0)+(d.AccessoryStocks.length?d.AccessoryStocks.map((function(e){return e.AccessoryToOrder.unitPrice*e.AccessoryToOrder.qty})).reduce((function(e,t){return e+t})):0)+(d.ServiceToOrders.length?d.ServiceToOrders.map((function(e){return e.price})).reduce((function(e,t){return e+t})):0)),textAlign:"right",width:"15%",borderBottom:"0.5px solid #808080"}],borderBottom:"none"},{cells:[{content:"",width:"70%",fontSize:12},{content:"DISCOUNT",width:"15%"},{content:"".concat(d.discountType?d.discount:((d.ChairStocks.length?d.ChairStocks.map((function(e){return e.ChairToOrder.unitPrice*e.ChairToOrder.qty})).reduce((function(e,t){return e+t})):0)+(d.DeskStocks.length?d.DeskStocks.map((function(e){return e.DeskToOrder.unitPrice*e.DeskToOrder.qty})).reduce((function(e,t){return e+t})):0)+(d.AccessoryStocks.length?d.AccessoryStocks.map((function(e){return e.AccessoryToOrder.unitPrice*e.AccessoryToOrder.qty})).reduce((function(e,t){return e+t})):0))*d.discount/100),textAlign:"right",width:"15%",borderBottom:"0.5px solid #808080"}],borderBottom:"none"},{cells:[{content:"",width:"70%",fontSize:12},{content:"SURCHARGE",width:"15%"},{content:"".concat(d.surchargeType?d.surcharge:((d.ChairStocks.length?d.ChairStocks.map((function(e){return e.ChairToOrder.unitPrice*e.ChairToOrder.qty})).reduce((function(e,t){return e+t})):0)+(d.DeskStocks.length?d.DeskStocks.map((function(e){return e.DeskToOrder.unitPrice*e.DeskToOrder.qty})).reduce((function(e,t){return e+t})):0)+(d.AccessoryStocks.length?d.AccessoryStocks.map((function(e){return e.AccessoryToOrder.unitPrice*e.AccessoryToOrder.qty})).reduce((function(e,t){return e+t})):0))*d.surcharge/100),textAlign:"right",width:"15%",borderBottom:"0.5px solid #808080"}],borderBottom:"none"},{cells:[{content:"",width:"70%",fontSize:12},{content:"TOTAL",width:"15%"},{content:"".concat((d.ChairStocks.length?d.ChairStocks.map((function(e){return e.ChairToOrder.unitPrice*e.ChairToOrder.qty})).reduce((function(e,t){return e+t})):0)+(d.DeskToOrders.length?d.DeskToOrders.map((function(e){return e.unitPrice*e.qty})).reduce((function(e,t){return e+t})):0)+(d.AccessoryStocks.length?d.AccessoryStocks.map((function(e){return e.AccessoryToOrder.unitPrice*e.AccessoryToOrder.qty})).reduce((function(e,t){return e+t})):0)+(d.ServiceToOrders.length?d.ServiceToOrders.map((function(e){return e.price})).reduce((function(e,t){return e+t})):0)-(d.discountType?d.discount:((d.ChairStocks.length?d.ChairStocks.map((function(e){return e.ChairToOrder.unitPrice*e.ChairToOrder.qty})).reduce((function(e,t){return e+t})):0)+(d.DeskStocks.length?d.DeskStocks.map((function(e){return e.DeskToOrder.unitPrice*e.DeskToOrder.qty})).reduce((function(e,t){return e+t})):0)+(d.AccessoryStocks.length?d.AccessoryStocks.map((function(e){return e.AccessoryToOrder.unitPrice*e.AccessoryToOrder.qty})).reduce((function(e,t){return e+t})):0))*d.discount/100)+(d.surchargeType?d.surcharge:((d.ChairStocks.length?d.ChairStocks.map((function(e){return e.ChairToOrder.unitPrice*e.ChairToOrder.qty})).reduce((function(e,t){return e+t})):0)+(d.DeskStocks.length?d.DeskStocks.map((function(e){return e.DeskToOrder.unitPrice*e.DeskToOrder.qty})).reduce((function(e,t){return e+t})):0)+(d.AccessoryStocks.length?d.AccessoryStocks.map((function(e){return e.AccessoryToOrder.unitPrice*e.AccessoryToOrder.qty})).reduce((function(e,t){return e+t})):0))*d.surcharge/100)),textAlign:"right",width:"15%"}]}]).map((function(e,t,n){var a=e.cells,r=Object(L.a)(e,ae);return Object(F.jsx)(N.View,{style:[se.tableRow,Object(H.a)({borderBottom:t===n.length-1?"none":null},r)],children:a.map((function(e,t,n){var a=e.content,r=e.width,i=Object(L.a)(e,re);return Object(F.jsx)(N.Text,{style:[se.tableColumn,Object(H.a)({borderRight:t===n.length-1?"none":null,flexBasis:r,maxWidth:r},i)],children:a},t)}))},t)})),Object(F.jsx)(N.Text,{style:{fontSize:12,padding:3,position:"absolute",width:"70%",bottom:0,left:0},children:"Blueocean International (HK) Ltd. \\r\\n NOTE: Please deposit to HSBC 023-472038-838 (bank code: 004, Bank address: 1 Queen's Road Central, Hong Kong. SWIFT code: HSBCHKHHHKH or FPS: info@ergoseatings.com"})]}),["Should the delivery of goods involved any staircases at the provided location, there will be an additional delivery fee of HK$100 per level to be charged in advance.","If you have special assembling requirements, please let us know prior to delivery.  Otherwise, all chairs will be assembled before delivery and all desks will be assembled on site.","If the delivery address is located in a remote area within Hong Kong, we reserve the rights to charge the client extra for delivery charges.  In such cases, we will provide a quotation upon investigation of the detailed address.  Client will be notified of such extra cost prior to delivery.","Delivery date for pre-orders stated above is an estimate only. While we will try our best to deliver the products as soon as possible, the actual delivery date may be adjusted depending on actual freight schedule. We do NOT accept refund in case of delay arising from delivery delay.","You understand that pre-orders are non-refundable.  Decision to switch to another product after purchase can only be treated as store credits. "].map((function(e,t){return Object(F.jsxs)(N.View,{style:{flexDirection:"row",margin:"5px 0"},children:[Object(F.jsx)(N.View,{style:{width:2,fontSize:10,lineHeight:1.2,margin:"0 10px 0 0",color:"#888888"},children:Object(F.jsx)(N.Text,{children:"\u2022"})}),Object(F.jsx)(N.View,{style:{flexGrow:1,fontSize:10,lineHeight:1.2,color:"#888888"},children:Object(F.jsx)(N.Text,{children:e})})]},t)})),Object(F.jsxs)(N.View,{style:se.note,children:[Object(F.jsx)(N.Text,{style:{marginTop:"5px",fontSize:10,lineHeight:1.2,color:"#888888",width:"80%"},children:"The warranty is effective from the date of purchase from Blueocean International (HK) Ltd by the original purchaser. Such warranty applies under the following terms and conditions and is covered by the original manufacturers for specific period stated:"}),Object(F.jsx)(N.Image,{src:ee,style:se.receiptLogo})]}),["Nightingale chairs: 5 years for defective parts under regular usage, by Nightingale Corp.","Allseating chairs:  5 years for defective parts under regular usage, by Allseating Corp.","Standing desks: 5 years by manufacturer","Okamura chairs:  5 years for defective parts under regular usage, by Okamura Salotto HK Ltd.","Sidiz chairs: 3 years for defective parts under regular usage, by Sidiz, Inc.","Duorest chairs: 3 years for defective parts under regular usage, by Duoback Co. Ltd.","Wagner chairs: 5 years for defective parts under regular usage, by Topstar GMBH","Topstar chairs: 3 years for defective parts under regular usage, by Topstar GMBH","Ergohuman chairs: 2 years for defective parts under regular usage, by manufacturer","HAG chairs: 2 years for defective parts under regular usage, by manufacturer"].map((function(e,t){return Object(F.jsxs)(N.View,{style:{flexDirection:"row",marginLeft:"10px"},children:[Object(F.jsx)(N.View,{style:{width:2,fontSize:10,lineHeight:1.2,margin:"0 10px 0 0",color:"#888888"},children:Object(F.jsx)(N.Text,{children:"\u2022"})}),Object(F.jsx)(N.View,{style:{flexGrow:1,fontSize:10,lineHeight:1.2,color:"#888888"},children:Object(F.jsx)(N.Text,{children:e})})]},t)})),Object(F.jsx)(N.Text,{style:{fontSize:10,lineHeight:1.2,color:"#888888"},children:"Claiming of any aforementioned warranties only covers replacement of the defective or broken parts only and does not include the following cost, which shall be borne by the claimant. A quotation will be provided in advance for approval by the claimant: 1) labor costs of technician for replacing the parts; 2) transportation costs incurred for sending the product(s) to our company and delivering back to the claimant from our shop after service. I, the undersigned, have read and understand these policies and agree to all the above."}),Object(F.jsx)(N.Text,{style:{fontSize:10,lineHeight:1.2,marginTop:10,color:"#888888"},children:"Agreement to this invoice represents that client understands our refund policy and terms and condition as stated in our website ergoseatings.com and ergoseatings.com.hk"}),Object(F.jsx)(N.Text,{style:{fontSize:10,lineHeight:1.2,marginTop:10,color:"#888888"},children:"Initials: _________________"}),Object(F.jsx)(N.Text,{style:{fontSize:12,lineHeight:1.2,marginTop:12,fontWeight:"bold",textAlign:"center"},children:"Thank you for your business!"})]})}),children:function(e){e._blob,e._url;var t=e.loading;e._error;return t?"Loading document...":"Download now!"}}),Object(F.jsx)(N.PDFViewer,{height:"100%",children:Object(F.jsx)(N.Document,{children:Object(F.jsxs)(N.Page,{style:se.body,wrap:!0,children:[Object(F.jsxs)(N.View,{style:se.header,children:[Object(F.jsxs)(N.View,{children:[Object(F.jsx)(N.Text,{style:se.title,children:"Receipt"}),Object(F.jsxs)(N.Text,{children:["Date: ",f(d.createdAt)]}),Object(F.jsx)(N.Text,{children:"No: I-".concat(d.Seller.prefix).concat(new Date(d.createdAt).getFullYear(),"-").concat(("000"+d.invoiceNum).substr(-3))})]}),Object(F.jsx)(N.View,{style:se.logo,children:Object(F.jsx)(N.Image,{src:V})})]}),Object(F.jsxs)(N.View,{style:se.info,children:[Object(F.jsxs)(N.View,{style:se.companyInfo,children:[Object(F.jsx)(N.Text,{children:"Blueocean International (HK) Ltd."}),Object(F.jsx)(N.Text,{children:"19/F"}),Object(F.jsx)(N.Text,{children:"Bel Trade Commercial Building"}),Object(F.jsx)(N.Text,{children:"3 Burrows Street"}),Object(F.jsx)(N.Text,{children:"Wanchai, Hong Kong"}),Object(F.jsx)(N.Text,{children:"Tel: 2169 3337"}),Object(F.jsxs)(N.Text,{children:["Email:"," ",Object(F.jsx)(N.Tspan,{style:se.email,children:"info@ergoseatings.com"})]})]}),Object(F.jsxs)(N.View,{style:se.clientInfo,children:[Object(F.jsxs)(N.Text,{children:["Client's Name: ",d.name]}),d.unit?Object(F.jsxs)(N.Text,{children:["Unit ",d.unit]}):null,d.floor?Object(F.jsxs)(N.Text,{children:["Floor ",d.floor]}):null,d.block?Object(F.jsxs)(N.Text,{children:["Block ",d.block]}):null,Object(F.jsx)(N.Text,{children:d.street}),Object(F.jsx)(N.Text,{children:d.district}),Object(F.jsxs)(N.Text,{children:["Phone: ",d.phone]}),Object(F.jsxs)(N.Text,{children:["Email: ",Object(F.jsx)(N.Tspan,{style:se.email,children:d.email})]})]})]}),Object(F.jsx)(N.View,{style:se.table,children:[{cells:[{content:"Salesperson",width:"15%"},{content:"Estimated Delivery Date",width:"55%"},{content:"Payment Terms",width:"15%"},{content:"Due Date",textAlign:"right",width:"15%"}],backgroundColor:"#dbe5f1",textTransform:"uppercase"},{cells:[{content:"".concat(d.Seller.firstName," ").concat(d.Seller.lastName),width:"15%"},{content:d.timeLine%7===0?"Est ".concat(d.timeLine/7," working week").concat(d.timeLine/7===1?"":"s"," after payment"):"Est ".concat(d.timeLine," working day").concat(1===d.timeLine?"":"s"," after payment"),width:"55%"},{content:d.paymentTerms,width:"15%"},{content:d.paid?"Paid":d.dueDate,textAlign:"right",width:"15%"}]}].map((function(e,t,n){var a=e.cells,r=Object(L.a)(e,ie);return Object(F.jsx)(N.View,{style:[se.tableRow,Object(H.a)({borderBottom:t===n.length-1?"none":null},r)],children:a.map((function(e,t,n){var a=e.content,r=e.width,i=Object(L.a)(e,ce);return Object(F.jsx)(N.Text,{style:[se.tableColumn,Object(H.a)({borderRight:t===n.length-1?"none":null,flexBasis:r,maxWidth:r},i)],children:a},t)}))},t)}))}),Object(F.jsxs)(N.View,{style:se.table,children:[[{cells:[{content:"QTY",width:"15%"},{content:"Description",width:"55%"},{content:"Unit Price",width:"15%"},{content:"Line Total (HKD)",textAlign:"right",width:"15%"}],backgroundColor:"#dbe5f1",textTransform:"uppercase"}].concat(Object(R.a)(d.ChairStocks.map((function(e){return{cells:[{content:"".concat(e.ChairToOrder.qty),width:"15%"},{content:"Chair Brand: ".concat(e.brand,"\nChair Model: ").concat(e.model,"\n").concat(e.withHeadrest?"With Headrest":"Without Headrest","\n").concat(e.withAdArmrest?"With Adjustable Armrest":"Without Adjustable Armrest","\nRemark: ").concat(e.ChairToOrder.remark,"\n").concat(JSON.parse(e.ChairToOrder.deliveryOption)),width:"55%"},{content:"".concat(e.ChairToOrder.unitPrice),textAlign:"right",width:"15%"},{content:"".concat(e.ChairToOrder.unitPrice*e.ChairToOrder.qty),textAlign:"right",width:"15%"}]}}))),Object(R.a)(d.DeskToOrders.map((function(e){return{cells:[{content:"".concat(e.qty),width:"15%"},{content:"Desk Model: ".concat(d.DeskStocks.find((function(t){return t.id===e.stockId})).model,"\n                    Color of Legs: ").concat(d.DeskStocks.find((function(t){return t.id===e.stockId})).color,"\n                    ArmSize: ").concat(d.DeskStocks.find((function(t){return t.id===e.stockId})).armSize,"\n                    FeetSize: ").concat(d.DeskStocks.find((function(t){return t.id===e.stockId})).feetSize,"\n                    Beam Size: ").concat(d.DeskStocks.find((function(t){return t.id===e.stockId})).beamSize,"\n                    ").concat(e.hasDeskTop?"Table Top: ".concat(e.topMaterial,"\n                          Table Top Size: ").concat(e.topLength,"x").concat(e.topWidth,"x").concat(e.topThickness,"\n                          Table Top Color: ").concat(e.topColor," ").concat(0===e.topRoundedCorners?"":"\nRounded Corners: ".concat(e.topRoundedCorners,", Radius: R").concat(e.topCornerRadius)," ").concat(0===e.topHoleCount?"":"\nHoles Required: ".concat(e.topHoleCount,", Hole Position: ").concat(e.topHolePosition,", Holes Shaped: ").concat(e.topHoleType),"\n                          Remark: ").concat(e.remark):"Without DeskTop","\n                    ").concat(JSON.parse(e.deliveryOption)),width:"55%"},{content:"".concat(e.unitPrice),textAlign:"right",width:"15%"},{content:"".concat(e.unitPrice*e.qty),textAlign:"right",width:"15%"}]}}))),Object(R.a)(d.AccessoryStocks.map((function(e){return{cells:[{content:"".concat(e.AccessoryToOrder.qty),width:"15%"},{content:"".concat(e.name,"\nAccessory Category: ").concat(e.category,"\nRemark: ").concat(e.AccessoryToOrder.remark,"\n").concat(JSON.parse(e.AccessoryToOrder.deliveryOption)),width:"55%"},{content:"".concat(e.AccessoryToOrder.unitPrice),textAlign:"right",width:"15%"},{content:"".concat(e.AccessoryToOrder.unitPrice*e.AccessoryToOrder.qty),textAlign:"right",width:"15%"}]}}))),Object(R.a)(d.ServiceToOrders.map((function(e){return{cells:[{content:"1",width:"15%"},{content:"".concat(e.description),width:"55%"},{content:"".concat(e.price),textAlign:"right",width:"15%"},{content:"".concat(e.price),textAlign:"right",width:"15%"}]}}))),Object(R.a)(Array(Math.max(0,6-d.ChairStocks.length-d.DeskStocks.length-d.AccessoryStocks.length-d.ServiceToOrders.length)).fill({cells:[{content:"",width:"15%"},{content:"",width:"55%"},{content:"",width:"15%"},{content:"",width:"15%"}]})),[{cells:[{content:"",width:"70%",fontSize:12},{content:"SUBTOTAL",width:"15%"},{content:"".concat((d.ChairStocks.length?d.ChairStocks.map((function(e){return e.ChairToOrder.unitPrice*e.ChairToOrder.qty})).reduce((function(e,t){return e+t})):0)+(d.DeskToOrders.length?d.DeskToOrders.map((function(e){return e.unitPrice*e.qty})).reduce((function(e,t){return e+t})):0)+(d.AccessoryStocks.length?d.AccessoryStocks.map((function(e){return e.AccessoryToOrder.unitPrice*e.AccessoryToOrder.qty})).reduce((function(e,t){return e+t})):0)+(d.ServiceToOrders.length?d.ServiceToOrders.map((function(e){return e.price})).reduce((function(e,t){return e+t})):0)),textAlign:"right",width:"15%",borderBottom:"0.5px solid #808080"}],borderBottom:"none"},{cells:[{content:"",width:"70%",fontSize:12},{content:"DISCOUNT",width:"15%"},{content:"".concat(d.discountType?d.discount:((d.ChairStocks.length?d.ChairStocks.map((function(e){return e.ChairToOrder.unitPrice*e.ChairToOrder.qty})).reduce((function(e,t){return e+t})):0)+(d.DeskStocks.length?d.DeskStocks.map((function(e){return e.DeskToOrder.unitPrice*e.DeskToOrder.qty})).reduce((function(e,t){return e+t})):0)+(d.AccessoryStocks.length?d.AccessoryStocks.map((function(e){return e.AccessoryToOrder.unitPrice*e.AccessoryToOrder.qty})).reduce((function(e,t){return e+t})):0))*d.discount/100),textAlign:"right",width:"15%",borderBottom:"0.5px solid #808080"}],borderBottom:"none"},{cells:[{content:"",width:"70%",fontSize:12},{content:"SURCHARGE",width:"15%"},{content:"".concat(d.surchargeType?d.surcharge:((d.ChairStocks.length?d.ChairStocks.map((function(e){return e.ChairToOrder.unitPrice*e.ChairToOrder.qty})).reduce((function(e,t){return e+t})):0)+(d.DeskStocks.length?d.DeskStocks.map((function(e){return e.DeskToOrder.unitPrice*e.DeskToOrder.qty})).reduce((function(e,t){return e+t})):0)+(d.AccessoryStocks.length?d.AccessoryStocks.map((function(e){return e.AccessoryToOrder.unitPrice*e.AccessoryToOrder.qty})).reduce((function(e,t){return e+t})):0))*d.surcharge/100),textAlign:"right",width:"15%",borderBottom:"0.5px solid #808080"}],borderBottom:"none"},{cells:[{content:"",width:"70%",fontSize:12},{content:"TOTAL",width:"15%"},{content:"".concat((d.ChairStocks.length?d.ChairStocks.map((function(e){return e.ChairToOrder.unitPrice*e.ChairToOrder.qty})).reduce((function(e,t){return e+t})):0)+(d.DeskToOrders.length?d.DeskToOrders.map((function(e){return e.unitPrice*e.qty})).reduce((function(e,t){return e+t})):0)+(d.AccessoryStocks.length?d.AccessoryStocks.map((function(e){return e.AccessoryToOrder.unitPrice*e.AccessoryToOrder.qty})).reduce((function(e,t){return e+t})):0)+(d.ServiceToOrders.length?d.ServiceToOrders.map((function(e){return e.price})).reduce((function(e,t){return e+t})):0)-(d.discountType?d.discount:((d.ChairStocks.length?d.ChairStocks.map((function(e){return e.ChairToOrder.unitPrice*e.ChairToOrder.qty})).reduce((function(e,t){return e+t})):0)+(d.DeskStocks.length?d.DeskStocks.map((function(e){return e.DeskToOrder.unitPrice*e.DeskToOrder.qty})).reduce((function(e,t){return e+t})):0)+(d.AccessoryStocks.length?d.AccessoryStocks.map((function(e){return e.AccessoryToOrder.unitPrice*e.AccessoryToOrder.qty})).reduce((function(e,t){return e+t})):0))*d.discount/100)+(d.surchargeType?d.surcharge:((d.ChairStocks.length?d.ChairStocks.map((function(e){return e.ChairToOrder.unitPrice*e.ChairToOrder.qty})).reduce((function(e,t){return e+t})):0)+(d.DeskStocks.length?d.DeskStocks.map((function(e){return e.DeskToOrder.unitPrice*e.DeskToOrder.qty})).reduce((function(e,t){return e+t})):0)+(d.AccessoryStocks.length?d.AccessoryStocks.map((function(e){return e.AccessoryToOrder.unitPrice*e.AccessoryToOrder.qty})).reduce((function(e,t){return e+t})):0))*d.surcharge/100)),textAlign:"right",width:"15%"}]}]).map((function(e,t,n){var a=e.cells,r=Object(L.a)(e,oe);return Object(F.jsx)(N.View,{style:[se.tableRow,Object(H.a)({borderBottom:t===n.length-1?"none":null},r)],children:a.map((function(e,t,n){var a=e.content,r=e.width,i=Object(L.a)(e,le);return Object(F.jsx)(N.Text,{style:[se.tableColumn,Object(H.a)({borderRight:t===n.length-1?"none":null,flexBasis:r,maxWidth:r},i)],children:a},t)}))},t)})),Object(F.jsx)(N.Text,{style:{fontSize:12,padding:3,position:"absolute",width:"70%",bottom:0,left:0},children:"Blueocean International (HK) Ltd. \\r\\n NOTE: Please deposit to HSBC 023-472038-838 (bank code: 004, Bank address: 1 Queen's Road Central, Hong Kong. SWIFT code: HSBCHKHHHKH or FPS: info@ergoseatings.com"})]}),["Should the delivery of goods involved any staircases at the provided location, there will be an additional delivery fee of HK$100 per level to be charged in advance.","If you have special assembling requirements, please let us know prior to delivery.  Otherwise, all chairs will be assembled before delivery and all desks will be assembled on site.","If the delivery address is located in a remote area within Hong Kong, we reserve the rights to charge the client extra for delivery charges.  In such cases, we will provide a quotation upon investigation of the detailed address.  Client will be notified of such extra cost prior to delivery.","Delivery date for pre-orders stated above is an estimate only. While we will try our best to deliver the products as soon as possible, the actual delivery date may be adjusted depending on actual freight schedule. We do NOT accept refund in case of delay arising from delivery delay.","You understand that pre-orders are non-refundable.  Decision to switch to another product after purchase can only be treated as store credits. "].map((function(e,t){return Object(F.jsxs)(N.View,{style:{flexDirection:"row",margin:"5px 0"},children:[Object(F.jsx)(N.View,{style:{width:2,fontSize:10,lineHeight:1.2,margin:"0 10px 0 0",color:"#888888"},children:Object(F.jsx)(N.Text,{children:"\u2022"})}),Object(F.jsx)(N.View,{style:{flexGrow:1,fontSize:10,lineHeight:1.2,color:"#888888"},children:Object(F.jsx)(N.Text,{children:e})})]},t)})),Object(F.jsxs)(N.View,{style:se.note,children:[Object(F.jsx)(N.Text,{style:{marginTop:"5px",fontSize:10,lineHeight:1.2,color:"#888888",width:"80%"},children:"The warranty is effective from the date of purchase from Blueocean International (HK) Ltd by the original purchaser. Such warranty applies under the following terms and conditions and is covered by the original manufacturers for specific period stated:"}),Object(F.jsx)(N.Image,{src:ee,style:se.receiptLogo})]}),["Nightingale chairs: 5 years for defective parts under regular usage, by Nightingale Corp.","Allseating chairs:  5 years for defective parts under regular usage, by Allseating Corp.","Standing desks: 5 years by manufacturer","Okamura chairs:  5 years for defective parts under regular usage, by Okamura Salotto HK Ltd.","Sidiz chairs: 3 years for defective parts under regular usage, by Sidiz, Inc.","Duorest chairs: 3 years for defective parts under regular usage, by Duoback Co. Ltd.","Wagner chairs: 5 years for defective parts under regular usage, by Topstar GMBH","Topstar chairs: 3 years for defective parts under regular usage, by Topstar GMBH","Ergohuman chairs: 2 years for defective parts under regular usage, by manufacturer","HAG chairs: 2 years for defective parts under regular usage, by manufacturer"].map((function(e,t){return Object(F.jsxs)(N.View,{style:{flexDirection:"row",marginLeft:"10px"},children:[Object(F.jsx)(N.View,{style:{width:2,fontSize:10,lineHeight:1.2,margin:"0 10px 0 0",color:"#888888"},children:Object(F.jsx)(N.Text,{children:"\u2022"})}),Object(F.jsx)(N.View,{style:{flexGrow:1,fontSize:10,lineHeight:1.2,color:"#888888"},children:Object(F.jsx)(N.Text,{children:e})})]},t)})),Object(F.jsx)(N.Text,{style:{fontSize:10,lineHeight:1.2,color:"#888888"},children:"Claiming of any aforementioned warranties only covers replacement of the defective or broken parts only and does not include the following cost, which shall be borne by the claimant. A quotation will be provided in advance for approval by the claimant: 1) labor costs of technician for replacing the parts; 2) transportation costs incurred for sending the product(s) to our company and delivering back to the claimant from our shop after service. I, the undersigned, have read and understand these policies and agree to all the above."}),Object(F.jsx)(N.Text,{style:{fontSize:10,lineHeight:1.2,marginTop:10,color:"#888888"},children:"Agreement to this invoice represents that client understands our refund policy and terms and condition as stated in our website ergoseatings.com and ergoseatings.com.hk"}),Object(F.jsx)(N.Text,{style:{fontSize:10,lineHeight:1.2,marginTop:10,color:"#888888"},children:"Initials: _________________"}),Object(F.jsx)(N.Text,{style:{fontSize:12,lineHeight:1.2,marginTop:12,fontWeight:"bold",textAlign:"center"},children:"Thank you for your business!"})]})})})]}):Object(F.jsxs)(p.a,{sx:{color:"#fff",zIndex:function(e){return e.zIndex.drawer+1}},open:!0,children:[Object(F.jsx)(M.a,{}),Object(F.jsx)(z.a,{children:"This url is not a valid invoice url."})]})})),pe=["cells"],he=["content","width"],be=["cells"],je=["content","width"],fe=N.StyleSheet.create({body:{paddingTop:35,paddingBottom:65,paddingHorizontal:35},header:{width:"100%",fontSize:8,lineHeight:1.2,marginBottom:40,flexDirection:"row",alignItems:"center"},title:{fontFamily:"Microsoft Yahei",fontSize:15,marginBottom:10,textTransform:"uppercase"},logo:{marginLeft:"auto",width:50},info:{flexDirection:"row",marginBottom:10},companyInfo:{fontFamily:"Microsoft Yahei",fontSize:8,width:200,paddingRight:10,lineHeight:1.2},clientInfo:{fontFamily:"Microsoft Yahei",fontSize:8,width:200,paddingRight:10,lineHeight:1.2},email:{color:"#0000ff",textDecoration:"underline"},subtitle:{fontSize:18,margin:12,fontWeight:100,fontFamily:"Microsoft Yahei"},text:{margin:12,fontSize:14,textAlign:"justify",fontFamily:"Times-Roman"},table:{fontSize:8,marginBottom:10,border:"0.5px solid #808080"},tableRow:{fontSize:8,borderBottom:"0.5px solid #808080",flexDirection:"row",minHeight:15,fontFamily:"Microsoft Yahei"},tableColumn:{flex:1,padding:"3px 5px",borderRight:"0.5px solid #808080"}});N.Font.register({family:"Microsoft Yahei",src:q});var me=["January","February","March","April","May","June","July","August","September","October","November","December"],xe=Object(f.b)((function(e){return{loading:e.loading.value}}))((function(e){var t=e.loading,n=Object(a.useState)(!1),r=Object(o.a)(n,2),i=r[0],c=r[1],l=Object(a.useState)({Seller:{},ChairStocks:[],DeskStocks:[],AccessoryStocks:[],ServiceToQuotations:[],DeskToQuotations:[]}),u=Object(o.a)(l,2),d=u[0],b=u[1],j=Object(s.h)().id;Object(a.useEffect)((function(){var e=W.a.CancelToken.source();return f({id:j,cancelToken:e.token}),function(){return e.cancel("Brand Component got unmounted")}}),[j]);var f=function(e){var t=e.id,n=e.cancelToken;W.a.get("/quotation/".concat(t),{cancelToken:n}).then((function(e){c(!0),b(e.data)})).catch((function(e){c(!1)}))};return t?Object(F.jsx)(p.a,{sx:{color:"#fff",zIndex:function(e){return e.zIndex.drawer+1}},open:!0,children:Object(F.jsx)(h.a,{color:"inherit"})}):i?Object(F.jsx)(N.PDFViewer,{height:"100%",children:Object(F.jsx)(N.Document,{children:Object(F.jsxs)(N.Page,{style:fe.body,wrap:!0,children:[Object(F.jsxs)(N.View,{style:fe.header,children:[Object(F.jsxs)(N.View,{children:[Object(F.jsx)(N.Text,{style:fe.title,children:"Quotation"}),Object(F.jsxs)(N.Text,{children:["Date: ",function(e){var t=new Date(e);return"".concat(me[t.getMonth()]," ").concat(t.getDate(),", ").concat(t.getFullYear())}(d.createdAt)]}),Object(F.jsx)(N.Text,{children:"No: Q-".concat(d.Seller.prefix).concat(function(e){var t=new Date(e);return"".concat(t.getFullYear()).concat(t.getMonth()).concat(t.getDate())}(d.createdAt)).concat(("000"+d.quotationNum).substr(-3))})]}),Object(F.jsx)(N.View,{style:fe.logo,children:Object(F.jsx)(N.Image,{src:V})})]}),Object(F.jsxs)(N.View,{style:fe.info,children:[Object(F.jsxs)(N.View,{style:fe.companyInfo,children:[Object(F.jsx)(N.Text,{children:"Blueocean International (HK) Ltd."}),Object(F.jsx)(N.Text,{children:"23/F"}),Object(F.jsx)(N.Text,{children:"Lockhart Centre"}),Object(F.jsx)(N.Text,{children:"801-807 Lockhart Rd"}),Object(F.jsx)(N.Text,{children:"Wenchai, Hong Kong"}),Object(F.jsx)(N.Text,{children:"Tel: 2169 3337"}),Object(F.jsxs)(N.Text,{children:["Email: ",Object(F.jsx)(N.Tspan,{style:fe.email,children:"info@ergoseatings.com"})]})]}),Object(F.jsxs)(N.View,{style:fe.clientInfo,children:[Object(F.jsxs)(N.Text,{children:["Client's Name: ",d.name]}),d.unit?Object(F.jsxs)(N.Text,{children:["Unit ",d.unit]}):null,d.floor?Object(F.jsxs)(N.Text,{children:["Floor ",d.floor]}):null,d.block?Object(F.jsxs)(N.Text,{children:["Block ",d.block]}):null,Object(F.jsx)(N.Text,{children:d.street}),Object(F.jsx)(N.Text,{children:d.district}),Object(F.jsxs)(N.Text,{children:["Phone: ",d.phone]}),Object(F.jsxs)(N.Text,{children:["Email: ",Object(F.jsx)(N.Tspan,{style:fe.email,children:d.email})]})]})]}),Object(F.jsx)(N.View,{style:fe.table,children:[{cells:[{content:"Salesperson",width:"15%"},{content:"Proposed Delivery Date",width:"55%"},{content:"Payment Terms",width:"15%"},{content:"Valid Til",textAlign:"right",width:"15%"}],backgroundColor:"#dbe5f1",textTransform:"uppercase"},{cells:[{content:"".concat(d.Seller.firstName," ").concat(d.Seller.lastName),width:"15%"},{content:(d.timeLine%7===0?"Est ".concat(d.timeLine/7," working week").concat(d.timeLine/7===1?"":"s"," after payment"):"Est ".concat(d.timeLine," working day").concat(1===d.timeLine?"":"s"," after payment"))+"\n"+"".concat(d.remark),width:"55%"},{content:d.paymentTerms,width:"15%"},{content:"".concat(d.validTil," month").concat(1===d.validTil?"":"s"),textAlign:"right",width:"15%"}]}].map((function(e,t,n){var a=e.cells,r=Object(L.a)(e,pe);return Object(F.jsx)(N.View,{style:[fe.tableRow,Object(H.a)({borderBottom:t===n.length-1?"none":null},r)],children:a.map((function(e,t,n){var a=e.content,r=e.width,i=Object(L.a)(e,he);return Object(F.jsx)(N.Text,{style:[fe.tableColumn,Object(H.a)({borderRight:t===n.length-1?"none":null,flexBasis:r,maxWidth:r},i)],children:a},t)}))},t)}))}),Object(F.jsxs)(N.View,{style:fe.table,children:[[{cells:[{content:"QTY",width:"15%"},{content:"Description",width:"55%"},{content:"Unit Price",width:"15%"},{content:"Line Total (HKD)",textAlign:"right",width:"15%"}],backgroundColor:"#dbe5f1",textTransform:"uppercase"}].concat(Object(R.a)(d.ChairStocks.map((function(e){return{cells:[{content:"".concat(e.ChairToQuotation.qty),width:"15%"},{content:"Chair Brand: ".concat(e.brand,"\n                      Chair Model: ").concat(e.model,"\n").concat(e.withHeadrest?"With Headrest":"Without Headrest","\n                      ").concat(e.withAdArmrest?"With Adjustable Armrest":"Without Adjustable Armrest","\n                      Specification: ").concat(e.ChairToQuotation.remark,"\n                      Other Remark: ").concat(e.remark,"\n                      ").concat(JSON.parse(e.ChairToQuotation.deliveryOption)),width:"55%"},{content:"".concat(e.ChairToQuotation.unitPrice),textAlign:"right",width:"15%"},{content:"".concat(e.ChairToQuotation.unitPrice*e.ChairToQuotation.qty),textAlign:"right",width:"15%"}]}}))),Object(R.a)(d.DeskToQuotations.map((function(e){return{cells:[{content:"".concat(e.qty),width:"15%"},{content:"Desk Model: ".concat(d.DeskStocks.find((function(t){return t.id===e.stockId})).model,"\n                    Color of Legs: ").concat(d.DeskStocks.find((function(t){return t.id===e.stockId})).color,"\n                    ArmSize: ").concat(d.DeskStocks.find((function(t){return t.id===e.stockId})).armSize,"\n                    FeetSize: ").concat(d.DeskStocks.find((function(t){return t.id===e.stockId})).feetSize,"\n                    Beam Size: ").concat(d.DeskStocks.find((function(t){return t.id===e.stockId})).beamSize,"\n                    ").concat(e.hasDeskTop?"Table Top: ".concat(e.topMaterial,"\n                        Table Top Size: ").concat(e.topLength,"x").concat(e.topWidth,"x").concat(e.topThickness,"\n                        Table Top Color: ").concat(e.topColor).concat(0===e.topRoundedCorners?"":"\nRounded Corners: ".concat(e.topRoundedCorners,", Radius: R").concat(e.topCornerRadius)).concat(0===e.topHoleCount?"":"\nHoles Required: ".concat(e.topHoleCount,", Hole Position: ").concat(e.topHolePosition,", Holes Shaped: ").concat(e.topHoleType),"\n                        Specification: ").concat(e.remark,"\n                        Other Remark: ").concat(d.DeskStocks.find((function(t){return t.id===e.stockId})).remark):"Without DeskTop","\n                    ").concat(JSON.parse(e.deliveryOption)),width:"55%"},{content:"".concat(e.unitPrice),textAlign:"right",width:"15%"},{content:"".concat(e.unitPrice*e.qty),textAlign:"right",width:"15%"}]}}))),Object(R.a)(d.AccessoryStocks.map((function(e){return{cells:[{content:"".concat(e.AccessoryToQuotation.qty),width:"15%"},{content:"".concat(e.name,"\nAccessory Category: ").concat(e.category,"\n                      Specification: ").concat(e.AccessoryToQuotation.remark,"\n                      Other Remark: ").concat(e.remark,"\n                      ").concat(JSON.parse(e.AccessoryToQuotation.deliveryOption)),width:"55%"},{content:"".concat(e.AccessoryToQuotation.unitPrice),textAlign:"right",width:"15%"},{content:"".concat(e.AccessoryToQuotation.unitPrice*e.AccessoryToQuotation.qty),textAlign:"right",width:"15%"}]}}))),Object(R.a)(d.ServiceToQuotations.map((function(e){return{cells:[{content:"1",width:"15%"},{content:"".concat(e.description),width:"55%"},{content:"".concat(e.price),textAlign:"right",width:"15%"},{content:"".concat(e.price),textAlign:"right",width:"15%"}]}}))),Object(R.a)(Array(Math.max(0,6-d.ChairStocks.length-d.DeskStocks.length-d.AccessoryStocks.length-d.ServiceToQuotations.length)).fill({cells:[{content:"",width:"15%"},{content:"",width:"55%"},{content:"",width:"15%"},{content:"",width:"15%"}]})),[{cells:[{content:"",width:"70%",fontSize:12},{content:"SUBTOTAL",width:"15%"},{content:"".concat((d.ChairStocks.length?d.ChairStocks.map((function(e){return e.ChairToQuotation.unitPrice*e.ChairToQuotation.qty})).reduce((function(e,t){return e+t})):0)+(d.DeskToQuotations.length?d.DeskToQuotations.map((function(e){return e.unitPrice*e.qty})).reduce((function(e,t){return e+t})):0)+(d.AccessoryStocks.length?d.AccessoryStocks.map((function(e){return e.AccessoryToQuotation.unitPrice*e.AccessoryToQuotation.qty})).reduce((function(e,t){return e+t})):0)+(d.ServiceToQuotations.length?d.ServiceToQuotations.map((function(e){return e.price})).reduce((function(e,t){return e+t})):0)),textAlign:"right",width:"15%",borderBottom:"0.5px solid #808080"}],borderBottom:"none"},{cells:[{content:"",width:"70%",fontSize:12},{content:"DISCOUNT",width:"15%"},{content:"".concat(d.discountType?d.discount:((d.ChairStocks.length?d.ChairStocks.map((function(e){return e.ChairToQuotation.unitPrice*e.ChairToQuotation.qty})).reduce((function(e,t){return e+t})):0)+(d.DeskStocks.length?d.DeskStocks.map((function(e){return e.DeskToQuotation.unitPrice*e.DeskToQuotation.qty})).reduce((function(e,t){return e+t})):0)+(d.AccessoryStocks.length?d.AccessoryStocks.map((function(e){return e.AccessoryToQuotation.unitPrice*e.AccessoryToQuotation.qty})).reduce((function(e,t){return e+t})):0))*d.discount/100),textAlign:"right",width:"15%",borderBottom:"0.5px solid #808080"}],borderBottom:"none"},{cells:[{content:"",width:"70%",fontSize:12},{content:"SURCHARGE",width:"15%"},{content:"".concat(d.surchargeType?d.surcharge:((d.ChairStocks.length?d.ChairStocks.map((function(e){return e.ChairToQuotation.unitPrice*e.ChairToQuotation.qty})).reduce((function(e,t){return e+t})):0)+(d.DeskStocks.length?d.DeskStocks.map((function(e){return e.DeskToQuotation.unitPrice*e.DeskToQuotation.qty})).reduce((function(e,t){return e+t})):0)+(d.AccessoryStocks.length?d.AccessoryStocks.map((function(e){return e.AccessoryToQuotation.unitPrice*e.AccessoryToQuotation.qty})).reduce((function(e,t){return e+t})):0))*d.surcharge/100),textAlign:"right",width:"15%",borderBottom:"0.5px solid #808080"}],borderBottom:"none"},{cells:[{content:"",width:"70%",fontSize:12},{content:"TOTAL",width:"15%"},{content:"".concat((d.ChairStocks.length?d.ChairStocks.map((function(e){return e.ChairToQuotation.unitPrice*e.ChairToQuotation.qty})).reduce((function(e,t){return e+t})):0)+(d.DeskToQuotations.length?d.DeskToQuotations.map((function(e){return e.unitPrice*e.qty})).reduce((function(e,t){return e+t})):0)+(d.AccessoryStocks.length?d.AccessoryStocks.map((function(e){return e.AccessoryToQuotation.unitPrice*e.AccessoryToQuotation.qty})).reduce((function(e,t){return e+t})):0)+(d.ServiceToQuotations.length?d.ServiceToQuotations.map((function(e){return e.price})).reduce((function(e,t){return e+t})):0)-(d.discountType?d.discount:((d.ChairStocks.length?d.ChairStocks.map((function(e){return e.ChairToQuotation.unitPrice*e.ChairToQuotation.qty})).reduce((function(e,t){return e+t})):0)+(d.DeskStocks.length?d.DeskStocks.map((function(e){return e.DeskToQuotation.unitPrice*e.DeskToQuotation.qty})).reduce((function(e,t){return e+t})):0)+(d.AccessoryStocks.length?d.AccessoryStocks.map((function(e){return e.AccessoryToQuotation.unitPrice*e.AccessoryToQuotation.qty})).reduce((function(e,t){return e+t})):0))*d.discount/100)+(d.surchargeType?d.surcharge:((d.ChairStocks.length?d.ChairStocks.map((function(e){return e.ChairToQuotation.unitPrice*e.ChairToQuotation.qty})).reduce((function(e,t){return e+t})):0)+(d.DeskStocks.length?d.DeskStocks.map((function(e){return e.DeskToQuotation.unitPrice*e.DeskToQuotation.qty})).reduce((function(e,t){return e+t})):0)+(d.AccessoryStocks.length?d.AccessoryStocks.map((function(e){return e.AccessoryToQuotation.unitPrice*e.AccessoryToQuotation.qty})).reduce((function(e,t){return e+t})):0))*d.surcharge/100)),textAlign:"right",width:"15%"}]}]).map((function(e,t,n){var a=e.cells,r=Object(L.a)(e,be);return Object(F.jsx)(N.View,{style:[fe.tableRow,Object(H.a)({borderBottom:t===n.length-1?"none":null},r)],children:a.map((function(e,t,n){var a=e.content,r=e.width,i=Object(L.a)(e,je);return Object(F.jsx)(N.Text,{style:[fe.tableColumn,Object(H.a)({borderRight:t===n.length-1?"none":null,flexBasis:r,maxWidth:r},i)],children:a},t)}))},t)})),Object(F.jsx)(N.Text,{style:{fontSize:12,padding:3,position:"absolute",width:"70%",bottom:0,left:0},children:"Blueocean International (HK) Ltd. \\r\\n NOTE: Please deposit to HSBC 023-472038-838 (bank code: 004, Bank address: 1 Queen's Road Central, Hong Kong. SWIFT code: HSBCHKHHHKH or FPS: info@ergoseatings.com"})]}),["Should the delivery of goods involved any staircases at the provided location, there will be an additional delivery fee of HK$100 per level to be charged in advance.","If you have special assembling requirements, please let us know prior to delivery.  Otherwise, all chairs will be assembled before delivery and all desks will be assembled on site.","If the delivery address is located in a remote area within Hong Kong, we reserve the rights to charge the client extra for delivery charges.  In such cases, we will provide a quotation upon investigation of the detailed address.  Client will be notified of such extra cost prior to delivery.","Delivery date for pre-orders stated above is an estimate only. While we will try our best to deliver the products as soon as possible, the actual delivery date may be adjusted depending on actual freight schedule. We do NOT accept refund in case of delay arising from delivery delay.","You understand that pre-orders are non-refundable.  Decision to switch to another product after purchase can only be treated as store credits. ","You understand that a late payment penalty of 2% Interest Rate per month maybe charged for overdue payment"].map((function(e,t){return Object(F.jsxs)(N.View,{style:{flexDirection:"row",margin:"5px 0"},children:[Object(F.jsx)(N.View,{style:{width:2,fontSize:10,lineHeight:1.2,margin:"0 10px 0 0",color:"#888888"},children:Object(F.jsx)(N.Text,{children:"\u2022"})}),Object(F.jsx)(N.View,{style:{flexGrow:1,fontSize:10,lineHeight:1.2,color:"#888888"},children:Object(F.jsx)(N.Text,{children:e})})]},t)})),Object(F.jsx)(N.Text,{style:{marginTop:"5px",fontSize:10,lineHeight:1.2,color:"#888888"},children:"The warranty is effective from the date of purchase from Blueocean International (HK) Ltd by the original purchaser. Such warranty applies under the following terms and conditions and is covered by the original manufacturers for specific period stated:"}),["Nightingale chairs: 5 years for defective parts under regular usage, by Nightingale Corp.","Allseating chairs:  5 years for defective parts under regular usage, by Allseating Corp.","Standing desks: 5 years by manufacturer","Okamura chairs:  5 years for defective parts under regular usage, by Okamura Salotto HK Ltd.","10 years for structural defective parts, under regular usage by Okamura Salotto HK Ltd, for details please refer to our website FAQ section.","Bestuhl chairs: 3 years for defective parts under regular usage, by Bestuhl Co. Ltd.","Duorest chairs: 3 years for defective parts under regular usage, by Duoback Co. Ltd.","Wagner chairs: 5 years for defective parts under regular usage, by Topstar GMBH","Topstar chairs: 3 years for defective parts under regular usage, by Topstar GMBH","Ergohuman chairs: 2 years for defective parts under regular usage, by manufacturer","Atlas Headrest, 3 years for defective parts under regular usage, by Back Foley LLC"].map((function(e,t){return Object(F.jsxs)(N.View,{style:{flexDirection:"row",marginLeft:"10px"},children:[Object(F.jsx)(N.View,{style:{width:2,height:2,margin:"5px 10px 0 0",backgroundColor:"#888888"}}),Object(F.jsx)(N.View,{style:{flexGrow:1,fontSize:10,lineHeight:1.2,color:"#888888"},children:Object(F.jsx)(N.Text,{children:e})})]},t)})),Object(F.jsx)(N.Text,{style:{fontSize:10,lineHeight:1.2,marginTop:10,color:"#888888"},children:"Claiming of any aforementioned warranties only covers replacement of the defective or broken parts only and does not include the following cost, which shall be borne by the claimant. A quotation will be provided in advance for approval by the claimant: 1) labor costs of technician for replacing the parts; 2) transportation costs incurred for sending the product(s) to our company and delivering back to the claimant from our shop after service. I, the undersigned, have read and understand these policies and agree to all the above."}),Object(F.jsx)(N.Text,{style:{fontSize:10,lineHeight:1.2,marginTop:10,color:"#888888"},children:"Agreement to this quotation represents that client understands our refund policy and terms and condition as stated in our website ergoseatings.com and ergoseatings.com.hk"}),Object(F.jsx)(N.Text,{style:{fontSize:10,lineHeight:1.2,marginTop:10,color:"#888888"},children:"Initials: _________________"}),Object(F.jsx)(N.Text,{style:{fontSize:12,lineHeight:1.2,marginTop:12,fontWeight:"bold",textAlign:"center"},children:"Thank you for your business!"})]})})}):Object(F.jsxs)(p.a,{sx:{color:"#fff",zIndex:function(e){return e.zIndex.drawer+1}},open:!0,children:[Object(F.jsx)(M.a,{}),Object(F.jsx)(z.a,{children:"This url is not a valid quotation url."})]})})),Oe=n(785),ge=n(786),ye=n(776),ke=n(777),ve=n(332),Se=n(792),Ce=n(768),we=n(793),Te=n(168),De=n.n(Te),Ae=n(15),Pe=n.n(Ae),Be=function(){return function(e){delete W.a.defaults.headers.common.Authorization,e({type:"auth/logout"})}};var Ie=function(e){return Object(F.jsxs)(z.a,Object(H.a)(Object(H.a)({variant:"body2",color:"text.secondary",align:"center"},e),{},{children:["Copyright \xa9 ",Object(F.jsx)(Oe.a,{color:"inherit",href:"https://blueoceanblue.com/",children:"Blueoceanblue.com"})," ",(new Date).getFullYear(),"."]}))},We=Object(f.b)((function(e){return{auth:e.auth}}),{login:function(e){return function(t){return new Promise((function(n,a){W.a.post("/user/login",e).then((function(e){var a=e.data,r=a.token,i="admin"===a.type;W.a.defaults.headers.common.Authorization="Bearer ".concat(r),t({type:"auth/loginSuccess",payload:{token:r,isAdmin:i}}),n()})).catch((function(e){a(e)})).then((function(){}))}))}}})((function(e){return Object(F.jsxs)(F.Fragment,{children:[Object(F.jsxs)(ge.a,{sx:{mx:2,mt:8,display:"flex",flexDirection:"column",alignItems:"center"},children:[Object(F.jsx)("img",{src:V,style:{maxWidth:"100%"},alt:"Ergoseating"}),Object(F.jsx)(ye.a,{sx:{m:2,bgcolor:"secondary.main"},children:Object(F.jsx)(De.a,{})}),Object(F.jsx)(z.a,{component:"h1",variant:"h5",children:"Sign in"}),Object(F.jsxs)(ge.a,{maxWidth:"sm",width:"100%",component:"form",onSubmit:function(t){t.preventDefault();var n=t.currentTarget,a=new FormData(n);e.login({email:a.get("email"),password:a.get("password")}).then().catch((function(e){n.password.value="",Pe.a.fire({icon:"error",title:"Login Failure",html:e.response.data.message.replace("\n","<br />"),allowOutsideClick:!1})}))},noValidate:!0,sx:{mt:1},children:[Object(F.jsxs)(ke.a,{container:!0,spacing:2,children:[Object(F.jsx)(ke.a,{item:!0,xs:12,children:Object(F.jsx)(ve.a,{required:!0,fullWidth:!0,id:"email",label:"Email Address",type:"email",name:"email",autoComplete:"email",autoFocus:!0})}),Object(F.jsx)(ke.a,{item:!0,xs:12,children:Object(F.jsx)(ve.a,{required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password"})})]}),Object(F.jsx)(Se.a,{control:Object(F.jsx)(Ce.a,{value:"remember",color:"primary"}),label:"Remember me"}),Object(F.jsx)(we.a,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},children:"Sign In"}),Object(F.jsxs)(ke.a,{container:!0,children:[Object(F.jsx)(ke.a,{item:!0,xs:!0,children:Object(F.jsx)(Oe.a,{href:"#",variant:"body2",children:"Forgot password?"})}),Object(F.jsx)(ke.a,{item:!0,children:Object(F.jsx)(Oe.a,{component:l.b,to:"/signup",variant:"body2",children:"Don't have an account? Sign Up"})})]})]})]}),Object(F.jsx)(Ie,{sx:{mt:8,mb:4}})]})})),Re=n(789),He=n(772),Le=n(779),Ne=n(323);var Me=function(e){return Object(F.jsxs)(z.a,Object(H.a)(Object(H.a)({variant:"body2",color:"text.secondary",align:"center"},e),{},{children:["Copyright \xa9 ",Object(F.jsx)(Oe.a,{color:"inherit",href:"https://blueoceanblue.com/",children:"Blueoceanblue.com"})," ",(new Date).getFullYear(),"."]}))},ze=Object(f.b)((function(e){return{auth:e.auth}}))((function(e){return Object(F.jsxs)(F.Fragment,{children:[Object(F.jsxs)(ge.a,{sx:{mx:2,mt:8,display:"flex",flexDirection:"column",alignItems:"center"},children:[Object(F.jsx)("img",{src:V,style:{maxWidth:"100%"},alt:"Ergoseating"}),Object(F.jsx)(ye.a,{sx:{m:2,bgcolor:"secondary.main"},children:Object(F.jsx)(De.a,{})}),Object(F.jsx)(z.a,{component:"h1",variant:"h5",children:"Sign Up"}),Object(F.jsxs)(ge.a,{maxWidth:"sm",width:"100%",component:"form",onSubmit:function(t){t.preventDefault();var n=t.currentTarget,a=new FormData(n);W.a.post("user/register",{firstName:a.get("firstName"),lastName:a.get("lastName"),email:a.get("email"),password:a.get("password"),prefix:a.get("prefix"),type:a.get("type")}).then((function(){e.history.push("/signin"),Pe.a.fire({icon:"success",title:"SignUp Success",html:"Your account was successfully registered.<br>You can use your account once Adminstrator allows.",allowOutsideClick:!1})})).catch((function(e){Pe.a.fire({icon:"error",title:"SignUp Failure",html:e.response.data.message.replace("\n","<br />"),allowOutsideClick:!1})})).then((function(){}))},noValidate:!0,sx:{mt:1},children:[Object(F.jsxs)(ke.a,{container:!0,spacing:2,children:[Object(F.jsx)(ke.a,{item:!0,xs:12,sm:6,children:Object(F.jsx)(ve.a,{required:!0,fullWidth:!0,label:"First Name",type:"text",name:"firstName",autoComplete:"fname",autoFocus:!0})}),Object(F.jsx)(ke.a,{item:!0,xs:12,sm:6,children:Object(F.jsx)(ve.a,{required:!0,fullWidth:!0,label:"Last Name",type:"text",name:"lastName",autoComplete:"lname"})}),Object(F.jsx)(ke.a,{item:!0,xs:12,children:Object(F.jsx)(ve.a,{required:!0,fullWidth:!0,id:"email",label:"Email Address",type:"email",name:"email",autoComplete:"email"})}),Object(F.jsx)(ke.a,{item:!0,xs:12,children:Object(F.jsx)(ve.a,{required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",autoComplete:"current-password"})}),Object(F.jsx)(ke.a,{item:!0,xs:12,sm:6,children:Object(F.jsx)(ve.a,{required:!0,fullWidth:!0,name:"prefix",label:"Prefix",type:"text",autoComplete:"prefix"})}),Object(F.jsx)(ke.a,{item:!0,xs:12,sm:6,children:Object(F.jsxs)(Re.a,{fullWidth:!0,children:[Object(F.jsx)(He.a,{id:"user-type-select-label",size:"small",children:"Type"}),Object(F.jsxs)(Le.a,{labelId:"user-type-select-label",id:"user-type-select",defaultValue:"",name:"type",label:"Type",children:[Object(F.jsx)(Ne.a,{value:"salesman",children:"Salesman"}),Object(F.jsx)(Ne.a,{value:"driver",children:"Driver"})]})]})})]}),Object(F.jsx)(we.a,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},children:"Sign Up"}),Object(F.jsx)(ke.a,{container:!0,justifyContent:"flex-end",children:Object(F.jsx)(ke.a,{item:!0,children:Object(F.jsx)(Oe.a,{component:l.b,to:"/signin",variant:"body2",children:"Already have an account? Sign In"})})})]})]}),Object(F.jsx)(Me,{sx:{mt:8,mb:4}})]})})),qe=n(756),Ve=n(757),Fe=n(758),Qe=n(759),Ee=n(794),Ue=n(795),Ke=n(324),Ye=n(735),Je=["component","auth","drawerHeight","handleDrawerToggle","title"],Ge=Object(f.b)((function(e){return{auth:e.auth}}))((function(e){e.component,e.auth;var t=e.drawerHeight,n=e.handleDrawerToggle,a=e.title;Object(L.a)(e,Je);return Object(F.jsx)(Ee.a,{position:"static",sx:{backgroundColor:"#5664d2",flexBasis:"".concat(t,"px"),maxHeight:"".concat(t,"px")},children:Object(F.jsxs)(Ue.a,{variant:"dense",children:[Object(F.jsx)(Ke.a,{color:"inherit","aria-label":"open drawer",edge:"start",onClick:n,sx:{mr:2,display:{sm:"none"}},children:Object(F.jsx)(Ye.a,{})}),Object(F.jsx)(z.a,{variant:"h6",noWrap:!0,component:"div",children:a})]})})})),_e=n(791),Xe=n(769),Ze=n(737),$e=n(738),et=n(796),tt=n(325),nt=n(762),at=n(736),rt=n(739),it=Object(nt.a)({root:{boxSizing:"border-box",paddingTop:"10px",width:function(e){return e.drawerWidth},backgroundColor:"#fff",borderRight:"1px solid rgba(0, 0, 0, 0.12)","& a":{textDecoration:"none"},overflow:"auto","&::-webkit-scrollbar":{width:8},"&::-webkit-scrollbar-thumb":{backgroundColor:"#6b778c",borderRadius:4}},navlink:{color:"#6b778c","&:hover":{},transition:"background-color ease .5s","& .MuiListItemIcon-root":{minWidth:"40px"},"& .MuiListItemIcon-root, & .MuiListItemText-root":{".active &":{color:"#5664d2"}}}}),ct=function(e){var t=e.drawerWidth,n=e.handleLogout,r=e.lists,i=it({drawerWidth:t}),c=Object(a.useState)(-1),s=Object(o.a)(c,2),u=s[0],d=s[1],p=Object(a.useState)(-1),h=Object(o.a)(p,2),b=h[0],j=h[1];return Object(F.jsxs)(ge.a,{className:i.root,sx:{display:{xs:"none",sm:"block"}},children:[r.map((function(e,t){return[Object(F.jsxs)(_e.a,{children:[e.category?Object(F.jsx)(z.a,{variant:"h6",sx:{pl:"10px"},children:e.category}):null,e.content.map((function(e,n){return e.children?[Object(F.jsxs)(Xe.a,{button:!0,className:i.navlink,onClick:function(){b===n&&u===t?(j(-1),d(-1)):(j(n),d(t))},secondaryAction:Object(F.jsx)(at.a,{sx:{transition:"transform ease .3s",transform:b===n&&u===t?"":"Rotate(-90deg)"}}),children:[Object(F.jsx)(Ze.a,{children:e.icon}),Object(F.jsx)($e.a,{primary:e.label})]},"listitem-".concat(n)),Object(F.jsx)(et.a,{in:b===n&&u===t,children:Object(F.jsx)(_e.a,{disablePadding:!0,children:e.children.map((function(e,t){return Object(F.jsx)(l.c,{to:e.path,exact:!0,activeClassName:"active",children:Object(F.jsxs)(Xe.a,{button:!0,className:i.navlink,children:[Object(F.jsx)(Ze.a,{children:null}),Object(F.jsx)($e.a,{primary:e.label})]})},t)}))})},"listcollapse-".concat(n))]:Object(F.jsx)(l.c,Object(H.a)(Object(H.a)({activeClassName:"active"},e),{},{children:Object(F.jsxs)(Xe.a,{button:!0,className:i.navlink,children:[Object(F.jsx)(Ze.a,{children:e.icon}),Object(F.jsx)($e.a,{primary:e.label})]})}),"listitem-".concat(n))}))]},"list-".concat(t)),Object(F.jsx)(tt.a,{},"listdivider-".concat(t))]})),Object(F.jsx)(_e.a,{children:Object(F.jsxs)(Xe.a,{button:!0,className:i.navlink,onClick:n,children:[Object(F.jsx)(Ze.a,{children:Object(F.jsx)(rt.a,{})}),Object(F.jsx)($e.a,{primary:"Logout"})]})})]})},ot=n(780),lt=Object(nt.a)({root:{boxSizing:"border-box",paddingTop:"10px",width:function(e){return e.drawerWidth},backgroundColor:"#fff",borderRight:"1px solid rgba(0, 0, 0, 0.12)","& a":{textDecoration:"none"}},navlink:{color:"#6b778c","&:hover":{},transition:"background-color ease .5s","& .MuiListItemIcon-root":{minWidth:"40px"},"& .MuiListItemIcon-root, & .MuiListItemText-root":{".active &":{color:"#5664d2"}}}}),st=function(e){var t=e.drawerWidth,n=e.handleLogout,r=e.handleDrawerClose,i=e.lists,c=e.mobileOpen,s=lt({drawerWidth:t}),u=Object(a.useState)(-1),d=Object(o.a)(u,2),p=d[0],h=d[1],b=Object(a.useState)(-1),j=Object(o.a)(b,2),f=j[0],m=j[1];return Object(F.jsxs)(ot.a,{variant:"temporary",open:c,onClose:r,ModalProps:{keepMounted:!0},PaperProps:{className:s.root},sx:{display:{xs:"block",sm:"none"}},children:[i.map((function(e,t){return[Object(F.jsxs)(_e.a,{children:[e.category?Object(F.jsx)(z.a,{variant:"h6",sx:{pl:"10px"},children:e.category}):null,e.content.map((function(e,n){return e.children?[Object(F.jsxs)(Xe.a,{button:!0,className:s.navlink,onClick:function(){f===n&&p===t?(m(-1),h(-1)):(m(n),h(t))},secondaryAction:Object(F.jsx)(at.a,{sx:{transition:"transform ease .3s",transform:f===n&&p===t?"":"Rotate(-90deg)"}}),children:[Object(F.jsx)(Ze.a,{children:e.icon}),Object(F.jsx)($e.a,{primary:e.label})]},"listitem-".concat(n)),Object(F.jsx)(et.a,{in:f===n&&p===t,children:Object(F.jsx)(_e.a,{disablePadding:!0,children:e.children.map((function(e,t){return Object(F.jsx)(l.c,{to:e.path,exact:!0,activeClassName:"active",children:Object(F.jsxs)(Xe.a,{button:!0,className:s.navlink,children:[Object(F.jsx)(Ze.a,{children:null}),Object(F.jsx)($e.a,{primary:e.label})]})},t)}))})},"listcollapse-".concat(n))]:Object(F.jsx)(l.c,Object(H.a)(Object(H.a)({},e),{},{activeClassName:"active",children:Object(F.jsxs)(Xe.a,{button:!0,className:s.navlink,children:[Object(F.jsx)(Ze.a,{children:e.icon}),Object(F.jsx)($e.a,{primary:e.label})]})}),"listitem-".concat(n))}))]},"list-".concat(t)),Object(F.jsx)(tt.a,{},"listdivider-".concat(t))]})),Object(F.jsx)(_e.a,{children:Object(F.jsxs)(Xe.a,{button:!0,className:s.navlink,onClick:function(e){r(e),n(e)},children:[Object(F.jsx)(Ze.a,{children:Object(F.jsx)(rt.a,{})}),Object(F.jsx)($e.a,{primary:"Logout"})]})})]})},ut=n(802),dt=n(803),pt=n(804),ht=n(745),bt=n(805),jt=n(806),ft=n(742),mt=n(743),xt=n(7),Ot=n(74),gt=n(797),yt=n(798),kt=n(740),vt=n(781),St=n(221),Ct=n(799),wt=n(800),Tt=n(801),Dt=n(770),At=n(744),Pt=n(346),Bt=n(790),It=n(782),Wt=n(741),Rt=["id","label","nonSort","sx"],Ht=["id","label","nonSort","sx"];function Lt(e,t,n){return t[n]<e[n]?-1:t[n]>e[n]?1:0}function Nt(e,t){return"desc"===e?function(e,n){return Lt(e,n,t)}:function(e,n){return-Lt(e,n,t)}}function Mt(e,t){var n=e.map((function(e,t){return[e,t]}));return n.sort((function(e,n){var a=t(e[0],n[0]);return 0!==a?a:e[1]-n[1]})),n.map((function(e){return e[0]}))}function zt(e){var t=e.columns,n=e.onSelectAllClick,a=e.order,r=e.orderBy,i=e.numSelected,c=e.nonSelect,o=e.rowCount,l=e.onRequestSort;return Object(F.jsx)(gt.a,{children:Object(F.jsxs)(yt.a,{children:[!c&&Object(F.jsx)(kt.a,{padding:"checkbox",children:Object(F.jsx)(Ce.a,{color:"primary",indeterminate:i>0&&i<o,checked:o>0&&i===o,onChange:n,inputProps:{"aria-label":"select all desserts"}})}),t.map((function(e){var t,n=e.id,i=e.label,c=e.nonSort,o=e.sx,s=Object(L.a)(e,Rt);return Object(F.jsx)(kt.a,Object(H.a)(Object(H.a)({align:"left",sx:Object(H.a)({p:"3px 0 3px 5px"},o),sortDirection:r===n&&a},s),{},{children:c?i:Object(F.jsx)(vt.a,{active:r===n,direction:r===n?a:"asc",onClick:(t=n,function(e){l(e,t)}),IconComponent:Wt.a,children:i})}),n)}))]})})}var qt=function(e){var t=e.title,n=e.numSelected,a=e.onBulkEditClick,r=e.onBulkRemoveClick;return Object(F.jsxs)(Ue.a,{sx:Object(H.a)({pl:{sm:2},pr:{xs:1,sm:1}},n>0&&{bgcolor:function(e){return Object(Ot.a)(e.palette.primary.main,e.palette.action.activatedOpacity)}}),children:[n>0?Object(F.jsxs)(z.a,{sx:{flex:"1 1 100%"},color:"inherit",variant:"subtitle1",component:"div",children:[n," selected"]}):Object(F.jsx)(z.a,{sx:{flex:"1 1 100%"},variant:"h6",id:"tableTitle",component:"div",children:t}),n>0&&Object(F.jsxs)(F.Fragment,{children:[a&&Object(F.jsx)(It.a,{title:"Edit",children:Object(F.jsx)(Ke.a,{onClick:a,children:Object(F.jsx)(ft.a,{})})}),r&&Object(F.jsx)(It.a,{title:"Delete",children:Object(F.jsx)(Ke.a,{onClick:r,children:Object(F.jsx)(mt.a,{})})})]})]})},Vt=Object(nt.a)((function(e){var t;return{table:(t={},Object(xt.a)(t,"& .MuiTableCell-root.".concat(St.a.head),{backgroundColor:At.a[400],"&, & *":{color:At.a[50]},fontSize:16,fontWeight:600}),Object(xt.a)(t,"& .MuiTableCell-root.".concat(St.a.body),{fontSize:14}),Object(xt.a)(t,"& .MuiTableRow-root",{height:40,"&:nth-of-type(odd)":{backgroundColor:Pt.a[50]},"&:last-child td, &:last-child th":{border:0}}),t)}})),Ft=function(e){var t=e.title,n=e.columns,r=e.nonSelect,i=e.onBulkEditClick,c=e.onBulkRemoveClick,l=e.rows,s=Vt(),u=Object(a.useState)("asc"),d=Object(o.a)(u,2),p=d[0],h=d[1],b=Object(a.useState)("index"),j=Object(o.a)(b,2),f=j[0],m=j[1],x=Object(a.useState)([]),O=Object(o.a)(x,2),g=O[0],y=O[1],k=Object(a.useState)(0),v=Object(o.a)(k,2),S=v[0],C=v[1],w=Object(a.useState)(10),T=Object(o.a)(w,2),D=T[0],A=T[1],P=Object(a.useState)(l.length),B=Object(o.a)(P,2),I=B[0],W=B[1],R=Object(a.useRef)();Object(a.useEffect)((function(){R.current!==l.map((function(e){return e.id})).join(",")&&(R.current=l.map((function(e){return e.id})).join(","),y(g.filter((function(e){return l.map((function(e){return e.id})).includes(e)})))),l.length!==I&&(C(0),W(l.length))}),[l,g]);var N=S>0?Math.max(0,(1+S)*D-l.length):0;return Object(F.jsx)(ge.a,{sx:{width:"100%"},children:Object(F.jsxs)(Bt.a,{sx:{width:"100%",mt:2},children:[Object(F.jsx)(qt,{title:t,numSelected:g.length,onBulkEditClick:i?function(e){e.preventDefault(),i(g)}:null,onBulkRemoveClick:c?function(e){e.preventDefault(),c(g)}:null}),Object(F.jsx)(Ct.a,{children:Object(F.jsxs)(wt.a,{className:s.table,sx:{minWidth:750},"aria-labelledby":"tableTitle",size:"small",children:[Object(F.jsx)(zt,{columns:n,numSelected:g.length,order:p,orderBy:f,onSelectAllClick:function(e){if(e.target.checked){var t=l.map((function(e){return e.id}));y(t)}else y([])},onRequestSort:function(e,t){h(f===t&&"asc"===p?"desc":"asc"),m(t)},nonSelect:r,rowCount:l.length}),Object(F.jsxs)(Tt.a,{children:[Mt(l,Nt(p,f)).slice(S*D,S*D+D).map((function(e,t){var a,i=(a=e.id,-1!==g.indexOf(a)),c="enhanced-table-checkbox-".concat(t);return Object(F.jsxs)(yt.a,{role:"checkbox","aria-checked":i,tabIndex:-1,selected:i,style:1===e.bkColor?{backgroundColor:"#cccccc"}:{},children:[!r&&Object(F.jsx)(kt.a,{padding:"checkbox",children:Object(F.jsx)(Ce.a,{onClick:function(t){return function(e,t){var n=g.indexOf(t),a=[];-1===n?a=a.concat(g,t):0===n?a=a.concat(g.slice(1)):n===g.length-1?a=a.concat(g.slice(0,-1)):n>0&&(a=a.concat(g.slice(0,n),g.slice(n+1))),y(a)}(0,e.id)},color:"primary",checked:i,inputProps:{"aria-labelledby":c}})}),n.map((function(t,n){var a=t.id,r=(t.label,t.nonSort,t.sx),i=Object(L.a)(t,Ht);return Object(F.jsx)(kt.a,Object(H.a)(Object(H.a)({component:"th",id:0===n?c:"",scope:"row",sx:Object(H.a)({p:"3px 0 3px 5px"},r)},i),{},{children:"index"===a?e[a]+1:e[a]}),n)}))]},t)})),N>0&&Object(F.jsx)(yt.a,{style:{height:33*N},children:Object(F.jsx)(kt.a,{colSpan:6})})]})]})}),Object(F.jsx)(Dt.a,{rowsPerPageOptions:[5,10,25],component:"div",count:l.length,rowsPerPage:D,page:S,onPageChange:function(e,t){C(t)},onRowsPerPageChange:function(e){A(parseInt(e.target.value,10)),C(0)}})]})})},Qt=["isActive"],Et=["width"],Ut=[{id:"email",label:"Email"},{id:"firstName",label:"First Name"},{id:"lastName",label:"Last Name"},{id:"type",label:"Type"},{id:"prefix",label:"Prefix"},{id:"isActive",label:"Active"},{nonSort:!0,id:"edit",sx:{maxWidth:45,width:45}},{nonSort:!0,id:"delete",sx:{maxWidth:45,width:45}}];var Kt=Object(f.b)((function(e){return{auth:e.auth}}))((function(e){var t=Object(a.useState)([]),n=Object(o.a)(t,2),r=n[0],i=n[1],c=Object(a.useState)(!1),l=Object(o.a)(c,2),s=l[0],u=l[1],d=Object(a.useState)(""),p=Object(o.a)(d,2),h=p[0],b=p[1],j=Object(a.useState)([]),f=Object(o.a)(j,2),m=f[0],x=f[1],O=Object(a.useState)(""),g=Object(o.a)(O,2),y=g[0],k=g[1],v=function(e){e<r.length&&e>=0&&(b(r[e].id),x([{name:"email",defaultValue:r[e].email,label:"Email",width:"100%"},{name:"firstName",defaultValue:r[e].firstName,label:"First Name",width:"100%"},{name:"lastName",defaultValue:r[e].lastName,label:"Last Name",width:"100%"},{name:"prefix",defaultValue:r[e].prefix,label:"Prefix",width:"100%"}]),k(r[e].type)),u(!0)},S=function(e){e<r.length&&e>=0&&Pe.a.fire({title:"Are you sure?",text:"This action will remove current account permanently.",icon:"question",showCancelButton:!0,confirmButtonText:"Yes, Remove!",cancelButtonText:"No, Keep this account.",allowOutsideClick:!1}).then((function(t){t.isConfirmed&&W.a.delete("/user/".concat(r[e].id)).then((function(e){C()})).catch((function(e){Pe.a.fire({icon:"error",title:"Error",text:e.response.data.message,allowOutsideClick:!1}),console.log(e)})).then((function(){}))}))},C=function(e){W.a.get("/user",{cancelToken:e}).then((function(e){i(e.data)})).catch((function(e){console.log(e)})).then((function(){}))};return Object(a.useEffect)((function(){var e=W.a.CancelToken.source();return C(e.token),function(){return e.cancel("Users Component got unmounted")}}),[]),Object(F.jsxs)(F.Fragment,{children:[Object(F.jsx)(Ft,{title:"Users",rows:r.map((function(e,t){var n=e.isActive,a=Object(L.a)(e,Qt);return Object(H.a)({index:t,isActive:Object(F.jsx)(Ce.a,{checked:n,onClick:function(e){e.stopPropagation(),e.preventDefault(),W.a.put("/user/".concat(a.id),{isActive:!n}).then((function(){C()})).catch((function(e){Pe.a.fire({icon:"error",title:"Error",text:e.response.data.message,allowOutsideClick:!1})})).then((function(){}))}}),edit:Object(F.jsx)(Ke.a,{onClick:function(e){e.preventDefault(),v(t)},children:Object(F.jsx)(ft.a,{})}),delete:Object(F.jsx)(Ke.a,{onClick:function(e){e.preventDefault(),S(t)},children:Object(F.jsx)(mt.a,{})})},a)})),columns:Ut,onEditClick:v,onRemoveClick:S,onBulkRemoveClick:function(e){Pe.a.fire({title:"Are you sure?",text:"This action will remove selected ChairColors permanently.",icon:"question",showCancelButton:!0,confirmButtonText:"Yes, Remove!",cancelButtonText:"No, Keep Them.",allowOutsideClick:!1}).then((function(t){t.isConfirmed&&W.a.delete("/user",{data:{ids:e}}).then((function(e){C()})).catch((function(e){Pe.a.fire({icon:"error",title:"Error",text:e.response.data.message,allowOutsideClick:!1}),console.log(e)})).then((function(){}))}))}}),Object(F.jsxs)(ut.a,{open:s,PaperProps:{component:"form",onSubmit:function(e){e.preventDefault();var t=new FormData(e.currentTarget);new W.a.put("/user/".concat(h),{email:t.get("email"),firstName:t.get("firstName"),lastName:t.get("lastName"),type:y,prefix:t.get("prefix")}).then((function(e){u(!1),C()})).catch((function(e){u(!1),Pe.a.fire({icon:"error",title:"Error",text:e.response.data.message,allowOutsideClick:!1}).then((function(){u(!0)})),console.log(e)})).then((function(){}))}},children:[Object(F.jsx)(dt.a,{children:"Edit User"}),Object(F.jsx)(pt.a,{children:Object(F.jsxs)(ht.a,{spacing:2,children:[Object(F.jsx)(bt.a,{children:"Please Edit the User information and Click Save button."}),m.map((function(e,t){var n=e.width,a=Object(L.a)(e,Et);return Object(F.jsx)(ve.a,Object(H.a)({sx:{flexBasis:n,minWidth:n}},a),t)})),Object(F.jsxs)(Re.a,{children:[Object(F.jsx)(He.a,{id:"user-type-select-label",size:"small",children:"Type"}),Object(F.jsxs)(Le.a,{labelId:"user-type-select-label",id:"user-type-select",value:y,label:"Type",onChange:function(e){e.preventDefault(),k(e.target.value)},children:[Object(F.jsx)(Ne.a,{value:"admin",children:"Admin"}),Object(F.jsx)(Ne.a,{value:"salesman",children:"Salesman"}),Object(F.jsx)(Ne.a,{value:"driver",children:"Driver"})]})]})]})}),Object(F.jsxs)(jt.a,{children:[Object(F.jsx)(we.a,{onClick:function(){u(!1)},children:"Cancel"}),Object(F.jsx)(we.a,{type:"submit",children:"Save"})]})]})]})})),Yt=n(30),Jt=n.n(Yt),Gt=n(36),_t=n(763),Xt=n(746),Zt=n(748),$t=n(35),en=n(747),tn=Object(nt.a)((function(e){return{formControl:{marginTop:30,marginRight:20,width:"40%",float:"right"},indeterminateColor:{color:"#f50057"},selectAllText:{fontWeight:500},selectedAll:{backgroundColor:"rgba(0, 0, 0, 0.08)","&:hover":{backgroundColor:"rgba(0, 0, 0, 0.08)"}}}})),nn={PaperProps:{style:{maxHeight:217,width:250}},anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},variant:"menu"};var an=function(e){var t=e.options,n=e.onChange,a=e.selected,r=tn(),i=t.length>0&&a.length===t.length;return Object(F.jsxs)(Re.a,{className:r.formControl,variant:"outlined",children:[Object(F.jsx)(He.a,{htmlFor:"mutiple-select-label",children:"Select columns"}),Object(F.jsxs)(Le.a,{multiple:!0,value:a,onChange:function(e){var r=e.target.value;"all"!==r[r.length-1]?n(r):n(a.length===t.length?[]:t)},renderValue:function(e){return e.join(", ")},MenuProps:nn,label:"Select columns",size:"normal",children:[Object(F.jsxs)(Ne.a,{value:"all",classes:{root:i?r.selectedAll:""},children:[Object(F.jsx)(Ze.a,{children:Object(F.jsx)(Ce.a,{classes:{indeterminate:r.indeterminateColor},checked:i,indeterminate:a.length>0&&a.length<t.length})}),Object(F.jsx)($e.a,{classes:{primary:r.selectAllText},primary:"Select All"})]}),t.map((function(e){return Object(F.jsxs)(Ne.a,{value:e,children:[Object(F.jsx)(Ze.a,{children:Object(F.jsx)(Ce.a,{checked:a.indexOf(e)>-1})}),Object(F.jsx)($e.a,{primary:e})]},e)}))]})]})},rn=["label"],cn=["withHeadrest","withAdArmrest","thumbnailURL","shipmentDate","arrivalDate"],on=["type","width"],ln=[{id:"thumbnail",sx:{width:100},nonSort:!0},{id:"brand",label:"Brand"},{id:"model",label:"Model"},{id:"unitPrice",label:"Price"},{id:"balance",label:"Balance"},{id:"qty",label:"QTY"},{id:"frameColor",label:"Frame Color"},{id:"backColor",label:"Back Color"},{id:"seatColor",label:"Seat Color"},{id:"backMaterial",label:"Back Material"},{id:"seatMaterial",label:"Seat Material"},{id:"withHeadrest",label:"Headrest"},{id:"withAdArmrest",label:"Adjustable Armrests"},{id:"remark",label:"Other Remark"},{id:"shipmentDate",label:"Shipment"},{id:"arrivalDate",label:"Arrival"},{id:"edit",nonSort:!0},{id:"delete",nonSort:!0}],sn=["Frame Color","Back Color","Seat Color","Back Material","Seat Material","Headrest","Adjustable Armrests","Other Remark","Shipment","Arrival"];var un=Object(f.b)((function(e){return{auth:e.auth}}))((function(e){var t=Object($t.a)(),n=Object(a.useState)("create"),r=Object(o.a)(n,2),i=r[0],c=r[1],l=Object(a.useState)([]),s=Object(o.a)(l,2),u=s[0],d=s[1],p=Object(a.useState)(!1),h=Object(o.a)(p,2),b=h[0],j=h[1],f=Object(a.useState)([]),m=Object(o.a)(f,2),x=m[0],O=m[1],g=Object(a.useState)(""),y=Object(o.a)(g,2),k=y[0],v=y[1],S=Object(a.useState)(0),C=Object(o.a)(S,2),w=C[0],T=C[1],D=Object(a.useState)(1e3),A=Object(o.a)(D,2),P=A[0],B=A[1],I=Object(a.useState)(0),R=Object(o.a)(I,2),N=R[0],M=R[1],z=Object(a.useState)([]),q=Object(o.a)(z,2),V=q[0],Q=q[1],E=Object(a.useState)(null),U=Object(o.a)(E,2),K=U[0],Y=U[1],J=Object(a.useState)(null),G=Object(o.a)(J,2),_=G[0],X=G[1],Z=Object(a.useState)([]),$=Object(o.a)(Z,2),ee=$[0],te=$[1],ne=function(e){e<u.length&&e>=0&&(v(u[e].id),O([{name:"brand",label:"Brand",type:"text",defaultValue:u[e].brand,width:"48%"},{name:"model",label:"Model",type:"text",defaultValue:u[e].model,width:"48%"},{name:"frameColor",label:"Frame Color",type:"text",defaultValue:u[e].frameColor,width:"30%"},{name:"backColor",label:"Back Color",type:"text",defaultValue:u[e].backColor,width:"30%"},{name:"seatColor",label:"Seat Color",type:"text",defaultValue:u[e].seatColor,width:"30%"},{name:"backMaterial",label:"Back Material",type:"text",defaultValue:u[e].backMaterial,width:"48%"},{name:"seatMaterial",label:"Seat Material",type:"text",defaultValue:u[e].seatMaterial,width:"48%"},{name:"remark",label:"Other Remark",multiline:!0,type:"text",defaultValue:u[e].remark,width:"100%"},{name:"withHeadrest",label:"Headrest",type:"checkbox",defaultValue:u[e].withHeadrest,width:"48%"},{name:"withAdArmrest",label:"Adjustable Armrest",type:"checkbox",defaultValue:u[e].withAdArmrest,width:"48%"},{name:"shipmentDate",label:"Shipment Date",type:"date",defaultValue:u[e].shipmentDate,width:"48%"},{name:"arrivalDate",label:"Arrival Date",type:"date",defaultValue:u[e].arrivalDate,width:"48%"}]),T(u[e].balance),B(u[e].unitPrice),M(u[e].qty-u[e].balance)),c("edit"),j(!0)},ae=function(e){e<u.length&&e>=0&&Pe.a.fire({title:"Are you sure?",text:"This action will remove current ChairStock permanently.",icon:"question",showCancelButton:!0,confirmButtonText:"Yes, Remove!",cancelButtonText:"No, Keep It.",allowOutsideClick:!1}).then((function(t){t.isConfirmed&&W.a.delete("/chairStock/".concat(u[e].id)).then((function(e){ce()})).catch((function(e){Pe.a.fire({icon:"error",title:"Error",text:e.response.data.message,allowOutsideClick:!1}),console.log(e)})).then((function(){}))}))},re=function(){var e=Object(Gt.a)(Jt.a.mark((function e(t){var n,a,r,i;return Jt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),n=new FormData(t.currentTarget),a="",!n.get("thumbnail").name){e.next=15;break}return(r=new FormData).append("file",n.get("thumbnail")),e.prev=6,e.next=9,W.a.post("/chairStock/upload",r,{headers:{"Content-Type":"application/x-www-form-urlencoded"}});case 9:i=e.sent,a=i.data.url,e.next=15;break;case 13:e.prev=13,e.t0=e.catch(6);case 15:W.a.put("/chairStock/".concat(k),{brand:n.get("brand"),model:n.get("model"),frameColor:n.get("frameColor"),backColor:n.get("backColor"),seatColor:n.get("seatColor"),backMaterial:n.get("backMaterial"),seatMaterial:n.get("seatMaterial"),withHeadrest:Boolean(n.get("withHeadrest")),withAdArmrest:Boolean(n.get("withAdArmrest")),remark:n.get("remark"),thumbnailURL:a,unitPrice:n.get("unitPrice"),shipmentDate:n.get("shipmentDate")||null,arrivalDate:n.get("arrivalDate")||null,balance:w,qty:Number(w)+Number(N)}).then((function(e){j(!1),ce()})).catch((function(e){j(!1),Pe.a.fire({icon:"error",title:"Error",html:e.response.data.message.replace("\n","<br />"),allowOutsideClick:!1}).then((function(){j(!0)})),console.log(e)})).then((function(){}));case 16:case"end":return e.stop()}}),e,null,[[6,13]])})));return function(t){return e.apply(this,arguments)}}(),ie=function(){var e=Object(Gt.a)(Jt.a.mark((function e(t){var n,a,r,i;return Jt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),n=new FormData(t.currentTarget),a="",!n.get("thumbnail").name){e.next=15;break}return(r=new FormData).append("file",n.get("thumbnail")),e.prev=6,e.next=9,W.a.post("/chairStock/upload",r,{headers:{"Content-Type":"application/x-www-form-urlencoded"}});case 9:i=e.sent,a=i.data.url,e.next=15;break;case 13:e.prev=13,e.t0=e.catch(6);case 15:W.a.post("/chairStock/create",{brand:n.get("brand"),model:n.get("model"),frameColor:n.get("frameColor"),backColor:n.get("backColor"),seatColor:n.get("seatColor"),backMaterial:n.get("backMaterial"),seatMaterial:n.get("seatMaterial"),withHeadrest:Boolean(n.get("withHeadrest")),withAdArmrest:Boolean(n.get("withAdArmrest")),remark:n.get("remark"),thumbnailURL:a,unitPrice:n.get("unitPrice"),shipmentDate:n.get("shipmentDate")||null,arrivalDate:n.get("arrivalDate")||null,balance:w,qty:Number(w)+Number(N)}).then((function(e){j(!1),ce()})).catch((function(e){j(!1),Pe.a.fire({icon:"error",title:"Error",text:e.response.data.message,allowOutsideClick:!1}).then((function(){j(!0)})),console.log(e)})).then((function(){}));case 16:case"end":return e.stop()}}),e,null,[[6,13]])})));return function(t){return e.apply(this,arguments)}}(),ce=function(e){W.a.get("/chairStock",{cancelToken:e}).then((function(e){d(e.data)})).catch((function(e){console.log(e)})).then((function(){}))};return Object(a.useEffect)((function(){var e,t=W.a.CancelToken.source();return e=t.token,W.a.get("/chairStock/features",{cancelToken:e}).then((function(e){Q(e.data)})).catch((function(e){console.log(e)})).then((function(){})),ce(t.token),function(){return t.cancel("Stock Component got unmounted")}}),[]),Object(F.jsxs)(ge.a,{sx:{height:"100%",overflow:"auto",padding:"10px 20px"},children:[Object(F.jsx)(we.a,{startIcon:Object(F.jsx)(Xt.a,{}),onClick:function(){O([{name:"brand",label:"Brand",type:"text",width:"48%"},{name:"model",label:"Model",type:"text",width:"48%"},{name:"frameColor",label:"Frame Color",type:"text",width:"30%"},{name:"backColor",label:"Back Color",type:"text",width:"30%"},{name:"seatColor",label:"Seat Color",type:"text",width:"30%"},{name:"backMaterial",label:"Back Material",type:"text",width:"48%"},{name:"seatMaterial",label:"Seat Material",type:"text",width:"48%"},{name:"remark",label:"Other Remark",type:"text",width:"100%"},{name:"withHeadrest",label:"Headrest",type:"checkbox",width:"48%"},{name:"withAdArmrest",label:"Adjustable Armrest",type:"checkbox",width:"48%"},{name:"shipmentDate",label:"Shipment Date",type:"date",width:"48%"},{name:"arrivalDate",label:"Arrival Date",type:"date",width:"48%"}]),T(0),B(1e3),M(0),c("create"),j(!0)},children:"New Stock"}),Object(F.jsxs)("label",{htmlFor:"contained-button-file",children:[Object(F.jsx)("input",{accept:".xlsx",id:"contained-button-file",type:"file",style:{display:"none"},onChange:function(){var e=Object(Gt.a)(Jt.a.mark((function e(t){var n;return Jt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),e.prev=1,!(t.target.files.length>0)){e.next=8;break}return(n=new FormData).append("file",t.target.files[0]),e.next=7,W.a.post("/chairStock/uploadCreate",n,{headers:{"Content-Type":"application/x-www-form-urlencoded"}});case 7:ce();case 8:e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),console.log(e.t0);case 13:return e.prev=13,t.target.value=null,e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[1,10,13,16]])})));return function(t){return e.apply(this,arguments)}}()}),Object(F.jsx)(we.a,{component:"span",sx:{ml:2},children:"Bulk Upload"})]}),Object(F.jsx)(Bt.a,{sx:{marginTop:"10px",padding:"5px 10px",display:"flex",flexWrap:"wrap",justifyContent:"space-around"},children:[{label:"Brand",value:K,onChange:function(e,t){e.preventDefault(),Y(t),X(null)},options:V.map((function(e){return e.brand})).filter((function(e,t,n){return n.indexOf(e)===t}))},{label:"Model",value:_,onChange:function(e,t){e.preventDefault(),X(t)},options:V.filter((function(e){return!K||e.brand===K})).map((function(e){return e.model})).filter((function(e,t,n){return n.indexOf(e)===t}))}].map((function(e,t){var n=e.label,a=Object(L.a)(e,rn);return Object(F.jsx)(_t.a,Object(H.a)({sx:{flexBasis:"200px",maxWidth:"200px"},renderInput:function(e){return Object(F.jsx)(ve.a,Object(H.a)(Object(H.a)({},e),{},{label:n}))}},a),t)}))}),Object(F.jsx)(an,{options:sn,onChange:function(e){te(e)},selected:ee}),Object(F.jsx)(Ft,{title:"Chair Stocks",rows:u.map((function(e,t){var n=e.withHeadrest,a=e.withAdArmrest,r=e.thumbnailURL,i=e.shipmentDate,c=e.arrivalDate,o=Object(L.a)(e,cn);return Object(H.a)({thumbnail:Object(F.jsx)("a",{href:"/",onClick:function(e){e.preventDefault(),Pe.a.fire({html:'<img alt="" width="400px" src="'.concat(r,'" />'),showCloseButton:!0,showConfirmButton:!1,allowOutsideClick:!1})},children:Object(F.jsx)("img",{alt:"",width:"80px",src:r,style:{marginTop:"5px"}})}),withHeadrest:n?"Yes":"No",withAdArmrest:a?"Yes":"No",edit:Object(F.jsx)(Ke.a,{onClick:function(e){e.preventDefault(),ne(t)},children:Object(F.jsx)(ft.a,{})}),delete:Object(F.jsx)(Ke.a,{onClick:function(e){e.preventDefault(),ae(t)},children:Object(F.jsx)(mt.a,{})}),shipmentDate:i||"No",arrivalDate:c||"No"},o)})).filter((function(e){return(!K||e.brand===K)&&(!_||e.model===_)})),columns:ln.map((function(e,t){return t>5&&t<16?ee.find((function(t){return t===e.label}))?e:void 0:e})).filter((function(e){return void 0!==e})),onEditClick:ne,onRemoveClick:ae,onBulkRemoveClick:function(e){Pe.a.fire({title:"Are you sure?",text:"This action will remove selected ChairStocks permanently.",icon:"question",showCancelButton:!0,confirmButtonText:"Yes, Remove!",cancelButtonText:"No, Keep Them.",allowOutsideClick:!1}).then((function(t){t.isConfirmed&&W.a.delete("/chairStock",{data:{ids:e}}).then((function(e){ce()})).catch((function(e){Pe.a.fire({icon:"error",title:"Error",text:e.response.data.message,allowOutsideClick:!1}),console.log(e)})).then((function(){}))}))}}),Object(F.jsxs)(ut.a,{fullWidth:!0,fullScreen:Object(en.a)(t.breakpoints.down("sm")),maxWidth:"sm",open:b,PaperProps:{component:"form",onSubmit:"create"===i?ie:re},children:[Object(F.jsx)(dt.a,{children:"create"===i?"New Stock":"Edit Stock"}),Object(F.jsx)(pt.a,{children:Object(F.jsxs)(Bt.a,{sx:{mt:"5px",p:"10px",display:"flex",flexWrap:"wrap",justifyContent:"space-between"},children:[x.map((function(e,t){var n=e.type,a=e.width,r=Object(L.a)(e,on);if("text"===n)return Object(F.jsx)(ve.a,Object(H.a)({sx:{flexBasis:a,minWidth:a}},r),t);if("date"===n)return Object(F.jsx)(ve.a,Object(H.a)({type:"date",InputLabelProps:{shrink:!0},sx:{flexBasis:a,minWidth:a}},r),t);if("checkbox"===n){var i=r.defaultValue,c=r.label,o=r.name;return Object(F.jsx)(Se.a,{control:Object(F.jsx)(Ce.a,{name:o,defaultChecked:i}),label:c},t)}return null})),Object(F.jsx)(ve.a,{label:"Thumbnail",name:"thumbnail",type:"file",sx:{flexBasis:["100%","48%"],minWidth:["100%","48%"]},inputProps:{accept:"image/png, image/gif, image/jpeg"},InputLabelProps:{shrink:!0}}),Object(F.jsx)(Se.a,{sx:{flexBasis:["100%","48%"],minWidth:["100%","48%"],alignItems:"baseline",m:0},control:Object(F.jsx)(ve.a,{label:"Unit Price",type:"number",name:"unitPrice",defaultValue:P,fullWidth:!0,sx:{m:"10px 5px 0 0"}}),label:"HKD"}),Object(F.jsxs)(ge.a,{display:"flex",justifyContent:"center",alignItems:"center",sx:{flexBasis:["100%","48%"],minWidth:["100%","48%"]},children:[Object(F.jsx)(Ke.a,{onClick:function(){T(w>1?w-1:0)},children:Object(F.jsx)(Zt.a,{})}),Object(F.jsx)(ve.a,{label:"Balance",value:w,type:"number",sx:{width:"80px",mx:"5px"},onChange:function(e){e.target.value>0?T(e.target.value):T(0),B(1e3)}}),Object(F.jsx)(Ke.a,{onClick:function(){T(w+1)},children:Object(F.jsx)(Xt.a,{})})]}),Object(F.jsxs)(ge.a,{display:"flex",justifyContent:"center",alignItems:"center",sx:{flexBasis:["100%","48%"],minWidth:["100%","48%"]},children:[Object(F.jsx)(Ke.a,{onClick:function(){M(Math.max(N-1,0))},children:Object(F.jsx)(Zt.a,{})}),Object(F.jsx)(ve.a,{label:"Shipment",value:N,type:"number",sx:{width:"80px",mx:"5px"},onChange:function(e){M(Math.max(e.target.value,0))}}),Object(F.jsx)(Ke.a,{onClick:function(){M(N+1)},children:Object(F.jsx)(Xt.a,{})})]})]})}),Object(F.jsxs)(jt.a,{children:[Object(F.jsx)(we.a,{onClick:function(){j(!1)},children:"Cancel"}),Object(F.jsx)(we.a,{type:"submit",children:"create"===i?"Create":"Save"})]})]})]})})),dn=un,pn=["label"],hn=["withHeadrest","withAdArmrest","thumbnailURL","shipmentDate","arrivalDate"],bn=["type","width"],jn=["name","label"],fn=[{id:"thumbnail",sx:{width:100},nonSort:!0},{id:"supplierCode",label:"Supplier"},{id:"model",label:"Model"},{id:"unitPrice",label:"Price"},{id:"balance",label:"Balance"},{id:"qty",label:"QTY"},{id:"color",label:"Color"},{id:"armSize",label:"Arm Size"},{id:"feetSize",label:"Feet Size"},{id:"beamSize",label:"Beam Size"},{id:"remark",label:"Other Remark"},{id:"shipmentDate",label:"Shipment"},{id:"arrivalDate",label:"Arrival"},{id:"edit",nonSort:!0},{id:"delete",nonSort:!0}],mn=["Color","Arm Size","Feet Size","Beam Size","Other Remark","Shipment","Arrival"];var xn=Object(f.b)((function(e){return{auth:e.auth}}))((function(e){var t=Object($t.a)(),n=Object(a.useState)([]),r=Object(o.a)(n,2),i=r[0],c=r[1],l=Object(a.useState)("create"),s=Object(o.a)(l,2),u=s[0],d=s[1],p=Object(a.useState)(!1),h=Object(o.a)(p,2),b=h[0],j=h[1],f=Object(a.useState)([]),m=Object(o.a)(f,2),x=m[0],O=m[1],g=Object(a.useState)(""),y=Object(o.a)(g,2),k=y[0],v=y[1],S=Object(a.useState)(0),C=Object(o.a)(S,2),w=C[0],T=C[1],D=Object(a.useState)(1e3),A=Object(o.a)(D,2),P=A[0],B=A[1],I=Object(a.useState)(0),R=Object(o.a)(I,2),N=R[0],M=R[1],z=Object(a.useState)([]),q=Object(o.a)(z,2),V=q[0],Q=q[1],E=Object(a.useState)(null),U=Object(o.a)(E,2),K=U[0],Y=U[1],J=Object(a.useState)(null),G=Object(o.a)(J,2),_=G[0],X=G[1],Z=Object(a.useState)(null),$=Object(o.a)(Z,2),ee=$[0],te=$[1],ne=Object(a.useState)([]),ae=Object(o.a)(ne,2),re=ae[0],ie=ae[1],ce=function(e){e<i.length&&e>=0&&(v(i[e].id),O([{name:"supplierCode",label:"Supplier",type:"autocomplete",defaultValue:i[e].supplierCode,options:["AK","JC","AW","LK"],width:"30%"},{name:"model",label:"Model",type:"text",defaultValue:i[e].model,width:"30%"},{name:"color",label:"Color",type:"text",defaultValue:i[e].color,width:"30%"},{name:"armSize",label:"Arm Size",type:"autocomplete",defaultValue:i[e].armSize,options:["400","500","600"],width:"30%"},{name:"feetSize",label:"FeetSize",type:"autocomplete",defaultValue:i[e].feetSize,options:["400","500","600","700"],width:"30%"},{name:"beamSize",label:"BeamSize",type:"autocomplete",defaultValue:i[e].beamSize,options:["740-1100","Regular"],width:"30%"},{name:"remark",label:"Other Remark",multiline:!0,type:"text",defaultValue:i[e].remark,width:"100%"},{name:"shipmentDate",label:"Shipment Date",type:"date",width:"48%"},{name:"arrivalDate",label:"Arrival Date",type:"date",width:"48%"}]),T(i[e].balance),B(i[e].unitPrice),M(i[e].qty)),d("edit"),j(!0)},oe=function(e){e<i.length&&e>=0&&Pe.a.fire({title:"Are you sure?",text:"This action will remove current DeskStock permanently.",icon:"question",showCancelButton:!0,confirmButtonText:"Yes, Remove!",cancelButtonText:"No, Keep It.",allowOutsideClick:!1}).then((function(t){t.isConfirmed&&W.a.delete("/deskStock/".concat(i[e].id)).then((function(e){ue()})).catch((function(e){Pe.a.fire({icon:"error",title:"Error",text:e.response.data.message,allowOutsideClick:!1}),console.log(e)})).then((function(){}))}))},le=function(){var e=Object(Gt.a)(Jt.a.mark((function e(t){var n,a,r,i;return Jt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),n=new FormData(t.currentTarget),a="",!n.get("thumbnail").name){e.next=15;break}return(r=new FormData).append("file",n.get("thumbnail")),e.prev=6,e.next=9,W.a.post("/chairStock/upload",r,{headers:{"Content-Type":"application/x-www-form-urlencoded"}});case 9:i=e.sent,a=i.data.url,e.next=15;break;case 13:e.prev=13,e.t0=e.catch(6);case 15:W.a.put("/deskStock/".concat(k),{supplierCode:n.get("supplierCode"),model:n.get("model"),color:n.get("color"),armSize:n.get("armSize"),feetSize:n.get("feetSize"),beamSize:n.get("beamSize"),remark:n.get("remark"),thumbnailURL:a,unitPrice:n.get("unitPrice"),shipmentDate:n.get("shipmentDate")||null,arrivalDate:n.get("arrivalDate")||null,balance:w,qty:Number(w)+Number(N)}).then((function(e){j(!1),ue()})).catch((function(e){j(!1),Pe.a.fire({icon:"error",title:"Error",html:e.response.data.message.replace("\n","<br />"),allowOutsideClick:!1}).then((function(){j(!0)})),console.log(e)})).then((function(){}));case 16:case"end":return e.stop()}}),e,null,[[6,13]])})));return function(t){return e.apply(this,arguments)}}(),se=function(){var e=Object(Gt.a)(Jt.a.mark((function e(t){var n,a,r,i;return Jt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),n=new FormData(t.currentTarget),a="",!n.get("thumbnail").name){e.next=15;break}return(r=new FormData).append("file",n.get("thumbnail")),e.prev=6,e.next=9,W.a.post("/chairStock/upload",r,{headers:{"Content-Type":"application/x-www-form-urlencoded"}});case 9:i=e.sent,a=i.data.url,e.next=15;break;case 13:e.prev=13,e.t0=e.catch(6);case 15:W.a.post("/deskStock/create",{supplierCode:n.get("supplierCode"),model:n.get("model"),color:n.get("color"),armSize:n.get("armSize"),feetSize:n.get("feetSize"),beamSize:n.get("beamSize"),remark:n.get("remark"),thumbnailURL:a,unitPrice:n.get("unitPrice"),shipmentDate:n.get("shipmentDate")||null,arrivalDate:n.get("arrivalDate")||null,balance:w,qty:Number(w)+Number(N)}).then((function(e){j(!1),ue()})).catch((function(e){j(!1),Pe.a.fire({icon:"error",title:"Error",text:e.response.data.message,allowOutsideClick:!1}).then((function(){j(!0)})),console.log(e)})).then((function(){}));case 16:case"end":return e.stop()}}),e,null,[[6,13]])})));return function(t){return e.apply(this,arguments)}}(),ue=function(e){W.a.get("/deskStock",{cancelToken:e}).then((function(e){c(e.data)})).catch((function(e){console.log(e)})).then((function(){}))};return Object(a.useEffect)((function(){var e,t=W.a.CancelToken.source();return e=t.token,W.a.get("/deskStock/features",{cancelToken:e}).then((function(e){Q(e.data)})).catch((function(e){console.log(e)})).then((function(){})),ue(t.token),function(){return t.cancel("Stock Component got unmounted")}}),[]),Object(F.jsxs)(ge.a,{sx:{height:"100%",overflow:"auto",padding:"10px 20px"},children:[Object(F.jsx)(we.a,{startIcon:Object(F.jsx)(Xt.a,{}),onClick:function(){O([{name:"supplierCode",label:"Supplier",type:"autocomplete",options:["AK","JC","AW","LK"],width:"30%"},{name:"model",label:"Model",type:"text",width:"30%"},{name:"color",label:"Color",type:"text",width:"30%"},{name:"armSize",label:"Arm Size",type:"autocomplete",options:["400","500","600"],width:"30%"},{name:"feetSize",label:"FeetSize",type:"autocomplete",options:["400","500","600","700"],width:"30%"},{name:"beamSize",label:"BeamSize",type:"autocomplete",options:["740-1100","Regular"],width:"30%"},{name:"remark",label:"Other Remark",type:"text",width:"100%"},{name:"shipmentDate",label:"Shipment Date",type:"date",width:"48%"},{name:"arrivalDate",label:"Arrival Date",type:"date",width:"48%"}]),T(0),B(1e3),M(0),d("create"),j(!0)},children:"New Stock"}),Object(F.jsxs)("label",{htmlFor:"contained-button-file",children:[Object(F.jsx)("input",{accept:".xlsx",id:"contained-button-file",type:"file",style:{display:"none"},onChange:function(){var e=Object(Gt.a)(Jt.a.mark((function e(t){var n;return Jt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),e.prev=1,!(t.target.files.length>0)){e.next=8;break}return(n=new FormData).append("file",t.target.files[0]),e.next=7,W.a.post("/chairStock/uploadCreate",n,{headers:{"Content-Type":"application/x-www-form-urlencoded"}});case 7:ue();case 8:e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),console.log(e.t0);case 13:return e.prev=13,t.target.value=null,e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[1,10,13,16]])})));return function(t){return e.apply(this,arguments)}}()}),Object(F.jsx)(we.a,{component:"span",sx:{ml:2},children:"Bulk Upload"})]}),Object(F.jsx)(Bt.a,{sx:{marginTop:"10px",padding:"5px 10px",display:"flex",flexWrap:"wrap",justifyContent:"space-around"},children:[{label:"Supplier",value:K,onChange:function(e,t){e.preventDefault(),Y(t),X(null),te(null)},options:V.map((function(e){return e.supplierCode})).filter((function(e,t,n){return n.indexOf(e)===t}))},{label:"Model",value:_,onChange:function(e,t){e.preventDefault(),X(t),te(null)},options:V.filter((function(e){return!K||e.supplierCode===K})).map((function(e){return e.model})).filter((function(e,t,n){return n.indexOf(e)===t}))},{label:"Color",value:ee,onChange:function(e,t){e.preventDefault(),te(t)},options:V.filter((function(e){return(!K||e.supplierCode===K)&&(!_||e.model===_)})).map((function(e){return e.color})).filter((function(e,t,n){return n.indexOf(e)===t}))}].map((function(e,t){var n=e.label,a=Object(L.a)(e,pn);return Object(F.jsx)(_t.a,Object(H.a)({sx:{flexBasis:"200px",maxWidth:"200px"},renderInput:function(e){return Object(F.jsx)(ve.a,Object(H.a)(Object(H.a)({},e),{},{label:n}))}},a),t)}))}),Object(F.jsx)(an,{options:mn,onChange:function(e){ie(e)},selected:re}),Object(F.jsx)(Ft,{title:"Desk Leg Stocks",rows:i.map((function(e,t){var n=e.withHeadrest,a=e.withAdArmrest,r=e.thumbnailURL,i=e.shipmentDate,c=e.arrivalDate,o=Object(L.a)(e,hn);return Object(H.a)({thumbnail:Object(F.jsx)("a",{href:"/",onClick:function(e){e.preventDefault(),Pe.a.fire({html:'<img alt="" width="400px" src="'.concat(r,'" />'),showCloseButton:!0,showConfirmButton:!1,allowOutsideClick:!1})},children:Object(F.jsx)("img",{alt:"",width:"80px",src:r,style:{marginTop:"5px"}})}),withHeadrest:n?"Yes":"No",withAdArmrest:a?"Yes":"No",edit:Object(F.jsx)(Ke.a,{onClick:function(e){e.preventDefault(),ce(t)},children:Object(F.jsx)(ft.a,{})}),delete:Object(F.jsx)(Ke.a,{onClick:function(e){e.preventDefault(),oe(t)},children:Object(F.jsx)(mt.a,{})}),shipmentDate:i||"No",arrivalDate:c||"No"},o)})).filter((function(e){return(!K||e.supplierCode===K)&&(!_||e.model===_)&&(!ee||e.color===ee)})),columns:fn.map((function(e,t){return t>5&&t<13?re.find((function(t){return t===e.label}))?e:void 0:e})).filter((function(e){return void 0!==e})),onEditClick:ce,onRemoveClick:oe,onBulkRemoveClick:function(e){Pe.a.fire({title:"Are you sure?",text:"This action will remove selected DeskStocks permanently.",icon:"question",showCancelButton:!0,confirmButtonText:"Yes, Remove!",cancelButtonText:"No, Keep Them.",allowOutsideClick:!1}).then((function(t){t.isConfirmed&&W.a.delete("/deskStock",{data:{ids:e}}).then((function(e){ue()})).catch((function(e){Pe.a.fire({icon:"error",title:"Error",text:e.response.data.message,allowOutsideClick:!1}),console.log(e)})).then((function(){}))}))}}),Object(F.jsxs)(ut.a,{fullWidth:!0,fullScreen:Object(en.a)(t.breakpoints.down("sm")),maxWidth:"sm",open:b,PaperProps:{component:"form",onSubmit:"create"===u?se:le},children:[Object(F.jsx)(dt.a,{children:"create"===u?"New Stock":"Edit Stock"}),Object(F.jsx)(pt.a,{children:Object(F.jsxs)(Bt.a,{sx:{mt:"5px",p:"10px",display:"flex",flexWrap:"wrap",justifyContent:"space-between"},children:[x.map((function(e,t){var n=e.type,a=e.width,r=Object(L.a)(e,bn);if("text"===n)return Object(F.jsx)(ve.a,Object(H.a)({sx:{flexBasis:a,minWidth:a}},r),t);if("date"===n)return Object(F.jsx)(ve.a,Object(H.a)({type:"date",InputLabelProps:{shrink:!0},sx:{flexBasis:a,minWidth:a}},r),t);if("checkbox"===n){var i=r.defaultValue,c=r.label,o=r.name;return Object(F.jsx)(Se.a,{control:Object(F.jsx)(Ce.a,{name:o,defaultChecked:i}),label:c,sx:{flexBasis:a,minWidth:a}},t)}if("autocomplete"===n){var l=r.name,s=r.label,u=Object(L.a)(r,jn);return Object(F.jsx)(_t.a,Object(H.a)({sx:{flexBasis:a,minWidth:a},renderInput:function(e){return Object(F.jsx)(ve.a,Object(H.a)(Object(H.a)({},e),{},{name:l,label:s}))}},u),t)}return null})),Object(F.jsx)(ve.a,{label:"Thumbnail",name:"thumbnail",type:"file",sx:{flexBasis:["100%","48%"],minWidth:["100%","48%"]},inputProps:{accept:"image/png, image/gif, image/jpeg"},InputLabelProps:{shrink:!0}}),Object(F.jsx)(Se.a,{sx:{flexBasis:["100%","48%"],minWidth:["100%","48%"],alignItems:"baseline",m:0},control:Object(F.jsx)(ve.a,{label:"Unit Price",type:"number",name:"unitPrice",defaultValue:P,fullWidth:!0,sx:{m:"10px 5px 0 0"}}),label:"HKD"}),Object(F.jsxs)(ge.a,{display:"flex",justifyContent:"center",alignItems:"center",sx:{flexBasis:["100%","48%"],minWidth:["100%","48%"]},children:[Object(F.jsx)(Ke.a,{onClick:function(){T(w>1?w-1:0)},children:Object(F.jsx)(Zt.a,{})}),Object(F.jsx)(ve.a,{label:"Balance",value:w,type:"number",sx:{width:"80px",mx:"5px"},onChange:function(e){e.target.value>0?T(e.target.value):T(0),B(1e3)}}),Object(F.jsx)(Ke.a,{onClick:function(){T(w+1)},children:Object(F.jsx)(Xt.a,{})})]}),Object(F.jsxs)(ge.a,{display:"flex",justifyContent:"center",alignItems:"center",sx:{flexBasis:["100%","48%"],minWidth:["100%","48%"]},children:[Object(F.jsx)(Ke.a,{onClick:function(){M(Math.max(N-1,0))},children:Object(F.jsx)(Zt.a,{})}),Object(F.jsx)(ve.a,{label:"Shipment",value:N,type:"number",sx:{width:"80px",mx:"5px"},onChange:function(e){M(Math.max(e.target.value,0))}}),Object(F.jsx)(Ke.a,{onClick:function(){M(N+1)},children:Object(F.jsx)(Xt.a,{})})]})]})}),Object(F.jsxs)(jt.a,{children:[Object(F.jsx)(we.a,{onClick:function(){j(!1)},children:"Cancel"}),Object(F.jsx)(we.a,{type:"submit",children:"create"===u?"Create":"Save"})]})]})]})})),On=xn,gn=["thumbnailURL","shipmentDate","arrivalDate"],yn=["type","width"],kn=[{id:"thumbnail",sx:{width:100},nonSort:!0},{id:"name",label:"Name"},{id:"category",label:"Category"},{id:"unitPrice",label:"Price"},{id:"balance",label:"Balance"},{id:"qty",label:"QTY"},{id:"remark",label:"Other Remark"},{id:"shipmentDate",label:"Shipment"},{id:"arrivalDate",label:"Arrival"},{id:"edit",nonSort:!0},{id:"delete",nonSort:!0}];var vn=Object(f.b)((function(e){return{auth:e.auth}}))((function(e){var t=Object($t.a)(),n=Object(a.useState)("create"),r=Object(o.a)(n,2),i=r[0],c=r[1],l=Object(a.useState)([]),s=Object(o.a)(l,2),u=s[0],d=s[1],p=Object(a.useState)([]),h=Object(o.a)(p,2),b=h[0],j=h[1],f=Object(a.useState)(!1),m=Object(o.a)(f,2),x=m[0],O=m[1],g=Object(a.useState)([]),y=Object(o.a)(g,2),k=y[0],v=y[1],S=Object(a.useState)(""),C=Object(o.a)(S,2),w=C[0],T=C[1],D=Object(a.useState)(0),A=Object(o.a)(D,2),P=A[0],B=A[1],I=Object(a.useState)(1e3),R=Object(o.a)(I,2),N=R[0],M=R[1],z=Object(a.useState)(0),q=Object(o.a)(z,2),V=q[0],Q=q[1],E=Object(a.useState)("All"),U=Object(o.a)(E,2),K=U[0],Y=U[1],J=function(e){e<u.length&&e>=0&&(T(u[e].id),v([{name:"name",label:"Name",type:"text",defaultValue:u[e].name,width:"48%"},{name:"category",label:"Category",type:"select",defaultValue:u[e].category,width:"48%"},{name:"remark",label:"Other Remark",multiline:!0,type:"text",defaultValue:u[e].remark,width:"100%"},{name:"shipmentDate",label:"Shipment Date",type:"date",defaultValue:u[e].shipmentDate,width:"48%"},{name:"arrivalDate",label:"Arrival Date",type:"date",defaultValue:u[e].arrivalDate,width:"48%"}]),B(u[e].balance),M(u[e].unitPrice),Q(u[e].qty-u[e].balance)),c("edit"),O(!0)},G=function(e){e<u.length&&e>=0&&Pe.a.fire({title:"Are you sure?",text:"This action will remove current AccessoryStock permanently.",icon:"question",showCancelButton:!0,confirmButtonText:"Yes, Remove!",cancelButtonText:"No, Keep It.",allowOutsideClick:!1}).then((function(t){t.isConfirmed&&W.a.delete("/accessoryStock/".concat(u[e].id)).then((function(e){Z()})).catch((function(e){Pe.a.fire({icon:"error",title:"Error",text:e.response.data.message,allowOutsideClick:!1}),console.log(e)})).then((function(){}))}))},_=function(){var e=Object(Gt.a)(Jt.a.mark((function e(t){var n,a,r,i;return Jt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),n=new FormData(t.currentTarget),a="",!n.get("thumbnail").name){e.next=15;break}return(r=new FormData).append("file",n.get("thumbnail")),e.prev=6,e.next=9,W.a.post("/accessoryStock/upload",r,{headers:{"Content-Type":"application/x-www-form-urlencoded"}});case 9:i=e.sent,a=i.data.url,e.next=15;break;case 13:e.prev=13,e.t0=e.catch(6);case 15:W.a.put("/accessoryStock/".concat(w),{name:n.get("name"),category:n.get("category"),remark:n.get("remark"),thumbnailURL:a,unitPrice:n.get("unitPrice"),shipmentDate:n.get("shipmentDate")||null,arrivalDate:n.get("arrivalDate")||null,balance:P,qty:Number(P)+Number(V)}).then((function(e){O(!1),Z()})).catch((function(e){O(!1),Pe.a.fire({icon:"error",title:"Error",html:e.response.data.message.replace("\n","<br />"),allowOutsideClick:!1}).then((function(){O(!0)})),console.log(e)})).then((function(){}));case 16:case"end":return e.stop()}}),e,null,[[6,13]])})));return function(t){return e.apply(this,arguments)}}(),X=function(){var e=Object(Gt.a)(Jt.a.mark((function e(t){var n,a,r,i;return Jt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),n=new FormData(t.currentTarget),a="",!n.get("thumbnail").name){e.next=15;break}return(r=new FormData).append("file",n.get("thumbnail")),e.prev=6,e.next=9,W.a.post("/accessoryStock/upload",r,{headers:{"Content-Type":"application/x-www-form-urlencoded"}});case 9:i=e.sent,a=i.data.url,e.next=15;break;case 13:e.prev=13,e.t0=e.catch(6);case 15:W.a.post("/accessoryStock/create",{name:n.get("name"),category:n.get("category"),remark:n.get("remark"),thumbnailURL:a,unitPrice:n.get("unitPrice"),shipmentDate:n.get("shipmentDate")||null,arrivalDate:n.get("arrivalDate")||null,balance:P,qty:Number(P)+Number(V)}).then((function(e){O(!1),Z()})).catch((function(e){O(!1),Pe.a.fire({icon:"error",title:"Error",text:e.response.data.message,allowOutsideClick:!1}).then((function(){O(!0)})),console.log(e)})).then((function(){}));case 16:case"end":return e.stop()}}),e,null,[[6,13]])})));return function(t){return e.apply(this,arguments)}}(),Z=function(e){W.a.get("/accessoryStock",{cancelToken:e}).then((function(e){d(e.data),j(e.data)})).catch((function(e){console.log(e)})).then((function(){}))};Object(a.useEffect)((function(){var e,t=W.a.CancelToken.source();return e=t.token,W.a.get("/accessoryStock/features",{cancelToken:e}).then((function(e){console.log("Feature commented")})).catch((function(e){console.log(e)})).then((function(){})),Z(t.token),function(){return t.cancel("Stock Component got unmounted")}}),[]);return Object(F.jsxs)(ge.a,{sx:{height:"100%",overflow:"auto",padding:"10px 20px"},children:[Object(F.jsx)(we.a,{startIcon:Object(F.jsx)(Xt.a,{}),onClick:function(){v([{name:"name",label:"Name",type:"text",width:"48%"},{name:"category",label:"Category",type:"select",width:"48%"},{name:"remark",label:"Remark",type:"text",width:"100%"},{name:"shipmentDate",label:"Shipment Date",type:"date",width:"48%"},{name:"arrivalDate",label:"Arrival Date",type:"date",width:"48%"}]),B(0),M(1e3),Q(0),c("create"),O(!0)},children:"New Stock"}),Object(F.jsx)(Bt.a,{sx:{marginTop:"10px",padding:"5px 10px",display:"flex",flexWrap:"wrap",justifyContent:"space-around"},children:Object(F.jsxs)(Re.a,{size:"small",sx:{flexBasis:"200px",maxWidth:"200px"},children:[Object(F.jsx)(He.a,{id:"category_filter",children:"Category"}),Object(F.jsxs)(Le.a,{labelId:"category_filter",label:"Category",value:K,onChange:function(e){var t=e.target.value;Y(t),d("All"===t?b:b.filter((function(e){return e.category===t})))},children:[Object(F.jsx)(Ne.a,{value:"All",children:"All"}),Object(F.jsx)(Ne.a,{value:"Desk Accessories",children:"Desk Accessories"}),Object(F.jsx)(Ne.a,{value:"Chair Accessories",children:"Chair Accessories"}),Object(F.jsx)(Ne.a,{value:"Desk on Desk",children:"Desk on Desk"}),Object(F.jsx)(Ne.a,{value:"Monitor Arms",children:"Monitor Arms"}),Object(F.jsx)(Ne.a,{value:"Cabinet",children:"Cabinet"}),Object(F.jsx)(Ne.a,{value:"Drawer",children:"Drawer"})]})]})}),Object(F.jsx)(Ft,{title:"Accessory Stocks",rows:u.map((function(e,t){var n=e.thumbnailURL,a=e.shipmentDate,r=e.arrivalDate,i=Object(L.a)(e,gn);return Object(H.a)({thumbnail:Object(F.jsx)("a",{href:"/",onClick:function(e){e.preventDefault(),Pe.a.fire({html:'<img alt="" width="400px" src="'.concat(n,'" />'),showCloseButton:!0,showConfirmButton:!1,allowOutsideClick:!1})},children:Object(F.jsx)("img",{alt:"",width:"80px",src:n,style:{marginTop:"5px"}})}),edit:Object(F.jsx)(Ke.a,{onClick:function(e){e.preventDefault(),J(t)},children:Object(F.jsx)(ft.a,{})}),delete:Object(F.jsx)(Ke.a,{onClick:function(e){e.preventDefault(),G(t)},children:Object(F.jsx)(mt.a,{})}),shipmentDate:a||"No",arrivalDate:r||"No"},i)})),columns:kn,onEditClick:J,onRemoveClick:G,onBulkRemoveClick:function(e){Pe.a.fire({title:"Are you sure?",text:"This action will remove selected AccessoryStocks permanently.",icon:"question",showCancelButton:!0,confirmButtonText:"Yes, Remove!",cancelButtonText:"No, Keep Them.",allowOutsideClick:!1}).then((function(t){t.isConfirmed&&W.a.delete("/accessoryStock",{data:{ids:e}}).then((function(e){Z()})).catch((function(e){Pe.a.fire({icon:"error",title:"Error",text:e.response.data.message,allowOutsideClick:!1}),console.log(e)})).then((function(){}))}))}}),Object(F.jsxs)(ut.a,{fullWidth:!0,fullScreen:Object(en.a)(t.breakpoints.down("sm")),maxWidth:"sm",open:x,PaperProps:{component:"form",onSubmit:"create"===i?X:_},children:[Object(F.jsx)(dt.a,{children:"create"===i?"New Stock":"Edit Stock"}),Object(F.jsx)(pt.a,{children:Object(F.jsxs)(Bt.a,{sx:{mt:"5px",p:"10px",display:"flex",flexWrap:"wrap",justifyContent:"space-between"},children:[k.map((function(e,t){var n=e.type,a=e.width,r=Object(L.a)(e,yn);if("text"===n)return Object(F.jsx)(ve.a,Object(H.a)({size:"small",sx:{flexBasis:a,minWidth:a}},r),t);if("date"===n)return Object(F.jsx)(ve.a,Object(H.a)({size:"small",type:"date",InputLabelProps:{shrink:!0},sx:{flexBasis:a,minWidth:a}},r),t);if("checkbox"===n){var i=r.defaultValue,c=r.label,o=r.name;return Object(F.jsx)(Se.a,{control:Object(F.jsx)(Ce.a,{name:o,defaultChecked:i}),label:c},t)}return"select"===n?Object(F.jsxs)(Re.a,{size:"small",sx:{flexBasis:a,minWidth:a},children:[Object(F.jsx)(He.a,{id:"category_select",children:"Category"}),Object(F.jsxs)(Le.a,Object(H.a)(Object(H.a)({labelId:"category_select"},r),{},{children:[Object(F.jsx)(Ne.a,{value:"Desk Accessories",children:"Desk Accessories"}),Object(F.jsx)(Ne.a,{value:"Chair Accessories",children:"Chair Accessories"}),Object(F.jsx)(Ne.a,{value:"Desk on Desk",children:"Desk on Desk"}),Object(F.jsx)(Ne.a,{value:"Monitor Arms",children:"Monitor Arms"}),Object(F.jsx)(Ne.a,{value:"Cabinet",children:"Cabinet"}),Object(F.jsx)(Ne.a,{value:"Drawer",children:"Drawer"})]}))]},t):null})),Object(F.jsx)(ve.a,{label:"Thumbnail",name:"thumbnail",type:"file",sx:{flexBasis:["100%","48%"],minWidth:["100%","48%"]},inputProps:{accept:"image/png, image/gif, image/jpeg"},InputLabelProps:{shrink:!0}}),Object(F.jsx)(Se.a,{sx:{flexBasis:["100%","48%"],minWidth:["100%","48%"],alignItems:"baseline",m:0},control:Object(F.jsx)(ve.a,{label:"Unit Price",type:"number",name:"unitPrice",defaultValue:N,fullWidth:!0,sx:{m:"10px 5px 0 0"}}),label:"HKD"}),Object(F.jsxs)(ge.a,{display:"flex",justifyContent:"center",alignItems:"center",sx:{flexBasis:["100%","48%"],minWidth:["100%","48%"]},children:[Object(F.jsx)(Ke.a,{onClick:function(){B(P>1?P-1:0)},children:Object(F.jsx)(Zt.a,{})}),Object(F.jsx)(ve.a,{label:"Balance",value:P,type:"number",sx:{width:"80px",mx:"5px"},onChange:function(e){e.target.value>0?B(e.target.value):B(0),M(1e3)}}),Object(F.jsx)(Ke.a,{onClick:function(){B(P+1)},children:Object(F.jsx)(Xt.a,{})})]}),Object(F.jsxs)(ge.a,{display:"flex",justifyContent:"center",alignItems:"center",sx:{flexBasis:["100%","48%"],minWidth:["100%","48%"]},children:[Object(F.jsx)(Ke.a,{onClick:function(){Q(Math.max(V-1,0))},children:Object(F.jsx)(Zt.a,{})}),Object(F.jsx)(ve.a,{label:"Shipment",value:V,type:"number",sx:{width:"80px",mx:"5px"},onChange:function(e){Q(Math.max(e.target.value,0))}}),Object(F.jsx)(Ke.a,{onClick:function(){Q(V+1)},children:Object(F.jsx)(Xt.a,{})})]})]})}),Object(F.jsxs)(jt.a,{children:[Object(F.jsx)(we.a,{onClick:function(){O(!1)},children:"Cancel"}),Object(F.jsx)(we.a,{type:"submit",children:"create"===i?"Create":"Save"})]})]})]})})),Sn=vn,Cn=n(95),wn=n.n(Cn),Tn=n(773),Dn=n(750),An=n(751),Pn=n(752),Bn=n(753),In=n(48),Wn=n.n(In),Rn=n(96),Hn=n.n(Rn),Ln=n(9),Nn=n(749),Mn=Object(Ln.a)(_e.a)((function(e){e.theme;return{backgroundColor:At.a[600],padding:"10px"}})),zn=Object(Ln.a)(Xe.a)((function(e){e.theme;return{backgroundColor:At.a[300],boxShadow:"0px 2px 1px -1px rgb(0 0 0 / 20%)",margin:"10px 0",flexWrap:"wrap"}})),qn=Object(Ln.a)($e.a)((function(e){e.theme;return{color:Nn.a[900]}})),Vn=function(e){var t=e.unitPrice,n=e.amount,a=e.deliveryOption;return Object(F.jsx)(ge.a,{flexBasis:"100%",display:"flex",flexWrap:"wrap",alignItems:"center",children:[t,n,a].map((function(e,t){return Object(F.jsx)(z.a,{variant:"span",sx:{color:"white",width:2===t?150:80,whiteSpace:"noWrap",overflow:"hidden",textOverflow:"ellipsis",textAlign:"center",backgroundColor:Nn.a[400],fontSize:["10px","12px"],padding:"3px 0",margin:"3px 10px 3px 0",flexShrink:0,borderRadius:"2px"},children:e},t)}))})},Fn=["id","invoiceNum","district","street","block","floor","unit","Seller","isPreOrder","discount","discountType","surcharge","surchargeType","createdAt","timeLine","paid","ChairStocks","DeskStocks","AccessoryStocks","isSentToShipment"],Qn=[{id:"invoiceNum",label:"Invoice"},{id:"name",label:"Client"},{id:"seller",label:"Seller"},{id:"orderDate",label:"Order"},{id:"clientAddress",label:"Address"},{id:"timeLine",label:"TimeLine"},{id:"isPreOrder",label:"PreOrder"},{id:"remark",label:"Remark"},{id:"discount",label:"Discount"},{id:"surcharge",label:"SurCharge"},{id:"products",label:"Products"},{id:"paid",label:"Paid"},{id:"receiptIcon",nonSort:!0,label:"Receipt",sx:{maxWidth:75,width:45}},{id:"emailIcon",nonSort:!0,label:"Email",align:"right",sx:{maxWidth:45,width:45}},{id:"whatsappIcon",nonSort:!0,label:"Phone",align:"left",sx:{maxWidth:45,width:45,paddingLeft:0}},{id:"edit",nonSort:!0,sx:{maxWidth:45,width:45}},{nonSort:!0,id:"delete",sx:{maxWidth:45,width:45}}],En=["Address","TimeLine","PreOrder","Remark","Discount","SurCharge","Products","Paid","Receipt","Email","Phone"];var Un=Object(f.b)((function(e){return{auth:e.auth}}))((function(e){var t=Object($t.a)(),n=Object(a.useState)([]),r=Object(o.a)(n,2),i=r[0],c=r[1],s=Object(a.useState)([]),u=Object(o.a)(s,2),d=u[0],p=u[1],h=Object(a.useState)(""),b=Object(o.a)(h,2),j=b[0],f=b[1],m=Object(a.useState)(""),x=Object(o.a)(m,2),O=x[0],g=x[1],y=Object(a.useState)(""),k=Object(o.a)(y,2),v=k[0],S=k[1],C=Object(a.useState)(!1),w=Object(o.a)(C,2),T=w[0],D=w[1],A=Object(a.useState)(!1),P=Object(o.a)(A,2),B=P[0],I=P[1],R=Object(a.useState)(!1),N=Object(o.a)(R,2),M=N[0],z=N[1],q=Object(a.useRef)(null),V=Object(a.useRef)(null),Q=Object(a.useState)(null),E=Object(o.a)(Q,2),U=E[0],K=E[1],Y=Object(a.useState)(0),J=Object(o.a)(Y,2),G=J[0],_=J[1],X=Object(a.useState)(""),Z=Object(o.a)(X,2),$=Z[0],ee=Z[1],te=Object(a.useState)([]),ne=Object(o.a)(te,2),ae=ne[0],re=ne[1],ie=Object(a.useState)(""),ce=Object(o.a)(ie,2),oe=ce[0],le=ce[1],se=Object(a.useState)(""),ue=Object(o.a)(se,2),de=ue[0],pe=ue[1],he=Object(a.useRef)([]),be=Object(a.useRef)([]),je=Object(a.useRef)([]),fe=function(e){e<i.length&&e>=0&&Pe.a.fire({title:"Are you sure?",text:"This action will remove current Order permanently.",icon:"question",showCancelButton:!0,confirmButtonText:"Yes, Remove!",cancelButtonText:"No, Keep It.",allowOutsideClick:!1}).then((function(t){t.isConfirmed&&W.a.delete("/sales/".concat(i[e].id)).then((function(e){me()})).catch((function(e){Pe.a.fire({icon:"error",title:"Error",text:e.response.data.message,allowOutsideClick:!1}),console.log(e)})).then((function(){}))}))},me=function(e){W.a.get("/sales",{cancelToken:e}).then((function(e){var t=[];e.data.map((function(e){var n=e;return n.isSentToShipment=!1,0!==n.AccessoryToOrders.length&&null!=n.AccessoryToOrders[0].shipmentId&&(n.isSentToShipment=!0),0!==n.ChairToOrders.length&&null!=n.ChairToOrders[0].shipmentId&&(n.isSentToShipment=!0),0!==n.DeskToOrders.length&&null!=n.DeskToOrders[0].shipmentId&&(n.isSentToShipment=!0),t.push(n),e})),c(t),p(t)})).catch((function(e){console.log(e)})).then((function(){}))},xe=function(e){if("Enter"===e.key){var t=d.filter((function(e){return e.invoiceNum.toLowerCase().includes(oe.toLowerCase())})).filter((function(e){return e.phone.includes(de)}));c(t)}};return Object(a.useEffect)((function(){var e=W.a.CancelToken.source();return me(e.token),function(){return e.cancel("Brand Component got unmounted")}}),[]),Object(F.jsxs)(ge.a,{sx:{height:"100%",overflow:"auto",padding:"10px 20px"},children:[Object(F.jsx)(we.a,{component:l.b,to:"/admin/sales/create",startIcon:Object(F.jsx)(Xt.a,{}),children:"New Order"}),Object(F.jsxs)(Bt.a,{sx:{marginTop:"10px",padding:"5px 10px",display:"flex",flexWrap:"wrap",justifyContent:"space-around"},children:[Object(F.jsx)(ve.a,{label:"Invoice Number",variant:"outlined",onKeyPress:xe,value:oe,onChange:function(e){return le(e.target.value)}}),Object(F.jsx)(ve.a,{label:"Phone Number",variant:"outlined",onKeyPress:xe,value:de,onChange:function(e){return pe(e.target.value)}})]}),Object(F.jsx)(an,{options:En,onChange:function(e){re(e)},selected:ae}),Object(F.jsx)(Ft,{title:"Sales Order",rows:i.map((function(e,t){var n=e.id,a=e.invoiceNum,r=e.district,c=e.street,o=e.block,s=e.floor,u=e.unit,d=e.Seller,p=(e.isPreOrder,e.discount),h=e.discountType,b=e.surcharge,j=e.surchargeType,m=e.createdAt,x=e.timeLine,O=e.paid,y=e.ChairStocks,k=e.DeskStocks,v=e.AccessoryStocks,C=(e.isSentToShipment,Object(L.a)(e,Fn));return Object(H.a)({id:n,index:t,seller:(d.firstName||"").concat(" ",d.lastName||""),timeLine:x%7!==0?"".concat(x," day").concat(1===x?"":"s"):"".concat(x/7," week").concat(x/7===1?"":"s"),orderDate:function(){var e=new Date(m);return e.setMinutes(e.getMinutes()-e.getTimezoneOffset()),e.toISOString().split("T")[0]}(),discount:"".concat(p).concat(h?" HKD":"%"),surcharge:"".concat(b).concat(j?" HKD":"%"),clientAddress:[r,c,o,s,u].join(", "),isPreOrder:(!i[t].ChairStocks.length||!i[t].ChairStocks.reduce((function(e,t){return t.ChairToOrder.preOrder*e})))*(!i[t].DeskStocks.length||!i[t].DeskStocks.reduce((function(e,t){return t.DeskToOrder.preOrder*e})))?"No":"Yes",products:Object(F.jsx)(Ke.a,{sx:{my:"5px"},onClick:function(e){e.preventDefault(),he.current=[],be.current=[],je.current=[],_(t),z(!0)},children:Object(F.jsx)(Tn.a,{badgeContent:y.length+k.length+v.length,color:"error",children:Object(F.jsx)(Dn.a,{})})}),paid:Object(F.jsx)(Ce.a,{checked:O,onClick:function(e){e.stopPropagation(),e.preventDefault(),W.a.put("/sales/withoutStock/".concat(n),{paid:!O}).then((function(){me()})).catch((function(e){Pe.a.fire({icon:"error",title:"Error",text:e.response.data.message,allowOutsideClick:!1})})).then((function(){}))}}),invoiceNum:Object(F.jsx)(l.b,{to:"/invoice/".concat(n),target:"_blank",children:a}),receiptIcon:O&&Object(F.jsx)(Ke.a,{component:l.b,to:"/receipt/".concat(n),target:"_blank",children:Object(F.jsx)(An.a,{})}),emailIcon:Object(F.jsx)(Ke.a,{onClick:function(){f(C.name),g(C.email),I(!0)},children:Object(F.jsx)(Pn.a,{})}),whatsappIcon:Object(F.jsx)(Ke.a,{onClick:function(){W.a.get("whatsapp/checkauth").then((function(){f(C.name),S(C.phone),D(!0)})).catch((function(e){W.a.get("whatsapp/getqr").then((function(e){Pe.a.fire({icon:"info",title:"Please signin with this QRCode and Click the button again.",html:wn.a.renderToStaticMarkup(Object(F.jsx)(Hn.a,{value:"".concat(e.data.qrcode),level:"H"})),allowOutsideClick:!1})})).catch((function(e){Pe.a.fire({icon:"error",title:"Error",text:"Unable to use WhatsApp Messaging.",allowOutsideClick:!1})})).then((function(){}))})).then((function(){}))},children:Object(F.jsx)(Bn.a,{})}),edit:Object(F.jsx)(Ke.a,{component:l.b,to:{pathname:"/admin/sales/edit",state:{order:i[t]}},children:Object(F.jsx)(ft.a,{})}),delete:Object(F.jsx)(Ke.a,{onClick:function(e){e.preventDefault(),fe(t)},children:Object(F.jsx)(mt.a,{})})},C)})),columns:Qn.map((function(e,t){return t>3&&t<15?ae.find((function(t){return t===e.label}))?e:void 0:e})).filter((function(e){return void 0!==e})),onRemoveClick:fe,onBulkRemoveClick:function(e){Pe.a.fire({title:"Are you sure?",text:"This action will remove selected Orders permanently.",icon:"question",showCancelButton:!0,confirmButtonText:"Yes, Remove!",cancelButtonText:"No, Keep Them.",allowOutsideClick:!1}).then((function(t){t.isConfirmed&&W.a.delete("/sales",{data:{ids:e}}).then((function(e){me()})).catch((function(e){Pe.a.fire({icon:"error",title:"Error",text:e.response.data.message,allowOutsideClick:!1}),console.log(e)})).then((function(){}))}))},onFilterClick:function(e){e.preventDefault(),K(null===U?e.currentTarget:null)}}),Object(F.jsxs)(ut.a,{fullWidth:!0,fullScreen:Object(en.a)(t.breakpoints.down("sm")),maxWidth:"sm",open:T,children:[Object(F.jsx)(dt.a,{children:"Send WhatsApp Message to the Client"}),Object(F.jsx)(pt.a,{children:Object(F.jsxs)(ht.a,{spacing:2,children:[Object(F.jsx)(Wn.a,{variant:"outlined",label:"Phone Number",onlyCountries:["hk"],defaultCountry:"hk",value:v,InputProps:{readOnly:!0}}),Object(F.jsx)(ve.a,{inputRef:q,label:"Message",fullWidth:!0,defaultValue:"Hello ".concat(j,",\nThank you for your order! Please find here (payment link URL) for your payment.\nOnce finished, your order will be processed accordingly."),multiline:!0,minRows:4,maxRows:10})]})}),Object(F.jsxs)(jt.a,{children:[Object(F.jsx)(we.a,{onClick:function(e){e.preventDefault(),D(!1)},children:"Cancel"}),Object(F.jsx)(we.a,{onClick:function(e){e.preventDefault(),W.a.post("whatsapp/send",{phone:v,message:q.current.value}).then((function(){D(!1)})).catch((function(e){D(!1),Pe.a.fire({icon:"error",title:"Error",text:e.response.data.message,allowOutsideClick:!1}).then((function(){D(!0)}))})).then((function(){}))},children:"Send"})]})]}),Object(F.jsxs)(ut.a,{fullWidth:!0,fullScreen:Object(en.a)(t.breakpoints.down("sm")),maxWidth:"sm",open:B,children:[Object(F.jsx)(dt.a,{children:"Send Email to the Client"}),Object(F.jsx)(pt.a,{children:Object(F.jsxs)(ht.a,{spacing:2,children:[Object(F.jsx)(ve.a,{label:"Email",type:"email",value:O,InputProps:{readOnly:!0}}),Object(F.jsx)(ve.a,{inputRef:V,label:"Message",fullWidth:!0,defaultValue:"Hello ".concat(j,",\nThank you for your order! Please find here (payment link URL) for your payment.\nOnce finished, your order will be processed accordingly."),multiline:!0,minRows:4,maxRows:10}),Object(F.jsx)(ve.a,{label:"Link",type:"text",value:$,onChange:function(e){return ee(e.target.value)}})]})}),Object(F.jsxs)(jt.a,{children:[Object(F.jsx)(we.a,{onClick:function(e){e.preventDefault(),I(!1)},children:"Cancel"}),Object(F.jsx)(we.a,{onClick:function(e){e.preventDefault(),W.a.post("email/send",{email:O,message:V.current.value,link:$}).then((function(){I(!1)})).catch((function(e){I(!1),Pe.a.fire({icon:"error",title:"Error",text:e.response.data.message,allowOutsideClick:!1}).then((function(){I(!0)}))})).then((function(){}))},children:"Send"})]})]}),Object(F.jsxs)(ut.a,{maxWidth:"sm",fullWidth:!0,fullScreen:Object(en.a)(t.breakpoints.down("sm")),open:M,children:[Object(F.jsx)(dt.a,{children:"Products Details"}),Object(F.jsx)(pt.a,{children:Object(F.jsxs)(Mn,{children:[G<i.length&&i[G].ChairStocks.map((function(e,t){return Object(F.jsxs)(zn,{children:[Object(F.jsx)(qn,{primary:"Chair: ".concat(e.brand,", ").concat(e.model,", ").concat(e.frameColor,", ").concat(e.backColor,", ").concat(e.seatColor),secondary:"".concat(e.withHeadrest?"Headrest, ":"").concat(e.withAdArmrest?"Armrest":"")}),Object(F.jsx)(Vn,{unitPrice:"".concat(e.ChairToOrder.unitPrice," HKD"),amount:"Amount: ".concat(e.ChairToOrder.qty),deliveryOption:"".concat(e.ChairToOrder.deliveryOption)}),Object(F.jsx)(we.a,{variant:"contained",sx:{mt:"5px"},component:l.b,target:"_blank",to:"/deliveryPDF/chair/".concat(e.ChairToOrder.id),children:"Delivery Note"}),i[G].paid&&Object(F.jsxs)(Bt.a,{ref:function(e){return he.current.push(e)},component:"form",sx:{flexBasis:"100%",display:"flex",flexWrap:"wrap",alignItems:"center",justifyContent:"space-between",marginTop:"10px",padding:"10px"},children:[Object(F.jsx)("input",{name:"id",type:"hidden",value:e.ChairToOrder.id}),Object(F.jsx)(ve.a,{name:"proDeliveryDate",type:"date",label:"Proposed Delivery Date",defaultValue:e.ChairToOrder.proDeliveryDate,InputLabelProps:{shrink:!0},sx:{flexBasis:"100%",my:"5px"}}),Object(F.jsx)(ve.a,{name:"estDeliveryDate",type:"date",label:"Est. Delivery Date",defaultValue:e.ChairToOrder.estDeliveryDate,InputLabelProps:{shrink:!0},sx:{flexBasis:"100%",my:"5px"}}),Object(F.jsx)(ve.a,{name:"from",type:"time",label:"From",defaultValue:e.ChairToOrder.from,InputLabelProps:{shrink:!0},sx:{flexBasis:"48%",my:"5px"}}),Object(F.jsx)(ve.a,{name:"to",type:"time",label:"To",defaultValue:e.ChairToOrder.to,InputLabelProps:{shrink:!0},sx:{flexBasis:"48%",my:"5px"}}),Object(F.jsx)(Se.a,{control:Object(F.jsx)(Ce.a,{name:"delivered",defaultChecked:e.ChairToOrder.delivered}),label:"Delivered"},t)]})]},t)})),G<i.length&&i[G].DeskToOrders.map((function(e,t){return Object(F.jsxs)(zn,{children:[Object(F.jsx)(qn,{primary:"Desk:\n                      ".concat(i[G].DeskStocks.find((function(t){return t.id===e.stockId})).supplierCode,",\n                      ").concat(i[G].DeskStocks.find((function(t){return t.id===e.stockId})).model,",\n                      ").concat(i[G].DeskStocks.find((function(t){return t.id===e.stockId})).color,",\n                      ").concat(i[G].DeskStocks.find((function(t){return t.id===e.stockId})).armSize,",\n                      ").concat(i[G].DeskStocks.find((function(t){return t.id===e.stockId})).feetSize,",\n                      ").concat(i[G].DeskStocks.find((function(t){return t.id===e.stockId})).beamSize),secondary:e.hasDeskTop?Object(F.jsxs)("span",{children:["".concat(e.topMaterial,",\n                            ").concat(e.topColor,",\n                            ").concat(e.topLength,"x").concat(e.topWidth,"x").concat(e.topThickness,",\n                            ").concat(e.topRoundedCorners,"-R").concat(e.topCornerRadius,",\n                            ").concat(e.topHoleCount,"-").concat(e.topHoleType," "),Object(F.jsx)("a",{href:e.topSketchURL,target:"_blank",rel:"noreferrer",children:"Sketch"})]}):"Without DeskTop"}),Object(F.jsx)(Vn,{unitPrice:"".concat(e.unitPrice," HKD"),amount:"Amount: ".concat(e.qty),deliveryOption:"".concat(e.deliveryOption)}),Object(F.jsx)(we.a,{variant:"contained",sx:{mt:"5px"},component:l.b,target:"_blank",to:"/deliveryPDF/desk/".concat(e.id),children:"Delivery Note"}),i[G].paid&&Object(F.jsxs)(Bt.a,{ref:function(e){return be.current.push(e)},component:"form",sx:{flexBasis:"100%",display:"flex",flexWrap:"wrap",alignItems:"center",justifyContent:"space-between",marginTop:"10px",padding:"10px"},children:[Object(F.jsx)("input",{name:"id",type:"hidden",value:e.id}),Object(F.jsx)(ve.a,{name:"proDeliveryDate",type:"date",label:"Proposed Delivery Date",defaultValue:e.proDeliveryDate,InputLabelProps:{shrink:!0},sx:{flexBasis:"100%",my:"5px"}}),Object(F.jsx)(ve.a,{name:"estDeliveryDate",type:"date",label:"Est. Delivery Date",defaultValue:e.estDeliveryDate,InputLabelProps:{shrink:!0},sx:{flexBasis:"100%",my:"5px"}}),Object(F.jsx)(ve.a,{name:"from",type:"time",label:"From",defaultValue:e.from,InputLabelProps:{shrink:!0},sx:{flexBasis:"48%",my:"5px"}}),Object(F.jsx)(ve.a,{name:"to",type:"time",label:"To",defaultValue:e.to,InputLabelProps:{shrink:!0},sx:{flexBasis:"48%",my:"5px"}}),Object(F.jsx)(Se.a,{control:Object(F.jsx)(Ce.a,{name:"delivered",defaultChecked:e.delivered}),label:"Delivered"},t)]})]},t)})),G<i.length&&i[G].AccessoryStocks.map((function(e,t){return Object(F.jsxs)(zn,{children:[Object(F.jsx)(qn,{primary:"Accessory: ".concat(e.name),secondary:"".concat(e.remark)}),Object(F.jsx)(Vn,{unitPrice:"".concat(e.AccessoryToOrder.unitPrice," HKD"),amount:"Amount: ".concat(e.AccessoryToOrder.qty),deliveryOption:"".concat(e.AccessoryToOrder.deliveryOption)}),Object(F.jsx)(we.a,{variant:"contained",sx:{mt:"5px"},component:l.b,target:"_blank",to:"/deliveryPDF/accessory/".concat(e.AccessoryToOrder.id),children:"Delivery Note"}),i[G].paid&&Object(F.jsxs)(Bt.a,{ref:function(e){return je.current.push(e)},component:"form",sx:{flexBasis:"100%",display:"flex",flexWrap:"wrap",alignItems:"center",justifyContent:"space-between",marginTop:"10px",padding:"10px"},children:[Object(F.jsx)("input",{name:"id",type:"hidden",value:e.AccessoryToOrder.id}),Object(F.jsx)(ve.a,{name:"proDeliveryDate",type:"date",label:"Proposed Delivery Date",defaultValue:e.AccessoryToOrder.proDeliveryDate,InputLabelProps:{shrink:!0},sx:{flexBasis:"100%",my:"5px"}}),Object(F.jsx)(ve.a,{name:"estDeliveryDate",type:"date",label:"Est Delivery Date",defaultValue:e.AccessoryToOrder.estDeliveryDate,InputLabelProps:{shrink:!0},sx:{flexBasis:"100%",my:"5px"}}),Object(F.jsx)(ve.a,{name:"from",type:"time",label:"From",defaultValue:e.AccessoryToOrder.from,InputLabelProps:{shrink:!0},sx:{flexBasis:"48%",my:"5px"}}),Object(F.jsx)(ve.a,{name:"to",type:"time",label:"To",defaultValue:e.AccessoryToOrder.to,InputLabelProps:{shrink:!0},sx:{flexBasis:"48%",my:"5px"}}),Object(F.jsx)(Se.a,{control:Object(F.jsx)(Ce.a,{name:"delivered",defaultChecked:e.AccessoryToOrder.delivered}),label:"Delivered"},t)]})]},t)}))]})}),Object(F.jsxs)(jt.a,{children:[Object(F.jsx)(we.a,{onClick:function(e){e.preventDefault(),z(!1)},children:"Cancel"}),Object(F.jsx)(we.a,{onClick:function(e){e.preventDefault();var t=he.current.map((function(e){return{id:e.id.value,proDeliveryDate:e.proDeliveryDate.value||null,estDeliveryDate:e.estDeliveryDate.value||null,from:e.from.value||null,to:e.to.value||null,delivered:e.delivered.checked}})),n=be.current.map((function(e){return{id:e.id.value,proDeliveryDate:e.proDeliveryDate.value||null,estDeliveryDate:e.estDeliveryDate.value||null,from:e.from.value||null,to:e.to.value||null,delivered:e.delivered.checked}})),a=je.current.map((function(e){return{id:e.id.value,proDeliveryDate:e.proDeliveryDate.value||null,estDeliveryDate:e.estDeliveryDate.value||null,from:e.from.value||null,to:e.to.value||null,delivered:e.delivered.checked}}));W.a.post("/sales/products",{chairToOrders:t,deskToOrders:n,accessoryToOrders:a}).then((function(){me()})).catch((function(e){console.log(e)})).then((function(){z(!1)}))},children:"OK"})]})]})]})})),Kn=n(774),Yn=n(807),Jn=n(766),Gn=n(783),_n=n(767),Xn=n(765),Zn=n(808),$n=n(809),ea=n(326),ta=n(754),na=n(771),aa=["children","value","index"],ra=["setValue","width"],ia=["label"],ca=["thumbnailURL","withHeadrest","withAdArmrest","shipmentDate","arrivalDate"],oa=["label"],la=["thumbnailURL","shipmentDate","arrivalDate"],sa=["thumbnailURL","shipmentDate","arrivalDate"],ua=["productDetail"],da=["productDetail"],pa=["type","width"],ha=["name","label"],ba=["suffix"],ja=["name","label","options"],fa=function(e){var t=e.children,n=e.value,a=e.index,r=Object(L.a)(e,aa);return Object(F.jsx)("div",Object(H.a)(Object(H.a)({role:"tabpanel",hidden:n!==a,id:"simple-tabpanel-".concat(a),"aria-labelledby":"simple-tab-".concat(a)},r),{},{children:n===a&&Object(F.jsx)(ge.a,{sx:{p:"0 10px 10px 10px"},children:t})}))};var ma=[{id:"add"},{id:"thumbnail",sx:{width:100},nonSort:!0},{id:"brand",label:"Brand"},{id:"model",label:"Model"},{id:"unitPrice",label:"Price"},{id:"balance",label:"Balance"},{id:"qty",label:"QTY"},{id:"frameColor",label:"Frame Color"},{id:"backColor",label:"Back Color"},{id:"seatColor",label:"Seat Color"},{id:"backMaterial",label:"Back Material"},{id:"seatMaterial",label:"Seat Material"},{id:"withHeadrest",label:"Headrest"},{id:"withAdArmrest",label:"Adjustable Armrests"},{id:"remark",label:"Other Remark"},{id:"shipmentDate",label:"Shipment"},{id:"arrivalDate",label:"Arrival"}],xa=["Frame Color","Back Color","Seat Color","Back Material","Seat Material","Headrest","Adjustable Armrests","Other Remark","Shipment","Arrival"],Oa=[{id:"add"},{id:"thumbnail",sx:{width:100},nonSort:!0},{id:"supplierCode",label:"Supplier"},{id:"model",label:"Model"},{id:"unitPrice",label:"Price"},{id:"balance",label:"Balance"},{id:"qty",label:"QTY"},{id:"color",label:"Color"},{id:"armSize",label:"Arm Size"},{id:"feetSize",label:"Feet Size"},{id:"beamSize",label:"Beam Size"},{id:"remark",label:"Other Remark"},{id:"shipmentDate",label:"Shipment"},{id:"arrivalDate",label:"Arrival"}],ga=["Color","Arm Size","Feet Size","Beam Size","Other Remark","Shipment","Arrival"],ya=[{id:"add"},{id:"thumbnail",sx:{width:100},nonSort:!0},{id:"name",label:"Name"},{id:"category",label:"Category"},{id:"unitPrice",label:"Price"},{id:"balance",label:"Balance"},{id:"qty",label:"QTY"},{id:"remark",label:"Other Remark"},{id:"shipmentDate",label:"Shipment"},{id:"arrivalDate",label:"Arrival"}],ka=["Melamine","Laminate","North American Walnut","South American Walnut","Red Oak","Maple","Bamboo","Melamine with glass top","Toppal Plyedge"],va=Object(f.b)((function(e){return{auth:e.auth}}))((function(e){var t=Object($t.a)(),n=e.componentType,r=e.initialClient,i=e.initialCart,c=e.initialServices,l=Object(a.useState)(0),s=Object(o.a)(l,2),u=s[0],d=s[1],p=Object(a.useState)("Left"),h=Object(o.a)(p,2),b=h[0],j=h[1],f=Object(a.useState)("Rounded"),m=Object(o.a)(f,2),x=m[0],O=m[1],g=Object(a.useState)("Melamine"),y=Object(o.a)(g,2),k=y[0],v=y[1],S=Object(a.useState)(""),C=Object(o.a)(S,2),w=C[0],T=C[1],D=Object(a.useState)(700),A=Object(o.a)(D,2),P=A[0],B=A[1],I=Object(a.useState)(400),N=Object(o.a)(I,2),M=N[0],q=N[1],V=Object(a.useState)(25),Q=Object(o.a)(V,2),E=Q[0],U=Q[1],K=Object(a.useState)(0),Y=Object(o.a)(K,2),J=Y[0],G=Y[1],_=Object(a.useState)(50),X=Object(o.a)(_,2),Z=X[0],$=X[1],ee=Object(a.useState)(""),te=Object(o.a)(ee,2),ne=te[0],ae=te[1],re=Object(a.useState)(""),ie=Object(o.a)(re,2),ce=(ie[0],ie[1],Object(a.useRef)(null)),oe=Object(a.useState)(0),le=Object(o.a)(oe,2),se=le[0],ue=le[1],de=Object(a.useState)(!1),pe=Object(o.a)(de,2),he=pe[0],be=pe[1],je=Object(a.useState)(!1),fe=Object(o.a)(je,2),me=fe[0],xe=fe[1],Oe=Object(a.useState)(!1),ye=Object(o.a)(Oe,2),Te=ye[0],De=ye[1],Ae=Object(a.useState)("chair"),Be=Object(o.a)(Ae,2),Ie=Be[0],We=Be[1],Me=Object(a.useState)(""),ze=Object(o.a)(Me,2),qe=ze[0],Ve=ze[1],Fe=Object(a.useState)(""),Qe=Object(o.a)(Fe,2),Ee=Qe[0],Ue=Qe[1],Ye=Object(a.useState)(1e3),Je=Object(o.a)(Ye,2),Ge=Je[0],_e=Je[1],Xe=Object(a.useState)(0),Ze=Object(o.a)(Xe,2),$e=Ze[0],et=Ze[1],nt=Object(a.useState)(""),at=Object(o.a)(nt,2),rt=at[0],it=at[1],ct=Object(a.useState)(!1),ot=Object(o.a)(ct,2),lt=ot[0],st=ot[1],ht=Object(a.useState)(!1),bt=Object(o.a)(ht,2),xt=bt[0],Ot=bt[1],gt=Object(a.useState)(!1),yt=Object(o.a)(gt,2),kt=yt[0],vt=yt[1],St=Object(a.useState)(!1),Ct=Object(o.a)(St,2),wt=Ct[0],Tt=Ct[1],Dt=Object(a.useState)(i),At=Object(o.a)(Dt,2),Pt=At[0],It=At[1],Wt=Object(a.useState)("add"),Rt=Object(o.a)(Wt,2),Ht=Rt[0],Lt=Rt[1],Nt=Object(a.useState)(r.paid),Mt=Object(o.a)(Nt,2),zt=Mt[0],qt=Mt[1],Vt=Object(a.useState)([]),Qt=Object(o.a)(Vt,2),Et=Qt[0],Ut=Qt[1],Kt=Object(a.useState)([]),Yt=Object(o.a)(Kt,2),tn=Yt[0],nn=Yt[1],rn=Object(a.useState)([]),cn=Object(o.a)(rn,2),on=cn[0],ln=cn[1],sn=Object(a.useState)([]),un=Object(o.a)(sn,2),dn=un[0],pn=un[1],hn=Object(a.useState)(0),bn=Object(o.a)(hn,2),jn=bn[0],fn=bn[1],mn=Object(a.useState)([]),xn=Object(o.a)(mn,2),On=xn[0],gn=xn[1],yn=Object(a.useState)([]),kn=Object(o.a)(yn,2),vn=kn[0],Sn=kn[1],Cn=Object(a.useState)(null),wn=Object(o.a)(Cn,2),Tn=wn[0],Dn=wn[1],An=Object(a.useState)(null),Pn=Object(o.a)(An,2),Bn=Pn[0],In=Pn[1],Rn=Object(a.useState)(null),Hn=Object(o.a)(Rn,2),Ln=Hn[0],Nn=Hn[1],Fn=Object(a.useState)(null),Qn=Object(o.a)(Fn,2),En=Qn[0],Un=Qn[1],aa=Object(a.useState)(null),va=Object(o.a)(aa,2),Sa=va[0],Ca=va[1],wa=Object(a.useState)("All"),Ta=Object(o.a)(wa,2),Da=Ta[0],Aa=Ta[1],Pa=c?c.map((function(e){return Object.assign(e,{productType:"misc"})})):[],Ba=Object(a.useState)(Pa),Ia=Object(o.a)(Ba,2),Wa=Ia[0],Ra=Ia[1],Ha=Object(a.useState)([]),La=Object(o.a)(Ha,2),Na=La[0],Ma=La[1],za=Object(a.useState)([]),qa=Object(o.a)(za,2),Va=qa[0],Fa=qa[1];Object(a.useEffect)((function(){var e,t=W.a.CancelToken.source();return e=t.token,W.a.get("/chairStock/features",{cancelToken:e}).then((function(e){gn(e.data)})).catch((function(e){console.log(e)})).then((function(){})),function(e){W.a.get("/deskStock/features",{cancelToken:e}).then((function(e){Sn(e.data)})).catch((function(e){console.log(e)})).then((function(){}))}(t.token),function(e){W.a.get("/accessoryStock/features",{cancelToken:e}).then((function(e){})).catch((function(e){console.log(e)})).then((function(){}))}(t.token),function(e){W.a.get("/chairStock",{cancelToken:e}).then((function(e){Ut(e.data)})).catch((function(e){console.log(e)})).then((function(){}))}(t.token),function(e){W.a.get("/deskStock",{cancelToken:e}).then((function(e){nn(e.data)})).catch((function(e){console.log(e)})).then((function(){}))}(t.token),function(e){W.a.get("/accessoryStock",{cancelToken:e}).then((function(e){ln(e.data),pn(e.data)})).catch((function(e){console.log(e)})).then((function(){}))}(t.token),function(){return t.cancel("Stock Component got unmounted")}}),[]);return Object(F.jsxs)(ge.a,{sx:{height:"100%",overflow:"auto",padding:"20px 20px 10px 20px"},children:[Object(F.jsx)(Kn.a,{activeStep:se,sx:{flexWrap:"wrap"},children:["Input Client Info","Select Products","Input Payment Details"].map((function(e,t){var n,a={};return n=t,(null!==ce.current&&se>0&&0===n?!ce.current.checkValidity():0===Pt.length&&0===Wa.length&&se>1&&1===n)&&(a.optional=Object(F.jsx)(z.a,{variant:"caption",color:"error",children:["Invalid Input","Products cannot be empty"][t]}),a.error=!0),Object(F.jsx)(Yn.a,{sx:{my:"10px"},children:Object(F.jsx)(Jn.a,Object(H.a)(Object(H.a)({},a),{},{children:e}))},e)}))}),Object(F.jsxs)(ge.a,{sx:{mx:"auto",mt:"50px"},ref:ce,hidden:0!==se,component:"form",maxWidth:"sm",fullWidth:!0,onSubmit:function(e){e.preventDefault(),ue(1)},children:[Object(F.jsxs)(Bt.a,{sx:{p:"10px",display:"flex",flexWrap:"wrap",justifyContent:"space-between"},children:[Object(F.jsx)(z.a,{variant:"h6",sx:{flexBasis:"100%",minWidth:"100%"},children:"Client Info"}),[{name:"name",label:"Name",type:"text",width:"100%",defaultValue:r.name,required:!0},{name:"phone",label:"Phone",type:"text",value:r.phone,onChange:r.setPhone,width:"48%"},{name:"email",label:"Email",type:"email",defaultValue:r.email,width:"48%"},{name:"district",label:"District",type:"text",defaultValue:r.district,width:"55%"},{name:"street",label:"Street",type:"text",defaultValue:r.street,width:"40%"},{name:"block",label:"Block",type:"text",defaultValue:r.block,width:"30%"},{name:"floor",label:"Floor",type:"text",defaultValue:r.floor,width:"30%"},{name:"unit",label:"Unit",type:"text",defaultValue:r.unit,width:"30%"}].map((function(e,t){e.setValue;var n=e.width,a=Object(L.a)(e,ra);return"Phone"===a.label?Object(F.jsx)(Wn.a,Object(H.a)({variant:"outlined",onlyCountries:["hk"],defaultCountry:"hk",sx:{flexBasis:n,minWidth:n},margin:"dense",size:"small"},a),t):Object(F.jsx)(ve.a,Object(H.a)({sx:{flexBasis:n,minWidth:n}},a),t)})),Object(F.jsx)(ve.a,{sx:{flexBasis:["100%","30%"],minWidth:["100%","30%"]},name:"timeLine",label:"TimeLine",type:"number",inputProps:{min:0},defaultValue:r.timeLine||0}),Object(F.jsxs)(Gn.a,{row:!0,name:"timeLineFormat",defaultValue:"day",sx:{flexBasis:["100%","70%"],minWidth:["100%","70%"],justifyContent:"flex-end"},children:[Object(F.jsx)(Se.a,{value:"day",control:Object(F.jsx)(_n.a,{}),label:"Days"}),Object(F.jsx)(Se.a,{value:"week",control:Object(F.jsx)(_n.a,{}),label:"Weeks"})]}),Object(F.jsx)(ve.a,{sx:{flexBasis:["100%","100%"],minWidth:["100%","100%"]},name:"remark",label:"Delivery Remark",type:"text",defaultValue:r.remark||""})]}),Object(F.jsx)(we.a,{type:"submit",sx:{marginTop:"10px",float:"right"},children:"Next"})]}),1===se&&Object(F.jsxs)(F.Fragment,{children:[Pt.length>0&&Object(F.jsx)(Bt.a,{children:Object(F.jsx)(Mn,{sx:{px:"10px"},children:Pt.map((function(e,t){return Object(F.jsxs)(zn,{secondaryAction:Object(F.jsxs)(a.Fragment,{children:[Object(F.jsx)(Ke.a,{onClick:function(t){t.preventDefault(),function(e){Lt("edit"),We(e.productType),Ve(e.id),Ue(e.productDetail),it(e.remark),_e(e.productPrice),et(e.productAmount);var t=JSON.parse(e.productDeliveryOption);t.includes("Delivery Included")&&st(!0),t.includes("Delivery and installation included")&&Ot(!0),t.includes("Remote Area Surcharge")&&vt(!0),t.includes("Stairs Surcharge")&&Tt(!0),"chair"===e.productType||"accessory"===e.productType?be(!0):"desk"===e.productType&&(De(e.hasDeskTop),T(e.topColor),$(e.topCornerRadius),d(e.topHoleCount),j(e.topHolePosition),O(e.topHoleType),B(e.topLength),v(e.topMaterial),G(e.topRoundedCorners),U(e.topThickness),q(e.topWidth),ae(e.topSketchURL),xe(!0))}(e)},children:Object(F.jsx)(ft.a,{})}),Object(F.jsx)(Ke.a,{onClick:function(e){e.preventDefault(),It(Pt.filter((function(e,n){return n!==t})))},children:Object(F.jsx)(mt.a,{})})]}),children:["chair"===e.productType&&Object(F.jsx)(qn,{primary:"Chair: ".concat(e.productDetail.brand,", ").concat(e.productDetail.model,", ").concat(e.remark),secondary:"".concat(e.productDetail.withHeadrest?"Headrest, ":"").concat(e.productDetail.withAdArmrest?"Armrest":"")}),"desk"===e.productType&&Object(F.jsx)(qn,{primary:"Desk: ".concat(e.productDetail.supplierCode,", ").concat(e.productDetail.model,", ").concat(e.productDetail.color,", ").concat(e.productDetail.armSize,", ").concat(e.productDetail.feetSize,", ").concat(e.productDetail.beamSize),secondary:e.hasDeskTop?"".concat(e.topMaterial,", ").concat(e.topColor,", ").concat(e.topLength,"x").concat(e.topWidth,"x").concat(e.topThickness,", ").concat(e.topRoundedCorners,"-R").concat(e.topCornerRadius,", ").concat(e.topHoleCount,"-").concat(e.topHoleType):"Without DeskTop"}),"accessory"===e.productType&&Object(F.jsx)(qn,{primary:"Accessory: ".concat(e.productDetail.category),secondary:"".concat(e.remark)}),Object(F.jsx)(Vn,{unitPrice:"".concat(e.productPrice," HKD"),amount:"Amount: ".concat(e.productAmount),deliveryOption:"".concat(e.productDeliveryOption)})]},t)}))})}),Object(F.jsxs)(Bt.a,{sx:{my:"10px"},children:[Object(F.jsx)(ge.a,{sx:{borderBottom:1,borderColor:"divider"},children:Object(F.jsxs)(Xn.a,{value:jn,onChange:function(e,t){e.preventDefault(),fn(t)},"aria-label":"basic tabs example",children:[Object(F.jsx)(Zn.a,{label:"Chairs"}),Object(F.jsx)(Zn.a,{label:"Desks"}),Object(F.jsx)(Zn.a,{label:"Accessories"}),Object(F.jsx)(Zn.a,{label:"Miscs"})]})}),Object(F.jsxs)(fa,{value:jn,index:0,children:[Object(F.jsx)(Bt.a,{sx:{marginTop:"10px",padding:"5px 10px",display:"flex",flexWrap:"wrap",justifyContent:"space-around"},children:[{label:"Brand",value:Tn,onChange:function(e,t){e.preventDefault(),Dn(t),In(null)},options:On.map((function(e){return e.brand})).filter((function(e,t,n){return n.indexOf(e)===t}))},{label:"Model",value:Bn,onChange:function(e,t){e.preventDefault(),In(t)},options:On.filter((function(e){return!Tn||e.brand===Tn})).map((function(e){return e.model})).filter((function(e,t,n){return n.indexOf(e)===t}))}].map((function(e,t){var n=e.label,a=Object(L.a)(e,ia);return Object(F.jsx)(_t.a,Object(H.a)({sx:{flexBasis:"200px",maxWidth:"200px"},renderInput:function(e){return Object(F.jsx)(ve.a,Object(H.a)(Object(H.a)({},e),{},{label:n}))}},a),t)}))}),Object(F.jsx)(an,{options:xa,onChange:function(e){Ma(e)},selected:Na}),Object(F.jsx)(Ft,{nonSelect:!0,title:"Chair Stocks",rows:Et.map((function(e,t){var n=e.thumbnailURL,a=e.withHeadrest,r=e.withAdArmrest,i=e.shipmentDate,c=e.arrivalDate,o=Object(L.a)(e,ca);return Object(H.a)({thumbnail:Object(F.jsx)("a",{href:"/",onClick:function(e){e.preventDefault(),Pe.a.fire({html:'<img alt="" width="400px" src="'.concat(n,'" />'),showCloseButton:!0,showConfirmButton:!1,allowOutsideClick:!1})},children:Object(F.jsx)("img",{alt:"",width:"80px",src:n,style:{marginTop:"5px"}})}),withHeadrest:a?"Yes":"No",withAdArmrest:r?"Yes":"No",add:Object(F.jsx)(Ke.a,{onClick:function(e){e.preventDefault(),Pt.find((function(e){return"chair"===e.productType&&e.productDetail.id===Et[t].id}))?Pe.a.fire({icon:"warning",title:"Warning",text:"This product is already added.",allowOutsideClick:!1}):(We("chair"),Ve(""),Ue(Et[t]),_e(Et[t].unitPrice),et(1),be(!0))},children:Object(F.jsx)(Xt.a,{})}),shipmentDate:function(){if(null===i)return"No";var e=new Date(i);return e.setMinutes(e.getMinutes()-e.getTimezoneOffset()),e.toISOString().split("T")[0]}(),arrivalDate:function(){if(null===c)return"No";var e=new Date(c);return e.setMinutes(e.getMinutes()-e.getTimezoneOffset()),e.toISOString().split("T")[0]}()},o)})).filter((function(e){return(!Tn||e.brand===Tn)&&(!Bn||e.model===Bn)})),columns:ma.map((function(e,t){return t>6&&Na.find((function(t){return t===e.label})),e})).filter((function(e){return void 0!==e}))})]}),Object(F.jsxs)(fa,{value:jn,index:1,children:[Object(F.jsx)(Bt.a,{sx:{marginTop:"10px",padding:"5px 10px",display:"flex",flexWrap:"wrap",justifyContent:"space-around"},children:[{label:"Supplier",value:Ln,onChange:function(e,t){e.preventDefault(),Nn(t),Un(null),Ca(null)},options:vn.map((function(e){return e.supplierCode})).filter((function(e,t,n){return n.indexOf(e)===t}))},{label:"Model",value:En,onChange:function(e,t){e.preventDefault(),Un(t),Ca(null)},options:vn.filter((function(e){return!Ln||e.supplierCode===Ln})).map((function(e){return e.model})).filter((function(e,t,n){return n.indexOf(e)===t}))},{label:"Color",value:Sa,onChange:function(e,t){e.preventDefault(),Ca(t)},options:vn.filter((function(e){return!En||e.model===En})).map((function(e){return e.color})).filter((function(e,t,n){return n.indexOf(e)===t}))}].map((function(e,t){var n=e.label,a=Object(L.a)(e,oa);return Object(F.jsx)(_t.a,Object(H.a)({sx:{flexBasis:"200px",maxWidth:"200px"},renderInput:function(e){return Object(F.jsx)(ve.a,Object(H.a)(Object(H.a)({},e),{},{label:n}))}},a),t)}))}),Object(F.jsx)(an,{options:ga,onChange:function(e){Fa(e)},selected:Va}),Object(F.jsx)(Ft,{nonSelect:!0,title:"Desk Leg Stocks",rows:tn.map((function(e,t){var n=e.thumbnailURL,a=e.shipmentDate,r=e.arrivalDate,i=Object(L.a)(e,la);return Object(H.a)({thumbnail:Object(F.jsx)("a",{href:"/",onClick:function(e){e.preventDefault(),Pe.a.fire({html:'<img alt="" width="400px" src="'.concat(n,'" />'),showCloseButton:!0,showConfirmButton:!1,allowOutsideClick:!1})},children:Object(F.jsx)("img",{alt:"",width:"80px",src:n,style:{marginTop:"5px"}})}),add:Object(F.jsx)(Ke.a,{onClick:function(e){We("desk"),Ve(""),Ue(tn[t]),_e(tn[t].unitPrice),et(1),De(!1),xe(!0)},children:Object(F.jsx)(Xt.a,{})}),shipmentDate:function(){if(null===a)return"No";var e=new Date(a);return e.setMinutes(e.getMinutes()-e.getTimezoneOffset()),e.toISOString().split("T")[0]}(),arrivalDate:function(){if(null===r)return"No";var e=new Date(r);return e.setMinutes(e.getMinutes()-e.getTimezoneOffset()),e.toISOString().split("T")[0]}()},i)})).filter((function(e){return(!Ln||e.supplierCode===Ln)&&(!En||e.model===En)&&(!Sa||e.color===Sa)})),columns:Oa.map((function(e,t){return t>6&&Va.find((function(t){return t===e.label})),e})).filter((function(e){return void 0!==e}))})]}),Object(F.jsxs)(fa,{value:jn,index:2,children:[Object(F.jsx)(Bt.a,{sx:{marginTop:"10px",padding:"5px 10px",display:"flex",flexWrap:"wrap",justifyContent:"space-around"},children:Object(F.jsxs)(Re.a,{size:"small",sx:{flexBasis:"200px",maxWidth:"200px"},children:[Object(F.jsx)(He.a,{id:"category_filter",children:"Category"}),Object(F.jsxs)(Le.a,{labelId:"category_filter",label:"Category",value:Da,onChange:function(e){var t=e.target.value;Aa(t),ln("All"===t?dn:dn.filter((function(e){return e.category===t})))},children:[Object(F.jsx)(Ne.a,{value:"All",children:"All"}),Object(F.jsx)(Ne.a,{value:"Desk Accessories",children:"Desk Accessories"}),Object(F.jsx)(Ne.a,{value:"Chair Accessories",children:"Chair Accessories"}),Object(F.jsx)(Ne.a,{value:"Desk on Desk",children:"Desk on Desk"}),Object(F.jsx)(Ne.a,{value:"Monitor Arms",children:"Monitor Arms"}),Object(F.jsx)(Ne.a,{value:"Cabinet",children:"Cabinet"}),Object(F.jsx)(Ne.a,{value:"Drawer",children:"Drawer"})]})]})}),Object(F.jsx)(Ft,{nonSelect:!0,title:"Accessory Stocks",rows:on.map((function(e,t){var n=e.thumbnailURL,a=e.shipmentDate,r=e.arrivalDate,i=Object(L.a)(e,sa);return Object(H.a)({thumbnail:Object(F.jsx)("a",{href:"/",onClick:function(e){e.preventDefault(),Pe.a.fire({html:'<img alt="" width="400px" src="'.concat(n,'" />'),showCloseButton:!0,showConfirmButton:!1,allowOutsideClick:!1})},children:Object(F.jsx)("img",{alt:"",width:"80px",src:n,style:{marginTop:"5px"}})}),add:Object(F.jsx)(Ke.a,{onClick:function(e){e.preventDefault(),We("accessory"),Ve(""),Ue(on[t]),it(on[t].remark),_e(on[t].unitPrice),et(1),Pt.find((function(e){return"accessory"===e.productType&&e.productDetail.id===on[t].id}))?Pe.a.fire({icon:"warning",title:"Warning",text:"This product is already added.",allowOutsideClick:!1}):be(!0)},children:Object(F.jsx)(Xt.a,{})}),shipmentDate:function(){if(null===a)return"No";var e=new Date(a);return e.setMinutes(e.getMinutes()-e.getTimezoneOffset()),e.toISOString().split("T")[0]}(),arrivalDate:function(){if(null===r)return"No";var e=new Date(r);return e.setMinutes(e.getMinutes()-e.getTimezoneOffset()),e.toISOString().split("T")[0]}()},i)})),columns:ya})]}),Object(F.jsx)(fa,{value:jn,index:3,children:Object(F.jsxs)(ge.a,{sx:{m:3},children:[Object(F.jsx)(we.a,{variant:"contained",sx:{mb:2},onClick:function(){var e={id:Object(na.a)(),description:"",price:0,productType:"misc"};Ra([].concat(Object(R.a)(Wa),[e]))},children:"+ New Service"}),Object(F.jsx)(ke.a,{container:!0,spacing:2,children:Wa.map((function(e){return Object(F.jsx)(ke.a,{item:!0,xs:4,children:Object(F.jsxs)($n.a,{sx:{px:2,pb:2},children:[Object(F.jsx)(ge.a,{sx:{display:"flex",justifyContent:"flex-end"},children:Object(F.jsx)(Ke.a,{"aria-label":"settings",size:"small",onClick:function(){return function(e){var t=Wa.filter((function(t){return t.id!==e}));Ra(t)}(e.id)},children:Object(F.jsx)(ta.a,{fontSize:"small"})})}),Object(F.jsx)(ve.a,{label:"Description",multiline:!0,rows:5,sx:{flexBasis:"100%",minWidth:"100%"},value:e.description,onChange:function(t){return function(e,t){var n=Wa.map((function(n){return n.id===t?Object.assign({},n,{description:e.target.value}):n}));Ra(n)}(t,e.id)}}),Object(F.jsx)(ve.a,{type:"number",sx:{flexBasis:"100%",minWidth:"100%"},label:"Price",value:e.price,onChange:function(t){return function(e,t){var n=Wa.map((function(n){return n.id===t?Object.assign({},n,{price:parseFloat(e.target.value)}):n}));Ra(n)}(t,e.id)}})]})},e.id)}))})]})})]}),Object(F.jsx)(we.a,{onClick:function(e){e.preventDefault(),ue(0)},children:"Previous"}),Object(F.jsx)(we.a,{sx:{float:"right"},onClick:function(e){e.preventDefault(),0!==Pt.length||0!==Wa.length?ue(2):Pe.a.fire({icon:"warning",title:"Warning",text:"Products and services list cannot be empty",allowOutsideClick:!1})},children:"Next"})]}),Object(F.jsxs)(ge.a,{sx:{mx:"auto",mt:"50px"},hidden:2!==se,component:"form",maxWidth:"sm",fullWidth:!0,onSubmit:function(t){t.preventDefault();var a=new FormData(ce.current),i=new FormData(t.currentTarget);"create"===n?W.a.post("/sales/create",{name:a.get("name"),phone:a.get("phone"),email:a.get("email"),district:a.get("district"),street:a.get("street"),block:a.get("block"),floor:a.get("floor"),unit:a.get("unit"),timeLine:Math.max(a.get("timeLine"),0)*("day"===a.get("timeLineFormat")?1:7),remark:a.get("remark"),products:Pt.map((function(e){var t,n=e.productDetail,a=Object(L.a)(e,ua);return Object(H.a)({productId:n.id,productCategory:null!==(t=n.category)&&void 0!==t?t:""},a)})).concat(Wa),paymentTerms:i.get("paymentTerms"),paid:Boolean(i.get("paid")),dueDate:i.get("dueDate")||null,discount:Math.max(i.get("discountType")>0?i.get("discount"):Math.min(i.get("discount"),100),0),discountType:i.get("discountType"),surcharge:Math.max(i.get("surchargeType")>0?i.get("surcharge"):Math.min(i.get("surcharge"),100),0),surchargeType:i.get("surchargeType")}).then((function(){e.history.push("/admin/sales")})).catch((function(e){Pe.a.fire({icon:"error",title:"Error",text:e.response.data.message,allowOutsideClick:!1}).then((function(){})),console.log(e)})).then((function(){})):W.a.put("/sales/".concat(r.id),{name:a.get("name"),phone:a.get("phone"),email:a.get("email"),district:a.get("district"),street:a.get("street"),block:a.get("block"),floor:a.get("floor"),unit:a.get("unit"),timeLine:a.get("timeLine")*("day"===a.get("timeLineFormat")?1:7),remark:a.get("remark"),products:Pt.map((function(e){var t,n=e.productDetail,a=Object(L.a)(e,da);return Object(H.a)({productId:n.id,productCategory:null!==(t=n.category)&&void 0!==t?t:""},a)})).concat(Wa),paymentTerms:i.get("paymentTerms"),paid:Boolean(i.get("paid")),dueDate:i.get("dueDate")||null,discount:Math.max(i.get("discountType")>0?i.get("discount"):Math.min(i.get("discount"),100),0),discountType:i.get("discountType"),surcharge:Math.max(i.get("surchargeType")>0?i.get("surcharge"):Math.min(i.get("surcharge"),100),0),surchargeType:i.get("surchargeType")}).then((function(){e.history.push("/admin/sales")})).catch((function(e){Pe.a.fire({icon:"error",title:"Error",text:"error.response.data.message",allowOutsideClick:!1}).then((function(){})),console.log(e)})).then((function(){}))},children:[Object(F.jsxs)(Bt.a,{sx:{p:"10px",display:"flex",flexWrap:"wrap",justifyContent:"space-between"},children:[Object(F.jsx)(z.a,{variant:"h6",sx:{flexBasis:"100%",minWidth:"100%"},children:"Payment Details"}),Object(F.jsxs)(z.a,{variant:"h7",sx:{flexBasis:"100%",minWidth:"100%"},children:["Sub Total:"," ",Pt.reduce((function(e,t){return e+t.productAmount*parseFloat(t.productPrice)}),0)+Wa.reduce((function(e,t){return e+t.price}),0)]}),Object(F.jsx)(ve.a,{name:"paymentTerms",size:"small",sx:{flexBasis:"100%",minWidth:"100%"},defaultValue:r.paymentTerms,label:"Payment Terms"}),Object(F.jsx)(Se.a,{sx:{flexBasis:"30%",minWidth:"30%",marginRight:0},control:Object(F.jsx)(Ce.a,{name:"paid",checked:zt,onChange:function(e){qt(e.target.checked)}}),label:"Paid"}),Object(F.jsx)(ve.a,{type:"date",disabled:zt,name:"dueDate",label:"Due Date",sx:{flexBasis:"70%",minWidth:"70%"},defaultValue:r.dueDate,InputLabelProps:{shrink:!0}}),Object(F.jsx)(ve.a,{sx:{flexBasis:["58%","68%"],minWidth:["58%","68%"],alignItems:"baseline",m:0},label:"Discount",type:"number",name:"discount",inputProps:{min:0},defaultValue:r.discount,fullWidth:!0}),Object(F.jsxs)(Le.a,{sx:{flexBasis:["40%","30%"],minWidth:["40%","30%"],alignItems:"baseline",m:0},name:"discountType",defaultValue:r.discountType,children:[Object(F.jsx)(Ne.a,{value:0,children:"%"}),Object(F.jsx)(Ne.a,{value:1,children:"HKD"})]}),Object(F.jsx)(ve.a,{sx:{flexBasis:["58%","68%"],minWidth:["58%","68%"],alignItems:"baseline",mt:"10px",mb:0},label:"Surcharge",type:"number",name:"surcharge",inputProps:{min:0},defaultValue:r.surcharge,fullWidth:!0}),Object(F.jsxs)(Le.a,{sx:{flexBasis:["40%","30%"],minWidth:["40%","30%"],alignItems:"baseline",mt:"10px",mb:0},name:"surchargeType",defaultValue:r.surchargeType,children:[Object(F.jsx)(Ne.a,{value:0,children:"%"}),Object(F.jsx)(Ne.a,{value:1,children:"HKD"})]})]}),Object(F.jsx)(we.a,{sx:{marginTop:"10px"},onClick:function(e){e.preventDefault(),ue(1)},children:"Previous"}),Object(F.jsx)(we.a,{sx:{float:"right",marginTop:"10px"},type:"submit",children:"Finish"})]}),Object(F.jsxs)(ut.a,{open:he,maxWidth:"sm",fullWidth:!0,fullScreen:Object(en.a)(t.breakpoints.down("sm")),PaperProps:{component:"form",onSubmit:function(e){e.preventDefault();var t=new FormData(e.currentTarget);if(st(!1),Ot(!1),vt(!1),Tt(!1),be(!1),"add"===Ht){if(Pt.find((function(e){return e.productType===Ie&&e.productDetail.id===Ee.id})))return void Pe.a.fire({icon:"warning",title:"Warning",text:"This product is already added.",allowOutsideClick:!1});It(Pt.concat({productType:Ie,productDetail:Ee,productAmount:$e,productDeliveryOption:JSON.stringify(["Delivery Included","Delivery and installation included","Remote Area Surcharge","Stairs Surcharge"].filter((function(e,n){return Boolean(t.get("deliveryOption_".concat(n)))}))),productPrice:e.currentTarget.unitPrice.value,remark:rt}))}else if("edit"===Ht){var n=Pt.map((function(n){return n.productType===Ie&&n.productDetail.id===Ee.id?{productType:Ie,productDetail:Ee,productAmount:$e,productDeliveryOption:JSON.stringify(["Delivery Included","Delivery and installation included","Remote Area Surcharge","Stairs Surcharge"].filter((function(e,n){return Boolean(t.get("deliveryOption_".concat(n)))}))),productPrice:e.currentTarget.unitPrice.value,remark:rt}:n}));It(n)}}},children:[Object(F.jsx)(dt.a,{children:"Price and Amount"}),Object(F.jsxs)(pt.a,{sx:{textAlign:"center"},children:[Object(F.jsx)(ve.a,{label:"Unit Price",type:"number",name:"unitPrice",value:Ge,sx:{width:200},InputProps:{readOnly:!0,endAdornment:Object(F.jsx)(ea.a,{position:"end",children:"HKD"})}}),Object(F.jsxs)(ge.a,{sx:{display:"flex",alignItems:"center",width:"200px",border:"1px solid #0000003b",borderRadius:"4px",my:"10px",mx:"auto",p:"5px 3px"},children:[Object(F.jsx)(z.a,{variant:"span",sx:{flexGrow:1},children:"Amount"}),Object(F.jsx)(Ke.a,{onClick:function(e){e.preventDefault(),et(Math.max($e-1,1))},children:Object(F.jsx)(Zt.a,{})}),Object(F.jsx)(z.a,{variant:"span",sx:{ml:"10px"},children:$e}),Object(F.jsx)(Ke.a,{onClick:function(e){e.preventDefault(),et(Math.min($e+1,99))},children:Object(F.jsx)(Xt.a,{})})]}),Object(F.jsx)(ge.a,{sx:{alignItems:"center",width:"500px",my:"10px",mx:"auto",p:"5px 3px"},children:Object(F.jsx)(ve.a,{label:"Specification",name:"remark",value:rt,sx:{width:400,mx:"5px"},onChange:function(e){return it(e.target.value)}})}),Object(F.jsx)(Se.a,{sx:{display:"block",textAlign:"left",marginLeft:"100px"},control:Object(F.jsx)(Ce.a,{name:"deliveryOption_0",checked:lt,onChange:function(e){return st(e.target.checked)}}),label:"Delivery Included"}),Object(F.jsx)(Se.a,{sx:{display:"block",textAlign:"left",marginLeft:"100px"},control:Object(F.jsx)(Ce.a,{name:"deliveryOption_1",checked:xt,onChange:function(e){return Ot(e.target.checked)}}),label:"Delivery and installation included"}),Object(F.jsx)(Se.a,{sx:{display:"block",textAlign:"left",marginLeft:"100px"},control:Object(F.jsx)(Ce.a,{name:"deliveryOption_2",checked:kt,onChange:function(e){return vt(e.target.checked)}}),label:"Remote Area Surcharge"}),Object(F.jsx)(Se.a,{sx:{display:"block",textAlign:"left",marginLeft:"100px"},control:Object(F.jsx)(Ce.a,{name:"deliveryOption_3",checked:wt,onChange:function(e){return Tt(e.target.checked)}}),label:"Stairs Surcharge"})]}),Object(F.jsxs)(jt.a,{children:[Object(F.jsx)(we.a,{onClick:function(e){st(!1),Ot(!1),vt(!1),Tt(!1),be(!1)},children:"Cancel"}),Object(F.jsx)(we.a,{type:"submit",children:"OK"})]})]}),Object(F.jsxs)(ut.a,{open:me,maxWidth:"sm",fullWidth:!0,fullScreen:Object(en.a)(t.breakpoints.down("sm")),PaperProps:{component:"form",onSubmit:function(){var e=Object(Gt.a)(Jt.a.mark((function e(t){var n,a,r,i,c,o,l,s;return Jt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),d(0),j("Left"),O("Rounded"),v("Melamine"),T(""),B(700),q(400),U(25),G(0),$(50),ae(""),st(!1),Ot(!1),vt(!1),Tt(!1),xe(!1),n=new FormData(t.currentTarget),"add"!==Ht){e.next=38;break}if(Te||!Pt.find((function(e){return"desk"===e.productType&&e.productDetail.id===Ee.id&&!e.hasDeskTop}))){e.next=22;break}return Pe.a.fire({icon:"warning",title:"Warning",text:"This product is already added.",allowOutsideClick:!1}),e.abrupt("return");case 22:if(a="",!n.get("topSketchImg")||!n.get("topSketchImg").name){e.next=35;break}return(r=new FormData).append("file",n.get("topSketchImg")),e.prev=26,e.next=29,W.a.post("/upload",r,{headers:{"Content-Type":"application/x-www-form-urlencoded"}});case 29:i=e.sent,a=i.data.url,e.next=35;break;case 33:e.prev=33,e.t0=e.catch(26);case 35:It(Pt.concat({productType:Ie,productDetail:Ee,productAmount:$e,productDeliveryOption:JSON.stringify(["Delivery Included","Delivery and installation included","Remote Area Surcharge","Stairs Surcharge"].filter((function(e,t){return Boolean(n.get("deliveryOption_".concat(t)))}))),productPrice:Boolean(n.get("hasDeskTop"))?Number(n.get("deskTotalPrice")):Number(n.get("deskLegPrice")),hasDeskTop:Boolean(n.get("hasDeskTop"))||!1,topMaterial:n.get("topMaterial")||"",topColor:n.get("topColor")||"",topLength:n.get("topLength")||0,topWidth:n.get("topWidth")||0,topThickness:n.get("topThickness")||0,topRoundedCorners:n.get("topRoundedCorners")||0,topCornerRadius:n.get("topCornerRadius")||50,topHoleCount:n.get("topHoleCount")||0,topHoleType:n.get("topHoleType")||"",topHolePosition:b||"",remark:n.get("remark")||"",topSketchURL:a})),e.next=54;break;case 38:if("edit"!==Ht){e.next=54;break}if(c=ne,!n.get("topSketchImg")||!n.get("topSketchImg").name){e.next=52;break}return(o=new FormData).append("file",n.get("topSketchImg")),e.prev=43,e.next=46,W.a.post("/upload",o,{headers:{"Content-Type":"application/x-www-form-urlencoded"}});case 46:l=e.sent,c=l.data.url,e.next=52;break;case 50:e.prev=50,e.t1=e.catch(43);case 52:s=Pt.map((function(e){return"desk"!==e.productType||e.id!==qe?e:{productType:Ie,productDetail:Ee,productAmount:$e,productDeliveryOption:JSON.stringify(["Delivery Included","Delivery and installation included","Remote Area Surcharge","Stairs Surcharge"].filter((function(e,t){return Boolean(n.get("deliveryOption_".concat(t)))}))),productPrice:Boolean(n.get("hasDeskTop"))?Number(n.get("deskTotalPrice")):Number(n.get("deskLegPrice")),hasDeskTop:Boolean(n.get("hasDeskTop"))||!1,topMaterial:n.get("topMaterial")||"",topColor:n.get("topColor")||"",topLength:n.get("topLength")||0,topWidth:n.get("topWidth")||0,topThickness:n.get("topThickness")||0,topRoundedCorners:n.get("topRoundedCorners")||0,topCornerRadius:n.get("topCornerRadius")||50,topHoleCount:n.get("topHoleCount")||0,topHoleType:n.get("topHoleType")||"",topHolePosition:b||"",remark:n.get("remark")||"",topSketchURL:c}})),It(s);case 54:case"end":return e.stop()}}),e,null,[[26,33],[43,50]])})));return function(t){return e.apply(this,arguments)}}()},children:[Object(F.jsx)(dt.a,{children:"Price and Amount"}),Object(F.jsxs)(pt.a,{sx:{textAlign:"center"},children:[Object(F.jsx)(ve.a,{label:"Desk Leg Price",type:"number",name:"deskLegPrice",value:Ge,sx:{width:200,visibility:Te?"hidden":"visible"},InputProps:{readOnly:!0,endAdornment:Object(F.jsx)(ea.a,{position:"end",children:"HKD"})}}),Object(F.jsx)(tt.a,{sx:{my:"10px"}}),Object(F.jsxs)(ge.a,{display:"flex",flexWrap:"wrap",justifyContent:"space-between",children:[Object(F.jsx)(Se.a,{control:Object(F.jsx)(Ce.a,{name:"hasDeskTop",checked:Te,onChange:function(e){De(e.currentTarget.checked)}}),label:"with Table Top",sx:{flexBasis:"100%",minWidth:"100%"}}),[{name:"topMaterial",label:"Material",type:"autocomplete",value:k,onChange:function(e,t){e.preventDefault(),v(t)},options:ka,width:"65%"},{name:"topColor",label:"Color",type:"text",width:"30%",value:w,onChange:function(e){e.preventDefault(),T(e.target.value)}},{name:"topLength",label:"Length",type:"suffixNumber",suffix:"mm",inputProps:{min:0},width:"30%",value:P,onChange:function(e){e.preventDefault(),B(e.target.value)}},{name:"topWidth",label:"Width",type:"suffixNumber",suffix:"mm",inputProps:{min:0},width:"30%",value:M,onChange:function(e){e.preventDefault(),q(e.target.value)}},{name:"topThickness",label:"Thickness",type:"suffixNumber",suffix:"mm",inputProps:{min:0},width:"30%",value:E,onChange:function(e){e.preventDefault(),U(e.target.value)}},{name:"topRoundedCorners",label:"Rounded Corners",type:"select",options:[0,1,2,3,4],width:"48%",value:J,onChange:function(e){e.preventDefault(),G(e.target.value)}},{name:"topCornerRadius",label:"Corner Radius",type:"number",inputProps:{min:0},width:"48%",value:Z,onChange:function(e){e.preventDefault(),$(e.target.value)}},{name:"topHoleCount",label:"Number of Holes",type:"select",value:u,onChange:function(e){e.preventDefault(),d(e.target.value),1===e.target.value?j("Left"):2===e.target.value?j("Left_Right"):3===e.target.value&&j("Left_Right_Center")},options:[0,1,2,3],width:"48%"},{name:"topHoleType",label:"Type of Holes",type:"select",value:x,onChange:function(e){e.preventDefault(),O(e.target.value)},options:["Rounded","Rectangular"],width:"48%"},{name:"topHolePosition",label:"Hole Position",type:"select",value:b,onChange:function(e){e.preventDefault(),j(e.target.value)},options:1===u?["Left","Right","Center"]:["Left","Right","Center","Left_Right","Left_Right_Center"],disabled:1!==u,visible:"true",width:"48%"},{name:"remark",label:"Specification",type:"text",width:"100%",value:rt,onChange:function(e){e.preventDefault(),it(e.target.value)}},{name:"topSketchImg",label:"Sketch Image (Optional)",type:"file",inputProps:{accept:"image/png, image/gif, image/jpeg"},InputLabelProps:{shrink:!0},width:"100%"}].map((function(e,t){var n=e.type,a=e.width,r=Object(L.a)(e,pa);if("autocomplete"===n){var i=r.name,c=r.label,o=Object(L.a)(r,ha);return Object(F.jsx)(_t.a,Object(H.a)({sx:{flexBasis:a,minWidth:a},renderInput:function(e){return Object(F.jsx)(ve.a,Object(H.a)(Object(H.a)({},e),{},{name:i,label:c}))},disabled:!Te},o),t)}if("suffixNumber"===n){var l=r.suffix,s=Object(L.a)(r,ba);return Object(F.jsx)(Se.a,{sx:{flexBasis:a,minWidth:a,alignItems:"baseline",mx:0},control:Object(F.jsx)(ve.a,Object(H.a)({fullWidth:!0,sx:{m:"10px 5px 0 0"},type:"number",disabled:!Te},s)),label:l},t)}if("select"===n){var u=r.name,d=r.label,p=r.options,h=Object(L.a)(r,ja);return"topHolePosition"===u?h.visible?Object(F.jsxs)(Re.a,{sx:{flexBasis:a,minWidth:a},children:[Object(F.jsx)(He.a,{id:"desk-top-".concat(u,"-select-label"),children:d}),Object(F.jsx)(Le.a,Object(H.a)(Object(H.a)({labelId:"desk-top-".concat(u,"-select-label"),id:"desk-top-".concat(u,"-select"),name:u,label:d,size:"small",disabled:!Te},h),{},{children:p.map((function(e,t){return Object(F.jsx)(Ne.a,{value:e,children:e},t)}))}))]},t):"":Object(F.jsxs)(Re.a,{sx:{flexBasis:a,minWidth:a},children:[Object(F.jsx)(He.a,{id:"desk-top-".concat(u,"-select-label"),children:d}),Object(F.jsx)(Le.a,Object(H.a)(Object(H.a)({labelId:"desk-top-".concat(u,"-select-label"),id:"desk-top-".concat(u,"-select"),name:u,label:d,size:"small",disabled:!Te},h),{},{children:p.map((function(e,t){return Object(F.jsx)(Ne.a,{value:e,children:e},t)}))}))]},t)}return Object(F.jsx)(ve.a,Object(H.a)({type:n,sx:{flexBasis:a,minWidth:a},disabled:!Te},r),t)})),Object(F.jsx)(ve.a,{label:"Desk Total Price",type:"number",name:"deskTotalPrice",defaultValue:Ge,sx:{flexBasis:200,minWidth:200,mx:"auto"},disabled:!Te,InputProps:{endAdornment:Object(F.jsx)(ea.a,{position:"end",children:"HKD"})}})]}),Object(F.jsx)(tt.a,{sx:{my:"10px"}}),Object(F.jsxs)(ge.a,{sx:{display:"flex",alignItems:"left",width:"200px",border:"1px solid #0000003b",borderRadius:"4px",mt:"10px",mx:"auto",p:"5px 3px"},children:[Object(F.jsx)(z.a,{variant:"span",sx:{flexGrow:1,marginTop:"8px"},children:"Amount"}),Object(F.jsx)(Ke.a,{onClick:function(e){e.preventDefault(),et(Math.max($e-1,1))},children:Object(F.jsx)(Zt.a,{})}),Object(F.jsx)(z.a,{variant:"span",sx:{ml:"10px",marginTop:"8px"},children:$e}),Object(F.jsx)(Ke.a,{onClick:function(e){e.preventDefault(),et(Math.min($e+1,99))},children:Object(F.jsx)(Xt.a,{})})]}),Object(F.jsx)(Se.a,{sx:{display:"block",textAlign:"left",marginLeft:"100px"},control:Object(F.jsx)(Ce.a,{name:"deliveryOption_0",checked:lt,onChange:function(e){return st(e.target.checked)},sx:{textAlign:"left"}}),label:"Delivery Included"}),Object(F.jsx)(Se.a,{sx:{display:"block",textAlign:"left",marginLeft:"100px"},control:Object(F.jsx)(Ce.a,{name:"deliveryOption_1",checked:xt,onChange:function(e){return Ot(e.target.checked)}}),label:"Delivery and installation included"}),Object(F.jsx)(Se.a,{sx:{display:"block",textAlign:"left",marginLeft:"100px"},control:Object(F.jsx)(Ce.a,{name:"deliveryOption_2",checked:kt,onChange:function(e){return vt(e.target.checked)}}),label:"Remote Area Surcharge"}),Object(F.jsx)(Se.a,{sx:{display:"block",textAlign:"left",marginLeft:"100px"},control:Object(F.jsx)(Ce.a,{name:"deliveryOption_3",checked:wt,onChange:function(e){return Tt(e.target.checked)}}),label:"Stairs Surcharge"})]}),Object(F.jsxs)(jt.a,{children:[Object(F.jsx)(we.a,{onClick:function(e){e.preventDefault(),d(0),j("Left"),O("Rounded"),v("Melamine"),T(""),B(700),q(400),U(25),G(0),$(50),ae(""),st(!1),Ot(!1),vt(!1),Tt(!1),xe(!1)},children:"Cancel"}),Object(F.jsx)(we.a,{type:"submit",children:"OK"})]})]})]})})),Sa=function(e){var t=Object(a.useState)(""),n=Object(o.a)(t,2),r=n[0],i=n[1];return Object(F.jsx)(va,Object(H.a)({componentType:"create",initialClient:{phone:r,setPhone:i,paid:!0,discountType:1,surchargeType:1,dueDate:"",remark:""},initialCart:[]},e))},Ca=["ChairStocks","DeskStocks","AccessoryStocks","DeskToOrders","ServiceToOrders","Seller","sellerId","remark"],wa=["ChairToOrder"],Ta=["stockId","unitPrice","qty","deliveryOption"],Da=["AccessoryToOrder"],Aa=function(e){var t=(Object(s.g)().state||{}).order,n=t||{},r=n.ChairStocks,i=n.DeskStocks,c=n.AccessoryStocks,l=n.DeskToOrders,u=n.ServiceToOrders,d=(n.Seller,n.sellerId,n.remark),p=Object(L.a)(n,Ca),h=Object(a.useState)(p.phone),b=Object(o.a)(h,2),j=b[0],f=b[1];return t?Object(F.jsx)(va,Object(H.a)({componentType:"edit",initialClient:Object(H.a)(Object(H.a)({},p),{},{phone:j,setPhone:f,remark:d}),initialCart:r.map((function(e){var t=e.ChairToOrder,n=Object(L.a)(e,wa);return{productType:"chair",productDetail:Object(H.a)({},n),remark:t.remark,productPrice:t.unitPrice,productAmount:t.qty,productDeliveryOption:t.deliveryOption}})).concat(l.map((function(e){var t=e.stockId,n=e.unitPrice,a=e.qty,r=e.deliveryOption,c=Object(L.a)(e,Ta),o=i.find((function(e){return e.id===t}));return Object(H.a)({productType:"desk",productDetail:o,productPrice:n,productAmount:a,productDeliveryOption:r},c)}))).concat(c.map((function(e){var t=e.AccessoryToOrder,n=Object(L.a)(e,Da);return{productType:"accessory",productDetail:Object(H.a)({},n),remark:t.remark,productPrice:t.unitPrice,productAmount:t.qty,productDeliveryOption:t.deliveryOption}}))),initialServices:u},e)):Object(F.jsx)(s.a,{to:"/admin/sales"})},Pa=n(755),Ba=["ChairToQuotation"],Ia=["stockId","unitPrice","qty","deliveryOption"],Wa=["AccessoryToQuotation"],Ra=["productDetail"],Ha=["id","quotationNum","district","street","block","floor","unit","Seller","discount","discountType","surcharge","surchargeType","createdAt","timeLine","paid","ChairStocks","DeskStocks","AccessoryStocks"],La=[{id:"quotationNum",label:"Quotation"},{id:"name",label:"Client"},{id:"seller",label:"Seller"},{id:"quotationDate",label:"Quotation"},{id:"clientAddress",label:"Address"},{id:"timeLine",label:"TimeLine"},{id:"remark",label:"Remark"},{id:"discount",label:"Discount"},{id:"surcharge",label:"SurCharge"},{id:"products",label:"Products"},{id:"paid",label:"Paid"},{id:"emailIcon",nonSort:!0,label:"Con",align:"right",sx:{maxWidth:45,width:45}},{id:"whatsappIcon",nonSort:!0,label:"tact",align:"left",sx:{maxWidth:45,width:45,paddingLeft:0}},{id:"toInvoice",nonSort:!0,label:"To Invoice",sx:{maxWidth:45}},{id:"edit",nonSort:!0,sx:{maxWidth:45,width:45}},{nonSort:!0,id:"delete",sx:{maxWidth:45,width:45}}],Na=["Address","TimeLine","Remark","Discount","SurCharge","Products","Paid","Con","tact"];var Ma=Object(f.b)((function(e){return{auth:e.auth}}))((function(e){var t=Object($t.a)(),n=Object(a.useState)([]),r=Object(o.a)(n,2),i=r[0],c=r[1],s=Object(a.useState)(""),u=Object(o.a)(s,2),d=u[0],p=u[1],h=Object(a.useState)(""),b=Object(o.a)(h,2),j=b[0],f=b[1],m=Object(a.useState)(""),x=Object(o.a)(m,2),O=x[0],g=x[1],y=Object(a.useState)(!1),k=Object(o.a)(y,2),v=k[0],S=k[1],C=Object(a.useState)(!1),w=Object(o.a)(C,2),T=w[0],D=w[1],A=Object(a.useState)(!1),P=Object(o.a)(A,2),B=P[0],I=P[1],R=Object(a.useRef)(null),N=Object(a.useRef)(null),M=Object(a.useState)(null),z=Object(o.a)(M,2),q=z[0],V=z[1],Q=Object(a.useState)(0),E=Object(o.a)(Q,2),U=E[0],K=E[1],Y=Object(a.useState)([]),J=Object(o.a)(Y,2),G=J[0],_=J[1],X=function(e){e<i.length&&e>=0&&Pe.a.fire({title:"Are you sure?",text:"This action will remove current Quotation permanently.",icon:"question",showCancelButton:!0,confirmButtonText:"Yes, Remove!",cancelButtonText:"No, Keep It.",allowOutsideClick:!1}).then((function(t){t.isConfirmed&&W.a.delete("/quotation/".concat(i[e].id)).then((function(e){Z()})).catch((function(e){Pe.a.fire({icon:"error",title:"Error",text:e.response.data.message,allowOutsideClick:!1}),console.log(e)})).then((function(){}))}))},Z=function(e){W.a.get("/quotation",{cancelToken:e}).then((function(e){c(e.data)})).catch((function(e){console.log(e)})).then((function(){}))};return Object(a.useEffect)((function(){var e=W.a.CancelToken.source();return Z(e.token),function(){return e.cancel("Brand Component got unmounted")}}),[]),Object(F.jsxs)(ge.a,{sx:{height:"100%",overflow:"auto",padding:"10px 20px"},children:[Object(F.jsx)(we.a,{component:l.b,to:"/admin/quotation/create",startIcon:Object(F.jsx)(Xt.a,{}),children:"New Quotation"}),Object(F.jsx)("div",{children:Object(F.jsx)(an,{options:Na,onChange:function(e){_(e)},selected:G})}),Object(F.jsx)(Ft,{title:"Sales quotations",rows:i.map((function(t,n){var a=t.id,r=t.quotationNum,c=t.district,o=t.street,s=t.block,u=t.floor,d=t.unit,h=t.Seller,b=t.discount,j=t.discountType,m=t.surcharge,x=t.surchargeType,O=t.createdAt,y=t.timeLine,k=t.paid,v=t.ChairStocks,C=t.DeskStocks,w=t.AccessoryStocks,T=Object(L.a)(t,Ha);return Object(H.a)({id:a,index:n,seller:(h.firstName||"").concat(" ",h.lastName||""),timeLine:y%7!==0?"".concat(y," day").concat(1===y?"":"s"):"".concat(y/7," week").concat(y/7===1?"":"s"),quotationDate:function(){var e=new Date(O);return e.setMinutes(e.getMinutes()-e.getTimezoneOffset()),e.toISOString().split("T")[0]}(),discount:"".concat(b).concat(j?" HKD":"%"),surcharge:"".concat(m).concat(x?" HKD":"%"),clientAddress:[c,o,s,u,d].join(", "),products:Object(F.jsx)(Ke.a,{sx:{my:"5px"},onClick:function(e){e.preventDefault(),K(n),I(!0)},children:Object(F.jsx)(Tn.a,{badgeContent:v.length+C.length+w.length,color:"error",children:Object(F.jsx)(Dn.a,{})})}),paid:Object(F.jsx)(Ce.a,{checked:k,onClick:function(e){e.stopPropagation(),e.preventDefault(),W.a.put("/quotation/withoutStock/".concat(a),{paid:!k}).then((function(){Z()})).catch((function(e){Pe.a.fire({icon:"error",title:"Error",text:e.response.data.message,allowOutsideClick:!1})})).then((function(){}))}}),quotationNum:Object(F.jsx)(l.b,{to:"/quotation/".concat(a),target:"_blank",children:r}),emailIcon:Object(F.jsx)(Ke.a,{onClick:function(){p(T.name),f(T.email),D(!0)},children:Object(F.jsx)(Pn.a,{})}),whatsappIcon:Object(F.jsx)(Ke.a,{onClick:function(){W.a.get("whatsapp/checkauth").then((function(){p(T.name),g(T.phone),S(!0)})).catch((function(e){W.a.get("whatsapp/getqr").then((function(e){Pe.a.fire({icon:"info",title:"Please signin with this QRCode and Click the button again.",html:wn.a.renderToStaticMarkup(Object(F.jsx)(Hn.a,{value:"".concat(e.data.qrcode),level:"H"})),allowOutsideClick:!1})})).catch((function(e){Pe.a.fire({icon:"error",title:"Error",text:"Unable to use WhatsApp Messaging.",allowOutsideClick:!1})})).then((function(){}))})).then((function(){}))},children:Object(F.jsx)(Bn.a,{})}),toInvoice:Object(F.jsx)(Ke.a,{onClick:function(t){t.preventDefault(),function(t){t<i.length&&t>=0&&Pe.a.fire({title:"Are you sure?",text:"This action will convert current Quotation to Invoice.",icon:"question",showCancelButton:!0,confirmButtonText:"Yes, Convert!",cancelButtonText:"No, Cancel.",allowOutsideClick:!1}).then((function(n){if(n.isConfirmed){var a=i[t],r=a.ChairStocks.map((function(e){var t=e.ChairToQuotation;return{productType:"chair",productDetail:Object(L.a)(e,Ba),remark:t.remark,productPrice:t.unitPrice,productAmount:t.qty,productDeliveryOption:t.deliveryOption}})).concat(a.DeskToQuotations.map((function(e){var t=e.stockId,n=e.unitPrice,r=e.qty,i=e.deliveryOption,c=Object(L.a)(e,Ia),o=a.DeskStocks.find((function(e){return e.id===t}));return Object(H.a)({productType:"desk",productDetail:o,productPrice:n,productAmount:r,productDeliveryOption:i},c)}))).concat(a.AccessoryStocks.map((function(e){var t=e.AccessoryToQuotation;return{productType:"accessory",productDetail:Object(L.a)(e,Wa),remark:t.remark,productPrice:t.unitPrice,productAmount:t.qty,productDeliveryOption:t.deliveryOption}}))).concat(a.ServiceToQuotations.map((function(e){var t=e.description;return{productType:"misc",id:e.id,price:e.price,description:t}})));W.a.post("/sales/create",{name:a.name,phone:a.phone,email:a.email,district:a.district,street:a.street,block:a.block,floor:a.floor,unit:a.unit,timeLine:a.timeLine,remark:a.remark,products:r.map((function(e){var t=e.productDetail,n=Object(L.a)(e,Ra);return Object(H.a)({productId:null===t||void 0===t?void 0:t.id},n)})).concat(a.ServiceToQuotations),paymentTerms:a.paymentTerms,paid:!1,dueDate:null,discount:a.discount,discountType:a.discountType,surcharge:a.surcharge,surchargeType:a.surchargeType}).then((function(){e.history.push("/admin/sales")})).catch((function(e){Pe.a.fire({icon:"error",title:"Error",text:e.response.data.message,allowOutsideClick:!1}).then((function(){})),console.log(e)})).then((function(){}))}}))}(n)},children:Object(F.jsx)(Pa.a,{})}),edit:Object(F.jsx)(Ke.a,{component:l.b,to:{pathname:"/admin/quotation/edit",state:{quotation:i[n]}},children:Object(F.jsx)(ft.a,{})}),delete:Object(F.jsx)(Ke.a,{onClick:function(e){e.preventDefault(),X(n)},children:Object(F.jsx)(mt.a,{})})},T)})),columns:La.map((function(e,t){return t>3&&t<13?G.find((function(t){return t===e.label}))?e:void 0:e})).filter((function(e){return void 0!==e})),onEditClick:function(e){i.length},onRemoveClick:X,onBulkRemoveClick:function(e){Pe.a.fire({title:"Are you sure?",text:"This action will remove selected Quotations permanently.",icon:"question",showCancelButton:!0,confirmButtonText:"Yes, Remove!",cancelButtonText:"No, Keep Them.",allowOutsideClick:!1}).then((function(t){t.isConfirmed&&W.a.delete("/quotation",{data:{ids:e}}).then((function(e){Z()})).catch((function(e){Pe.a.fire({icon:"error",title:"Error",text:e.response.data.message,allowOutsideClick:!1}),console.log(e)})).then((function(){}))}))},onFilterClick:function(e){e.preventDefault(),V(null===q?e.currentTarget:null)}}),Object(F.jsxs)(ut.a,{fullWidth:!0,fullScreen:Object(en.a)(t.breakpoints.down("sm")),maxWidth:"sm",open:v,children:[Object(F.jsx)(dt.a,{children:"Send WhatsApp Message to the Client"}),Object(F.jsx)(pt.a,{children:Object(F.jsxs)(ht.a,{spacing:2,children:[Object(F.jsx)(Wn.a,{variant:"outlined",label:"Phone Number",onlyCountries:["hk"],defaultCountry:"hk",value:O,InputProps:{readOnly:!0}}),Object(F.jsx)(ve.a,{inputRef:R,label:"Message",fullWidth:!0,defaultValue:"Hello ".concat(d,"."),multiline:!0,minRows:4,maxRows:10})]})}),Object(F.jsxs)(jt.a,{children:[Object(F.jsx)(we.a,{onClick:function(e){e.preventDefault(),S(!1)},children:"Cancel"}),Object(F.jsx)(we.a,{onClick:function(e){e.preventDefault(),W.a.post("whatsapp/send",{phone:O,message:R.current.value}).then((function(){S(!1)})).catch((function(e){S(!1),Pe.a.fire({icon:"error",title:"Error",text:e.response.data.message,allowOutsideClick:!1}).then((function(){S(!0)}))})).then((function(){}))},children:"Send"})]})]}),Object(F.jsxs)(ut.a,{fullWidth:!0,fullScreen:Object(en.a)(t.breakpoints.down("sm")),maxWidth:"sm",open:T,children:[Object(F.jsx)(dt.a,{children:"Send Email to the Client"}),Object(F.jsx)(pt.a,{children:Object(F.jsxs)(ht.a,{spacing:2,children:[Object(F.jsx)(ve.a,{label:"Email",type:"email",value:j,InputProps:{readOnly:!0}}),Object(F.jsx)(ve.a,{inputRef:N,label:"Message",fullWidth:!0,defaultValue:"Hello ".concat(d,"."),multiline:!0,minRows:4,maxRows:10})]})}),Object(F.jsxs)(jt.a,{children:[Object(F.jsx)(we.a,{onClick:function(e){e.preventDefault(),D(!1)},children:"Cancel"}),Object(F.jsx)(we.a,{onClick:function(e){e.preventDefault(),W.a.post("email/send",{email:j,message:N.current.value}).then((function(){D(!1)})).catch((function(e){D(!1),Pe.a.fire({icon:"error",title:"Error",text:e.response.data.message,allowOutsideClick:!1}).then((function(){D(!0)}))})).then((function(){}))},children:"Send"})]})]}),Object(F.jsxs)(ut.a,{maxWidth:"sm",fullWidth:!0,open:B,onClose:function(e){e.preventDefault(),I(!1)},children:[Object(F.jsx)(dt.a,{children:"Products Details"}),Object(F.jsx)(pt.a,{children:Object(F.jsxs)(Mn,{children:[U<i.length&&i[U].ChairStocks.map((function(e,t){return Object(F.jsxs)(zn,{children:[Object(F.jsx)(qn,{primary:"Chair: ".concat(e.brand,", ").concat(e.model,", ").concat(e.frameColor,", ").concat(e.backColor,", ").concat(e.seatColor),secondary:"".concat(e.withHeadrest?"Headrest, ":"").concat(e.withAdArmrest?"Armrest":"")}),Object(F.jsx)(Vn,{unitPrice:"".concat(e.ChairToQuotation.unitPrice," HKD"),amount:"Amount: ".concat(e.ChairToQuotation.qty),deliveryOption:"".concat(e.ChairToQuotation.deliveryOption)})]},t)})),U<i.length&&i[U].DeskToQuotations.map((function(e,t){return Object(F.jsxs)(zn,{children:[Object(F.jsx)(qn,{primary:"Desk:\n                      ".concat(i[U].DeskStocks.find((function(t){return t.id===e.stockId})).supplierCode,",\n                      ").concat(i[U].DeskStocks.find((function(t){return t.id===e.stockId})).model,",\n                      ").concat(i[U].DeskStocks.find((function(t){return t.id===e.stockId})).color,",\n                      ").concat(i[U].DeskStocks.find((function(t){return t.id===e.stockId})).armSize,",\n                      ").concat(i[U].DeskStocks.find((function(t){return t.id===e.stockId})).feetSize,",\n                      ").concat(i[U].DeskStocks.find((function(t){return t.id===e.stockId})).beamSize),secondary:e.hasDeskTop?Object(F.jsxs)("span",{children:["".concat(e.topMaterial,",\n                            ").concat(e.topColor,",\n                            ").concat(e.topLength,"x").concat(e.topWidth,"x").concat(e.topThickness,",\n                            ").concat(e.topRoundedCorners,"-R").concat(e.topCornerRadius,",\n                            ").concat(e.topHoleCount,"-").concat(e.topHoleType," "),Object(F.jsx)("a",{href:e.topSketchURL,target:"_blank",rel:"noreferrer",children:"Sketch"})]}):"Without DeskTop"}),Object(F.jsx)(Vn,{unitPrice:"".concat(e.unitPrice," HKD"),amount:"Amount: ".concat(e.qty),deliveryOption:"".concat(e.deliveryOption)})]},t)})),U<i.length&&i[U].AccessoryStocks.map((function(e,t){return Object(F.jsxs)(zn,{children:[Object(F.jsx)(qn,{primary:"Accessory: ".concat(e.name),secondary:"".concat(e.remark)}),Object(F.jsx)(Vn,{unitPrice:"".concat(e.AccessoryToQuotation.unitPrice," HKD"),amount:"Amount: ".concat(e.AccessoryToQuotation.qty),deliveryOption:"".concat(e.AccessoryToQuotation.deliveryOption)})]},t)}))]})}),Object(F.jsx)(jt.a,{children:Object(F.jsx)(we.a,{onClick:function(e){e.preventDefault(),I(!1)},children:"OK"})})]})]})})),za=["children","value","index"],qa=["setValue","width"],Va=["label"],Fa=["thumbnailURL","withHeadrest","withAdArmrest","shipmentDate","arrivalDate"],Qa=["label"],Ea=["thumbnailURL","shipmentDate","arrivalDate"],Ua=["thumbnailURL","shipmentDate","arrivalDate"],Ka=["productDetail"],Ya=["productDetail"],Ja=["type","width"],Ga=["name","label"],_a=["suffix"],Xa=["name","label","options"],Za=function(e){var t=e.children,n=e.value,a=e.index,r=Object(L.a)(e,za);return Object(F.jsx)("div",Object(H.a)(Object(H.a)({role:"tabpanel",hidden:n!==a,id:"simple-tabpanel-".concat(a),"aria-labelledby":"simple-tab-".concat(a)},r),{},{children:n===a&&Object(F.jsx)(ge.a,{sx:{p:"0 10px 10px 10px"},children:t})}))};var $a=[{id:"add"},{id:"thumbnail",sx:{width:100},nonSort:!0},{id:"brand",label:"Brand"},{id:"model",label:"Model"},{id:"unitPrice",label:"Price"},{id:"balance",label:"Balance"},{id:"qty",label:"QTY"},{id:"frameColor",label:"Frame Color"},{id:"backColor",label:"Back Color"},{id:"seatColor",label:"Seat Color"},{id:"backMaterial",label:"Back Material"},{id:"seatMaterial",label:"Seat Material"},{id:"withHeadrest",label:"Headrest"},{id:"withAdArmrest",label:"Adjustable Armrests"},{id:"remark",label:"Other Remark"},{id:"shipmentDate",label:"Shipment"},{id:"arrivalDate",label:"Arrival"}],er=["Frame Color","Back Color","Seat Color","Back Material","Seat Material","Headrest","Adjustable Armrests","Other Remark","Shipment","Arrival"],tr=[{id:"add"},{id:"thumbnail",sx:{width:100},nonSort:!0},{id:"supplierCode",label:"Supplier"},{id:"model",label:"Model"},{id:"unitPrice",label:"Price"},{id:"balance",label:"Balance"},{id:"qty",label:"QTY"},{id:"color",label:"Color"},{id:"armSize",label:"Arm Size"},{id:"feetSize",label:"Feet Size"},{id:"beamSize",label:"Beam Size"},{id:"remark",label:"Other Remark"},{id:"shipmentDate",label:"Shipment"},{id:"arrivalDate",label:"Arrival"}],nr=["Color","Arm Size","Feet Size","Beam Size","Other Remark","Shipment","Arrival"],ar=[{id:"add"},{id:"thumbnail",sx:{width:100},nonSort:!0},{id:"name",label:"Name"},{id:"category",label:"Category"},{id:"unitPrice",label:"Price"},{id:"balance",label:"Balance"},{id:"qty",label:"QTY"},{id:"remark",label:"Other Remark"},{id:"shipmentDate",label:"Shipment"},{id:"arrivalDate",label:"Arrival"}],rr=["Melamine","Laminate","North American Walnut","South American Walnut","Red Oak","Maple","Bamboo","Melamine with glass top","Toppal Plyedge"],ir=Object(f.b)((function(e){return{auth:e.auth}}))((function(e){var t=Object($t.a)(),n=e.componentType,r=e.initialClient,i=e.initialCart,c=e.initialServices,l=Object(a.useState)(0),s=Object(o.a)(l,2),u=s[0],d=s[1],p=Object(a.useState)("Left"),h=Object(o.a)(p,2),b=h[0],j=h[1],f=Object(a.useState)("Rounded"),m=Object(o.a)(f,2),x=m[0],O=m[1],g=Object(a.useState)("Melamine"),y=Object(o.a)(g,2),k=y[0],v=y[1],S=Object(a.useState)(""),C=Object(o.a)(S,2),w=C[0],T=C[1],D=Object(a.useState)(700),A=Object(o.a)(D,2),P=A[0],B=A[1],I=Object(a.useState)(400),N=Object(o.a)(I,2),M=N[0],q=N[1],V=Object(a.useState)(25),Q=Object(o.a)(V,2),E=Q[0],U=Q[1],K=Object(a.useState)(0),Y=Object(o.a)(K,2),J=Y[0],G=Y[1],_=Object(a.useState)(50),X=Object(o.a)(_,2),Z=X[0],$=X[1],ee=Object(a.useState)(""),te=Object(o.a)(ee,2),ne=te[0],ae=te[1],re=Object(a.useRef)(null),ie=Object(a.useState)(0),ce=Object(o.a)(ie,2),oe=ce[0],le=ce[1],se=Object(a.useState)(!1),ue=Object(o.a)(se,2),de=ue[0],pe=ue[1],he=Object(a.useState)(!1),be=Object(o.a)(he,2),je=be[0],fe=be[1],me=Object(a.useState)(!1),xe=Object(o.a)(me,2),Oe=xe[0],ye=xe[1],Te=Object(a.useState)("chair"),De=Object(o.a)(Te,2),Ae=De[0],Be=De[1],Ie=Object(a.useState)(""),We=Object(o.a)(Ie,2),Me=We[0],ze=We[1],qe=Object(a.useState)(1e3),Ve=Object(o.a)(qe,2),Fe=Ve[0],Qe=Ve[1],Ee=Object(a.useState)(0),Ue=Object(o.a)(Ee,2),Ye=Ue[0],Je=Ue[1],Ge=Object(a.useState)(""),_e=Object(o.a)(Ge,2),Xe=_e[0],Ze=_e[1],$e=Object(a.useState)(!1),et=Object(o.a)($e,2),nt=et[0],at=et[1],rt=Object(a.useState)(!1),it=Object(o.a)(rt,2),ct=it[0],ot=it[1],lt=Object(a.useState)(!1),st=Object(o.a)(lt,2),ht=st[0],bt=st[1],xt=Object(a.useState)(!1),Ot=Object(o.a)(xt,2),gt=Ot[0],yt=Ot[1],kt=Object(a.useState)(i),vt=Object(o.a)(kt,2),St=vt[0],Ct=vt[1],wt=Object(a.useState)("add"),Tt=Object(o.a)(wt,2),Dt=Tt[0],At=Tt[1],Pt=Object(a.useState)([]),It=Object(o.a)(Pt,2),Wt=It[0],Rt=It[1],Ht=Object(a.useState)([]),Lt=Object(o.a)(Ht,2),Nt=Lt[0],Mt=Lt[1],zt=Object(a.useState)([]),qt=Object(o.a)(zt,2),Vt=qt[0],Qt=qt[1],Et=Object(a.useState)([]),Ut=Object(o.a)(Et,2),Kt=Ut[0],Yt=Ut[1],tn=Object(a.useState)(0),nn=Object(o.a)(tn,2),rn=nn[0],cn=nn[1],on=Object(a.useState)([]),ln=Object(o.a)(on,2),sn=ln[0],un=ln[1],dn=Object(a.useState)([]),pn=Object(o.a)(dn,2),hn=pn[0],bn=pn[1],jn=Object(a.useState)(null),fn=Object(o.a)(jn,2),mn=fn[0],xn=fn[1],On=Object(a.useState)(null),gn=Object(o.a)(On,2),yn=gn[0],kn=gn[1],vn=Object(a.useState)(null),Sn=Object(o.a)(vn,2),Cn=Sn[0],wn=Sn[1],Tn=Object(a.useState)(null),Dn=Object(o.a)(Tn,2),An=Dn[0],Pn=Dn[1],Bn=Object(a.useState)(null),In=Object(o.a)(Bn,2),Rn=In[0],Hn=In[1],Ln=Object(a.useState)("All"),Nn=Object(o.a)(Ln,2),Fn=Nn[0],Qn=Nn[1],En=c?c.map((function(e){return Object.assign(e,{productType:"misc"})})):[],Un=Object(a.useState)(En),aa=Object(o.a)(Un,2),ra=aa[0],ia=aa[1],ca=Object(a.useState)([]),oa=Object(o.a)(ca,2),la=oa[0],sa=oa[1],ua=Object(a.useState)([]),da=Object(o.a)(ua,2),pa=da[0],ha=da[1];Object(a.useEffect)((function(){var e,t=W.a.CancelToken.source();return e=t.token,W.a.get("/chairStock/features",{cancelToken:e}).then((function(e){un(e.data)})).catch((function(e){console.log(e)})).then((function(){})),function(e){W.a.get("/deskStock/features",{cancelToken:e}).then((function(e){bn(e.data)})).catch((function(e){console.log(e)})).then((function(){}))}(t.token),function(e){W.a.get("/accessoryStock/features",{cancelToken:e}).then((function(e){})).catch((function(e){console.log(e)})).then((function(){}))}(t.token),function(e){W.a.get("/chairStock",{cancelToken:e}).then((function(e){Rt(e.data)})).catch((function(e){console.log(e)})).then((function(){}))}(t.token),function(e){W.a.get("/deskStock",{cancelToken:e}).then((function(e){Mt(e.data)})).catch((function(e){console.log(e)})).then((function(){}))}(t.token),function(e){W.a.get("/accessoryStock",{cancelToken:e}).then((function(e){Qt(e.data),Yt(e.data)})).catch((function(e){console.log(e)})).then((function(){}))}(t.token),function(){return t.cancel("Stock Component got unmounted")}}),[]);return console.log("cart----",St),Object(F.jsxs)(ge.a,{sx:{height:"100%",overflow:"auto",padding:"20px 20px 10px 20px"},children:[Object(F.jsx)(Kn.a,{activeStep:oe,sx:{flexWrap:"wrap"},children:["Input Client Info","Select Products","Input Payment Details"].map((function(e,t){var n,a={};return n=t,(null!==re.current&&oe>0&&0===n?!re.current.checkValidity():0===St.length&&0===ra.length&&oe>1&&1===n)&&(a.optional=Object(F.jsx)(z.a,{variant:"caption",color:"error",children:["Invalid Input","Products cannot be empty"][t]}),a.error=!0),Object(F.jsx)(Yn.a,{sx:{my:"10px"},children:Object(F.jsx)(Jn.a,Object(H.a)(Object(H.a)({},a),{},{children:e}))},e)}))}),Object(F.jsxs)(ge.a,{sx:{mx:"auto",mt:"50px"},ref:re,hidden:0!==oe,component:"form",maxWidth:"sm",fullWidth:!0,onSubmit:function(e){e.preventDefault(),le(1)},children:[Object(F.jsxs)(Bt.a,{sx:{p:"10px",display:"flex",flexWrap:"wrap",justifyContent:"space-between"},children:[Object(F.jsx)(z.a,{variant:"h6",sx:{flexBasis:"100%",minWidth:"100%"},children:"Client Info"}),[{name:"name",label:"Name",type:"text",defaultValue:r.name,width:"100%",required:!0},{name:"phone",label:"Phone",type:"text",value:r.phone,onChange:r.setPhone,width:"48%"},{name:"email",label:"Email",type:"email",defaultValue:r.email,width:"48%"},{name:"district",label:"District",type:"text",defaultValue:r.district,width:"55%"},{name:"street",label:"Street",type:"text",defaultValue:r.street,width:"40%"},{name:"block",label:"Block",type:"text",defaultValue:r.block,width:"30%"},{name:"floor",label:"Floor",type:"text",defaultValue:r.floor,width:"30%"},{name:"unit",label:"Unit",type:"text",defaultValue:r.unit,width:"30%"}].map((function(e,t){e.setValue;var n=e.width,a=Object(L.a)(e,qa);return"Phone"===a.label?Object(F.jsx)(Wn.a,Object(H.a)({variant:"outlined",onlyCountries:["hk"],defaultCountry:"hk",sx:{flexBasis:n,minWidth:n},margin:"dense",size:"small"},a),t):Object(F.jsx)(ve.a,Object(H.a)({sx:{flexBasis:n,minWidth:n}},a),t)})),Object(F.jsx)(ve.a,{sx:{flexBasis:["100%","30%"],minWidth:["100%","30%"]},name:"timeLine",label:"TimeLine",type:"number",inputProps:{min:0},defaultValue:r.timeLine||0}),Object(F.jsxs)(Gn.a,{row:!0,name:"timeLineFormat",defaultValue:"day",sx:{flexBasis:["100%","70%"],minWidth:["100%","70%"],justifyContent:"flex-end"},children:[Object(F.jsx)(Se.a,{value:"day",control:Object(F.jsx)(_n.a,{}),label:"Days"}),Object(F.jsx)(Se.a,{value:"week",control:Object(F.jsx)(_n.a,{}),label:"Weeks"})]}),Object(F.jsx)(ve.a,{sx:{flexBasis:["100%","100%"],minWidth:["100%","100%"]},name:"remark",label:"Delivery Remark",type:"text",defaultValue:r.remark||""})]}),Object(F.jsx)(we.a,{type:"submit",sx:{marginTop:"10px",float:"right"},children:"Next"})]}),1===oe&&Object(F.jsxs)(F.Fragment,{children:[St.length>0&&Object(F.jsx)(Bt.a,{children:Object(F.jsx)(Mn,{sx:{px:"10px"},children:St.map((function(e,t){return Object(F.jsxs)(zn,{secondaryAction:Object(F.jsxs)(a.Fragment,{children:[Object(F.jsx)(Ke.a,{onClick:function(t){t.preventDefault(),function(e){At("edit"),Be(e.productType),ze(e.productDetail),Ze(e.remark),Qe(e.productPrice),Je(e.productAmount);var t=JSON.parse(e.productDeliveryOption);t.includes("Delivery Included")&&at(!0),t.includes("Delivery and installation included")&&ot(!0),t.includes("Remote Area Surcharge")&&bt(!0),t.includes("Stairs Surcharge")&&yt(!0),"chair"===e.productType||"accessory"===e.productType?pe(!0):"desk"===e.productType&&(ye(e.hasDeskTop),T(e.topColor),$(e.topCornerRadius),d(e.topHoleCount),j(e.topHolePosition),O(e.topHoleType),B(e.topLength),v(e.topMaterial),G(e.topRoundedCorners),U(e.topThickness),q(e.topWidth),ae(e.topSketchURL),fe(!0))}(e)},children:Object(F.jsx)(ft.a,{})}),Object(F.jsx)(Ke.a,{onClick:function(e){e.preventDefault(),Ct(St.filter((function(e,n){return n!==t})))},children:Object(F.jsx)(mt.a,{})})]}),children:["chair"===e.productType&&Object(F.jsx)(qn,{primary:"Chair: ".concat(e.productDetail.brand,", ").concat(e.productDetail.model,", ").concat(e.remark),secondary:"".concat(e.productDetail.withHeadrest?"Headrest, ":"").concat(e.productDetail.withAdArmrest?"Armrest":"")}),"desk"===e.productType&&Object(F.jsx)(qn,{primary:"Desk: ".concat(e.productDetail.supplierCode,", ").concat(e.productDetail.model,", ").concat(e.productDetail.color,", ").concat(e.productDetail.armSize,", ").concat(e.productDetail.feetSize,", ").concat(e.productDetail.beamSize),secondary:e.hasDeskTop?"".concat(e.topMaterial,", ").concat(e.topColor,", ").concat(e.topLength,"x").concat(e.topWidth,"x").concat(e.topThickness,", ").concat(e.topRoundedCorners,"-R").concat(e.topCornerRadius,", ").concat(e.topHoleCount,"-").concat(e.topHoleType):"Without DeskTop"}),"accessory"===e.productType&&Object(F.jsx)(qn,{primary:"Accessory: ".concat(e.productDetail.category),secondary:"".concat(e.remark)}),Object(F.jsx)(Vn,{unitPrice:"".concat(e.productPrice," HKD"),amount:"Amount: ".concat(e.productAmount),deliveryOption:"".concat(e.productDeliveryOption)})]},t)}))})}),Object(F.jsxs)(Bt.a,{sx:{my:"10px"},children:[Object(F.jsx)(ge.a,{sx:{borderBottom:1,borderColor:"divider"},children:Object(F.jsxs)(Xn.a,{value:rn,onChange:function(e,t){e.preventDefault(),cn(t)},"aria-label":"basic tabs example",children:[Object(F.jsx)(Zn.a,{label:"Chairs"}),Object(F.jsx)(Zn.a,{label:"Desks"}),Object(F.jsx)(Zn.a,{label:"Accessories"}),Object(F.jsx)(Zn.a,{label:"Miscs"})]})}),Object(F.jsxs)(Za,{value:rn,index:0,children:[Object(F.jsx)(Bt.a,{sx:{marginTop:"10px",padding:"5px 10px",display:"flex",flexWrap:"wrap",justifyContent:"space-around"},children:[{label:"Brand",value:mn,onChange:function(e,t){e.preventDefault(),xn(t),kn(null)},options:sn.map((function(e){return e.brand})).filter((function(e,t,n){return n.indexOf(e)===t}))},{label:"Model",value:yn,onChange:function(e,t){e.preventDefault(),kn(t)},options:sn.filter((function(e){return!mn||e.brand===mn})).map((function(e){return e.model})).filter((function(e,t,n){return n.indexOf(e)===t}))}].map((function(e,t){var n=e.label,a=Object(L.a)(e,Va);return Object(F.jsx)(_t.a,Object(H.a)({sx:{flexBasis:"200px",maxWidth:"200px"},renderInput:function(e){return Object(F.jsx)(ve.a,Object(H.a)(Object(H.a)({},e),{},{label:n}))}},a),t)}))}),Object(F.jsx)(an,{options:er,onChange:function(e){sa(e)},selected:la}),Object(F.jsx)(Ft,{nonSelect:!0,title:"Chair Stocks",rows:Wt.map((function(e,t){var n=e.thumbnailURL,a=e.withHeadrest,r=e.withAdArmrest,i=e.shipmentDate,c=e.arrivalDate,o=Object(L.a)(e,Fa);return Object(H.a)({thumbnail:Object(F.jsx)("a",{href:"/",onClick:function(e){e.preventDefault(),Pe.a.fire({html:'<img alt="" width="400px" src="'.concat(n,'" />'),showCloseButton:!0,showConfirmButton:!1,allowOutsideClick:!1})},children:Object(F.jsx)("img",{alt:"",width:"80px",src:n,style:{marginTop:"5px"}})}),withHeadrest:a?"Yes":"No",withAdArmrest:r?"Yes":"No",add:Object(F.jsx)(Ke.a,{onClick:function(e){if(e.preventDefault(),St.find((function(e){return"chair"===e.productType&&e.productDetail.id===Wt[t].id})))Pe.a.fire({icon:"warning",title:"Warning",text:"This product is already added.",allowOutsideClick:!1});else{Be("chair"),ze(Wt[t]);var n=""===Wt[t].frameColor?"___":Wt[t].frameColor,a=""===Wt[t].seatColor?"___":Wt[t].seatColor,r=""===Wt[t].backColor?"___":Wt[t].backColor;Ze("FrameColor:"+n+", SeatColor:"+a+", BackColor:"+r),Qe(Wt[t].unitPrice),Je(1),pe(!0)}},children:Object(F.jsx)(Xt.a,{})}),shipmentDate:function(){if(null===i)return"No";var e=new Date(i);return e.setMinutes(e.getMinutes()-e.getTimezoneOffset()),e.toISOString().split("T")[0]}(),arrivalDate:function(){if(null===c)return"No";var e=new Date(c);return e.setMinutes(e.getMinutes()-e.getTimezoneOffset()),e.toISOString().split("T")[0]}()},o)})).filter((function(e){return(!mn||e.brand===mn)&&(!yn||e.model===yn)})),columns:$a.map((function(e,t){return t>6&&la.find((function(t){return t===e.label})),e})).filter((function(e){return void 0!==e}))})]}),Object(F.jsxs)(Za,{value:rn,index:1,children:[Object(F.jsx)(Bt.a,{sx:{marginTop:"10px",padding:"5px 10px",display:"flex",flexWrap:"wrap",justifyContent:"space-around"},children:[{label:"Supplier",value:Cn,onChange:function(e,t){e.preventDefault(),wn(t),Pn(null),Hn(null)},options:hn.map((function(e){return e.supplierCode})).filter((function(e,t,n){return n.indexOf(e)===t}))},{label:"Model",value:An,onChange:function(e,t){e.preventDefault(),Pn(t),Hn(null)},options:hn.filter((function(e){return!Cn||e.supplierCode===Cn})).map((function(e){return e.model})).filter((function(e,t,n){return n.indexOf(e)===t}))},{label:"Color",value:Rn,onChange:function(e,t){e.preventDefault(),Hn(t)},options:hn.filter((function(e){return!An||e.model===An})).map((function(e){return e.color})).filter((function(e,t,n){return n.indexOf(e)===t}))}].map((function(e,t){var n=e.label,a=Object(L.a)(e,Qa);return Object(F.jsx)(_t.a,Object(H.a)({sx:{flexBasis:"200px",maxWidth:"200px"},renderInput:function(e){return Object(F.jsx)(ve.a,Object(H.a)(Object(H.a)({},e),{},{label:n}))}},a),t)}))}),Object(F.jsx)(an,{options:nr,onChange:function(e){ha(e)},selected:pa}),Object(F.jsx)(Ft,{nonSelect:!0,title:"Desk Leg Stocks",rows:Nt.map((function(e,t){var n=e.thumbnailURL,a=e.shipmentDate,r=e.arrivalDate,i=Object(L.a)(e,Ea);return Object(H.a)({thumbnail:Object(F.jsx)("a",{href:"/",onClick:function(e){e.preventDefault(),Pe.a.fire({html:'<img alt="" width="400px" src="'.concat(n,'" />'),showCloseButton:!0,showConfirmButton:!1,allowOutsideClick:!1})},children:Object(F.jsx)("img",{alt:"",width:"80px",src:n,style:{marginTop:"5px"}})}),add:Object(F.jsx)(Ke.a,{onClick:function(e){Be("desk"),ze(Nt[t]),Qe(Nt[t].unitPrice),Je(1),ye(!1),fe(!0)},children:Object(F.jsx)(Xt.a,{})}),shipmentDate:function(){if(null===a)return"No";var e=new Date(a);return e.setMinutes(e.getMinutes()-e.getTimezoneOffset()),e.toISOString().split("T")[0]}(),arrivalDate:function(){if(null===r)return"No";var e=new Date(r);return e.setMinutes(e.getMinutes()-e.getTimezoneOffset()),e.toISOString().split("T")[0]}()},i)})).filter((function(e){return(!Cn||e.supplierCode===Cn)&&(!An||e.model===An)&&(!Rn||e.color===Rn)})),columns:tr.map((function(e,t){return t>6&&pa.find((function(t){return t===e.label})),e})).filter((function(e){return void 0!==e}))})]}),Object(F.jsxs)(Za,{value:rn,index:2,children:[Object(F.jsx)(Bt.a,{sx:{marginTop:"10px",padding:"5px 10px",display:"flex",flexWrap:"wrap",justifyContent:"space-around"},children:Object(F.jsxs)(Re.a,{size:"small",sx:{flexBasis:"200px",maxWidth:"200px"},children:[Object(F.jsx)(He.a,{id:"category_filter",children:"Category"}),Object(F.jsxs)(Le.a,{labelId:"category_filter",label:"Category",value:Fn,onChange:function(e){var t=e.target.value;Qn(t),Qt("All"===t?Kt:Kt.filter((function(e){return e.category===t})))},children:[Object(F.jsx)(Ne.a,{value:"All",children:"All"}),Object(F.jsx)(Ne.a,{value:"Desk Accessories",children:"Desk Accessories"}),Object(F.jsx)(Ne.a,{value:"Chair Accessories",children:"Chair Accessories"}),Object(F.jsx)(Ne.a,{value:"Desk on Desk",children:"Desk on Desk"}),Object(F.jsx)(Ne.a,{value:"Monitor Arms",children:"Monitor Arms"}),Object(F.jsx)(Ne.a,{value:"Cabinet",children:"Cabinet"}),Object(F.jsx)(Ne.a,{value:"Drawer",children:"Drawer"})]})]})}),Object(F.jsx)(Ft,{nonSelect:!0,title:"Accessory Stocks",rows:Vt.map((function(e,t){var n=e.thumbnailURL,a=e.shipmentDate,r=e.arrivalDate,i=Object(L.a)(e,Ua);return Object(H.a)({thumbnail:Object(F.jsx)("a",{href:"/",onClick:function(e){e.preventDefault(),Pe.a.fire({html:'<img alt="" width="400px" src="'.concat(n,'" />'),showCloseButton:!0,showConfirmButton:!1,allowOutsideClick:!1})},children:Object(F.jsx)("img",{alt:"",width:"80px",src:n,style:{marginTop:"5px"}})}),add:Object(F.jsx)(Ke.a,{onClick:function(e){e.preventDefault(),Be("accessory"),ze(Vt[t]),Ze(Vt[t].remark),Qe(Vt[t].unitPrice),Je(1),St.find((function(e){return"accessory"===e.productType&&e.productDetail.id===Vt[t].id}))?Pe.a.fire({icon:"warning",title:"Warning",text:"This product is already added.",allowOutsideClick:!1}):pe(!0)},children:Object(F.jsx)(Xt.a,{})}),shipmentDate:function(){if(null===a)return"No";var e=new Date(a);return e.setMinutes(e.getMinutes()-e.getTimezoneOffset()),e.toISOString().split("T")[0]}(),arrivalDate:function(){if(null===r)return"No";var e=new Date(r);return e.setMinutes(e.getMinutes()-e.getTimezoneOffset()),e.toISOString().split("T")[0]}()},i)})),columns:ar})]}),Object(F.jsx)(Za,{value:rn,index:3,children:Object(F.jsxs)(ge.a,{sx:{m:3},children:[Object(F.jsx)(we.a,{variant:"contained",sx:{mb:2},onClick:function(){var e={id:Object(na.a)(),description:"",price:0,productType:"misc"};ia([].concat(Object(R.a)(ra),[e]))},children:"+ New Service"}),Object(F.jsx)(ke.a,{container:!0,spacing:2,children:ra.map((function(e){return Object(F.jsx)(ke.a,{item:!0,xs:4,children:Object(F.jsxs)($n.a,{sx:{px:2,pb:2},children:[Object(F.jsx)(ge.a,{sx:{display:"flex",justifyContent:"flex-end"},children:Object(F.jsx)(Ke.a,{"aria-label":"settings",size:"small",onClick:function(){return function(e){var t=ra.filter((function(t){return t.id!==e}));ia(t)}(e.id)},children:Object(F.jsx)(ta.a,{fontSize:"small"})})}),Object(F.jsx)(ve.a,{label:"Description",multiline:!0,rows:5,sx:{flexBasis:"100%",minWidth:"100%"},value:e.description,onChange:function(t){return function(e,t){var n=ra.map((function(n){return n.id===t?Object.assign({},n,{description:e.target.value}):n}));ia(n)}(t,e.id)}}),Object(F.jsx)(ve.a,{type:"number",sx:{flexBasis:"100%",minWidth:"100%"},label:"Price",value:e.price,onChange:function(t){return function(e,t){var n=ra.map((function(n){return n.id===t?Object.assign({},n,{price:parseFloat(e.target.value)}):n}));ia(n)}(t,e.id)}})]})},e.id)}))})]})})]}),Object(F.jsx)(we.a,{onClick:function(e){e.preventDefault(),le(0)},children:"Previous"}),Object(F.jsx)(we.a,{sx:{float:"right"},onClick:function(e){e.preventDefault(),0!==St.length||0!==ra.length?le(2):Pe.a.fire({icon:"warning",title:"Warning",text:"Products and services list cannot be empty",allowOutsideClick:!1})},children:"Next"})]}),Object(F.jsxs)(ge.a,{sx:{mx:"auto",mt:"50px"},hidden:2!==oe,component:"form",maxWidth:"sm",fullWidth:!0,onSubmit:function(t){t.preventDefault();var a=new FormData(re.current),i=new FormData(t.currentTarget);"create"===n?W.a.post("/quotation/create",{name:a.get("name"),phone:a.get("phone"),email:a.get("email"),district:a.get("district"),street:a.get("street"),block:a.get("block"),floor:a.get("floor"),unit:a.get("unit"),timeLine:Math.max(a.get("timeLine"),0)*("day"===a.get("timeLineFormat")?1:7),remark:a.get("remark"),products:St.map((function(e){var t,n=e.productDetail,a=Object(L.a)(e,Ka);return Object(H.a)({productId:n.id,productCategory:null!==(t=n.category)&&void 0!==t?t:""},a)})).concat(ra),paymentTerms:i.get("paymentTerms"),paid:Boolean(i.get("paid")),validTil:i.get("validTil")||null,discount:Math.max(i.get("discountType")>0?i.get("discount"):Math.min(i.get("discount"),100),0),discountType:i.get("discountType"),surcharge:Math.max(i.get("surchargeType")>0?i.get("surcharge"):Math.min(i.get("surcharge"),100),0),surchargeType:i.get("surchargeType")}).then((function(){e.history.push("/admin/quotation")})).catch((function(e){Pe.a.fire({icon:"error",title:"Error",text:e.response.data.message,allowOutsideClick:!1}).then((function(){})),console.log(e)})).then((function(){})):W.a.put("/quotation/".concat(r.id),{name:a.get("name"),phone:a.get("phone"),email:a.get("email"),district:a.get("district"),street:a.get("street"),block:a.get("block"),floor:a.get("floor"),unit:a.get("unit"),timeLine:a.get("timeLine")*("day"===a.get("timeLineFormat")?1:7),remark:a.get("remark"),products:St.map((function(e){var t,n=e.productDetail,a=Object(L.a)(e,Ya);return Object(H.a)({productId:n.id,productCategory:null!==(t=n.category)&&void 0!==t?t:""},a)})).concat(ra),paymentTerms:i.get("paymentTerms"),paid:Boolean(i.get("paid")),validTil:i.get("validTil")||null,discount:Math.max(i.get("discountType")>0?i.get("discount"):Math.min(i.get("discount"),100),0),discountType:i.get("discountType"),surcharge:Math.max(i.get("surchargeType")>0?i.get("surcharge"):Math.min(i.get("surcharge"),100),0),surchargeType:i.get("surchargeType")}).then((function(){e.history.push("/admin/quotation")})).catch((function(e){Pe.a.fire({icon:"error",title:"Error",text:e.response.data.message,allowOutsideClick:!1}).then((function(){})),console.log(e)})).then((function(){}))},children:[Object(F.jsxs)(Bt.a,{sx:{p:"10px",display:"flex",flexWrap:"wrap",justifyContent:"space-between"},children:[Object(F.jsx)(z.a,{variant:"h6",sx:{flexBasis:"100%",minWidth:"100%"},children:"Payment Details"}),Object(F.jsxs)(z.a,{variant:"h7",sx:{flexBasis:"100%",minWidth:"100%"},children:["Sub Total:"," ",St.reduce((function(e,t){return e+t.productAmount*parseFloat(t.productPrice)}),0)+ra.reduce((function(e,t){return e+t.price}),0)]}),Object(F.jsx)(ve.a,{name:"paymentTerms",size:"small",sx:{flexBasis:"100%",minWidth:"100%"},defaultValue:r.paymentTerms,label:"Payment Terms"}),Object(F.jsx)(Se.a,{sx:{flexBasis:"100%",minWidth:"100%",alignItems:"baseline",m:0},control:Object(F.jsx)(ve.a,{type:"number",name:"validTil",label:"Valid Til",inputProps:{max:10,min:0},defaultValue:r.validTil,InputLabelProps:{shrink:!0},fullWidth:!0,sx:{m:"10px 5px 10px 0"}}),label:"month(s)"}),Object(F.jsx)(ve.a,{sx:{flexBasis:["58%","68%"],minWidth:["58%","68%"],alignItems:"baseline",m:0},label:"Discount",type:"number",name:"discount",inputProps:{min:0},defaultValue:r.discount,fullWidth:!0}),Object(F.jsxs)(Le.a,{sx:{flexBasis:["40%","30%"],minWidth:["40%","30%"],alignItems:"baseline",m:0},name:"discountType",defaultValue:r.discountType,children:[Object(F.jsx)(Ne.a,{value:0,children:"%"}),Object(F.jsx)(Ne.a,{value:1,children:"HKD"})]}),Object(F.jsx)(ve.a,{sx:{flexBasis:["58%","68%"],minWidth:["58%","68%"],alignItems:"baseline",mt:"10px",mb:0},label:"Surcharge",type:"number",name:"surcharge",inputProps:{min:0},defaultValue:r.surcharge,fullWidth:!0}),Object(F.jsxs)(Le.a,{sx:{flexBasis:["40%","30%"],minWidth:["40%","30%"],alignItems:"baseline",mt:"10px",mb:0},name:"surchargeType",defaultValue:r.surchargeType,children:[Object(F.jsx)(Ne.a,{value:0,children:"%"}),Object(F.jsx)(Ne.a,{value:1,children:"HKD"})]})]}),Object(F.jsx)(we.a,{sx:{marginTop:"10px"},onClick:function(e){e.preventDefault(),le(1)},children:"Previous"}),Object(F.jsx)(we.a,{sx:{float:"right",marginTop:"10px"},type:"submit",children:"Finish"})]}),Object(F.jsxs)(ut.a,{open:de,maxWidth:"sm",fullWidth:!0,fullScreen:Object(en.a)(t.breakpoints.down("sm")),PaperProps:{component:"form",onSubmit:function(e){e.preventDefault();var t=new FormData(e.currentTarget);if(at(!1),ot(!1),bt(!1),yt(!1),pe(!1),"add"===Dt){if(St.find((function(e){return e.productType===Ae&&e.productDetail.id===Me.id})))return void Pe.a.fire({icon:"warning",title:"Warning",text:"This product is already added.",allowOutsideClick:!1});Ct(St.concat({productType:Ae,productDetail:Me,productAmount:Ye,productDeliveryOption:JSON.stringify(["Delivery Included","Delivery and installation included","Remote Area Surcharge","Stairs Surcharge"].filter((function(e,n){return Boolean(t.get("deliveryOption_".concat(n)))}))),productPrice:e.currentTarget.unitPrice.value,remark:Xe}))}else if("edit"===Dt){var n=St.map((function(n){return n.productType===Ae&&n.productDetail.id===Me.id?{productType:Ae,productDetail:Me,productAmount:Ye,productDeliveryOption:JSON.stringify(["Delivery Included","Delivery and installation included","Remote Area Surcharge","Stairs Surcharge"].filter((function(e,n){return Boolean(t.get("deliveryOption_".concat(n)))}))),productPrice:e.currentTarget.unitPrice.value,remark:Xe}:n}));Ct(n)}}},children:[Object(F.jsx)(dt.a,{children:"Price and Amount"}),Object(F.jsxs)(pt.a,{sx:{textAlign:"center"},children:[Object(F.jsx)(ve.a,{label:"Unit Price",type:"number",name:"unitPrice",value:Fe,sx:{width:"200px"},InputProps:{readOnly:!0,endAdornment:Object(F.jsx)(ea.a,{position:"end",children:"HKD"})}}),Object(F.jsxs)(ge.a,{sx:{display:"flex",alignItems:"center",width:"200px",border:"1px solid #0000003b",borderRadius:"4px",my:"10px",mx:"auto",p:"5px 3px"},children:[Object(F.jsx)(z.a,{variant:"span",sx:{flexGrow:1},children:"Amount"}),Object(F.jsx)(Ke.a,{onClick:function(e){e.preventDefault(),Je(Math.max(Ye-1,1))},children:Object(F.jsx)(Zt.a,{})}),Object(F.jsx)(z.a,{variant:"span",sx:{ml:"10px"},children:Ye}),Object(F.jsx)(Ke.a,{onClick:function(e){e.preventDefault(),Je(Math.min(Ye+1,99))},children:Object(F.jsx)(Xt.a,{})})]}),Object(F.jsx)(ge.a,{sx:{alignItems:"center",justifyContent:"center",my:"10px",mx:"auto",p:"5px 3px"},children:Object(F.jsx)(ve.a,{label:"Specification",name:"remark",value:Xe,sx:{width:400,mx:"5px"},onChange:function(e){Ze(e.target.value)}})}),Object(F.jsx)(Se.a,{sx:{display:"block",textAlign:"left",marginLeft:"100px"},control:Object(F.jsx)(Ce.a,{name:"deliveryOption_0",checked:nt,onChange:function(e){return at(e.target.checked)},sx:{textAlign:"left"}}),label:"Delivery Included"}),Object(F.jsx)(Se.a,{sx:{display:"block",textAlign:"left",marginLeft:"100px"},control:Object(F.jsx)(Ce.a,{name:"deliveryOption_1",checked:ct,onChange:function(e){return ot(e.target.checked)}}),label:"Delivery and installation included"}),Object(F.jsx)(Se.a,{sx:{display:"block",textAlign:"left",marginLeft:"100px"},control:Object(F.jsx)(Ce.a,{name:"deliveryOption_2",checked:ht,onChange:function(e){return bt(e.target.checked)}}),label:"Remote Area Surcharge"}),Object(F.jsx)(Se.a,{sx:{display:"block",textAlign:"left",marginLeft:"100px"},control:Object(F.jsx)(Ce.a,{name:"deliveryOption_3",checked:gt,onChange:function(e){return yt(e.target.checked)}}),label:"Stairs Surcharge"})]}),Object(F.jsxs)(jt.a,{children:[Object(F.jsx)(we.a,{onClick:function(e){at(!1),ot(!1),bt(!1),yt(!1),pe(!1)},children:"Cancel"}),Object(F.jsx)(we.a,{type:"submit",children:"OK"})]})]}),Object(F.jsxs)(ut.a,{open:je,maxWidth:"sm",fullWidth:!0,fullScreen:Object(en.a)(t.breakpoints.down("sm")),PaperProps:{component:"form",onSubmit:function(){var e=Object(Gt.a)(Jt.a.mark((function e(t){var n,a,r,i,c,o,l,s;return Jt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),d(0),j("Left"),O("Rounded"),v("Melamine"),T(""),B(700),q(400),U(25),G(0),$(50),ae(""),at(!1),ot(!1),bt(!1),yt(!1),fe(!1),n=new FormData(t.currentTarget),"add"!==Dt){e.next=38;break}if(Oe||!St.find((function(e){return"desk"===e.productType&&e.productDetail.id===Me.id&&!e.hasDeskTop}))){e.next=22;break}return Pe.a.fire({icon:"warning",title:"Warning",text:"This product is already added.",allowOutsideClick:!1}),e.abrupt("return");case 22:if(a="",!n.get("topSketchImg")||!n.get("topSketchImg").name){e.next=35;break}return(r=new FormData).append("file",n.get("topSketchImg")),e.prev=26,e.next=29,W.a.post("/upload",r,{headers:{"Content-Type":"application/x-www-form-urlencoded"}});case 29:i=e.sent,a=i.data.url,e.next=35;break;case 33:e.prev=33,e.t0=e.catch(26);case 35:Ct(St.concat({productType:Ae,productDetail:Me,productAmount:Ye,productDeliveryOption:JSON.stringify(["Delivery Included","Delivery and installation included","Remote Area Surcharge","Stairs Surcharge"].filter((function(e,t){return Boolean(n.get("deliveryOption_".concat(t)))}))),productPrice:Boolean(n.get("hasDeskTop"))?Number(n.get("deskTotalPrice")):Number(n.get("deskLegPrice")),hasDeskTop:Boolean(n.get("hasDeskTop"))||!1,topMaterial:n.get("topMaterial")||"",topColor:n.get("topColor")||"",topLength:n.get("topLength")||0,topWidth:n.get("topWidth")||0,topThickness:n.get("topThickness")||0,topRoundedCorners:n.get("topRoundedCorners")||0,topCornerRadius:n.get("topCornerRadius")||50,topHoleCount:n.get("topHoleCount")||0,topHoleType:n.get("topHoleType")||"",topHolePosition:b||"",remark:n.get("remark")||"",topSketchURL:a})),e.next=54;break;case 38:if("edit"!==Dt){e.next=54;break}if(c=ne,!n.get("topSketchImg")||!n.get("topSketchImg").name){e.next=52;break}return(o=new FormData).append("file",n.get("topSketchImg")),e.prev=43,e.next=46,W.a.post("/upload",o,{headers:{"Content-Type":"application/x-www-form-urlencoded"}});case 46:l=e.sent,c=l.data.url,e.next=52;break;case 50:e.prev=50,e.t1=e.catch(43);case 52:s=St.map((function(e){return"desk"===e.productType&&e.productDetail.id===Me.id?{productType:Ae,productDetail:Me,productAmount:Ye,productDeliveryOption:JSON.stringify(["Delivery Included","Delivery and installation included","Remote Area Surcharge","Stairs Surcharge"].filter((function(e,t){return Boolean(n.get("deliveryOption_".concat(t)))}))),productPrice:Boolean(n.get("hasDeskTop"))?Number(n.get("deskTotalPrice")):Number(n.get("deskLegPrice")),hasDeskTop:Boolean(n.get("hasDeskTop"))||!1,topMaterial:n.get("topMaterial")||"",topColor:n.get("topColor")||"",topLength:n.get("topLength")||0,topWidth:n.get("topWidth")||0,topThickness:n.get("topThickness")||0,topRoundedCorners:n.get("topRoundedCorners")||0,topCornerRadius:n.get("topCornerRadius")||50,topHoleCount:n.get("topHoleCount")||0,topHoleType:n.get("topHoleType")||"",topHolePosition:b||"",remark:n.get("remark")||"",topSketchURL:c}:e})),Ct(s);case 54:case"end":return e.stop()}}),e,null,[[26,33],[43,50]])})));return function(t){return e.apply(this,arguments)}}()},children:[Object(F.jsx)(dt.a,{children:"Price and Amount"}),Object(F.jsxs)(pt.a,{sx:{textAlign:"center"},children:[Object(F.jsx)(ve.a,{label:"Desk Leg Price",type:"number",name:"deskLegPrice",value:Fe,sx:{width:200,visibility:Oe?"hidden":"visible"},InputProps:{readOnly:!0,endAdornment:Object(F.jsx)(ea.a,{position:"end",children:"HKD"})}}),Object(F.jsx)(tt.a,{sx:{my:"10px"}}),Object(F.jsxs)(ge.a,{display:"flex",flexWrap:"wrap",justifyContent:"space-between",children:[Object(F.jsx)(Se.a,{control:Object(F.jsx)(Ce.a,{name:"hasDeskTop",checked:Oe,onChange:function(e){ye(e.currentTarget.checked)}}),label:"with Table Top",sx:{flexBasis:"100%",minWidth:"100%"}}),[{name:"topMaterial",label:"Material",type:"autocomplete",value:k,onChange:function(e,t){e.preventDefault(),v(t)},options:rr,width:"65%"},{name:"topColor",label:"Color",type:"text",width:"30%",value:w,onChange:function(e){e.preventDefault(),T(e.target.value)}},{name:"topLength",label:"Length",type:"suffixNumber",suffix:"mm",inputProps:{min:0},width:"30%",value:P,onChange:function(e){e.preventDefault(),B(e.target.value)}},{name:"topWidth",label:"Width",type:"suffixNumber",suffix:"mm",inputProps:{min:0},width:"30%",value:M,onChange:function(e){e.preventDefault(),q(e.target.value)}},{name:"topThickness",label:"Thickness",type:"suffixNumber",suffix:"mm",inputProps:{min:0},width:"30%",value:E,onChange:function(e){e.preventDefault(),U(e.target.value)}},{name:"topRoundedCorners",label:"Rounded Corners",type:"select",options:[0,1,2,3,4],width:"48%",value:J,onChange:function(e){e.preventDefault(),G(e.target.value)}},{name:"topCornerRadius",label:"Corner Radius",type:"number",inputProps:{min:0},width:"48%",value:Z,onChange:function(e){e.preventDefault(),$(e.target.value)}},{name:"topHoleCount",label:"Number of Holes",type:"select",value:u,onChange:function(e){e.preventDefault(),d(e.target.value),1===e.target.value?j("Left"):2===e.target.value?j("Left_Right"):3===e.target.value&&j("Left_Right_Center")},options:[0,1,2,3],width:"48%"},{name:"topHoleType",label:"Type of Holes",type:"select",value:x,onChange:function(e){e.preventDefault(),O(e.target.value)},options:["Rounded","Rectangular"],width:"48%"},{name:"topHolePosition",label:"Hole Position",type:"select",value:b,onChange:function(e){e.preventDefault(),j(e.target.value)},options:1===u?["Left","Right","Center"]:["Left","Right","Center","Left_Right","Left_Right_Center"],disabled:1!==u,visible:"true",width:"48%"},{name:"remark",label:"Specification",type:"text",width:"100%",value:Xe,onChange:function(e){e.preventDefault(),Ze(e.target.value)}},{name:"topSketchImg",label:"Sketch Image (Optional)",type:"file",inputProps:{accept:"image/png, image/gif, image/jpeg"},InputLabelProps:{shrink:!0},width:"100%"}].map((function(e,t){var n=e.type,a=e.width,r=Object(L.a)(e,Ja);if("autocomplete"===n){var i=r.name,c=r.label,o=Object(L.a)(r,Ga);return Object(F.jsx)(_t.a,Object(H.a)({sx:{flexBasis:a,minWidth:a},renderInput:function(e){return Object(F.jsx)(ve.a,Object(H.a)(Object(H.a)({},e),{},{name:i,label:c}))},disabled:!Oe},o),t)}if("suffixNumber"===n){var l=r.suffix,s=Object(L.a)(r,_a);return Object(F.jsx)(Se.a,{sx:{flexBasis:a,minWidth:a,alignItems:"baseline",mx:0},control:Object(F.jsx)(ve.a,Object(H.a)({fullWidth:!0,sx:{m:"10px 5px 0 0"},type:"number",disabled:!Oe},s)),label:l},t)}if("select"===n){var u=r.name,d=r.label,p=r.options,h=Object(L.a)(r,Xa);return"topHolePosition"===u?h.visible?Object(F.jsxs)(Re.a,{sx:{flexBasis:a,minWidth:a},children:[Object(F.jsx)(He.a,{id:"desk-top-".concat(u,"-select-label"),children:d}),Object(F.jsx)(Le.a,Object(H.a)(Object(H.a)({labelId:"desk-top-".concat(u,"-select-label"),id:"desk-top-".concat(u,"-select"),name:u,label:d,size:"small",disabled:!Oe},h),{},{children:p.map((function(e,t){return Object(F.jsx)(Ne.a,{value:e,children:e},t)}))}))]},t):"":Object(F.jsxs)(Re.a,{sx:{flexBasis:a,minWidth:a},children:[Object(F.jsx)(He.a,{id:"desk-top-".concat(u,"-select-label"),children:d}),Object(F.jsx)(Le.a,Object(H.a)(Object(H.a)({labelId:"desk-top-".concat(u,"-select-label"),id:"desk-top-".concat(u,"-select"),name:u,label:d,size:"small",disabled:!Oe},h),{},{children:p.map((function(e,t){return Object(F.jsx)(Ne.a,{value:e,children:e},t)}))}))]},t)}return Object(F.jsx)(ve.a,Object(H.a)({type:n,sx:{flexBasis:a,minWidth:a},disabled:!Oe},r),t)})),Object(F.jsx)(ve.a,{label:"Desk Total Price",type:"number",name:"deskTotalPrice",defaultValue:Fe,sx:{flexBasis:200,minWidth:200,mx:"auto"},disabled:!Oe,InputProps:{endAdornment:Object(F.jsx)(ea.a,{position:"end",children:"HKD"})}})]}),Object(F.jsx)(tt.a,{sx:{my:"10px"}}),Object(F.jsxs)(ge.a,{sx:{display:"flex",alignItems:"center",width:"200px",border:"1px solid #0000003b",borderRadius:"4px",mt:"10px",mx:"auto",p:"5px 3px"},children:[Object(F.jsx)(z.a,{variant:"span",sx:{flexGrow:1},children:"Amount"}),Object(F.jsx)(Ke.a,{onClick:function(e){e.preventDefault(),Je(Math.max(Ye-1,1))},children:Object(F.jsx)(Zt.a,{})}),Object(F.jsx)(z.a,{variant:"span",mx:"10px",children:Ye}),Object(F.jsx)(Ke.a,{onClick:function(e){e.preventDefault(),Je(Math.min(Ye+1,99))},children:Object(F.jsx)(Xt.a,{})})]}),Object(F.jsx)(Se.a,{sx:{display:"block"},control:Object(F.jsx)(Ce.a,{name:"deliveryOption_0",checked:nt,onChange:function(e){return at(e.target.checked)},sx:{textAlign:"left"}}),label:"Delivery Included"}),Object(F.jsx)(Se.a,{sx:{display:"block"},control:Object(F.jsx)(Ce.a,{name:"deliveryOption_1",checked:ct,onChange:function(e){return ot(e.target.checked)}}),label:"Delivery and installation included"}),Object(F.jsx)(Se.a,{sx:{display:"block"},control:Object(F.jsx)(Ce.a,{name:"deliveryOption_2",checked:ht,onChange:function(e){return bt(e.target.checked)}}),label:"Remote Area Surcharge"}),Object(F.jsx)(Se.a,{sx:{display:"block"},control:Object(F.jsx)(Ce.a,{name:"deliveryOption_3",checked:gt,onChange:function(e){return yt(e.target.checked)}}),label:"Stairs Surcharge"})]}),Object(F.jsxs)(jt.a,{children:[Object(F.jsx)(we.a,{onClick:function(e){e.preventDefault(),d(0),j("Left"),O("Rounded"),v("Melamine"),T(""),B(700),q(400),U(25),G(0),$(50),ae(""),at(!1),ot(!1),bt(!1),yt(!1),fe(!1)},children:"Cancel"}),Object(F.jsx)(we.a,{type:"submit",children:"OK"})]})]})]})})),cr=function(e){var t=Object(a.useState)(""),n=Object(o.a)(t,2),r=n[0],i=n[1];return Object(F.jsx)(ir,Object(H.a)({componentType:"create",initialClient:{phone:r,setPhone:i,paid:!0,discountType:1,surchargeType:1,validTil:1,remark:""},initialCart:[]},e))},or=["ChairStocks","DeskStocks","DeskToQuotations","AccessoryStocks","ServiceToQuotations","Seller","sellerId"],lr=["ChairToQuotation"],sr=["stockId","unitPrice","qty","deliveryOption"],ur=["AccessoryToQuotation"],dr=function(e){var t=(Object(s.g)().state||{}).quotation,n=t||{},r=n.ChairStocks,i=n.DeskStocks,c=n.DeskToQuotations,l=n.AccessoryStocks,u=n.ServiceToQuotations,d=(n.Seller,n.sellerId,Object(L.a)(n,or)),p=Object(a.useState)(d.phone),h=Object(o.a)(p,2),b=h[0],j=h[1];return t?Object(F.jsx)(ir,Object(H.a)({componentType:"edit",initialClient:Object(H.a)(Object(H.a)({},d),{},{phone:b,setPhone:j}),initialCart:r.map((function(e){var t=e.ChairToQuotation;return{productType:"chair",productDetail:Object(L.a)(e,lr),remark:t.remark,productPrice:t.unitPrice,productAmount:t.qty,productDeliveryOption:t.deliveryOption}})).concat(c.map((function(e){var t=e.stockId,n=e.unitPrice,a=e.qty,r=e.deliveryOption,c=Object(L.a)(e,sr),o=i.find((function(e){return e.id===t}));return Object(H.a)({productType:"desk",productDetail:o,productPrice:n,productAmount:a,productDeliveryOption:r},c)}))).concat(l.map((function(e){var t=e.AccessoryToQuotation;return{productType:"accessory",productDetail:Object(L.a)(e,ur),remark:t.remark,productPrice:t.unitPrice,productAmount:t.qty,productDeliveryOption:t.deliveryOption}}))),initialServices:u},e)):Object(F.jsx)(s.a,{to:"/admin/quotation"})},pr=["id","SalesOrder","ChairStock"],hr=["width"],br=[{id:"proDeliveryDate",label:"Proposed Delivery Date",sx:{paddingLeft:"10px",minWidth:120}},{id:"orderDate",label:"Order Date",sx:{minWidth:100}},{id:"invoiceNum",label:"Inovice #",sx:{minWidth:100}},{id:"poNum",label:"PO #",sx:{minWidth:100}},{id:"district",label:"Delivery Address"},{id:"name",label:"Name"},{id:"phone",label:"Phone"},{id:"brand",label:"Brand"},{id:"model",label:"Model"},{id:"frameColor",label:"FColor"},{id:"backColor",label:"BColor"},{id:"seatColor",label:"SColor"},{id:"withHeadrest",label:"Headrest"},{id:"withAdArmrest",label:"Armrest"},{id:"remark",label:"Remark"},{id:"deliveryPDF",label:"Note",sx:{paddingRight:"10px"}},{id:"edit"}];var jr=Object(f.b)((function(e){return{auth:e.auth}}))((function(e){var t=Object($t.a)(),n=Object(a.useState)([]),r=Object(o.a)(n,2),i=r[0],c=r[1],s=Object(a.useState)([]),u=Object(o.a)(s,2),d=u[0],p=u[1],h=Object(a.useState)(!1),b=Object(o.a)(h,2),j=b[0],f=b[1],m=Object(a.useState)([]),x=Object(o.a)(m,2),O=x[0],g=x[1],y=function(e){W.a.get("/delivery/allChair",e).then((function(e){var t=e.data.filter((function(e){return!0===e.SalesOrder.paid}));c(t)})).catch((function(e){console.log(e)})).then((function(){}))};return Object(a.useEffect)((function(){var e=W.a.CancelToken.source();return y({cancelToken:e.token}),function(){return e.cancel("Stock Component got unmounted")}}),[]),Object(F.jsxs)(ge.a,{sx:{height:"100%",overflow:"auto",padding:"10px 20px"},children:[Object(F.jsx)(Ft,{title:"Chair Delivery",rows:i.map((function(e,t){var n=e.id,a=e.SalesOrder,r=e.ChairStock,c=Object(L.a)(e,pr);return Object(H.a)({id:n,orderDate:function(){var e=new Date(a.createdAt);return e.setMinutes(e.getMinutes()-e.getTimezoneOffset()),e.toISOString().split("T")[0]}(),invoiceNum:"I-".concat(a.Seller.prefix).concat(new Date(a.createdAt).getFullYear(),"-").concat(("000"+a.invoiceNum).substr(-3)),district:a.district,name:a.name,phone:a.phone,email:a.email,brand:null===r?"":r.brand,model:null===r?"":r.model,frameColor:null===r?"":r.frameColor,backColor:null===r?"":r.backColor,seatColor:null===r?"":r.seatColor,withHeadrest:null===r?"No":r.withHeadrest?"Yes":"No",withAdArmrest:null===r?"No":r.withAdArmrest?"Yes":"No",remark:null===r?"":r.reamrk,deliveryPDF:Object(F.jsx)(we.a,{variant:"contained",sx:{my:"5px",width:100,fontSize:10},component:l.b,target:"_blank",to:"/deliveryPDF/chair/".concat(n),children:"Delivery Note"}),edit:Object(F.jsx)(Ke.a,{onClick:function(e){e.preventDefault(),function(e){e<i.length&&e>=0&&(p([i[e].id]),g([{name:"poNum",label:"PO #",type:"text",defaultValue:i[e].poNum,width:"100%"}])),f(!0)}(t)},children:Object(F.jsx)(ft.a,{})})},c)})),columns:br,onBulkEditClick:function(e){p(e),g([{name:"poNum",label:"PO #",type:"text",width:"100%"}]),f(!0)}}),Object(F.jsxs)(ut.a,{fullWidth:!0,fullScreen:Object(en.a)(t.breakpoints.down("sm")),maxWidth:"sm",open:j,PaperProps:{component:"form",onSubmit:function(e){e.preventDefault();var t=new FormData(e.currentTarget);W.a.put("/delivery/chair",{ids:d,poNum:t.get("poNum")}).then((function(e){f(!1),y()})).catch((function(e){f(!1),Pe.a.fire({icon:"error",title:"Error",html:e.response.data.message.replace("\n","<br />"),allowOutsideClick:!1}).then((function(){f(!0)})),console.log(e)})).then((function(){}))}},children:[Object(F.jsx)(dt.a,{children:"Edit PO #"}),Object(F.jsx)(pt.a,{children:Object(F.jsx)(Bt.a,{sx:{mt:"5px",p:"10px",display:"flex",flexWrap:"wrap",justifyContent:"space-between"},children:O.map((function(e,t){var n=e.width,a=Object(L.a)(e,hr);return Object(F.jsx)(ve.a,Object(H.a)({sx:{flexBasis:n,minWidth:n}},a),t)}))})}),Object(F.jsxs)(jt.a,{children:[Object(F.jsx)(we.a,{onClick:function(){f(!1)},children:"Cancel"}),Object(F.jsx)(we.a,{type:"submit",children:"Save"})]})]})]})})),fr=["id","SalesOrder","DeskStock"],mr=["width"],xr=[{id:"proDeliveryDate",label:"Proposed Delivery Date",sx:{paddingLeft:"10px",minWidth:120}},{id:"orderDate",label:"Order Date",sx:{minWidth:100}},{id:"invoiceNum",label:"Inovice #",sx:{minWidth:100}},{id:"akNum",label:"AK #",sx:{minWidth:100}},{id:"heworkNum",label:"Hework #",sx:{minWidth:100}},{id:"district",label:"Delivery Address"},{id:"name",label:"Name"},{id:"phone",label:"Phone"},{id:"model",label:"Model"},{id:"color",label:"Color"},{id:"armSize",label:"Arm Size"},{id:"feetSize",label:"Feet Size"},{id:"beamSize",label:"Beam Size"},{id:"deskTop",label:"Table Top"},{id:"remark",label:"Remark"},{id:"deliveryPDF",label:"Note",sx:{paddingRight:"10px"}},{id:"edit"}];var Or=Object(f.b)((function(e){return{auth:e.auth}}))((function(e){var t=Object($t.a)(),n=Object(a.useState)([]),r=Object(o.a)(n,2),i=r[0],c=r[1],s=Object(a.useState)([]),u=Object(o.a)(s,2),d=u[0],p=u[1],h=Object(a.useState)(!1),b=Object(o.a)(h,2),j=b[0],f=b[1],m=Object(a.useState)([]),x=Object(o.a)(m,2),O=x[0],g=x[1],y=function(e){W.a.get("/delivery/allDesk",e).then((function(e){var t=e.data.filter((function(e){return!0===e.SalesOrder.paid}));c(t)})).catch((function(e){console.log(e)})).then((function(){}))};return Object(a.useEffect)((function(){var e=W.a.CancelToken.source();return y({cancelToken:e.token}),function(){return e.cancel("Stock Component got unmounted")}}),[]),Object(F.jsxs)(ge.a,{sx:{height:"100%",overflow:"auto",padding:"10px 20px"},children:[Object(F.jsx)(Ft,{title:"Desk Delivery",rows:i.map((function(e,t){var n=e.id,a=e.SalesOrder,r=e.DeskStock,c=Object(L.a)(e,fr);return Object(H.a)({id:n,orderDate:function(){var e=new Date(a.createdAt);return e.setMinutes(e.getMinutes()-e.getTimezoneOffset()),e.toISOString().split("T")[0]}(),invoiceNum:"I-".concat(a.Seller.prefix).concat(new Date(a.createdAt).getFullYear(),"-").concat(("000"+a.invoiceNum).substr(-3)),district:a.district,name:a.name,phone:a.phone,model:null===r?"":r.model,color:null===r?"":r.color,armSize:null===r?"":r.armSize,feetSize:null===r?"":r.feetSize,beamSize:null===r?"":r.beamSize,deskTop:"".concat(c.hasDeskTop?"".concat(c.topMaterial,", ").concat(c.topColor,", ").concat(c.topLength,"x").concat(c.topWidth,"x").concat(c.topThickness,", ").concat(c.topRoundedCorners,"-R").concat(c.topCornerRadius,", ").concat(c.topHoleCount,"-").concat(c.topHoleType):"Without DeskTop"),remark:null===r?"":r.reamrk,deliveryPDF:Object(F.jsx)(we.a,{variant:"contained",sx:{my:"5px",width:100,fontSize:10},component:l.b,target:"_blank",to:"/deliveryPDF/desk/".concat(n),children:"Delivery Note"}),edit:Object(F.jsx)(Ke.a,{onClick:function(e){e.preventDefault(),function(e){e<i.length&&e>=0&&(p([i[e].id]),g([{name:"akNum",label:"AK #",type:"text",defaultValue:i[e].akNum,width:"100%"},{name:"heworkNum",label:"Hework #",type:"text",defaultValue:i[e].heworkNum,width:"100%"}])),f(!0)}(t)},children:Object(F.jsx)(ft.a,{})})},c)})),columns:xr,onBulkEditClick:function(e){p(e),g([{name:"akNum",label:"AK #",type:"text",width:"100%"},{name:"heworkNum",label:"Hework #",type:"text",width:"100%"}]),f(!0)}}),Object(F.jsxs)(ut.a,{fullWidth:!0,fullScreen:Object(en.a)(t.breakpoints.down("sm")),maxWidth:"sm",open:j,PaperProps:{component:"form",onSubmit:function(e){e.preventDefault();var t=new FormData(e.currentTarget);W.a.put("/delivery/desk",{ids:d,akNum:t.get("akNum"),heworkNum:t.get("heworkNum")}).then((function(e){f(!1),y()})).catch((function(e){f(!1),Pe.a.fire({icon:"error",title:"Error",html:e.response.data.message.replace("\n","<br />"),allowOutsideClick:!1}).then((function(){f(!0)})),console.log(e)})).then((function(){}))}},children:[Object(F.jsx)(dt.a,{children:"Edit AK and Hework #"}),Object(F.jsx)(pt.a,{children:Object(F.jsx)(Bt.a,{sx:{mt:"5px",p:"10px",display:"flex",flexWrap:"wrap",justifyContent:"space-between"},children:O.map((function(e,t){var n=e.width,a=Object(L.a)(e,mr);return Object(F.jsx)(ve.a,Object(H.a)({sx:{flexBasis:n,minWidth:n}},a),t)}))})}),Object(F.jsxs)(jt.a,{children:[Object(F.jsx)(we.a,{onClick:function(){f(!1)},children:"Cancel"}),Object(F.jsx)(we.a,{type:"submit",children:"Save"})]})]})]})})),gr=["id","SalesOrder","AccessoryStock"],yr=["width"],kr=[{id:"proDeliveryDate",label:"Proposed Delivery Date",sx:{paddingLeft:"10px",minWidth:120}},{id:"orderDate",label:"Order Date",sx:{minWidth:100}},{id:"invoiceNum",label:"Inovice #",sx:{minWidth:100}},{id:"poNum",label:"PO #",sx:{minWidth:100}},{id:"district",label:"Delivery Address"},{id:"name",label:"Name"},{id:"phone",label:"Phone"},{id:"category",label:"Category"},{id:"remark",label:"Remark"},{id:"deliveryPDF",label:"Note",sx:{paddingRight:"10px"}},{id:"edit"}];Object(f.b)((function(e){return{auth:e.auth}}))((function(e){var t=Object($t.a)(),n=Object(a.useState)([]),r=Object(o.a)(n,2),i=r[0],c=r[1],s=Object(a.useState)([]),u=Object(o.a)(s,2),d=u[0],p=u[1],h=Object(a.useState)(!1),b=Object(o.a)(h,2),j=b[0],f=b[1],m=Object(a.useState)([]),x=Object(o.a)(m,2),O=x[0],g=x[1],y=function(e){W.a.get("/delivery/allAccessory",e).then((function(e){var t=e.data.filter((function(e){return!0===e.SalesOrder.paid}));c(t)})).catch((function(e){console.log(e)})).then((function(){}))};return Object(a.useEffect)((function(){var e=W.a.CancelToken.source();return y({cancelToken:e.token}),function(){return e.cancel("Stock Component got unmounted")}}),[]),Object(F.jsxs)(ge.a,{sx:{height:"100%",overflow:"auto",padding:"10px 20px"},children:[Object(F.jsx)(Ft,{title:"Accessory Delivery",rows:i.map((function(e,t){var n=e.id,a=e.SalesOrder,r=e.AccessoryStock,c=Object(L.a)(e,gr);return Object(H.a)({id:n,orderDate:function(){var e=new Date(a.createdAt);return e.setMinutes(e.getMinutes()-e.getTimezoneOffset()),e.toISOString().split("T")[0]}(),invoiceNum:"I-".concat(a.Seller.prefix).concat(new Date(a.createdAt).getFullYear(),"-").concat(("000"+a.invoiceNum).substr(-3)),district:a.district,name:a.name,phone:a.phone,email:a.email,category:null===r?"":r.category,remark:null===r?"":r.reamrk,deliveryPDF:Object(F.jsx)(we.a,{variant:"contained",sx:{my:"5px",width:100,fontSize:10},component:l.b,target:"_blank",to:"/deliveryPDF/accessory/".concat(n),children:"Delivery Note"}),edit:Object(F.jsx)(Ke.a,{onClick:function(e){e.preventDefault(),function(e){e<i.length&&e>=0&&(p([i[e].id]),g([{name:"poNum",label:"PO #",type:"text",defaultValue:i[e].poNum,width:"100%"}])),f(!0)}(t)},children:Object(F.jsx)(ft.a,{})})},c)})),columns:kr,onBulkEditClick:function(e){p(e),g([{name:"poNum",label:"PO #",type:"text",width:"100%"}]),f(!0)}}),Object(F.jsxs)(ut.a,{fullWidth:!0,fullScreen:Object(en.a)(t.breakpoints.down("sm")),maxWidth:"sm",open:j,PaperProps:{component:"form",onSubmit:function(e){e.preventDefault();var t=new FormData(e.currentTarget);W.a.put("/delivery/accessory",{ids:d,poNum:t.get("poNum")}).then((function(e){f(!1),y()})).catch((function(e){f(!1),Pe.a.fire({icon:"error",title:"Error",html:e.response.data.message.replace("\n","<br />"),allowOutsideClick:!1}).then((function(){f(!0)})),console.log(e)})).then((function(){}))}},children:[Object(F.jsx)(dt.a,{children:"Edit PO #"}),Object(F.jsx)(pt.a,{children:Object(F.jsx)(Bt.a,{sx:{mt:"5px",p:"10px",display:"flex",flexWrap:"wrap",justifyContent:"space-between"},children:O.map((function(e,t){var n=e.width,a=Object(L.a)(e,yr);return Object(F.jsx)(ve.a,Object(H.a)({sx:{flexBasis:n,minWidth:n}},a),t)}))})}),Object(F.jsxs)(jt.a,{children:[Object(F.jsx)(we.a,{onClick:function(){f(!1)},children:"Cancel"}),Object(F.jsx)(we.a,{type:"submit",children:"Save"})]})]})]})}));var vr=function(){return Object(F.jsx)("div",{})},Sr=function(){return Object(F.jsx)("div",{})},Cr=function(){return Object(F.jsx)("div",{})},wr=["id","poNum","des","qty","orderQty","orderDate","finishDate","location","supplier","invoice","remark"],Tr=[{id:"poNum",label:"P.O. Number"},{id:"orderDate",label:"Order Date"},{id:"desc",label:"Description"},{id:"qty",label:"Qty"},{id:"finishDate",label:"Finish Date"},{id:"invoice",label:"Invoice#"},{id:"orderQty",label:"Order Qty"},{id:"location",label:"Location"},{id:"supplier",label:"Supplier"},{id:"beam",label:"BEAM"},{id:"akNum",label:"AK#"},{id:"heworkNum",label:"Hework#"},{id:"remark",label:"Remark"},{id:"edit",nonSort:!0,sx:{maxWidth:45,width:45}},{id:"delete",nonSort:!0,sx:{maxWidth:45,width:45}}],Dr=["Invoice","Order Qty","Location","Supplier","BEAM","AK#","Hework#","Remark"];var Ar=Object(f.b)((function(e){return{auth:e.auth}}))((function(e){var t=Object(a.useState)([]),n=Object(o.a)(t,2),r=n[0],i=n[1],c=Object(a.useState)([]),s=Object(o.a)(c,2),u=s[0],d=s[1],p=Object(a.useState)([]),h=Object(o.a)(p,2),b=h[0],j=h[1],f=Object(a.useState)(""),m=Object(o.a)(f,2),x=m[0],O=m[1],g=Object(a.useState)(null),y=Object(o.a)(g,2),k=y[0],v=y[1],S=function(e){e<r.length&&e>=0&&Pe.a.fire({title:"Are you sure?",text:"This action will remove current purchase permanently.",icon:"question",showCancelButton:!0,confirmButtonText:"Yes, Remove!",cancelButtonText:"No, Keep It.",allowOutsideClick:!1}).then((function(t){t.isConfirmed&&W.a.delete("/shipment/".concat(r[e].id)).then((function(e){C()})).catch((function(e){Pe.a.fire({icon:"error",title:"Error",text:e.response.data.message,allowOutsideClick:!1})}))}))},C=function(e){W.a.get("/shipment",{cancelToken:e}).then((function(e){var t=[];e.data.map((function(e){var n=e;return t.push(n),n})),i(t),d(t)})).catch((function(e){console.log(e)})).then((function(){}))};return Object(a.useEffect)((function(){var e=W.a.CancelToken.source();return C(e.token),function(){return e.cancel("Brand Component got unmounted")}}),[]),Object(F.jsxs)(ge.a,{sx:{height:"100%",overflow:"auto",padding:"10px 20px"},children:[Object(F.jsx)(we.a,{component:l.b,to:"/admin/shipment/create",startIcon:Object(F.jsx)(Xt.a,{}),children:"New Shipment"}),Object(F.jsx)(Bt.a,{sx:{marginTop:"10px",padding:"5px 10px",display:"flex",flexWrap:"wrap",justifyContent:"space-around"},children:Object(F.jsx)(ve.a,{label:"P.O. Number",variant:"outlined",onKeyPress:function(e){if("Enter"===e.key){var t=u.filter((function(e){return e.poNum.toString().toLowerCase().includes(x.toLowerCase())}));i(t)}},value:x,onChange:function(e){return O(e.target.value)}})}),Object(F.jsx)(an,{options:Dr,onChange:function(e){j(e)},selected:b}),Object(F.jsx)(Ft,{title:"Shipments",rows:r.map((function(e,t){var n=e.id,a=e.poNum,i=e.des,c=e.qty,o=e.orderQty,s=e.orderDate,u=e.finishDate,d=e.location,p=e.supplier,h=e.invoice,b=e.remark,j=Object(L.a)(e,wr);return Object(H.a)({id:n,index:t,poNum:a,desc:i,qty:c,orderQty:o,orderDate:s,finishDate:u,location:d,supplier:p,invoice:h,remark:b,edit:Object(F.jsx)(Ke.a,{component:l.b,to:{pathname:"/admin/shipment/edit",state:{shipment:r[t]}},children:Object(F.jsx)(ft.a,{})}),delete:Object(F.jsx)(Ke.a,{onClick:function(e){e.preventDefault(),S(t)},children:Object(F.jsx)(mt.a,{})})},j)})),columns:Tr.map((function(e,t){return t>4&&t<13?b.find((function(t){return t===e.label}))?e:void 0:e})).filter((function(e){return void 0!==e})),onRemoveClick:S,onBulkRemoveClick:function(e){Pe.a.fire({title:"Are you sure?",text:"This action will remove selected shipments permanently.",icon:"question",showCancelButton:!0,confirmButtonText:"Yes, Remove!",cancelButtonText:"No, Keep Them.",allowOutsideClick:!1}).then((function(t){t.isConfirmed&&W.a.delete("/shipments",{data:{ids:e}}).then((function(e){C()})).catch((function(e){Pe.a.fire({icon:"error",title:"Error",text:e.response.data.message,allowOutsideClick:!1}),console.log(e)}))}))},onFilterClick:function(e){e.preventDefault(),v(null===k?e.currentTarget:null)}})]})})),Pr=Object(Ln.a)(_e.a)((function(e){e.theme;return{backgroundColor:At.a[600],padding:"10px"}})),Br=Object(Ln.a)(Xe.a)((function(e){e.theme;return{backgroundColor:At.a[300],boxShadow:"0px 2px 1px -1px rgb(0 0 0 / 20%)",margin:"10px 0",flexWrap:"wrap"}})),Ir=Object(Ln.a)($e.a)((function(e){e.theme;return{color:Nn.a[900]}})),Wr=function(e){e.unitPrice;var t=e.amount,n=e.deliveryOption;return Object(F.jsx)(ge.a,{flexBasis:"100%",display:"flex",flexWrap:"wrap",alignItems:"center",children:[t,n].map((function(e,t){return Object(F.jsx)(z.a,{variant:"span",sx:{color:"white",width:2===t?150:80,whiteSpace:"noWrap",overflow:"hidden",textOverflow:"ellipsis",textAlign:"center",backgroundColor:Nn.a[400],fontSize:["10px","12px"],padding:"3px 0",margin:"3px 10px 3px 0",flexShrink:0,borderRadius:"2px"},children:e},t)}))})},Rr=["children","value","index"],Hr=["pid","desc","qty"],Lr=["pid","desc","qty"],Nr=["pid","desc","qty"],Mr=["setValue","width"],zr=["label"],qr=["thumbnailURL","withHeadrest","withAdArmrest","shipmentDate","arrivalDate"],Vr=["label"],Fr=["thumbnailURL","shipmentDate","arrivalDate"],Qr=["thumbnailURL","shipmentDate","arrivalDate"],Er=function(e){var t=e.children,n=e.value,a=e.index,r=Object(L.a)(e,Rr);return Object(F.jsx)("div",Object(H.a)(Object(H.a)({role:"tabpanel",hidden:n!==a,id:"simple-tabpanel-".concat(a),"aria-labelledby":"simple-tab-".concat(a)},r),{},{children:n===a&&Object(F.jsx)(ge.a,{sx:{p:"0 10px 10px 10px"},children:t})}))};var Ur=[{id:"add"},{id:"thumbnail",sx:{width:100},nonSort:!0},{id:"brand",label:"Brand"},{id:"model",label:"Model"},{id:"unitPrice",label:"Price"},{id:"balance",label:"Balance"},{id:"qty",label:"QTY"},{id:"frameColor",label:"Frame Color"},{id:"backColor",label:"Back Color"},{id:"seatColor",label:"Seat Color"},{id:"backMaterial",label:"Back Material"},{id:"seatMaterial",label:"Seat Material"},{id:"withHeadrest",label:"Headrest"},{id:"withAdArmrest",label:"Adjustable Armrests"},{id:"remark",label:"Other Remark"},{id:"shipmentDate",label:"Shipment"},{id:"arrivalDate",label:"Arrival"}],Kr=["Frame Color","Back Color","Seat Color","Back Material","Seat Material","Headrest","Adjustable Armrests","Other Remark","Shipment","Arrival"],Yr=[{id:"add"},{id:"thumbnail",sx:{width:100},nonSort:!0},{id:"supplierCode",label:"Supplier"},{id:"model",label:"Model"},{id:"unitPrice",label:"Price"},{id:"balance",label:"Balance"},{id:"qty",label:"QTY"},{id:"color",label:"Color"},{id:"armSize",label:"Arm Size"},{id:"feetSize",label:"Feet Size"},{id:"beamSize",label:"Beam Size"},{id:"remark",label:"Other Remark"},{id:"shipmentDate",label:"Shipment"},{id:"arrivalDate",label:"Arrival"}],Jr=["Color","Arm Size","Feet Size","Beam Size","Other Remark","Shipment","Arrival"],Gr=[{id:"add"},{id:"thumbnail",sx:{width:100},nonSort:!0},{id:"name",label:"Name"},{id:"category",label:"Category"},{id:"unitPrice",label:"Price"},{id:"balance",label:"Balance"},{id:"qty",label:"QTY"},{id:"remark",label:"Other Remark"},{id:"shipmentDate",label:"Shipment"},{id:"arrivalDate",label:"Arrival"}],_r=Object(f.b)((function(e){return{auth:e.auth}}))((function(e){var t=Object($t.a)(),n=e.componentType,r=e.initialShipment,i=e.initialCart,c=Object(a.useState)(i),l=Object(o.a)(c,2),s=l[0],u=l[1],d=Object(a.useState)("add"),p=Object(o.a)(d,2),h=p[0],b=p[1],j=Object(a.useState)("chair"),f=Object(o.a)(j,2),m=f[0],x=f[1],O=Object(a.useState)(""),g=Object(o.a)(O,2),y=g[0],k=g[1],v=Object(a.useState)(0),S=Object(o.a)(v,2),C=S[0],w=S[1],T=Object(a.useState)(""),D=Object(o.a)(T,2),A=D[0],P=D[1],B=Object(a.useState)(0),I=Object(o.a)(B,2),R=(I[0],I[1]),N=Object(a.useState)("Left"),M=Object(o.a)(N,2),q=(M[0],M[1]),V=Object(a.useState)("Rounded"),Q=Object(o.a)(V,2),E=(Q[0],Q[1]),U=Object(a.useState)("Melamine"),K=Object(o.a)(U,2),Y=(K[0],K[1]),J=Object(a.useState)(""),G=Object(o.a)(J,2),_=(G[0],G[1]),X=Object(a.useState)(700),Z=Object(o.a)(X,2),$=(Z[0],Z[1]),ee=Object(a.useState)(400),te=Object(o.a)(ee,2),ne=(te[0],te[1]),ae=Object(a.useState)(25),re=Object(o.a)(ae,2),ie=(re[0],re[1]),ce=Object(a.useState)(0),oe=Object(o.a)(ce,2),le=(oe[0],oe[1]),se=Object(a.useState)(50),ue=Object(o.a)(se,2),de=(ue[0],ue[1]),pe=Object(a.useState)(""),he=Object(o.a)(pe,2),be=(he[0],he[1]),je=Object(a.useRef)(null),fe=Object(a.useState)(0),me=Object(o.a)(fe,2),xe=me[0],Oe=me[1],ye=Object(a.useState)(!1),ke=Object(o.a)(ye,2),Te=ke[0],De=ke[1],Ae=Object(a.useState)(!1),Be=Object(o.a)(Ae,2),Ie=Be[0],We=Be[1],Me=Object(a.useState)(!1),ze=Object(o.a)(Me,2),qe=ze[0],Ve=ze[1],Fe=Object(a.useState)(r.paid),Qe=Object(o.a)(Fe,2),Ee=(Qe[0],Qe[1],Object(a.useState)([])),Ue=Object(o.a)(Ee,2),Ye=Ue[0],Je=Ue[1],Ge=Object(a.useState)([]),_e=Object(o.a)(Ge,2),Xe=_e[0],Ze=_e[1],$e=Object(a.useState)([]),et=Object(o.a)($e,2),nt=et[0],at=et[1],rt=Object(a.useState)([]),it=Object(o.a)(rt,2),ct=it[0],ot=it[1],lt=Object(a.useState)(0),st=Object(o.a)(lt,2),ht=st[0],bt=st[1],xt=Object(a.useState)([]),Ot=Object(o.a)(xt,2),gt=Ot[0],yt=Ot[1],kt=Object(a.useState)([]),vt=Object(o.a)(kt,2),St=vt[0],Ct=vt[1],wt=Object(a.useState)(null),Tt=Object(o.a)(wt,2),Dt=Tt[0],At=Tt[1],Pt=Object(a.useState)(null),It=Object(o.a)(Pt,2),Wt=It[0],Rt=It[1],Ht=Object(a.useState)(null),Lt=Object(o.a)(Ht,2),Nt=Lt[0],Mt=Lt[1],zt=Object(a.useState)(null),qt=Object(o.a)(zt,2),Vt=qt[0],Qt=qt[1],Et=Object(a.useState)(null),Ut=Object(o.a)(Et,2),Kt=Ut[0],Yt=Ut[1],tn=Object(a.useState)("All"),nn=Object(o.a)(tn,2),rn=nn[0],cn=nn[1],on=Object(a.useState)([]),ln=Object(o.a)(on,2),sn=ln[0],un=ln[1],dn=Object(a.useState)([]),pn=Object(o.a)(dn,2),hn=pn[0],bn=pn[1];Object(a.useEffect)((function(){var e,t=W.a.CancelToken.source();return e=t.token,W.a.get("/chairStock/features",{cancelToken:e}).then((function(e){yt(e.data)})).catch((function(e){console.log(e)})).then((function(){})),function(e){W.a.get("/deskStock/features",{cancelToken:e}).then((function(e){Ct(e.data)})).catch((function(e){console.log(e)})).then((function(){}))}(t.token),function(e){W.a.get("/accessoryStock/features",{cancelToken:e}).then((function(e){})).catch((function(e){console.log(e)})).then((function(){}))}(t.token),function(e){W.a.get("/chairStock",{cancelToken:e}).then((function(e){Je(e.data)})).catch((function(e){console.log(e)})).then((function(){}))}(t.token),function(e){W.a.get("/deskStock",{cancelToken:e}).then((function(e){Ze(e.data)})).catch((function(e){console.log(e)})).then((function(){}))}(t.token),function(e){W.a.get("/accessoryStock",{cancelToken:e}).then((function(e){at(e.data),ot(e.data)})).catch((function(e){console.log(e)})).then((function(){}))}(t.token),function(e){W.a.get("/shipment/"+r.id,{cancelToken:e}).then((function(e){var t=e.data,n=t.chairProducts,a=t.deskProducts,r=t.accProducts,i=n.map((function(e){var t=e.pid,n=e.desc,a=e.qty;return Object(L.a)(e,Hr),{productType:"chair",productId:t,productDesc:n,productQty:a}})).concat(a.map((function(e){var t=e.pid,n=e.desc,a=e.qty;return Object(L.a)(e,Lr),{productType:"desk",productId:t,productDesc:n,productQty:a}}))).concat(r.map((function(e){var t=e.pid,n=e.desc,a=e.qty;return Object(L.a)(e,Nr),{productType:"accessory",productId:t,productQty:a,productDesc:n}})));u(i)}))}(t.token),function(){return t.cancel("Stock Component got unmounted")}}),[]);var jn=function(){var e=Object(Gt.a)(Jt.a.mark((function e(t){var n;return Jt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),R(0),q("Left"),E("Rounded"),Y("Melamine"),_(""),$(700),ne(400),ie(25),le(0),de(50),be(""),We(!1),new FormData(t.currentTarget),"add"!==h){e.next=21;break}if(qe||!s.find((function(e){return"desk"===e.productType&&e.productId===y&&!e.hasDeskTop}))){e.next=18;break}return Pe.a.fire({icon:"warning",title:"Warning",text:"This product is already added.",allowOutsideClick:!1}),e.abrupt("return");case 18:u(s.concat({productType:m,productId:y,productQty:C,productDesc:A})),e.next=22;break;case 21:"edit"===h&&(n=s.map((function(e){return"desk"!==e.productType||e.productId!==y?e:{productType:m,productId:y,productQty:C,productDesc:A}})),u(n));case 22:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(F.jsxs)(ge.a,{sx:{height:"100%",overflow:"auto",padding:"20px 20px 10px 20px"},children:[Object(F.jsx)(Kn.a,{activeStep:xe,sx:{flexWrap:"wrap"},children:["Input Shipment Info","Select Products"].map((function(e,t){var n,a={};return n=t,(null!==je.current&&xe>0&&0===n?!je.current.checkValidity():0===s.length&&xe>1&&1===n)&&(a.optional=Object(F.jsx)(z.a,{variant:"caption",color:"error",children:["Invalid Input","Products cannot be empty"][t]}),a.error=!0),Object(F.jsx)(Yn.a,{sx:{my:"10px"},children:Object(F.jsx)(Jn.a,Object(H.a)(Object(H.a)({},a),{},{children:e}))},e)}))}),Object(F.jsxs)(ge.a,{sx:{mx:"auto",mt:"50px"},ref:je,hidden:0!==xe,component:"form",maxWidth:"sm",fullWidth:!0,onSubmit:function(e){e.preventDefault(),Oe(1)},children:[Object(F.jsxs)(Bt.a,{sx:{p:"10px",display:"flex",flexWrap:"wrap",justifyContent:"space-between"},children:[Object(F.jsx)(z.a,{variant:"h6",sx:{flexBasis:"100%",minWidth:"100%"},children:"Shipment Info"}),[{name:"supplier",label:"Supplier",type:"text",defaultValue:r.supplier,width:"100%",required:!0},{name:"location",label:"location",type:"text",defaultValue:r.location,width:"100%",required:!0},{name:"remark",label:"Remark",type:"text",defaultValue:r.remark,width:"100%"}].map((function(e,t){e.setValue;var n=e.width,a=Object(L.a)(e,Mr);return Object(F.jsx)(ve.a,Object(H.a)({sx:{flexBasis:n,minWidth:n},InputLabelProps:{shrink:!0}},a),t)}))]}),Object(F.jsx)(we.a,{type:"submit",sx:{marginTop:"10px",float:"right"},children:"Next"})]}),1===xe&&Object(F.jsxs)(F.Fragment,{children:[s.length>0&&Object(F.jsx)(Bt.a,{children:Object(F.jsx)(Pr,{sx:{px:"10px"},children:s.map((function(e,t){return Object(F.jsxs)(Br,{secondaryAction:Object(F.jsxs)(a.Fragment,{children:[Object(F.jsx)(Ke.a,{onClick:function(t){t.preventDefault(),function(e){b("edit"),x(e.productType),k(e.productId),w(e.productQty),P(e.productDesc),"chair"===e.productType||"accessory"===e.productType?De(!0):"desk"===e.productType&&(Ve(e.hasDeskTop),_(e.topColor),de(e.topCornerRadius),R(e.topHoleCount),q(e.topHolePosition),E(e.topHoleType),$(e.topLength),Y(e.topMaterial),le(e.topRoundedCorners),ie(e.topThickness),ne(e.topWidth),be(e.topSketchURL),We(!0))}(e)},children:Object(F.jsx)(ft.a,{})}),Object(F.jsx)(Ke.a,{onClick:function(e){e.preventDefault(),u(s.filter((function(e,n){return n!==t})))},children:Object(F.jsx)(mt.a,{})})]}),children:["chair"===e.productType&&Object(F.jsx)(Ir,{primary:"Chair: ".concat(e.productDesc),secondary:"".concat(e.withHeadrest?"Headrest, ":"").concat(e.withAdArmrest?"Armrest":"")}),"desk"===e.productType&&Object(F.jsx)(Ir,{primary:"Desk: ".concat(e.productDesc,"}"),secondary:e.hasDeskTop?"".concat(e.topMaterial,", ").concat(e.topColor,", ").concat(e.topLength,"x").concat(e.topWidth,"x").concat(e.topThickness,", ").concat(e.topRoundedCorners,"-R").concat(e.topCornerRadius,", ").concat(e.topHoleCount,"-").concat(e.topHoleType):"Without DeskTop"}),"accessory"===e.productType&&Object(F.jsx)(Ir,{primary:"Accessory: ".concat(e.productDesc),secondary:"".concat(e.remark)}),Object(F.jsx)(Wr,{amount:"Qty: ".concat(e.productQty),deliveryOption:"".concat(e.productDeliveryOption)})]},t)}))})}),Object(F.jsxs)(Bt.a,{sx:{my:"10px"},children:[Object(F.jsx)(ge.a,{sx:{borderBottom:1,borderColor:"divider"},children:Object(F.jsxs)(Xn.a,{value:ht,onChange:function(e,t){e.preventDefault(),bt(t)},"aria-label":"basic tabs example",children:[Object(F.jsx)(Zn.a,{label:"Chairs"}),Object(F.jsx)(Zn.a,{label:"Desks"}),Object(F.jsx)(Zn.a,{label:"Accessories"})]})}),Object(F.jsxs)(Er,{value:ht,index:0,children:[Object(F.jsx)(Bt.a,{sx:{marginTop:"10px",padding:"5px 10px",display:"flex",flexWrap:"wrap",justifyContent:"space-around"},children:[{label:"Brand",value:Dt,onChange:function(e,t){e.preventDefault(),At(t),Rt(null)},options:gt.map((function(e){return e.brand})).filter((function(e,t,n){return n.indexOf(e)===t}))},{label:"Model",value:Wt,onChange:function(e,t){e.preventDefault(),Rt(t)},options:gt.filter((function(e){return!Dt||e.brand===Dt})).map((function(e){return e.model})).filter((function(e,t,n){return n.indexOf(e)===t}))}].map((function(e,t){var n=e.label,a=Object(L.a)(e,zr);return Object(F.jsx)(_t.a,Object(H.a)({sx:{flexBasis:"200px",maxWidth:"200px"},renderInput:function(e){return Object(F.jsx)(ve.a,Object(H.a)(Object(H.a)({},e),{},{label:n}))}},a),t)}))}),Object(F.jsx)(an,{options:Kr,onChange:function(e){un(e)},selected:sn}),Object(F.jsx)(Ft,{nonSelect:!0,title:"Chair Stocks",rows:Ye.map((function(e,t){var n=e.thumbnailURL,a=e.withHeadrest,r=e.withAdArmrest,i=e.shipmentDate,c=e.arrivalDate,o=Object(L.a)(e,qr);return Object(H.a)({thumbnail:Object(F.jsx)("a",{href:"/",onClick:function(e){e.preventDefault(),Pe.a.fire({html:'<img alt="" width="400px" src="'.concat(n,'" />'),showCloseButton:!0,showConfirmButton:!1,allowOutsideClick:!1})},children:Object(F.jsx)("img",{alt:"",width:"80px",src:n,style:{marginTop:"5px"}})}),withHeadrest:a?"Yes":"No",withAdArmrest:r?"Yes":"No",add:Object(F.jsx)(Ke.a,{onClick:function(e){e.preventDefault(),s.find((function(e){return"chair"===e.productType&&e.productId===Ye[t].id}))?Pe.a.fire({icon:"warning",title:"Warning",text:"This product is already added.",allowOutsideClick:!1}):(x("chair"),k(Ye[t].id),w(1),P(Ye[t].brand+" - "+Ye[t].model),De(!0))},children:Object(F.jsx)(Xt.a,{})}),shipmentDate:function(){if(null===i)return"No";var e=new Date(i);return e.setMinutes(e.getMinutes()-e.getTimezoneOffset()),e.toISOString().split("T")[0]}(),arrivalDate:function(){if(null===c)return"No";var e=new Date(c);return e.setMinutes(e.getMinutes()-e.getTimezoneOffset()),e.toISOString().split("T")[0]}()},o)})).filter((function(e){return(!Dt||e.brand===Dt)&&(!Wt||e.model===Wt)})),columns:Ur.map((function(e,t){return t>6&&sn.find((function(t){return t===e.label})),e})).filter((function(e){return void 0!==e}))})]}),Object(F.jsxs)(Er,{value:ht,index:1,children:[Object(F.jsx)(Bt.a,{sx:{marginTop:"10px",padding:"5px 10px",display:"flex",flexWrap:"wrap",justifyContent:"space-around"},children:[{label:"Supplier",value:Nt,onChange:function(e,t){e.preventDefault(),Mt(t),Qt(null),Yt(null)},options:St.map((function(e){return e.supplierCode})).filter((function(e,t,n){return n.indexOf(e)===t}))},{label:"Model",value:Vt,onChange:function(e,t){e.preventDefault(),Qt(t),Yt(null)},options:St.filter((function(e){return!Nt||e.supplierCode===Nt})).map((function(e){return e.model})).filter((function(e,t,n){return n.indexOf(e)===t}))},{label:"Color",value:Kt,onChange:function(e,t){e.preventDefault(),Yt(t)},options:St.filter((function(e){return!Vt||e.model===Vt})).map((function(e){return e.color})).filter((function(e,t,n){return n.indexOf(e)===t}))}].map((function(e,t){var n=e.label,a=Object(L.a)(e,Vr);return Object(F.jsx)(_t.a,Object(H.a)({sx:{flexBasis:"200px",maxWidth:"200px"},renderInput:function(e){return Object(F.jsx)(ve.a,Object(H.a)(Object(H.a)({},e),{},{label:n}))}},a),t)}))}),Object(F.jsx)(an,{options:Jr,onChange:function(e){bn(e)},selected:hn}),Object(F.jsx)(Ft,{nonSelect:!0,title:"Desk Leg Stocks",rows:Xe.map((function(e,t){var n=e.thumbnailURL,a=e.shipmentDate,r=e.arrivalDate,i=Object(L.a)(e,Fr);return Object(H.a)({thumbnail:Object(F.jsx)("a",{href:"/",onClick:function(e){e.preventDefault(),Pe.a.fire({html:'<img alt="" width="400px" src="'.concat(n,'" />'),showCloseButton:!0,showConfirmButton:!1,allowOutsideClick:!1})},children:Object(F.jsx)("img",{alt:"",width:"80px",src:n,style:{marginTop:"5px"}})}),add:Object(F.jsx)(Ke.a,{onClick:function(e){x("desk"),k(Xe[t].id),w(1),P(Xe[t].supplierCode+" - "+Xe[t].model),Ve(!1),We(!0)},children:Object(F.jsx)(Xt.a,{})}),shipmentDate:function(){if(null===a)return"No";var e=new Date(a);return e.setMinutes(e.getMinutes()-e.getTimezoneOffset()),e.toISOString().split("T")[0]}(),arrivalDate:function(){if(null===r)return"No";var e=new Date(r);return e.setMinutes(e.getMinutes()-e.getTimezoneOffset()),e.toISOString().split("T")[0]}()},i)})).filter((function(e){return(!Nt||e.supplierCode===Nt)&&(!Vt||e.model===Vt)&&(!Kt||e.color===Kt)})),columns:Yr.map((function(e,t){return t>6&&hn.find((function(t){return t===e.label})),e})).filter((function(e){return void 0!==e}))})]}),Object(F.jsxs)(Er,{value:ht,index:2,children:[Object(F.jsx)(Bt.a,{sx:{marginTop:"10px",padding:"5px 10px",display:"flex",flexWrap:"wrap",justifyContent:"space-around"},children:Object(F.jsxs)(Re.a,{size:"small",sx:{flexBasis:"200px",maxWidth:"200px"},children:[Object(F.jsx)(He.a,{id:"category_filter",children:"Category"}),Object(F.jsxs)(Le.a,{labelId:"category_filter",label:"Category",value:rn,onChange:function(e){var t=e.target.value;cn(t),at("All"===t?ct:ct.filter((function(e){return e.category===t})))},children:[Object(F.jsx)(Ne.a,{value:"All",children:"All"}),Object(F.jsx)(Ne.a,{value:"Desk Accessories",children:"Desk Accessories"}),Object(F.jsx)(Ne.a,{value:"Chair Accessories",children:"Chair Accessories"}),Object(F.jsx)(Ne.a,{value:"Desk on Desk",children:"Desk on Desk"}),Object(F.jsx)(Ne.a,{value:"Monitor Arms",children:"Monitor Arms"}),Object(F.jsx)(Ne.a,{value:"Cabinet",children:"Cabinet"}),Object(F.jsx)(Ne.a,{value:"Drawer",children:"Drawer"})]})]})}),Object(F.jsx)(Ft,{nonSelect:!0,title:"Accessory Stocks",rows:nt.map((function(e,t){var n=e.thumbnailURL,a=e.shipmentDate,r=e.arrivalDate,i=Object(L.a)(e,Qr);return Object(H.a)({thumbnail:Object(F.jsx)("a",{href:"/",onClick:function(e){e.preventDefault(),Pe.a.fire({html:'<img alt="" width="400px" src="'.concat(n,'" />'),showCloseButton:!0,showConfirmButton:!1,allowOutsideClick:!1})},children:Object(F.jsx)("img",{alt:"",width:"80px",src:n,style:{marginTop:"5px"}})}),add:Object(F.jsx)(Ke.a,{onClick:function(e){e.preventDefault(),x("accessory"),k(nt[t].id),w(1),P(nt[t].category+" - "+nt[t].name),s.find((function(e){return"accessory"===e.productType&&e.productId===nt[t].id}))?Pe.a.fire({icon:"warning",title:"Warning",text:"This product is already added.",allowOutsideClick:!1}):De(!0)},children:Object(F.jsx)(Xt.a,{})}),shipmentDate:function(){if(null===a)return"No";var e=new Date(a);return e.setMinutes(e.getMinutes()-e.getTimezoneOffset()),e.toISOString().split("T")[0]}(),arrivalDate:function(){if(null===r)return"No";var e=new Date(r);return e.setMinutes(e.getMinutes()-e.getTimezoneOffset()),e.toISOString().split("T")[0]}()},i)})),columns:Gr})]})]}),Object(F.jsx)(we.a,{onClick:function(e){e.preventDefault(),Oe(0)},children:"Previous"}),Object(F.jsx)(we.a,{sx:{float:"right"},onClick:function(e){e.preventDefault(),0!==s.length?Oe(2):Pe.a.fire({icon:"warning",title:"Warning",text:"Products list cannot be empty",allowOutsideClick:!1})},children:"Next"})]}),Object(F.jsxs)(ge.a,{sx:{mx:"auto",mt:"50px"},hidden:2!==xe,component:"form",maxWidth:"sm",fullWidth:!0,onSubmit:function(t){t.preventDefault();var a=new FormData(je.current);"create"===n?W.a.post("/shipment/create",{supplier:a.get("supplier"),location:a.get("location"),remark:a.get("remark"),products:s}).then((function(){e.history.push("/admin/shipment")})).catch((function(e){Pe.a.fire({icon:"error",title:"Error",text:e.response.data.message,allowOutsideClick:!1}).then((function(){})),console.log(e)})).then((function(){})):W.a.put("/shipment/".concat(r.id),{supplier:a.get("supplier"),location:a.get("location"),remark:a.get("remark"),products:s}).then((function(){e.history.push("/admin/shipment")})).catch((function(e){Pe.a.fire({icon:"error",title:"Error",text:e.response.data.message,allowOutsideClick:!1}).then((function(){})),console.log(e)})).then((function(){}))},children:[Object(F.jsx)(we.a,{sx:{marginTop:"10px"},onClick:function(e){e.preventDefault(),Oe(1)},children:"Previous"}),Object(F.jsx)(we.a,{sx:{float:"right",marginTop:"10px"},type:"submit",children:"Finish"})]}),Object(F.jsxs)(ut.a,{open:Te,maxWidth:"sm",fullWidth:!0,fullScreen:Object(en.a)(t.breakpoints.down("sm")),PaperProps:{component:"form",onSubmit:function(e){!function(e){if(e.preventDefault(),new FormData(e.currentTarget),De(!1),"add"===h){if(s.find((function(e){return e.productType===m&&e.productId===y})))return void Pe.a.fire({icon:"warning",title:"Warning",text:"This product is already added.",allowOutsideClick:!1});u(s.concat({productType:m,productId:y,productQty:C,productDesc:A}))}else if("edit"===h){var t=s.map((function(e){return e.productType===m&&e.productId===y?{productId:y,productType:m,productQty:C,productDesc:A}:e}));u(t)}}(e)}},children:[Object(F.jsx)(dt.a,{children:"Price and Amount"}),Object(F.jsxs)(pt.a,{sx:{textAlign:"center"},children:[Object(F.jsx)(ve.a,{label:"Description",name:"productDesc",value:A,sx:{width:200},InputProps:{readOnly:!0,endAdornment:Object(F.jsx)(ea.a,{position:"end",children:"HKD"})}}),Object(F.jsxs)(ge.a,{sx:{display:"flex",alignItems:"center",width:"200px",border:"1px solid #0000003b",borderRadius:"4px",my:"10px",mx:"auto",p:"5px 3px"},children:[Object(F.jsx)(z.a,{variant:"span",sx:{flexGrow:1},children:"Quantity"}),Object(F.jsx)(Ke.a,{onClick:function(e){e.preventDefault(),w(Math.max(C-1,1))},children:Object(F.jsx)(Zt.a,{})}),Object(F.jsx)(z.a,{variant:"span",sx:{ml:"10px"},children:C}),Object(F.jsx)(Ke.a,{onClick:function(e){e.preventDefault(),w(Math.min(C+1,99))},children:Object(F.jsx)(Xt.a,{})})]})]}),Object(F.jsxs)(jt.a,{children:[Object(F.jsx)(we.a,{onClick:function(e){De(!1)},children:"Cancel"}),Object(F.jsx)(we.a,{type:"submit",children:"OK"})]})]}),Object(F.jsxs)(ut.a,{open:Ie,maxWidth:"sm",fullWidth:!0,fullScreen:Object(en.a)(t.breakpoints.down("sm")),PaperProps:{component:"form",onSubmit:function(){var e=Object(Gt.a)(Jt.a.mark((function e(t){return Jt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:jn(t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},children:[Object(F.jsx)(dt.a,{children:"Price and Amount"}),Object(F.jsxs)(pt.a,{sx:{textAlign:"center"},children:[Object(F.jsx)(ve.a,{label:"Description",name:"productDesc",value:A,sx:{width:200,visibility:qe?"hidden":"visible"},InputProps:{readOnly:!0,endAdornment:Object(F.jsx)(ea.a,{position:"end",children:"HKD"})}}),Object(F.jsx)(tt.a,{sx:{my:"10px"}}),Object(F.jsxs)(ge.a,{display:"flex",flexWrap:"wrap",justifyContent:"space-between",children:[Object(F.jsx)(Se.a,{control:Object(F.jsx)(Ce.a,{name:"hasDeskTop",checked:qe,onChange:function(e){Ve(e.currentTarget.checked)}}),label:"with Table Top",sx:{flexBasis:"100%",minWidth:"100%"}}),Object(F.jsx)(ve.a,{label:"Description",name:"productDesc",defaultValue:A,sx:{flexBasis:200,minWidth:200,mx:"auto"},disabled:!qe,InputProps:{endAdornment:Object(F.jsx)(ea.a,{position:"end",children:"HKD"})}})]}),Object(F.jsx)(tt.a,{sx:{my:"10px"}}),Object(F.jsxs)(ge.a,{sx:{display:"flex",alignItems:"left",width:"200px",border:"1px solid #0000003b",borderRadius:"4px",mt:"10px",mx:"auto",p:"5px 3px"},children:[Object(F.jsx)(z.a,{variant:"span",sx:{flexGrow:1,marginTop:"8px"},children:"Quantity"}),Object(F.jsx)(Ke.a,{onClick:function(e){e.preventDefault(),w(Math.max(C-1,1))},children:Object(F.jsx)(Zt.a,{})}),Object(F.jsx)(z.a,{variant:"span",sx:{ml:"10px",marginTop:"8px"},children:C}),Object(F.jsx)(Ke.a,{onClick:function(e){e.preventDefault(),w(Math.min(C+1,99))},children:Object(F.jsx)(Xt.a,{})})]})]}),Object(F.jsxs)(jt.a,{children:[Object(F.jsx)(we.a,{onClick:function(e){e.preventDefault(),R(0),q("Left"),E("Rounded"),Y("Melamine"),_(""),$(700),ne(400),ie(25),le(0),de(50),be(""),We(!1)},children:"Cancel"}),Object(F.jsx)(we.a,{type:"submit",children:"OK"})]})]})]})})),Xr=function(e){return Object(F.jsx)(_r,Object(H.a)({componentType:"create",initialShipment:{supplier:"",location:"",remark:""},initialCart:[]},e))},Zr=function(e){var t=(Object(s.g)().state||{}).shipment,n=t||{},a=n.id,r=n.supplier,i=n.location,c=n.remark;return t?Object(F.jsx)(_r,Object(H.a)({componentType:"edit",initialShipment:{id:a,supplier:r,location:i,remark:c},initialCart:{}},e)):Object(F.jsx)(s.a,{to:"/admin/purchase/shipment"})};var $r=[{category:"Chair",content:[{to:"/admin/chair/stock",icon:Object(F.jsx)(qe.a,{}),label:"Stock"}]},{category:"Desk",content:[{to:"/admin/desk/stock",icon:Object(F.jsx)(qe.a,{}),label:"Stock"}]},{category:"Accessory",content:[{to:"/admin/accessory/stock",icon:Object(F.jsx)(qe.a,{}),label:"Stock"}]},{category:"Sales",content:[{to:"/admin/sales",icon:Object(F.jsx)(Ve.a,{}),label:"Order"},{to:"/admin/quotation",icon:Object(F.jsx)(Ve.a,{}),label:"Quotation"}]},{category:"Purchase",content:[{to:"/admin/purchase",icon:Object(F.jsx)(Ve.a,{}),label:"Order"},{to:"/admin/shipment",icon:Object(F.jsx)(Ve.a,{}),label:"Shipment"}]},{category:"Delivery",content:[{to:"/admin/delivery/chair",icon:Object(F.jsx)(Fe.a,{}),label:"Chair"},{to:"/admin/delivery/desk",icon:Object(F.jsx)(Fe.a,{}),label:"Desk"},{to:"/admin/delivery/accessory",icon:Object(F.jsx)(Fe.a,{}),label:"Accessory"}]},{category:"User",content:[{to:"/admin/user",icon:Object(F.jsx)(Qe.a,{}),label:"Users"}]}],ei=Object(f.b)((function(e){return{auth:e.auth}}),{logout:Be})((function(e){var t=Object(a.useState)(!1),n=Object(o.a)(t,2),r=n[0],i=n[1],c=Object(s.i)().path,l=function(t){t.preventDefault(),Pe.a.fire({title:"Are you sure?",text:"Log out will remove your session information permanently.",icon:"question",showCancelButton:!0,confirmButtonText:"Yes, Logout!",cancelButtonText:"No, Keep Login",allowOutsideClick:!1}).then((function(t){t.isConfirmed&&e.logout()}))};return Object(F.jsxs)(F.Fragment,{children:[Object(F.jsx)(Ge,{drawerHeight:50,handleDrawerToggle:function(e){e.preventDefault(),i(!0)},title:"Administrator"}),Object(F.jsxs)(ge.a,{flexBasis:"calc(100% - ".concat(50,"px)"),maxHeight:"calc(100% - ".concat(50,"px)"),position:"relative",display:"flex",backgroundColor:"#f4f5f7",children:[Object(F.jsx)(st,{mobileOpen:r,handleDrawerClose:function(e){e.preventDefault(),i(!1)},drawerWidth:240,handleLogout:l,lists:$r}),Object(F.jsx)(ct,{drawerWidth:240,handleLogout:l,lists:$r}),Object(F.jsx)(ge.a,{component:"main",sx:{flexGrow:1,width:{sm:"calc(100% - ".concat(240,"px)")},maxWidth:"100%"},children:Object(F.jsxs)(s.d,{children:[Object(F.jsx)(s.b,{path:"".concat(c,"/user"),component:Kt}),Object(F.jsx)(s.b,{path:"".concat(c,"/chair/stock"),exact:!0,component:dn}),Object(F.jsx)(s.b,{path:"".concat(c,"/desk/stock"),exact:!0,component:On}),Object(F.jsx)(s.b,{path:"".concat(c,"/accessory/stock"),exact:!0,component:Sn}),Object(F.jsx)(s.b,{path:"".concat(c,"/sales"),exact:!0,component:Un}),Object(F.jsx)(s.b,{path:"".concat(c,"/sales/create"),exact:!0,component:Sa}),Object(F.jsx)(s.b,{path:"".concat(c,"/sales/edit"),exact:!0,component:Aa}),Object(F.jsx)(s.b,{path:"".concat(c,"/quotation"),exact:!0,component:Ma}),Object(F.jsx)(s.b,{path:"".concat(c,"/quotation/create"),exact:!0,component:cr}),Object(F.jsx)(s.b,{path:"".concat(c,"/quotation/edit"),exact:!0,component:dr}),Object(F.jsx)(s.b,{path:"".concat(c,"/delivery/chair"),exact:!0,component:jr}),Object(F.jsx)(s.b,{path:"".concat(c,"/delivery/desk"),exact:!0,component:Or}),Object(F.jsx)(s.b,{path:"".concat(c,"/purchase"),exact:!0,component:vr}),Object(F.jsx)(s.b,{path:"".concat(c,"/purchase/create"),exact:!0,component:Sr}),Object(F.jsx)(s.b,{path:"".concat(c,"/purchase/edit"),exact:!0,component:Cr}),Object(F.jsx)(s.b,{path:"".concat(c,"/shipment"),exact:!0,component:Ar}),Object(F.jsx)(s.b,{path:"".concat(c,"/shipment/create"),exact:!0,component:Xr}),Object(F.jsx)(s.b,{path:"".concat(c,"/shipment/edit"),exact:!0,component:Zr})]})})]})]})})),ti=["label"],ni=["withHeadrest","withAdArmrest","thumbnailURL","shipmentDate","arrivalDate"],ai=[{id:"thumbnail",sx:{width:100},nonSort:!0},{id:"brand",label:"Brand"},{id:"model",label:"Model"},{id:"unitPrice",label:"Price"},{id:"balance",label:"Balance"},{id:"qty",label:"QTY"},{id:"frameColor",label:"Frame Color"},{id:"backColor",label:"Back Color"},{id:"seatColor",label:"Seat Color"},{id:"backMaterial",label:"Back Material"},{id:"seatMaterial",label:"Seat Material"},{id:"withHeadrest",label:"Headrest"},{id:"withAdArmrest",label:"Adjustable Armrests"},{id:"remark",label:"Other Remark"},{id:"shipmentDate",label:"Shipment"},{id:"arrivalDate",label:"Arrival"}],ri=["Frame Color","Back Color","Seat Color","Back Material","Seat Material","Headrest","Adjustable Armrests","Other Remark","Shipment","Arrival"];var ii=Object(f.b)((function(e){return{auth:e.auth}}))((function(e){var t=Object(a.useState)([]),n=Object(o.a)(t,2),r=n[0],i=n[1],c=Object(a.useState)([]),l=Object(o.a)(c,2),s=l[0],u=l[1],d=Object(a.useState)(null),p=Object(o.a)(d,2),h=p[0],b=p[1],j=Object(a.useState)(null),f=Object(o.a)(j,2),m=f[0],x=f[1],O=Object(a.useState)([]),g=Object(o.a)(O,2),y=g[0],k=g[1];return Object(a.useEffect)((function(){var e,t=W.a.CancelToken.source();return e=t.token,W.a.get("/chairStock/features",{cancelToken:e}).then((function(e){u(e.data)})).catch((function(e){console.log(e)})).then((function(){})),function(e){W.a.get("/chairStock",{cancelToken:e}).then((function(e){i(e.data)})).catch((function(e){console.log(e)})).then((function(){}))}(t.token),function(){return t.cancel("Stock Component got unmounted")}}),[]),Object(F.jsxs)(ge.a,{sx:{height:"100%",overflow:"auto",padding:"10px 20px"},children:[Object(F.jsx)(Bt.a,{sx:{marginTop:"10px",padding:"5px 10px",display:"flex",flexWrap:"wrap",justifyContent:"space-around"},children:[{label:"Brand",value:h,onChange:function(e,t){e.preventDefault(),b(t),x(null)},options:s.map((function(e){return e.brand})).filter((function(e,t,n){return n.indexOf(e)===t}))},{label:"Model",value:m,onChange:function(e,t){e.preventDefault(),x(t)},options:s.filter((function(e){return!h||e.brand===h})).map((function(e){return e.model})).filter((function(e,t,n){return n.indexOf(e)===t}))}].map((function(e,t){var n=e.label,a=Object(L.a)(e,ti);return Object(F.jsx)(_t.a,Object(H.a)({sx:{flexBasis:"200px",maxWidth:"200px"},renderInput:function(e){return Object(F.jsx)(ve.a,Object(H.a)(Object(H.a)({},e),{},{label:n}))}},a),t)}))}),Object(F.jsx)(an,{options:ri,onChange:function(e){k(e)},selected:y}),Object(F.jsx)(Ft,{nonSelect:!0,title:"Chair Stocks",rows:r.map((function(e,t){var n=e.withHeadrest,a=e.withAdArmrest,r=e.thumbnailURL,i=e.shipmentDate,c=e.arrivalDate,o=Object(L.a)(e,ni);return Object(H.a)({thumbnail:Object(F.jsx)("a",{href:"/",onClick:function(e){e.preventDefault(),Pe.a.fire({html:'<img alt="" width="400px" src="'.concat(r,'" />'),showCloseButton:!0,showConfirmButton:!1,allowOutsideClick:!1})},children:Object(F.jsx)("img",{alt:"",width:"80px",src:r,style:{marginTop:"5px"}})}),withHeadrest:n?"Yes":"No",withAdArmrest:a?"Yes":"No",shipmentDate:function(){if(null===i)return"No";var e=new Date(i);return e.setMinutes(e.getMinutes()-e.getTimezoneOffset()),e.toISOString().split("T")[0]}(),arrivalDate:function(){if(null===c)return"No";var e=new Date(c);return e.setMinutes(e.getMinutes()-e.getTimezoneOffset()),e.toISOString().split("T")[0]}()},o)})).filter((function(e){return(!h||e.brand===h)&&(!m||e.model===m)})),columns:ai.map((function(e,t){return t>5?y.find((function(t){return t===e.label}))?e:void 0:e})).filter((function(e){return void 0!==e}))})]})})),ci=["label"],oi=["withHeadrest","withAdArmrest","thumbnailURL","shipmentDate","arrivalDate"],li=[{id:"thumbnail",sx:{width:100},nonSort:!0},{id:"supplierCode",label:"Supplier"},{id:"model",label:"Model",hidden:!0},{id:"unitPrice",label:"Price"},{id:"balance",label:"Balance"},{id:"qty",label:"QTY"},{id:"color",label:"Color"},{id:"armSize",label:"Arm Size"},{id:"feetSize",label:"Feet Size"},{id:"beamSize",label:"Beam Size"},{id:"remark",label:"Other Remark"},{id:"shipmentDate",label:"Shipment"},{id:"arrivalDate",label:"Arrival"}],si=["Color","Arm Size","Feet Size","Beam Size","Other Remark","Shipment","Arrival"];var ui=Object(f.b)((function(e){return{auth:e.auth}}))((function(e){var t=Object(a.useState)([]),n=Object(o.a)(t,2),r=n[0],i=n[1],c=Object(a.useState)([]),l=Object(o.a)(c,2),s=l[0],u=l[1],d=Object(a.useState)(null),p=Object(o.a)(d,2),h=p[0],b=p[1],j=Object(a.useState)(null),f=Object(o.a)(j,2),m=f[0],x=f[1],O=Object(a.useState)(null),g=Object(o.a)(O,2),y=g[0],k=g[1],v=Object(a.useState)([]),S=Object(o.a)(v,2),C=S[0],w=S[1];return Object(a.useEffect)((function(){var e,t=W.a.CancelToken.source();return e=t.token,W.a.get("/deskStock/features",{cancelToken:e}).then((function(e){u(e.data)})).catch((function(e){console.log(e)})).then((function(){})),function(e){W.a.get("/deskStock",{cancelToken:e}).then((function(e){i(e.data)})).catch((function(e){console.log(e)})).then((function(){}))}(t.token),function(){return t.cancel("Stock Component got unmounted")}}),[]),Object(F.jsxs)(ge.a,{sx:{height:"100%",overflow:"auto",padding:"10px 20px"},children:[Object(F.jsx)(Bt.a,{sx:{marginTop:"10px",padding:"5px 10px",display:"flex",flexWrap:"wrap",justifyContent:"space-around"},children:[{label:"Supplier",value:h,onChange:function(e,t){e.preventDefault(),b(t),x(null),k(null)},options:s.map((function(e){return e.supplierCode})).filter((function(e,t,n){return n.indexOf(e)===t}))},{label:"Model",value:m,onChange:function(e,t){e.preventDefault(),x(t),k(null)},options:s.filter((function(e){return!h||e.supplierCode===h})).map((function(e){return e.model})).filter((function(e,t,n){return n.indexOf(e)===t}))},{label:"Color",value:y,onChange:function(e,t){e.preventDefault(),k(t)},options:s.filter((function(e){return(!h||e.supplierCode===h)&&(!m||e.model===m)})).map((function(e){return e.color})).filter((function(e,t,n){return n.indexOf(e)===t}))}].map((function(e,t){var n=e.label,a=Object(L.a)(e,ci);return Object(F.jsx)(_t.a,Object(H.a)({sx:{flexBasis:"200px",maxWidth:"200px"},renderInput:function(e){return Object(F.jsx)(ve.a,Object(H.a)(Object(H.a)({},e),{},{label:n}))}},a),t)}))}),Object(F.jsx)(an,{options:si,onChange:function(e){w(e)},selected:C}),Object(F.jsx)(Ft,{nonSelect:!0,title:"Desk Leg Stocks",rows:r.map((function(e,t){var n=e.withHeadrest,a=e.withAdArmrest,r=e.thumbnailURL,i=e.shipmentDate,c=e.arrivalDate,o=Object(L.a)(e,oi);return Object(H.a)({thumbnail:Object(F.jsx)("a",{href:"/",onClick:function(e){e.preventDefault(),Pe.a.fire({html:'<img alt="" width="400px" src="'.concat(r,'" />'),showCloseButton:!0,showConfirmButton:!1,allowOutsideClick:!1})},children:Object(F.jsx)("img",{alt:"",width:"80px",src:r,style:{marginTop:"5px"}})}),withHeadrest:n?"Yes":"No",withAdArmrest:a?"Yes":"No",shipmentDate:function(){if(null===i)return"No";var e=new Date(i);return e.setMinutes(e.getMinutes()-e.getTimezoneOffset()),e.toISOString().split("T")[0]}(),arrivalDate:function(){if(null===c)return"No";var e=new Date(c);return e.setMinutes(e.getMinutes()-e.getTimezoneOffset()),e.toISOString().split("T")[0]}()},o)})).filter((function(e){return(!h||e.supplierCode===h)&&(!m||e.model===m)&&(!y||e.color===y)})),columns:li.map((function(e,t){return t>5?C.find((function(t){return t===e.label}))?e:void 0:e})).filter((function(e){return void 0!==e}))})]})})),di=["thumbnailURL","shipmentDate","arrivalDate"],pi=[{id:"thumbnail",sx:{width:100},nonSort:!0},{id:"name",label:"Name"},{id:"category",label:"Category"},{id:"remark",label:"Other Remark"},{id:"unitPrice",label:"Price"},{id:"balance",label:"Balance"},{id:"qty",label:"QTY"},{id:"shipmentDate",label:"Shipment"},{id:"arrivalDate",label:"Arrival"}];var hi=Object(f.b)((function(e){return{auth:e.auth}}))((function(e){var t=Object(a.useState)([]),n=Object(o.a)(t,2),r=n[0],i=n[1],c=Object(a.useState)([]),l=Object(o.a)(c,2),s=l[0],u=l[1],d=Object(a.useState)("All"),p=Object(o.a)(d,2),h=p[0],b=p[1];Object(a.useEffect)((function(){var e,t=W.a.CancelToken.source();return e=t.token,W.a.get("/accessoryStock/features",{cancelToken:e}).then((function(e){})).catch((function(e){console.log(e)})).then((function(){})),function(e){W.a.get("/accessoryStock",{cancelToken:e}).then((function(e){i(e.data),u(e.data)})).catch((function(e){console.log(e)})).then((function(){}))}(t.token),function(){return t.cancel("Stock Component got unmounted")}}),[]);return Object(F.jsxs)(ge.a,{sx:{height:"100%",overflow:"auto",padding:"10px 20px"},children:[Object(F.jsx)(Bt.a,{sx:{marginTop:"10px",padding:"5px 10px",display:"flex",flexWrap:"wrap",justifyContent:"space-around"},children:Object(F.jsxs)(Re.a,{size:"small",sx:{flexBasis:"200px",maxWidth:"200px"},children:[Object(F.jsx)(He.a,{id:"category_filter",children:"Category"}),Object(F.jsxs)(Le.a,{labelId:"category_filter",label:"Category",value:h,onChange:function(e){var t=e.target.value;b(t),i("All"===t?s:s.filter((function(e){return e.category===t})))},children:[Object(F.jsx)(Ne.a,{value:"All",children:"All"}),Object(F.jsx)(Ne.a,{value:"Desk Accessories",children:"Desk Accessories"}),Object(F.jsx)(Ne.a,{value:"Chair Accessories",children:"Chair Accessories"}),Object(F.jsx)(Ne.a,{value:"Desk on Desk",children:"Desk on Desk"}),Object(F.jsx)(Ne.a,{value:"Monitor Arms",children:"Monitor Arms"}),Object(F.jsx)(Ne.a,{value:"Cabinet",children:"Cabinet"}),Object(F.jsx)(Ne.a,{value:"Drawer",children:"Drawer"})]})]})}),Object(F.jsx)(Ft,{nonSelect:!0,title:"Accessory Stocks",rows:r.map((function(e,t){var n=e.thumbnailURL,a=e.shipmentDate,r=e.arrivalDate,i=Object(L.a)(e,di);return Object(H.a)({thumbnail:Object(F.jsx)("a",{href:"/",onClick:function(e){e.preventDefault(),Pe.a.fire({html:'<img alt="" width="400px" src="'.concat(n,'" />'),showCloseButton:!0,showConfirmButton:!1,allowOutsideClick:!1})},children:Object(F.jsx)("img",{alt:"",width:"80px",src:n,style:{marginTop:"5px"}})}),shipmentDate:function(){if(null===a)return"No";var e=new Date(a);return e.setMinutes(e.getMinutes()-e.getTimezoneOffset()),e.toISOString().split("T")[0]}(),arrivalDate:function(){if(null===r)return"No";var e=new Date(r);return e.setMinutes(e.getMinutes()-e.getTimezoneOffset()),e.toISOString().split("T")[0]}()},i)})),columns:pi})]})})),bi=Object(Ln.a)(_e.a)((function(e){e.theme;return{backgroundColor:At.a[600],padding:"10px"}})),ji=Object(Ln.a)(Xe.a)((function(e){e.theme;return{backgroundColor:At.a[300],boxShadow:"0px 2px 1px -1px rgb(0 0 0 / 20%)",margin:"10px 0",flexWrap:"wrap"}})),fi=Object(Ln.a)($e.a)((function(e){e.theme;return{color:Nn.a[900]}})),mi=function(e){var t=e.unitPrice,n=e.amount;return Object(F.jsx)(ge.a,{flexBasis:"100%",display:"flex",flexWrap:"wrap",alignItems:"center",children:[t,n].map((function(e,t){return Object(F.jsx)(z.a,{variant:"span",sx:{color:"white",width:80,whiteSpace:"noWrap",overflow:"hidden",textOverflow:"ellipsis",textAlign:"center",backgroundColor:Nn.a[400],fontSize:["10px","12px"],padding:"3px 0",margin:"3px 10px 3px 0",flexShrink:0,borderRadius:"2px"},children:e},t)}))})},xi=["id","invoiceNum","district","street","block","floor","unit","Seller","isPreOrder","discount","discountType","surcharge","surchargeType","createdAt","timeLine","paid","ChairStocks","DeskStocks","AccessoryStocks"],Oi=[{id:"invoiceNum",label:"Invoice"},{id:"name",label:"Client"},{id:"seller",label:"Seller"},{id:"orderDate",label:"Order"},{id:"clientAddress",label:"Address"},{id:"timeLine",label:"TimeLine"},{id:"isPreOrder",label:"PreOrder"},{id:"remark",label:"Remark"},{id:"discount",label:"Discount"},{id:"surcharge",label:"SurCharge"},{id:"products",label:"Products"},{id:"paid",label:"Paid"},{id:"receiptIcon",nonSort:!0,label:"Receipt",sx:{maxWidth:75,width:45}},{id:"emailIcon",nonSort:!0,label:"Email",align:"right",sx:{maxWidth:45,width:45}},{id:"whatsappIcon",nonSort:!0,label:"Phone",align:"left",sx:{maxWidth:45,width:45,paddingLeft:0}},{id:"edit",nonSort:!0,sx:{maxWidth:45,width:45}},{nonSort:!0,id:"delete",sx:{maxWidth:45,width:45}}],gi=["Address","TimeLine","PreOrder","Remark","Discount","SurCharge","Products","Paid","Receipt","Email","Phone"];var yi=Object(f.b)((function(e){return{auth:e.auth}}))((function(e){var t=Object($t.a)(),n=Object(a.useState)([]),r=Object(o.a)(n,2),i=r[0],c=r[1],s=Object(a.useState)([]),u=Object(o.a)(s,2),d=u[0],p=u[1],h=Object(a.useState)(""),b=Object(o.a)(h,2),j=b[0],f=b[1],m=Object(a.useState)(""),x=Object(o.a)(m,2),O=x[0],g=x[1],y=Object(a.useState)(""),k=Object(o.a)(y,2),v=k[0],S=k[1],C=Object(a.useState)(!1),w=Object(o.a)(C,2),T=w[0],D=w[1],A=Object(a.useState)(!1),P=Object(o.a)(A,2),B=P[0],I=P[1],R=Object(a.useState)(!1),N=Object(o.a)(R,2),M=N[0],z=N[1],q=Object(a.useRef)(null),V=Object(a.useRef)(null),Q=Object(a.useState)(null),E=Object(o.a)(Q,2),U=E[0],K=E[1],Y=Object(a.useState)(0),J=Object(o.a)(Y,2),G=J[0],_=J[1],X=Object(a.useState)(""),Z=Object(o.a)(X,2),$=Z[0],ee=Z[1],te=Object(a.useState)([]),ne=Object(o.a)(te,2),ae=ne[0],re=ne[1],ie=Object(a.useState)(""),ce=Object(o.a)(ie,2),oe=ce[0],le=ce[1],se=Object(a.useState)(""),ue=Object(o.a)(se,2),de=ue[0],pe=ue[1],he=Object(a.useRef)([]),be=Object(a.useRef)([]),je=Object(a.useRef)([]),fe=function(e){e<i.length&&e>=0&&Pe.a.fire({title:"Are you sure?",text:"This action will remove current Order permanently.",icon:"question",showCancelButton:!0,confirmButtonText:"Yes, Remove!",cancelButtonText:"No, Keep It.",allowOutsideClick:!1}).then((function(t){t.isConfirmed&&W.a.delete("/sales/".concat(i[e].id)).then((function(e){me()})).catch((function(e){Pe.a.fire({icon:"error",title:"Error",text:e.response.data.message,allowOutsideClick:!1}),console.log(e)})).then((function(){}))}))},me=function(e){W.a.get("/sales/current",{cancelToken:e}).then((function(e){c(e.data),p(e.data)})).catch((function(e){console.log(e)})).then((function(){}))},xe=function(e){if("Enter"===e.key){var t=d.filter((function(e){return e.invoiceNum.toLowerCase().includes(oe.toLowerCase())})).filter((function(e){return e.phone.includes(de)}));c(t)}};return Object(a.useEffect)((function(){var e=W.a.CancelToken.source();return me(e.token),function(){return e.cancel("Brand Component got unmounted")}}),[]),Object(F.jsxs)(ge.a,{sx:{height:"100%",overflow:"auto",padding:"10px 20px"},children:[Object(F.jsx)(we.a,{component:l.b,to:"/user/sales/create",startIcon:Object(F.jsx)(Xt.a,{}),children:"New Order"}),Object(F.jsxs)(Bt.a,{sx:{marginTop:"10px",padding:"5px 10px",display:"flex",flexWrap:"wrap",justifyContent:"space-around"},children:[Object(F.jsx)(ve.a,{label:"Invoice Number",variant:"outlined",onKeyPress:xe,value:oe,onChange:function(e){return le(e.target.value)}}),Object(F.jsx)(ve.a,{label:"Phone Number",variant:"outlined",onKeyPress:xe,value:de,onChange:function(e){return pe(e.target.value)}})]}),Object(F.jsx)("div",{children:Object(F.jsx)(an,{options:gi,onChange:function(e){re(e)},selected:ae})}),Object(F.jsx)(Ft,{title:"Sales Orders",rows:i.map((function(e,t){var n=e.id,a=e.invoiceNum,r=e.district,c=e.street,o=e.block,s=e.floor,u=e.unit,d=e.Seller,p=(e.isPreOrder,e.discount),h=e.discountType,b=e.surcharge,j=e.surchargeType,m=e.createdAt,x=e.timeLine,O=e.paid,y=e.ChairStocks,k=e.DeskStocks,v=e.AccessoryStocks,C=Object(L.a)(e,xi);return Object(H.a)({id:n,index:t,seller:(d.firstName||"").concat(" ",d.lastName||""),timeLine:x%7!==0?"".concat(x," day").concat(1===x?"":"s"):"".concat(x/7," week").concat(x/7===1?"":"s"),orderDate:function(){var e=new Date(m);return e.setMinutes(e.getMinutes()-e.getTimezoneOffset()),e.toISOString().split("T")[0]}(),discount:"".concat(p).concat(h?" HKD":"%"),surcharge:"".concat(b).concat(j?" HKD":"%"),clientAddress:[r,c,o,s,u].join(", "),isPreOrder:(!i[t].ChairStocks.length||!i[t].ChairStocks.reduce((function(e,t){return t.ChairToOrder.preOrder*e})))*(!i[t].DeskStocks.length||!i[t].DeskStocks.reduce((function(e,t){return t.DeskToOrder.preOrder*e})))?"No":"Yes",products:Object(F.jsx)(Ke.a,{sx:{my:"5px"},onClick:function(e){e.preventDefault(),he.current=[],be.current=[],je.current=[],_(t),z(!0)},children:Object(F.jsx)(Tn.a,{badgeContent:y.length+k.length+v.length,color:"error",children:Object(F.jsx)(Dn.a,{})})}),paid:Object(F.jsx)(Ce.a,{checked:O,onClick:function(e){e.stopPropagation(),e.preventDefault(),W.a.put("/sales/withoutStock/".concat(n),{paid:!O}).then((function(){me()})).catch((function(e){Pe.a.fire({icon:"error",title:"Error",text:e.response.data.message,allowOutsideClick:!1})})).then((function(){}))}}),invoiceNum:Object(F.jsx)(l.b,{to:"/invoice/".concat(n),target:"_blank",children:a}),receiptIcon:O&&Object(F.jsx)(Ke.a,{component:l.b,to:"/receipt/".concat(n),target:"_blank",children:Object(F.jsx)(An.a,{})}),emailIcon:Object(F.jsx)(Ke.a,{onClick:function(){f(C.name),g(C.email),I(!0)},children:Object(F.jsx)(Pn.a,{})}),whatsappIcon:Object(F.jsx)(Ke.a,{onClick:function(){W.a.get("whatsapp/checkauth").then((function(){f(C.name),S(C.phone),D(!0)})).catch((function(e){W.a.get("whatsapp/getqr").then((function(e){Pe.a.fire({icon:"info",title:"Please signin with this QRCode and Click the button again.",html:wn.a.renderToStaticMarkup(Object(F.jsx)(Hn.a,{value:"".concat(e.data.qrcode),level:"H"})),allowOutsideClick:!1})})).catch((function(e){Pe.a.fire({icon:"error",title:"Error",text:"Unable to use WhatsApp Messaging.",allowOutsideClick:!1})})).then((function(){}))})).then((function(){}))},children:Object(F.jsx)(Bn.a,{})}),edit:Object(F.jsx)(Ke.a,{component:l.b,to:{pathname:"/user/sales/edit",state:{order:i[t]}},children:Object(F.jsx)(ft.a,{})}),delete:Object(F.jsx)(Ke.a,{onClick:function(e){e.preventDefault(),fe(t)},children:Object(F.jsx)(mt.a,{})})},C)})),columns:Oi.map((function(e,t){return t>3&&t<15?ae.find((function(t){return t===e.label}))?e:void 0:e})).filter((function(e){return void 0!==e})),onRemoveClick:fe,onBulkRemoveClick:function(e){Pe.a.fire({title:"Are you sure?",text:"This action will remove selected Orders permanently.",icon:"question",showCancelButton:!0,confirmButtonText:"Yes, Remove!",cancelButtonText:"No, Keep Them.",allowOutsideClick:!1}).then((function(t){t.isConfirmed&&W.a.delete("/sales",{data:{ids:e}}).then((function(e){me()})).catch((function(e){Pe.a.fire({icon:"error",title:"Error",text:e.response.data.message,allowOutsideClick:!1}),console.log(e)})).then((function(){}))}))},onFilterClick:function(e){e.preventDefault(),K(null===U?e.currentTarget:null)}}),Object(F.jsxs)(ut.a,{fullWidth:!0,fullScreen:Object(en.a)(t.breakpoints.down("sm")),maxWidth:"sm",open:T,children:[Object(F.jsx)(dt.a,{children:"Send WhatsApp Message to the Client"}),Object(F.jsx)(pt.a,{children:Object(F.jsxs)(ht.a,{spacing:2,children:[Object(F.jsx)(Wn.a,{variant:"outlined",label:"Phone Number",onlyCountries:["hk"],defaultCountry:"hk",value:v,InputProps:{readOnly:!0}}),Object(F.jsx)(ve.a,{inputRef:q,label:"Message",fullWidth:!0,defaultValue:"Hello ".concat(j,",\nThank you for your order! Please find here (payment link URL) for your payment.\nOnce finished, your order will be processed accordingly."),multiline:!0,minRows:4,maxRows:10})]})}),Object(F.jsxs)(jt.a,{children:[Object(F.jsx)(we.a,{onClick:function(e){e.preventDefault(),D(!1)},children:"Cancel"}),Object(F.jsx)(we.a,{onClick:function(e){e.preventDefault(),W.a.post("whatsapp/send",{phone:v,message:q.current.value}).then((function(){D(!1)})).catch((function(e){D(!1),Pe.a.fire({icon:"error",title:"Error",text:e.response.data.message,allowOutsideClick:!1}).then((function(){D(!0)}))})).then((function(){}))},children:"Send"})]})]}),Object(F.jsxs)(ut.a,{fullWidth:!0,fullScreen:Object(en.a)(t.breakpoints.down("sm")),maxWidth:"sm",open:B,children:[Object(F.jsx)(dt.a,{children:"Send Email to the Client"}),Object(F.jsx)(pt.a,{children:Object(F.jsxs)(ht.a,{spacing:2,children:[Object(F.jsx)(ve.a,{label:"Email",type:"email",value:O,InputProps:{readOnly:!0}}),Object(F.jsx)(ve.a,{inputRef:V,label:"Message",fullWidth:!0,defaultValue:"Hello ".concat(j,",\nThank you for your order! Please find here (payment link URL) for your payment.\nOnce finished, your order will be processed accordingly."),multiline:!0,minRows:4,maxRows:10}),Object(F.jsx)(ve.a,{label:"Link",type:"text",value:$,onChange:function(e){return ee(e.target.value)}})]})}),Object(F.jsxs)(jt.a,{children:[Object(F.jsx)(we.a,{onClick:function(e){e.preventDefault(),I(!1)},children:"Cancel"}),Object(F.jsx)(we.a,{onClick:function(e){e.preventDefault(),W.a.post("email/send",{email:O,message:V.current.value,link:$}).then((function(){I(!1)})).catch((function(e){I(!1),Pe.a.fire({icon:"error",title:"Error",text:e.response.data.message,allowOutsideClick:!1}).then((function(){I(!0)}))})).then((function(){}))},children:"Send"})]})]}),Object(F.jsxs)(ut.a,{maxWidth:"sm",fullWidth:!0,fullScreen:Object(en.a)(t.breakpoints.down("sm")),open:M,children:[Object(F.jsx)(dt.a,{children:"Products Details"}),Object(F.jsx)(pt.a,{children:Object(F.jsxs)(bi,{children:[G<i.length&&i[G].ChairStocks.map((function(e,t){return Object(F.jsxs)(ji,{children:[Object(F.jsx)(fi,{primary:"Chair: ".concat(e.brand,", ").concat(e.model,", ").concat(e.frameColor,", ").concat(e.backColor,", ").concat(e.seatColor),secondary:"".concat(e.withHeadrest?"Headrest, ":"").concat(e.withAdArmrest?"Armrest":"")}),Object(F.jsx)(mi,{unitPrice:"".concat(e.ChairToOrder.unitPrice," HKD"),amount:"Amount: ".concat(e.ChairToOrder.qty),deliveryOption:"".concat(e.ChairToOrder.deliveryOption)}),Object(F.jsx)(we.a,{variant:"contained",sx:{mt:"5px"},component:l.b,target:"_blank",to:"/deliveryPDF/chair/".concat(e.ChairToOrder.id),children:"Delivery Note"}),i[G].paid&&Object(F.jsxs)(Bt.a,{ref:function(e){return he.current.push(e)},component:"form",sx:{flexBasis:"100%",display:"flex",flexWrap:"wrap",alignItems:"center",justifyContent:"space-between",marginTop:"10px",padding:"10px"},children:[Object(F.jsx)("input",{name:"id",type:"hidden",value:e.ChairToOrder.id}),Object(F.jsx)(ve.a,{name:"proDeliveryDate",type:"date",label:"Proposed Delivery Date",defaultValue:e.ChairToOrder.proDeliveryDate,InputLabelProps:{shrink:!0},sx:{flexBasis:"100%",my:"5px"}}),Object(F.jsx)(ve.a,{name:"estDeliveryDate",type:"date",label:"Est. Delivery Date",defaultValue:e.ChairToOrder.estDeliveryDate,InputLabelProps:{shrink:!0},sx:{flexBasis:"100%",my:"5px"}}),Object(F.jsx)(ve.a,{name:"from",type:"time",label:"From",defaultValue:e.ChairToOrder.from,InputLabelProps:{shrink:!0},sx:{flexBasis:"48%",my:"5px"}}),Object(F.jsx)(ve.a,{name:"to",type:"time",label:"To",defaultValue:e.ChairToOrder.to,InputLabelProps:{shrink:!0},sx:{flexBasis:"48%",my:"5px"}}),Object(F.jsx)(Se.a,{control:Object(F.jsx)(Ce.a,{name:"delivered",defaultChecked:e.ChairToOrder.delivered}),label:"Delivered"},t)]})]},t)})),G<i.length&&i[G].DeskToOrders.map((function(e,t){return Object(F.jsxs)(ji,{children:[Object(F.jsx)(fi,{primary:"Desk: \n                      ".concat(i[G].DeskStocks.find((function(t){return t.id===e.stockId})).supplierCode,", \n                      ").concat(i[G].DeskStocks.find((function(t){return t.id===e.stockId})).model,", \n                      ").concat(i[G].DeskStocks.find((function(t){return t.id===e.stockId})).color,", \n                      ").concat(i[G].DeskStocks.find((function(t){return t.id===e.stockId})).armSize,", \n                      ").concat(i[G].DeskStocks.find((function(t){return t.id===e.stockId})).feetSize,", \n                      ").concat(i[G].DeskStocks.find((function(t){return t.id===e.stockId})).beamSize),secondary:e.hasDeskTop?Object(F.jsxs)("span",{children:["".concat(e.topMaterial,", \n                            ").concat(e.topColor,", \n                            ").concat(e.topLength,"x").concat(e.topWidth,"x").concat(e.topThickness,", \n                            ").concat(e.topRoundedCorners,"-R").concat(e.topCornerRadius,", \n                            ").concat(e.topHoleCount,"-").concat(e.topHoleType," "),Object(F.jsx)("a",{href:e.topSketchURL,target:"_blank",rel:"noreferrer",children:"Sketch"})]}):"Without DeskTop"}),Object(F.jsx)(mi,{unitPrice:"".concat(e.unitPrice," HKD"),amount:"Amount: ".concat(e.qty),deliveryOption:"".concat(e.deliveryOption)}),Object(F.jsx)(we.a,{variant:"contained",sx:{mt:"5px"},component:l.b,target:"_blank",to:"/deliveryPDF/desk/".concat(e.id),children:"Delivery Note"}),i[G].paid&&Object(F.jsxs)(Bt.a,{ref:function(e){return be.current.push(e)},component:"form",sx:{flexBasis:"100%",display:"flex",flexWrap:"wrap",alignItems:"center",justifyContent:"space-between",marginTop:"10px",padding:"10px"},children:[Object(F.jsx)("input",{name:"id",type:"hidden",value:e.id}),Object(F.jsx)(ve.a,{name:"proDeliveryDate",type:"date",label:"Proposed Delivery Date",defaultValue:e.proDeliveryDate,InputLabelProps:{shrink:!0},sx:{flexBasis:"100%",my:"5px"}}),Object(F.jsx)(ve.a,{name:"estDeliveryDate",type:"date",label:"Est. Delivery Date",defaultValue:e.estDeliveryDate,InputLabelProps:{shrink:!0},sx:{flexBasis:"100%",my:"5px"}}),Object(F.jsx)(ve.a,{name:"from",type:"time",label:"From",defaultValue:e.from,InputLabelProps:{shrink:!0},sx:{flexBasis:"48%",my:"5px"}}),Object(F.jsx)(ve.a,{name:"to",type:"time",label:"To",defaultValue:e.to,InputLabelProps:{shrink:!0},sx:{flexBasis:"48%",my:"5px"}}),Object(F.jsx)(Se.a,{control:Object(F.jsx)(Ce.a,{name:"delivered",defaultChecked:e.delivered}),label:"Delivered"},t)]})]},t)})),G<i.length&&i[G].AccessoryStocks.map((function(e,t){return Object(F.jsxs)(ji,{children:[Object(F.jsx)(fi,{primary:"Accessory: ".concat(e.name),secondary:"".concat(e.remark)}),Object(F.jsx)(mi,{unitPrice:"".concat(e.AccessoryToOrder.unitPrice," HKD"),amount:"Amount: ".concat(e.AccessoryToOrder.qty),deliveryOption:"".concat(e.AccessoryToOrder.deliveryOption)}),Object(F.jsx)(we.a,{variant:"contained",sx:{mt:"5px"},component:l.b,target:"_blank",to:"/deliveryPDF/accessory/".concat(e.AccessoryToOrder.id),children:"Delivery Note"}),i[G].paid&&Object(F.jsxs)(Bt.a,{ref:function(e){return je.current.push(e)},component:"form",sx:{flexBasis:"100%",display:"flex",flexWrap:"wrap",alignItems:"center",justifyContent:"space-between",marginTop:"10px",padding:"10px"},children:[Object(F.jsx)("input",{name:"id",type:"hidden",value:e.AccessoryToOrder.id}),Object(F.jsx)(ve.a,{name:"proDeliveryDate",type:"date",label:"Proposed Delivery Date",defaultValue:e.AccessoryToOrder.proDeliveryDate,InputLabelProps:{shrink:!0},sx:{flexBasis:"100%",my:"5px"}}),Object(F.jsx)(ve.a,{name:"estDeliveryDate",type:"date",label:"Est Delivery Date",defaultValue:e.AccessoryToOrder.estDeliveryDate,InputLabelProps:{shrink:!0},sx:{flexBasis:"100%",my:"5px"}}),Object(F.jsx)(ve.a,{name:"from",type:"time",label:"From",defaultValue:e.AccessoryToOrder.from,InputLabelProps:{shrink:!0},sx:{flexBasis:"48%",my:"5px"}}),Object(F.jsx)(ve.a,{name:"to",type:"time",label:"To",defaultValue:e.AccessoryToOrder.to,InputLabelProps:{shrink:!0},sx:{flexBasis:"48%",my:"5px"}}),Object(F.jsx)(Se.a,{control:Object(F.jsx)(Ce.a,{name:"delivered",defaultChecked:e.AccessoryToOrder.delivered}),label:"Delivered"},t)]})]},t)}))]})}),Object(F.jsxs)(jt.a,{children:[Object(F.jsx)(we.a,{onClick:function(e){e.preventDefault(),z(!1)},children:"Cancel"}),Object(F.jsx)(we.a,{onClick:function(e){e.preventDefault();var t=he.current.map((function(e){return{id:e.id.value,proDeliveryDate:e.proDeliveryDate.value||null,estDeliveryDate:e.estDeliveryDate.value||null,from:e.from.value||null,to:e.to.value||null,delivered:e.delivered.checked}})),n=be.current.map((function(e){return{id:e.id.value,proDeliveryDate:e.proDeliveryDate.value||null,estDeliveryDate:e.estDeliveryDate.value||null,from:e.from.value||null,to:e.to.value||null,delivered:e.delivered.checked}})),a=je.current.map((function(e){return{id:e.id.value,proDeliveryDate:e.proDeliveryDate.value||null,estDeliveryDate:e.estDeliveryDate.value||null,from:e.from.value||null,to:e.to.value||null,delivered:e.delivered.checked}}));W.a.post("/sales/products",{chairToOrders:t,deskToOrders:n,accessoryToOrders:a}).then((function(){me()})).catch((function(e){console.log(e)})).then((function(){z(!1)}))},children:"OK"})]})]})]})})),ki=["children","value","index"],vi=["setValue","width"],Si=["label"],Ci=["thumbnailURL","withHeadrest","withAdArmrest","shipmentDate","arrivalDate"],wi=["label"],Ti=["thumbnailURL","shipmentDate","arrivalDate"],Di=["thumbnailURL","shipmentDate","arrivalDate"],Ai=["productDetail"],Pi=["productDetail"],Bi=["type","width"],Ii=["name","label"],Wi=["suffix"],Ri=["name","label","options"],Hi=function(e){var t=e.children,n=e.value,a=e.index,r=Object(L.a)(e,ki);return Object(F.jsx)("div",Object(H.a)(Object(H.a)({role:"tabpanel",hidden:n!==a,id:"simple-tabpanel-".concat(a),"aria-labelledby":"simple-tab-".concat(a)},r),{},{children:n===a&&Object(F.jsx)(ge.a,{sx:{p:"0 10px 10px 10px"},children:t})}))};var Li=[{id:"add"},{id:"thumbnail",sx:{width:100},nonSort:!0},{id:"brand",label:"Brand"},{id:"model",label:"Model"},{id:"unitPrice",label:"Price"},{id:"balance",label:"Balance"},{id:"qty",label:"QTY"},{id:"frameColor",label:"Frame Color"},{id:"backColor",label:"Back Color"},{id:"seatColor",label:"Seat Color"},{id:"backMaterial",label:"Back Material"},{id:"seatMaterial",label:"Seat Material"},{id:"withHeadrest",label:"Headrest"},{id:"withAdArmrest",label:"Adjustable Armrests"},{id:"remark",label:"Other Remark"},{id:"shipmentDate",label:"Shipment"},{id:"arrivalDate",label:"Arrival"}],Ni=["Frame Color","Back Color","Seat Color","Back Material","Seat Material","Headrest","Adjustable Armrests","Other Remark","Shipment","Arrival"],Mi=[{id:"add"},{id:"thumbnail",sx:{width:100},nonSort:!0},{id:"supplierCode",label:"Supplier"},{id:"model",label:"Model"},{id:"unitPrice",label:"Price"},{id:"balance",label:"Balance"},{id:"qty",label:"QTY"},{id:"color",label:"Color"},{id:"armSize",label:"Arm Size"},{id:"feetSize",label:"Feet Size"},{id:"beamSize",label:"Beam Size"},{id:"remark",label:"Other Remark"},{id:"shipmentDate",label:"Shipment"},{id:"arrivalDate",label:"Arrival"}],zi=["Color","Arm Size","Feet Size","Beam Size","Other Remark","Shipment","Arrival"],qi=[{id:"add"},{id:"thumbnail",sx:{width:100},nonSort:!0},{id:"name",label:"Name"},{id:"category",label:"Category"},{id:"unitPrice",label:"Price"},{id:"balance",label:"Balance"},{id:"qty",label:"QTY"},{id:"remark",label:"Other Remark"},{id:"shipmentDate",label:"Shipment"},{id:"arrivalDate",label:"Arrival"}],Vi=["Melamine","Laminate","North American Walnut","South American Walnut","Red Oak","Maple","Bamboo","Melamine with glass top","Toppal Plyedge"],Fi=Object(f.b)((function(e){return{auth:e.auth}}))((function(e){var t=Object($t.a)(),n=e.componentType,r=e.initialClient,i=e.initialCart,c=e.initialServices,l=Object(a.useState)(0),s=Object(o.a)(l,2),u=s[0],d=s[1],p=Object(a.useState)("Left"),h=Object(o.a)(p,2),b=h[0],j=h[1],f=Object(a.useState)("Rounded"),m=Object(o.a)(f,2),x=m[0],O=m[1],g=Object(a.useState)("Melamine"),y=Object(o.a)(g,2),k=y[0],v=y[1],S=Object(a.useState)(""),C=Object(o.a)(S,2),w=C[0],T=C[1],D=Object(a.useState)(700),A=Object(o.a)(D,2),P=A[0],B=A[1],I=Object(a.useState)(400),N=Object(o.a)(I,2),M=N[0],q=N[1],V=Object(a.useState)(25),Q=Object(o.a)(V,2),E=Q[0],U=Q[1],K=Object(a.useState)(0),Y=Object(o.a)(K,2),J=Y[0],G=Y[1],_=Object(a.useState)(50),X=Object(o.a)(_,2),Z=X[0],$=X[1],ee=Object(a.useState)(""),te=Object(o.a)(ee,2),ne=te[0],ae=te[1],re=Object(a.useRef)(null),ie=Object(a.useState)(0),ce=Object(o.a)(ie,2),oe=ce[0],le=ce[1],se=Object(a.useState)(!1),ue=Object(o.a)(se,2),de=ue[0],pe=ue[1],he=Object(a.useState)(!1),be=Object(o.a)(he,2),je=be[0],fe=be[1],me=Object(a.useState)(!1),xe=Object(o.a)(me,2),Oe=xe[0],ye=xe[1],Te=Object(a.useState)("chair"),De=Object(o.a)(Te,2),Ae=De[0],Be=De[1],Ie=Object(a.useState)(""),We=Object(o.a)(Ie,2),Me=We[0],ze=We[1],qe=Object(a.useState)(1e3),Ve=Object(o.a)(qe,2),Fe=Ve[0],Qe=Ve[1],Ee=Object(a.useState)(0),Ue=Object(o.a)(Ee,2),Ye=Ue[0],Je=Ue[1],Ge=Object(a.useState)(""),_e=Object(o.a)(Ge,2),Xe=_e[0],Ze=_e[1],$e=Object(a.useState)(!1),et=Object(o.a)($e,2),nt=et[0],at=et[1],rt=Object(a.useState)(!1),it=Object(o.a)(rt,2),ct=it[0],ot=it[1],lt=Object(a.useState)(!1),st=Object(o.a)(lt,2),ht=st[0],bt=st[1],xt=Object(a.useState)(!1),Ot=Object(o.a)(xt,2),gt=Ot[0],yt=Ot[1],kt=Object(a.useState)(i),vt=Object(o.a)(kt,2),St=vt[0],Ct=vt[1],wt=Object(a.useState)("add"),Tt=Object(o.a)(wt,2),Dt=Tt[0],At=Tt[1],Pt=Object(a.useState)(r.paid),It=Object(o.a)(Pt,2),Wt=It[0],Rt=It[1],Ht=Object(a.useState)([]),Lt=Object(o.a)(Ht,2),Nt=Lt[0],Mt=Lt[1],zt=Object(a.useState)([]),qt=Object(o.a)(zt,2),Vt=qt[0],Qt=qt[1],Et=Object(a.useState)([]),Ut=Object(o.a)(Et,2),Kt=Ut[0],Yt=Ut[1],tn=Object(a.useState)([]),nn=Object(o.a)(tn,2),rn=nn[0],cn=nn[1],on=Object(a.useState)(0),ln=Object(o.a)(on,2),sn=ln[0],un=ln[1],dn=Object(a.useState)([]),pn=Object(o.a)(dn,2),hn=pn[0],bn=pn[1],jn=Object(a.useState)([]),fn=Object(o.a)(jn,2),mn=fn[0],xn=fn[1],On=Object(a.useState)(null),gn=Object(o.a)(On,2),yn=gn[0],kn=gn[1],vn=Object(a.useState)(null),Sn=Object(o.a)(vn,2),Cn=Sn[0],wn=Sn[1],Tn=Object(a.useState)(null),Dn=Object(o.a)(Tn,2),An=Dn[0],Pn=Dn[1],Bn=Object(a.useState)(null),In=Object(o.a)(Bn,2),Rn=In[0],Hn=In[1],Ln=Object(a.useState)(null),Nn=Object(o.a)(Ln,2),Mn=Nn[0],zn=Nn[1],qn=Object(a.useState)("All"),Vn=Object(o.a)(qn,2),Fn=Vn[0],Qn=Vn[1],En=c?c.map((function(e){return Object.assign(e,{productType:"misc"})})):[],Un=Object(a.useState)(En),aa=Object(o.a)(Un,2),ra=aa[0],ia=aa[1],ca=Object(a.useState)([]),oa=Object(o.a)(ca,2),la=oa[0],sa=oa[1],ua=Object(a.useState)([]),da=Object(o.a)(ua,2),pa=da[0],ha=da[1];Object(a.useEffect)((function(){var e,t=W.a.CancelToken.source();return e=t.token,W.a.get("/chairStock/features",{cancelToken:e}).then((function(e){bn(e.data)})).catch((function(e){console.log(e)})).then((function(){})),function(e){W.a.get("/deskStock/features",{cancelToken:e}).then((function(e){xn(e.data)})).catch((function(e){console.log(e)})).then((function(){}))}(t.token),function(e){W.a.get("/accessoryStock/features",{cancelToken:e}).then((function(e){})).catch((function(e){console.log(e)})).then((function(){}))}(t.token),function(e){W.a.get("/chairStock",{cancelToken:e}).then((function(e){Mt(e.data)})).catch((function(e){console.log(e)})).then((function(){}))}(t.token),function(e){W.a.get("/deskStock",{cancelToken:e}).then((function(e){Qt(e.data)})).catch((function(e){console.log(e)})).then((function(){}))}(t.token),function(e){W.a.get("/accessoryStock",{cancelToken:e}).then((function(e){Yt(e.data),cn(e.data)})).catch((function(e){console.log(e)})).then((function(){}))}(t.token),function(){return t.cancel("Stock Component got unmounted")}}),[]);return Object(F.jsxs)(ge.a,{sx:{height:"100%",overflow:"auto",padding:"20px 20px 10px 20px"},children:[Object(F.jsx)(Kn.a,{activeStep:oe,sx:{flexWrap:"wrap"},children:["Input Client Info","Select Products","Input Payment Details"].map((function(e,t){var n,a={};return n=t,(null!==re.current&&oe>0&&0===n?!re.current.checkValidity():0===St.length&&0===ra.length&&oe>1&&1===n)&&(a.optional=Object(F.jsx)(z.a,{variant:"caption",color:"error",children:["Invalid Input","Products cannot be empty"][t]}),a.error=!0),Object(F.jsx)(Yn.a,{sx:{my:"10px"},children:Object(F.jsx)(Jn.a,Object(H.a)(Object(H.a)({},a),{},{children:e}))},e)}))}),Object(F.jsxs)(ge.a,{sx:{mx:"auto",mt:"50px"},ref:re,hidden:0!==oe,component:"form",maxWidth:"sm",fullWidth:!0,onSubmit:function(e){e.preventDefault(),le(1)},children:[Object(F.jsxs)(Bt.a,{sx:{p:"10px",display:"flex",flexWrap:"wrap",justifyContent:"space-between"},children:[Object(F.jsx)(z.a,{variant:"h6",sx:{flexBasis:"100%",minWidth:"100%"},children:"Client Info"}),[{name:"name",label:"Name",type:"text",defaultValue:r.name,width:"100%",required:!0},{name:"phone",label:"Phone",type:"text",value:r.phone,onChange:r.setPhone,width:"48%"},{name:"email",label:"Email",type:"email",defaultValue:r.email,width:"48%"},{name:"district",label:"District",type:"text",defaultValue:r.district,width:"55%"},{name:"street",label:"Street",type:"text",defaultValue:r.street,width:"40%"},{name:"block",label:"Block",type:"text",defaultValue:r.block,width:"30%"},{name:"floor",label:"Floor",type:"text",defaultValue:r.floor,width:"30%"},{name:"unit",label:"Unit",type:"text",defaultValue:r.unit,width:"30%"}].map((function(e,t){e.setValue;var n=e.width,a=Object(L.a)(e,vi);return"Phone"===a.label?Object(F.jsx)(Wn.a,Object(H.a)({variant:"outlined",onlyCountries:["hk"],defaultCountry:"hk",sx:{flexBasis:n,minWidth:n},margin:"dense",size:"small"},a),t):Object(F.jsx)(ve.a,Object(H.a)({sx:{flexBasis:n,minWidth:n}},a),t)})),Object(F.jsx)(ve.a,{sx:{flexBasis:["100%","30%"],minWidth:["100%","30%"]},name:"timeLine",label:"TimeLine",type:"number",inputProps:{min:0},defaultValue:r.timeLine||0}),Object(F.jsxs)(Gn.a,{row:!0,name:"timeLineFormat",defaultValue:"day",sx:{flexBasis:["100%","70%"],minWidth:["100%","70%"],justifyContent:"flex-end"},children:[Object(F.jsx)(Se.a,{value:"day",control:Object(F.jsx)(_n.a,{}),label:"Days"}),Object(F.jsx)(Se.a,{value:"week",control:Object(F.jsx)(_n.a,{}),label:"Weeks"})]}),Object(F.jsx)(ve.a,{sx:{flexBasis:["100%","100%"],minWidth:["100%","100%"]},name:"remark",label:"Delivery Rmark",type:"text",defaultValue:r.remark||""})]}),Object(F.jsx)(we.a,{type:"submit",sx:{marginTop:"10px",float:"right"},children:"Next"})]}),1===oe&&Object(F.jsxs)(F.Fragment,{children:[St.length>0&&Object(F.jsx)(Bt.a,{children:Object(F.jsx)(bi,{sx:{px:"10px"},children:St.map((function(e,t){return Object(F.jsxs)(ji,{secondaryAction:Object(F.jsxs)(a.Fragment,{children:[Object(F.jsx)(Ke.a,{onClick:function(t){t.preventDefault(),function(e){At("edit"),Be(e.productType),ze(e.productDetail),Ze(e.remark),Qe(e.productPrice),Je(e.productAmount);var t=JSON.parse(e.productDeliveryOption);t.includes("Delivery Included")&&at(!0),t.includes("Delivery and installation included")&&ot(!0),t.includes("Remote Area Surcharge")&&bt(!0),t.includes("Stairs Surcharge")&&yt(!0),"chair"===e.productType||"accessory"===e.productType?pe(!0):"desk"===e.productType&&(ye(e.hasDeskTop),T(e.topColor),$(e.topCornerRadius),d(e.topHoleCount),j(e.topHolePosition),O(e.topHoleType),B(e.topLength),v(e.topMaterial),G(e.topRoundedCorners),U(e.topThickness),q(e.topWidth),ae(e.topSketchURL),fe(!0))}(e)},children:Object(F.jsx)(ft.a,{})}),Object(F.jsx)(Ke.a,{onClick:function(e){e.preventDefault(),Ct(St.filter((function(e,n){return n!==t})))},children:Object(F.jsx)(mt.a,{})})]}),children:["chair"===e.productType&&Object(F.jsx)(fi,{primary:"Chair: ".concat(e.productDetail.brand,", ").concat(e.productDetail.model,", ").concat(e.remark),secondary:"".concat(e.productDetail.withHeadrest?"Headrest, ":"").concat(e.productDetail.withAdArmrest?"Armrest":"")}),"desk"===e.productType&&Object(F.jsx)(fi,{primary:"Desk: ".concat(e.productDetail.supplierCode,", ").concat(e.productDetail.model,", ").concat(e.productDetail.color,", ").concat(e.productDetail.armSize,", ").concat(e.productDetail.feetSize,", ").concat(e.productDetail.beamSize),secondary:e.hasDeskTop?"".concat(e.topMaterial,", ").concat(e.topColor,", ").concat(e.topLength,"x").concat(e.topWidth,"x").concat(e.topThickness,", ").concat(e.topRoundedCorners,"-R").concat(e.topCornerRadius,", ").concat(e.topHoleCount,"-").concat(e.topHoleType):"Without DeskTop"}),"accessory"===e.productType&&Object(F.jsx)(fi,{primary:"Accessory: ".concat(e.productDetail.category),secondary:"".concat(e.remark)}),Object(F.jsx)(mi,{unitPrice:"".concat(e.productPrice," HKD"),amount:"Amount: ".concat(e.productAmount),deliveryOption:"".concat(e.productDeliveryOption)})]},t)}))})}),Object(F.jsxs)(Bt.a,{sx:{my:"10px"},children:[Object(F.jsx)(ge.a,{sx:{borderBottom:1,borderColor:"divider"},children:Object(F.jsxs)(Xn.a,{value:sn,onChange:function(e,t){e.preventDefault(),un(t)},"aria-label":"basic tabs example",children:[Object(F.jsx)(Zn.a,{label:"Chairs"}),Object(F.jsx)(Zn.a,{label:"Desks"}),Object(F.jsx)(Zn.a,{label:"Accessories"}),Object(F.jsx)(Zn.a,{label:"Miscs"})]})}),Object(F.jsxs)(Hi,{value:sn,index:0,children:[Object(F.jsx)(Bt.a,{sx:{marginTop:"10px",padding:"5px 10px",display:"flex",flexWrap:"wrap",justifyContent:"space-around"},children:[{label:"Brand",value:yn,onChange:function(e,t){e.preventDefault(),kn(t),wn(null)},options:hn.map((function(e){return e.brand})).filter((function(e,t,n){return n.indexOf(e)===t}))},{label:"Model",value:Cn,onChange:function(e,t){e.preventDefault(),wn(t)},options:hn.filter((function(e){return!yn||e.brand===yn})).map((function(e){return e.model})).filter((function(e,t,n){return n.indexOf(e)===t}))}].map((function(e,t){var n=e.label,a=Object(L.a)(e,Si);return Object(F.jsx)(_t.a,Object(H.a)({sx:{flexBasis:"200px",maxWidth:"200px"},renderInput:function(e){return Object(F.jsx)(ve.a,Object(H.a)(Object(H.a)({},e),{},{label:n}))}},a),t)}))}),Object(F.jsx)(an,{options:Ni,onChange:function(e){sa(e)},selected:la}),Object(F.jsx)(Ft,{nonSelect:!0,title:"Chair Stocks",rows:Nt.map((function(e,t){var n=e.thumbnailURL,a=e.withHeadrest,r=e.withAdArmrest,i=e.shipmentDate,c=e.arrivalDate,o=Object(L.a)(e,Ci);return Object(H.a)({thumbnail:Object(F.jsx)("a",{href:"/",onClick:function(e){e.preventDefault(),Pe.a.fire({html:'<img alt="" width="400px" src="'.concat(n,'" />'),showCloseButton:!0,showConfirmButton:!1,allowOutsideClick:!1})},children:Object(F.jsx)("img",{alt:"",width:"80px",src:n,style:{marginTop:"5px"}})}),withHeadrest:a?"Yes":"No",withAdArmrest:r?"Yes":"No",add:Object(F.jsx)(Ke.a,{onClick:function(e){e.preventDefault(),St.find((function(e){return"chair"===e.productType&&e.productDetail.id===Nt[t].id}))?Pe.a.fire({icon:"warning",title:"Warning",text:"This product is already added.",allowOutsideClick:!1}):(Be("chair"),ze(Nt[t]),Qe(Nt[t].unitPrice),Je(1),pe(!0))},children:Object(F.jsx)(Xt.a,{})}),shipmentDate:function(){if(null===i)return"No";var e=new Date(i);return e.setMinutes(e.getMinutes()-e.getTimezoneOffset()),e.toISOString().split("T")[0]}(),arrivalDate:function(){if(null===c)return"No";var e=new Date(c);return e.setMinutes(e.getMinutes()-e.getTimezoneOffset()),e.toISOString().split("T")[0]}()},o)})).filter((function(e){return(!yn||e.brand===yn)&&(!Cn||e.model===Cn)})),columns:Li.map((function(e,t){return t>6&&la.find((function(t){return t===e.label})),e})).filter((function(e){return void 0!==e}))})]}),Object(F.jsxs)(Hi,{value:sn,index:1,children:[Object(F.jsx)(Bt.a,{sx:{marginTop:"10px",padding:"5px 10px",display:"flex",flexWrap:"wrap",justifyContent:"space-around"},children:[{label:"Supplier",value:An,onChange:function(e,t){e.preventDefault(),Pn(t),Hn(null),zn(null)},options:mn.map((function(e){return e.supplierCode})).filter((function(e,t,n){return n.indexOf(e)===t}))},{label:"Model",value:Rn,onChange:function(e,t){e.preventDefault(),Hn(t),zn(null)},options:mn.filter((function(e){return!An||e.supplierCode===An})).map((function(e){return e.model})).filter((function(e,t,n){return n.indexOf(e)===t}))},{label:"Color",value:Mn,onChange:function(e,t){e.preventDefault(),zn(t)},options:mn.filter((function(e){return!Rn||e.model===Rn})).map((function(e){return e.color})).filter((function(e,t,n){return n.indexOf(e)===t}))}].map((function(e,t){var n=e.label,a=Object(L.a)(e,wi);return Object(F.jsx)(_t.a,Object(H.a)({sx:{flexBasis:"200px",maxWidth:"200px"},renderInput:function(e){return Object(F.jsx)(ve.a,Object(H.a)(Object(H.a)({},e),{},{label:n}))}},a),t)}))}),Object(F.jsx)(an,{options:zi,onChange:function(e){ha(e)},selected:pa}),Object(F.jsx)(Ft,{nonSelect:!0,title:"Desk Leg Stocks",rows:Vt.map((function(e,t){var n=e.thumbnailURL,a=e.shipmentDate,r=e.arrivalDate,i=Object(L.a)(e,Ti);return Object(H.a)({thumbnail:Object(F.jsx)("a",{href:"/",onClick:function(e){e.preventDefault(),Pe.a.fire({html:'<img alt="" width="400px" src="'.concat(n,'" />'),showCloseButton:!0,showConfirmButton:!1,allowOutsideClick:!1})},children:Object(F.jsx)("img",{alt:"",width:"80px",src:n,style:{marginTop:"5px"}})}),add:Object(F.jsx)(Ke.a,{onClick:function(e){Be("desk"),ze(Vt[t]),Qe(Vt[t].unitPrice),Je(1),ye(!1),fe(!0)},children:Object(F.jsx)(Xt.a,{})}),shipmentDate:function(){if(null===a)return"No";var e=new Date(a);return e.setMinutes(e.getMinutes()-e.getTimezoneOffset()),e.toISOString().split("T")[0]}(),arrivalDate:function(){if(null===r)return"No";var e=new Date(r);return e.setMinutes(e.getMinutes()-e.getTimezoneOffset()),e.toISOString().split("T")[0]}()},i)})).filter((function(e){return(!An||e.supplierCode===An)&&(!Rn||e.model===Rn)&&(!Mn||e.color===Mn)})),columns:Mi.map((function(e,t){return t>6&&pa.find((function(t){return t===e.label})),e})).filter((function(e){return void 0!==e}))})]}),Object(F.jsxs)(Hi,{value:sn,index:2,children:[Object(F.jsx)(Bt.a,{sx:{marginTop:"10px",padding:"5px 10px",display:"flex",flexWrap:"wrap",justifyContent:"space-around"},children:Object(F.jsxs)(Re.a,{size:"small",sx:{flexBasis:"200px",maxWidth:"200px"},children:[Object(F.jsx)(He.a,{id:"category_filter",children:"Category"}),Object(F.jsxs)(Le.a,{labelId:"category_filter",label:"Category",value:Fn,onChange:function(e){var t=e.target.value;Qn(t),Yt("All"===t?rn:rn.filter((function(e){return e.category===t})))},children:[Object(F.jsx)(Ne.a,{value:"All",children:"All"}),Object(F.jsx)(Ne.a,{value:"Desk Accessories",children:"Desk Accessories"}),Object(F.jsx)(Ne.a,{value:"Chair Accessories",children:"Chair Accessories"}),Object(F.jsx)(Ne.a,{value:"Desk on Desk",children:"Desk on Desk"}),Object(F.jsx)(Ne.a,{value:"Monitor Arms",children:"Monitor Arms"}),Object(F.jsx)(Ne.a,{value:"Cabinet",children:"Cabinet"}),Object(F.jsx)(Ne.a,{value:"Drawer",children:"Drawer"})]})]})}),Object(F.jsx)(Ft,{nonSelect:!0,title:"Accessory Stocks",rows:Kt.map((function(e,t){var n=e.thumbnailURL,a=e.shipmentDate,r=e.arrivalDate,i=Object(L.a)(e,Di);return Object(H.a)({thumbnail:Object(F.jsx)("a",{href:"/",onClick:function(e){e.preventDefault(),Pe.a.fire({html:'<img alt="" width="400px" src="'.concat(n,'" />'),showCloseButton:!0,showConfirmButton:!1,allowOutsideClick:!1})},children:Object(F.jsx)("img",{alt:"",width:"80px",src:n,style:{marginTop:"5px"}})}),add:Object(F.jsx)(Ke.a,{onClick:function(e){e.preventDefault(),Be("accessory"),ze(Kt[t]),Ze(Kt[t].remark),Qe(Kt[t].unitPrice),Je(1),St.find((function(e){return"accessory"===e.productType&&e.productDetail.id===Kt[t].id}))?Pe.a.fire({icon:"warning",title:"Warning",text:"This product is already added.",allowOutsideClick:!1}):pe(!0)},children:Object(F.jsx)(Xt.a,{})}),shipmentDate:function(){if(null===a)return"No";var e=new Date(a);return e.setMinutes(e.getMinutes()-e.getTimezoneOffset()),e.toISOString().split("T")[0]}(),arrivalDate:function(){if(null===r)return"No";var e=new Date(r);return e.setMinutes(e.getMinutes()-e.getTimezoneOffset()),e.toISOString().split("T")[0]}()},i)})),columns:qi})]}),Object(F.jsx)(Hi,{value:sn,index:3,children:Object(F.jsxs)(ge.a,{sx:{m:3},children:[Object(F.jsx)(we.a,{variant:"contained",sx:{mb:2},onClick:function(){var e={id:Object(na.a)(),description:"",price:0,productType:"misc"};ia([].concat(Object(R.a)(ra),[e]))},children:"+ New Service"}),Object(F.jsx)(ke.a,{container:!0,spacing:2,children:ra.map((function(e){return Object(F.jsx)(ke.a,{item:!0,xs:4,children:Object(F.jsxs)($n.a,{sx:{px:2,pb:2},children:[Object(F.jsx)(ge.a,{sx:{display:"flex",justifyContent:"flex-end"},children:Object(F.jsx)(Ke.a,{"aria-label":"settings",size:"small",onClick:function(){return function(e){var t=ra.filter((function(t){return t.id!==e}));ia(t)}(e.id)},children:Object(F.jsx)(ta.a,{fontSize:"small"})})}),Object(F.jsx)(ve.a,{label:"Description",multiline:!0,rows:5,sx:{flexBasis:"100%",minWidth:"100%"},value:e.description,onChange:function(t){return function(e,t){var n=ra.map((function(n){return n.id===t?Object.assign({},n,{description:e.target.value}):n}));ia(n)}(t,e.id)}}),Object(F.jsx)(ve.a,{type:"number",sx:{flexBasis:"100%",minWidth:"100%"},label:"Price",value:e.price,onChange:function(t){return function(e,t){var n=ra.map((function(n){return n.id===t?Object.assign({},n,{price:parseFloat(e.target.value)}):n}));ia(n)}(t,e.id)}})]})},e.id)}))})]})})]}),Object(F.jsx)(we.a,{onClick:function(e){e.preventDefault(),le(0)},children:"Previous"}),Object(F.jsx)(we.a,{sx:{float:"right"},onClick:function(e){e.preventDefault(),0!==St.length||0!==ra.length?le(2):Pe.a.fire({icon:"warning",title:"Warning",text:"Products and services list cannot be empty",allowOutsideClick:!1})},children:"Next"})]}),Object(F.jsxs)(ge.a,{sx:{mx:"auto",mt:"50px"},hidden:2!==oe,component:"form",maxWidth:"sm",fullWidth:!0,onSubmit:function(t){t.preventDefault();var a=new FormData(re.current),i=new FormData(t.currentTarget);"create"===n?W.a.post("/sales/create",{name:a.get("name"),phone:a.get("phone"),email:a.get("email"),district:a.get("district"),street:a.get("street"),block:a.get("block"),floor:a.get("floor"),unit:a.get("unit"),timeLine:Math.max(a.get("timeLine"),0)*("day"===a.get("timeLineFormat")?1:7),remark:a.get("remark"),products:St.map((function(e){var t,n=e.productDetail,a=Object(L.a)(e,Ai);return Object(H.a)({productId:n.id,productCategory:null!==(t=n.category)&&void 0!==t?t:""},a)})).concat(ra),paymentTerms:i.get("paymentTerms"),paid:Boolean(i.get("paid")),dueDate:i.get("dueDate")||null,discount:Math.max(i.get("discountType")>0?i.get("discount"):Math.min(i.get("discount"),100),0),discountType:i.get("discountType"),surcharge:Math.max(i.get("surchargeType")>0?i.get("surcharge"):Math.min(i.get("surcharge"),100),0),surchargeType:i.get("surchargeType")}).then((function(){e.history.push("/user/sales")})).catch((function(e){Pe.a.fire({icon:"error",title:"Error",text:e.response.data.message,allowOutsideClick:!1}).then((function(){})),console.log(e)})).then((function(){})):W.a.put("/sales/".concat(r.id),{name:a.get("name"),phone:a.get("phone"),email:a.get("email"),district:a.get("district"),street:a.get("street"),block:a.get("block"),floor:a.get("floor"),unit:a.get("unit"),timeLine:a.get("timeLine")*("day"===a.get("timeLineFormat")?1:7),remark:a.get("remark"),products:St.map((function(e){var t,n=e.productDetail,a=Object(L.a)(e,Pi);return Object(H.a)({productId:n.id,productCategory:null!==(t=n.category)&&void 0!==t?t:""},a)})).concat(ra),paymentTerms:i.get("paymentTerms"),paid:Boolean(i.get("paid")),dueDate:i.get("dueDate")||null,discount:Math.max(i.get("discountType")>0?i.get("discount"):Math.min(i.get("discount"),100),0),discountType:i.get("discountType"),surcharge:Math.max(i.get("surchargeType")>0?i.get("surcharge"):Math.min(i.get("surcharge"),100),0),surchargeType:i.get("surchargeType")}).then((function(){e.history.push("/user/sales")})).catch((function(e){Pe.a.fire({icon:"error",title:"Error",text:e.response.data.message,allowOutsideClick:!1}).then((function(){})),console.log(e)})).then((function(){}))},children:[Object(F.jsxs)(Bt.a,{sx:{p:"10px",display:"flex",flexWrap:"wrap",justifyContent:"space-between"},children:[Object(F.jsx)(z.a,{variant:"h6",sx:{flexBasis:"100%",minWidth:"100%"},children:"Payment Details"}),Object(F.jsxs)(z.a,{variant:"h7",sx:{flexBasis:"100%",minWidth:"100%"},children:["Sub Total:"," ",St.reduce((function(e,t){return e+t.productAmount*parseFloat(t.productPrice)}),0)+ra.reduce((function(e,t){return e+t.price}),0)]}),Object(F.jsx)(ve.a,{name:"paymentTerms",size:"small",sx:{flexBasis:"100%",minWidth:"100%"},defaultValue:r.paymentTerms,label:"Payment Terms"}),Object(F.jsx)(Se.a,{sx:{flexBasis:"30%",minWidth:"30%",marginRight:0},control:Object(F.jsx)(Ce.a,{name:"paid",checked:Wt,onChange:function(e){Rt(e.target.checked)}}),label:"Paid"}),Object(F.jsx)(ve.a,{type:"date",disabled:Wt,name:"dueDate",label:"Due Date",sx:{flexBasis:"70%",minWidth:"70%"},defaultValue:r.dueDate,InputLabelProps:{shrink:!0}}),Object(F.jsx)(ve.a,{sx:{flexBasis:["58%","68%"],minWidth:["58%","68%"],alignItems:"baseline",m:0},label:"Discount",type:"number",name:"discount",inputProps:{min:0},defaultValue:r.discount,fullWidth:!0}),Object(F.jsxs)(Le.a,{sx:{flexBasis:["40%","30%"],minWidth:["40%","30%"],alignItems:"baseline",m:0},name:"discountType",defaultValue:r.discountType,children:[Object(F.jsx)(Ne.a,{value:0,children:"%"}),Object(F.jsx)(Ne.a,{value:1,children:"HKD"})]}),Object(F.jsx)(ve.a,{sx:{flexBasis:["58%","68%"],minWidth:["58%","68%"],alignItems:"baseline",mt:"10px",mb:0},label:"Surcharge",type:"number",name:"surcharge",inputProps:{min:0},defaultValue:r.surcharge,fullWidth:!0}),Object(F.jsxs)(Le.a,{sx:{flexBasis:["40%","30%"],minWidth:["40%","30%"],alignItems:"baseline",mt:"10px",mb:0},name:"surchargeType",defaultValue:r.surchargeType,children:[Object(F.jsx)(Ne.a,{value:0,children:"%"}),Object(F.jsx)(Ne.a,{value:1,children:"HKD"})]})]}),Object(F.jsx)(we.a,{sx:{marginTop:"10px"},onClick:function(e){e.preventDefault(),le(1)},children:"Previous"}),Object(F.jsx)(we.a,{sx:{float:"right",marginTop:"10px"},type:"submit",children:"Finish"})]}),Object(F.jsxs)(ut.a,{open:de,maxWidth:"sm",fullWidth:!0,fullScreen:Object(en.a)(t.breakpoints.down("sm")),PaperProps:{component:"form",onSubmit:function(e){e.preventDefault();var t=new FormData(e.currentTarget);if(at(!1),ot(!1),bt(!1),yt(!1),pe(!1),"add"===Dt){if(St.find((function(e){return e.productType===Ae&&e.productDetail.id===Me.id})))return void Pe.a.fire({icon:"warning",title:"Warning",text:"This product is already added.",allowOutsideClick:!1});Ct(St.concat({productType:Ae,productDetail:Me,productAmount:Ye,productDeliveryOption:JSON.stringify(["Delivery Included","Delivery and installation included","Remote Area Surcharge","Stairs Surcharge"].filter((function(e,n){return Boolean(t.get("deliveryOption_".concat(n)))}))),productPrice:e.currentTarget.unitPrice.value,remark:Xe}))}else if("edit"===Dt){var n=St.map((function(n){return n.productType===Ae&&n.productDetail.id===Me.id?{productType:Ae,productDetail:Me,productAmount:Ye,productDeliveryOption:JSON.stringify(["Delivery Included","Delivery and installation included","Remote Area Surcharge","Stairs Surcharge"].filter((function(e,n){return Boolean(t.get("deliveryOption_".concat(n)))}))),productPrice:e.currentTarget.unitPrice.value,remark:Xe}:n}));Ct(n)}}},children:[Object(F.jsx)(dt.a,{children:"Price and Amount"}),Object(F.jsxs)(pt.a,{sx:{textAlign:"center"},children:[Object(F.jsx)(ve.a,{label:"Unit Price",type:"number",name:"unitPrice",value:Fe,sx:{width:200},InputProps:{readOnly:!0,endAdornment:Object(F.jsx)(ea.a,{position:"end",children:"HKD"})}}),Object(F.jsxs)(ge.a,{sx:{display:"flex",alignItems:"center",width:"200px",border:"1px solid #0000003b",borderRadius:"4px",my:"10px",mx:"auto",p:"5px 3px"},children:[Object(F.jsx)(z.a,{variant:"span",sx:{flexGrow:1},children:"Amount"}),Object(F.jsx)(Ke.a,{onClick:function(e){e.preventDefault(),Je(Math.max(Ye-1,1))},children:Object(F.jsx)(Zt.a,{})}),Object(F.jsx)(z.a,{variant:"span",sx:{ml:"10px"},children:Ye}),Object(F.jsx)(Ke.a,{onClick:function(e){e.preventDefault(),Je(Math.min(Ye+1,99))},children:Object(F.jsx)(Xt.a,{})})]}),Object(F.jsx)(ge.a,{sx:{alignItems:"center",justifyContent:"center",my:"10px",mx:"auto",p:"5px 3px"},children:Object(F.jsx)(ve.a,{label:"Specification",name:"remark",value:Xe,sx:{width:400,mx:"5px"},onChange:function(e){Ze(e.target.value)}})}),Object(F.jsx)(Se.a,{sx:{display:"block",textAlign:"left",marginLeft:"100px"},control:Object(F.jsx)(Ce.a,{name:"deliveryOption_0",checked:nt,onChange:function(e){return at(e.target.checked)},sx:{textAlign:"left"}}),label:"Delivery Included"}),Object(F.jsx)(Se.a,{sx:{display:"block",textAlign:"left",marginLeft:"100px"},control:Object(F.jsx)(Ce.a,{name:"deliveryOption_1",checked:ct,onChange:function(e){return ot(e.target.checked)}}),label:"Delivery and installation included"}),Object(F.jsx)(Se.a,{sx:{display:"block",textAlign:"left",marginLeft:"100px"},control:Object(F.jsx)(Ce.a,{name:"deliveryOption_2",checked:ht,onChange:function(e){return bt(e.target.checked)}}),label:"Remote Area Surcharge"}),Object(F.jsx)(Se.a,{sx:{display:"block",textAlign:"left",marginLeft:"100px"},control:Object(F.jsx)(Ce.a,{name:"deliveryOption_3",checked:gt,onChange:function(e){return yt(e.target.checked)}}),label:"Stairs Surcharge"})]}),Object(F.jsxs)(jt.a,{children:[Object(F.jsx)(we.a,{onClick:function(e){at(!1),ot(!1),bt(!1),yt(!1),pe(!1)},children:"Cancel"}),Object(F.jsx)(we.a,{type:"submit",children:"OK"})]})]}),Object(F.jsxs)(ut.a,{open:je,maxWidth:"sm",fullWidth:!0,fullScreen:Object(en.a)(t.breakpoints.down("sm")),PaperProps:{component:"form",onSubmit:function(){var e=Object(Gt.a)(Jt.a.mark((function e(t){var n,a,r,i,c,o,l,s;return Jt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),d(0),j("Left"),O("Rounded"),v("Melamine"),T(""),B(700),q(400),U(25),G(0),$(50),ae(""),at(!1),ot(!1),bt(!1),yt(!1),fe(!1),n=new FormData(t.currentTarget),"add"!==Dt){e.next=38;break}if(Oe||!St.find((function(e){return"desk"===e.productType&&e.productDetail.id===Me.id&&!e.hasDeskTop}))){e.next=22;break}return Pe.a.fire({icon:"warning",title:"Warning",text:"This product is already added.",allowOutsideClick:!1}),e.abrupt("return");case 22:if(a="",!n.get("topSketchImg")||!n.get("topSketchImg").name){e.next=35;break}return(r=new FormData).append("file",n.get("topSketchImg")),e.prev=26,e.next=29,W.a.post("/upload",r,{headers:{"Content-Type":"application/x-www-form-urlencoded"}});case 29:i=e.sent,a=i.data.url,e.next=35;break;case 33:e.prev=33,e.t0=e.catch(26);case 35:Ct(St.concat({productType:Ae,productDetail:Me,productAmount:Ye,productDeliveryOption:JSON.stringify(["Delivery Included","Delivery and installation included","Remote Area Surcharge","Stairs Surcharge"].filter((function(e,t){return Boolean(n.get("deliveryOption_".concat(t)))}))),productPrice:Boolean(n.get("hasDeskTop"))?Number(n.get("deskTotalPrice")):Number(n.get("deskLegPrice")),hasDeskTop:Boolean(n.get("hasDeskTop"))||!1,topMaterial:n.get("topMaterial")||"",topColor:n.get("topColor")||"",topLength:n.get("topLength")||0,topWidth:n.get("topWidth")||0,topThickness:n.get("topThickness")||0,topRoundedCorners:n.get("topRoundedCorners")||0,topCornerRadius:n.get("topCornerRadius")||50,topHoleCount:n.get("topHoleCount")||0,topHoleType:n.get("topHoleType")||"",topHolePosition:b||"",remark:n.get("remark")||"",topSketchURL:a})),e.next=54;break;case 38:if("edit"!==Dt){e.next=54;break}if(c=ne,!n.get("topSketchImg")||!n.get("topSketchImg").name){e.next=52;break}return(o=new FormData).append("file",n.get("topSketchImg")),e.prev=43,e.next=46,W.a.post("/upload",o,{headers:{"Content-Type":"application/x-www-form-urlencoded"}});case 46:l=e.sent,c=l.data.url,e.next=52;break;case 50:e.prev=50,e.t1=e.catch(43);case 52:s=St.map((function(e){return"desk"===e.productType&&e.productDetail.id===Me.id?{productType:Ae,productDetail:Me,productAmount:Ye,productDeliveryOption:JSON.stringify(["Delivery Included","Delivery and installation included","Remote Area Surcharge","Stairs Surcharge"].filter((function(e,t){return Boolean(n.get("deliveryOption_".concat(t)))}))),productPrice:Boolean(n.get("hasDeskTop"))?Number(n.get("deskTotalPrice")):Number(n.get("deskLegPrice")),hasDeskTop:Boolean(n.get("hasDeskTop"))||!1,topMaterial:n.get("topMaterial")||"",topColor:n.get("topColor")||"",topLength:n.get("topLength")||0,topWidth:n.get("topWidth")||0,topThickness:n.get("topThickness")||0,topRoundedCorners:n.get("topRoundedCorners")||0,topCornerRadius:n.get("topCornerRadius")||50,topHoleCount:n.get("topHoleCount")||0,topHoleType:n.get("topHoleType")||"",topHolePosition:b||"",remark:n.get("remark")||"",topSketchURL:c}:e})),Ct(s);case 54:case"end":return e.stop()}}),e,null,[[26,33],[43,50]])})));return function(t){return e.apply(this,arguments)}}()},children:[Object(F.jsx)(dt.a,{children:"Price and Amount"}),Object(F.jsxs)(pt.a,{sx:{textAlign:"center"},children:[Object(F.jsx)(ve.a,{label:"Desk Leg Price",type:"number",name:"deskLegPrice",value:Fe,sx:{width:200,visibility:Oe?"hidden":"visible"},InputProps:{readOnly:!0,endAdornment:Object(F.jsx)(ea.a,{position:"end",children:"HKD"})}}),Object(F.jsx)(tt.a,{sx:{my:"10px"}}),Object(F.jsxs)(ge.a,{display:"flex",flexWrap:"wrap",justifyContent:"space-between",children:[Object(F.jsx)(Se.a,{control:Object(F.jsx)(Ce.a,{name:"hasDeskTop",checked:Oe,onChange:function(e){ye(e.currentTarget.checked)}}),label:"with Table Top",sx:{flexBasis:"100%",minWidth:"100%"}}),[{name:"topMaterial",label:"Material",type:"autocomplete",value:k,onChange:function(e,t){e.preventDefault(),v(t)},options:Vi,width:"65%"},{name:"topColor",label:"Color",type:"text",width:"30%",value:w,onChange:function(e){e.preventDefault(),T(e.target.value)}},{name:"topLength",label:"Length",type:"suffixNumber",suffix:"mm",inputProps:{min:0},width:"30%",value:P,onChange:function(e){e.preventDefault(),B(e.target.value)}},{name:"topWidth",label:"Width",type:"suffixNumber",suffix:"mm",inputProps:{min:0},width:"30%",value:M,onChange:function(e){e.preventDefault(),q(e.target.value)}},{name:"topThickness",label:"Thickness",type:"suffixNumber",suffix:"mm",inputProps:{min:0},width:"30%",value:E,onChange:function(e){e.preventDefault(),U(e.target.value)}},{name:"topRoundedCorners",label:"Rounded Corners",type:"select",options:[0,1,2,3,4],width:"48%",value:J,onChange:function(e){e.preventDefault(),G(e.target.value)}},{name:"topCornerRadius",label:"Corner Radius",type:"number",inputProps:{min:0},width:"48%",value:Z,onChange:function(e){e.preventDefault(),$(e.target.value)}},{name:"topHoleCount",label:"Number of Holes",type:"select",value:u,onChange:function(e){e.preventDefault(),d(e.target.value),1===e.target.value?j("Left"):2===e.target.value?j("Left_Right"):3===e.target.value&&j("Left_Right_Center")},options:[0,1,2,3],width:"48%"},{name:"topHoleType",label:"Type of Holes",type:"select",value:x,onChange:function(e){e.preventDefault(),O(e.target.value)},options:["Rounded","Rectangular"],width:"48%"},{name:"topHolePosition",label:"Hole Position",type:"select",value:b,onChange:function(e){e.preventDefault(),j(e.target.value)},options:1===u?["Left","Right","Center"]:["Left","Right","Center","Left_Right","Left_Right_Center"],disabled:1!==u,visible:"true",width:"48%"},{name:"remark",label:"Specification",type:"text",width:"100%",value:Xe,onChange:function(e){e.preventDefault(),Ze(e.target.value)}},{name:"topSketchImg",label:"Sketch Image (Optional)",type:"file",inputProps:{accept:"image/png, image/gif, image/jpeg"},InputLabelProps:{shrink:!0},width:"100%"}].map((function(e,t){var n=e.type,a=e.width,r=Object(L.a)(e,Bi);if("autocomplete"===n){var i=r.name,c=r.label,o=Object(L.a)(r,Ii);return Object(F.jsx)(_t.a,Object(H.a)({sx:{flexBasis:a,minWidth:a},renderInput:function(e){return Object(F.jsx)(ve.a,Object(H.a)(Object(H.a)({},e),{},{name:i,label:c}))},disabled:!Oe},o),t)}if("suffixNumber"===n){var l=r.suffix,s=Object(L.a)(r,Wi);return Object(F.jsx)(Se.a,{sx:{flexBasis:a,minWidth:a,alignItems:"baseline",mx:0},control:Object(F.jsx)(ve.a,Object(H.a)({fullWidth:!0,sx:{m:"10px 5px 0 0"},type:"number",disabled:!Oe},s)),label:l},t)}if("select"===n){var u=r.name,d=r.label,p=r.options,h=Object(L.a)(r,Ri);return"topHolePosition"===u?h.visible?Object(F.jsxs)(Re.a,{sx:{flexBasis:a,minWidth:a},children:[Object(F.jsx)(He.a,{id:"desk-top-".concat(u,"-select-label"),children:d}),Object(F.jsx)(Le.a,Object(H.a)(Object(H.a)({labelId:"desk-top-".concat(u,"-select-label"),id:"desk-top-".concat(u,"-select"),name:u,label:d,size:"small",disabled:!Oe},h),{},{children:p.map((function(e,t){return Object(F.jsx)(Ne.a,{value:e,children:e},t)}))}))]},t):"":Object(F.jsxs)(Re.a,{sx:{flexBasis:a,minWidth:a},children:[Object(F.jsx)(He.a,{id:"desk-top-".concat(u,"-select-label"),children:d}),Object(F.jsx)(Le.a,Object(H.a)(Object(H.a)({labelId:"desk-top-".concat(u,"-select-label"),id:"desk-top-".concat(u,"-select"),name:u,label:d,size:"small",disabled:!Oe},h),{},{children:p.map((function(e,t){return Object(F.jsx)(Ne.a,{value:e,children:e},t)}))}))]},t)}return Object(F.jsx)(ve.a,Object(H.a)({type:n,sx:{flexBasis:a,minWidth:a},disabled:!Oe},r),t)})),Object(F.jsx)(ve.a,{label:"Desk Total Price",type:"number",name:"deskTotalPrice",defaultValue:Fe,sx:{flexBasis:200,minWidth:200,mx:"auto"},disabled:!Oe,InputProps:{endAdornment:Object(F.jsx)(ea.a,{position:"end",children:"HKD"})}})]}),Object(F.jsx)(tt.a,{sx:{my:"10px"}}),Object(F.jsxs)(ge.a,{sx:{display:"flex",alignItems:"center",width:"200px",border:"1px solid #0000003b",borderRadius:"4px",mt:"10px",mx:"auto",p:"5px 3px"},children:[Object(F.jsx)(z.a,{variant:"span",sx:{flexGrow:1,marginTop:"8px"},children:"Amount"}),Object(F.jsx)(Ke.a,{onClick:function(e){e.preventDefault(),Je(Math.max(Ye-1,1))},children:Object(F.jsx)(Zt.a,{})}),Object(F.jsx)(z.a,{variant:"span",sx:{ml:"10px",marginTop:"8px"},children:Ye}),Object(F.jsx)(Ke.a,{onClick:function(e){e.preventDefault(),Je(Math.min(Ye+1,99))},children:Object(F.jsx)(Xt.a,{})})]}),Object(F.jsx)(Se.a,{sx:{display:"block",textAlign:"left",marginLeft:"100px"},control:Object(F.jsx)(Ce.a,{name:"deliveryOption_0",checked:nt,onChange:function(e){return at(e.target.checked)},sx:{textAlign:"left"}}),label:"Delivery Included"}),Object(F.jsx)(Se.a,{sx:{display:"block",textAlign:"left",marginLeft:"100px"},control:Object(F.jsx)(Ce.a,{name:"deliveryOption_1",checked:ct,onChange:function(e){return ot(e.target.checked)}}),label:"Delivery and installation included"}),Object(F.jsx)(Se.a,{sx:{display:"block",textAlign:"left",marginLeft:"100px"},control:Object(F.jsx)(Ce.a,{name:"deliveryOption_2",checked:ht,onChange:function(e){return bt(e.target.checked)}}),label:"Remote Area Surcharge"}),Object(F.jsx)(Se.a,{sx:{display:"block",textAlign:"left",marginLeft:"100px"},control:Object(F.jsx)(Ce.a,{name:"deliveryOption_3",checked:gt,onChange:function(e){return yt(e.target.checked)}}),label:"Stairs Surcharge"})]}),Object(F.jsxs)(jt.a,{children:[Object(F.jsx)(we.a,{onClick:function(e){e.preventDefault(),d(0),j("Left"),O("Rounded"),v("Melamine"),T(""),B(700),q(400),U(25),G(0),$(50),ae(""),at(!1),ot(!1),bt(!1),yt(!1),fe(!1)},children:"Cancel"}),Object(F.jsx)(we.a,{type:"submit",children:"OK"})]})]})]})})),Qi=function(e){var t=Object(a.useState)(""),n=Object(o.a)(t,2),r=n[0],i=n[1];return Object(F.jsx)(Fi,Object(H.a)({componentType:"create",initialClient:{phone:r,setPhone:i,paid:!0,discountType:1,surchargeType:1,dueDate:"",remark:""},initialCart:[]},e))},Ei=["ChairStocks","DeskStocks","DeskToOrders","AccessoryStocks","ServiceToOrders","Seller","sellerId"],Ui=["ChairToOrder"],Ki=["stockId","unitPrice","qty","deliveryOption"],Yi=["AccessoryToOrder"],Ji=function(e){var t=(Object(s.g)().state||{}).order,n=t||{},r=n.ChairStocks,i=n.DeskStocks,c=n.DeskToOrders,l=n.AccessoryStocks,u=n.ServiceToOrders,d=(n.Seller,n.sellerId,Object(L.a)(n,Ei)),p=Object(a.useState)(d.phone),h=Object(o.a)(p,2),b=h[0],j=h[1];return t?Object(F.jsx)(Fi,Object(H.a)({componentType:"edit",initialClient:Object(H.a)(Object(H.a)({},d),{},{phone:b,setPhone:j}),initialCart:r.map((function(e){var t=e.ChairToOrder,n=Object(L.a)(e,Ui);return{productType:"chair",productDetail:Object(H.a)({},n),remark:t.remark,productPrice:t.unitPrice,productAmount:t.qty,productDeliveryOption:t.deliveryOption}})).concat(c.map((function(e){var t=e.stockId,n=e.unitPrice,a=e.qty,r=e.deliveryOption,c=Object(L.a)(e,Ki),o=i.find((function(e){return e.id===t}));return Object(H.a)({productType:"desk",productDetail:o,productPrice:n,productAmount:a,productDeliveryOption:r},c)}))).concat(l.map((function(e){var t=e.AccessoryToOrder,n=Object(L.a)(e,Yi);return{productType:"accessory",productDetail:Object(H.a)({},n),remark:t.remark,productPrice:t.unitPrice,productAmount:t.qty,productDeliveryOption:t.deliveryOption}}))),initialServices:u},e)):Object(F.jsx)(s.a,{to:"/user/sales"})},Gi=["ChairToQuotation"],_i=["stockId","unitPrice","qty","deliveryOption"],Xi=["AccessoryToQuotation"],Zi=["productDetail"],$i=["id","quotationNum","district","street","block","floor","unit","Seller","discount","discountType","surcharge","surchargeType","createdAt","timeLine","paid","ChairStocks","DeskStocks","AccessoryStocks"],ec=[{id:"quotationNum",label:"Quotation"},{id:"name",label:"Client"},{id:"seller",label:"Seller"},{id:"quotationDate",label:"Quotation"},{id:"clientAddress",label:"Address"},{id:"timeLine",label:"TimeLine"},{id:"remark",label:"Remark"},{id:"discount",label:"Discount"},{id:"surcharge",label:"SurCharge"},{id:"products",label:"Products"},{id:"paid",label:"Paid"},{id:"emailIcon",nonSort:!0,label:"Con",align:"right",sx:{maxWidth:45,width:45}},{id:"whatsappIcon",nonSort:!0,label:"tact",align:"left",sx:{maxWidth:45,width:45,paddingLeft:0}},{id:"toInvoice",nonSort:!0,label:"To Invoice",sx:{maxWidth:45}},{id:"edit",nonSort:!0,sx:{maxWidth:45,width:45}},{nonSort:!0,id:"delete",sx:{maxWidth:45,width:45}}],tc=["Address","TimeLine","Remark","Discount","SurC harge","Products","Paid","Con","tact"];var nc=Object(f.b)((function(e){return{auth:e.auth}}))((function(e){var t=Object($t.a)(),n=Object(a.useState)([]),r=Object(o.a)(n,2),i=r[0],c=r[1],s=Object(a.useState)(""),u=Object(o.a)(s,2),d=u[0],p=u[1],h=Object(a.useState)(""),b=Object(o.a)(h,2),j=b[0],f=b[1],m=Object(a.useState)(""),x=Object(o.a)(m,2),O=x[0],g=x[1],y=Object(a.useState)(!1),k=Object(o.a)(y,2),v=k[0],S=k[1],C=Object(a.useState)(!1),w=Object(o.a)(C,2),T=w[0],D=w[1],A=Object(a.useState)(!1),P=Object(o.a)(A,2),B=P[0],I=P[1],R=Object(a.useRef)(null),N=Object(a.useRef)(null),M=Object(a.useState)(null),z=Object(o.a)(M,2),q=z[0],V=z[1],Q=Object(a.useState)(0),E=Object(o.a)(Q,2),U=E[0],K=E[1],Y=Object(a.useState)([]),J=Object(o.a)(Y,2),G=J[0],_=J[1],X=function(e){e<i.length&&e>=0&&Pe.a.fire({title:"Are you sure?",text:"This action will remove current Quotation permanently.",icon:"question",showCancelButton:!0,confirmButtonText:"Yes, Remove!",cancelButtonText:"No, Keep It.",allowOutsideClick:!1}).then((function(t){t.isConfirmed&&W.a.delete("/quotation/".concat(i[e].id)).then((function(e){Z()})).catch((function(e){Pe.a.fire({icon:"error",title:"Error",text:e.response.data.message,allowOutsideClick:!1}),console.log(e)})).then((function(){}))}))},Z=function(e){W.a.get("/quotation/current",{cancelToken:e}).then((function(e){c(e.data)})).catch((function(e){console.log(e)})).then((function(){}))};return Object(a.useEffect)((function(){var e=W.a.CancelToken.source();return Z(e.token),function(){return e.cancel("Brand Component got unmounted")}}),[]),Object(F.jsxs)(ge.a,{sx:{height:"100%",overflow:"auto",padding:"10px 20px"},children:[Object(F.jsx)(we.a,{component:l.b,to:"/user/quotation/create",startIcon:Object(F.jsx)(Xt.a,{}),children:"New Quotation"}),Object(F.jsx)("div",{children:Object(F.jsx)(an,{options:tc,onChange:function(e){_(e)},selected:G})}),Object(F.jsx)(Ft,{title:"Sales quotations",rows:i.map((function(t,n){var a=t.id,r=t.quotationNum,c=t.district,o=t.street,s=t.block,u=t.floor,d=t.unit,h=t.Seller,b=t.discount,j=t.discountType,m=t.surcharge,x=t.surchargeType,O=t.createdAt,y=t.timeLine,k=t.paid,v=t.ChairStocks,C=t.DeskStocks,w=t.AccessoryStocks,T=Object(L.a)(t,$i);return Object(H.a)({id:a,index:n,seller:(h.firstName||"").concat(" ",h.lastName||""),timeLine:y%7!==0?"".concat(y," day").concat(1===y?"":"s"):"".concat(y/7," week").concat(y/7===1?"":"s"),quotationDate:function(){var e=new Date(O);return e.setMinutes(e.getMinutes()-e.getTimezoneOffset()),e.toISOString().split("T")[0]}(),discount:"".concat(b).concat(j?" HKD":"%"),surcharge:"".concat(m).concat(x?" HKD":"%"),clientAddress:[c,o,s,u,d].join(", "),products:Object(F.jsx)(Ke.a,{sx:{my:"5px"},onClick:function(e){e.preventDefault(),K(n),I(!0)},children:Object(F.jsx)(Tn.a,{badgeContent:v.length+C.length+w.length,color:"error",children:Object(F.jsx)(Dn.a,{})})}),paid:Object(F.jsx)(Ce.a,{checked:k,onClick:function(e){e.stopPropagation(),e.preventDefault(),W.a.put("/quotation/withoutStock/".concat(a),{paid:!k}).then((function(){Z()})).catch((function(e){Pe.a.fire({icon:"error",title:"Error",text:e.response.data.message,allowOutsideClick:!1})})).then((function(){}))}}),quotationNum:Object(F.jsx)(l.b,{to:"/quotation/".concat(a),target:"_blank",children:r}),emailIcon:Object(F.jsx)(Ke.a,{onClick:function(){p(T.name),f(T.email),D(!0)},children:Object(F.jsx)(Pn.a,{})}),whatsappIcon:Object(F.jsx)(Ke.a,{onClick:function(){W.a.get("whatsapp/checkauth").then((function(){p(T.name),g(T.phone),S(!0)})).catch((function(e){W.a.get("whatsapp/getqr").then((function(e){Pe.a.fire({icon:"info",title:"Please signin with this QRCode and Click the button again.",html:wn.a.renderToStaticMarkup(Object(F.jsx)(Hn.a,{value:"".concat(e.data.qrcode),level:"H"})),allowOutsideClick:!1})})).catch((function(e){Pe.a.fire({icon:"error",title:"Error",text:"Unable to use WhatsApp Messaging.",allowOutsideClick:!1})})).then((function(){}))})).then((function(){}))},children:Object(F.jsx)(Bn.a,{})}),toInvoice:Object(F.jsx)(Ke.a,{onClick:function(t){t.preventDefault(),function(t){t<i.length&&t>=0&&Pe.a.fire({title:"Are you sure?",text:"This action will convert current Quotation to Invoice.",icon:"question",showCancelButton:!0,confirmButtonText:"Yes, Convert!",cancelButtonText:"No, Cancel.",allowOutsideClick:!1}).then((function(n){if(n.isConfirmed){var a=i[t],r=a.ChairStocks.map((function(e){var t=e.ChairToQuotation;return{productType:"chair",productDetail:Object(L.a)(e,Gi),remark:t.remark,productPrice:t.unitPrice,productAmount:t.qty,productDeliveryOption:t.deliveryOption}})).concat(a.DeskToQuotations.map((function(e){var t=e.stockId,n=e.unitPrice,r=e.qty,i=e.deliveryOption,c=Object(L.a)(e,_i),o=a.DeskStocks.find((function(e){return e.id===t}));return Object(H.a)({productType:"desk",productDetail:o,productPrice:n,productAmount:r,productDeliveryOption:i},c)}))).concat(a.AccessoryStocks.map((function(e){var t=e.AccessoryToQuotation;return{productType:"accessory",productDetail:Object(L.a)(e,Xi),remark:t.remark,productPrice:t.unitPrice,productAmount:t.qty,productDeliveryOption:t.deliveryOption}})));W.a.post("/sales/create",{name:a.name,phone:a.phone,email:a.email,district:a.district,street:a.street,block:a.block,floor:a.floor,unit:a.unit,timeLine:a.timeLine,remark:a.remark,products:r.map((function(e){var t=e.productDetail,n=Object(L.a)(e,Zi);return Object(H.a)({productId:t.id},n)})).concat(a.ServiceToQuotations),paymentTerms:a.paymentTerms,paid:!1,dueDate:null,discount:a.discount,discountType:a.discountType,surcharge:a.surcharge,surchargeType:a.surchargeType}).then((function(){e.history.push("/user/sales")})).catch((function(e){Pe.a.fire({icon:"error",title:"Error",text:e.response.data.message,allowOutsideClick:!1}).then((function(){})),console.log(e)})).then((function(){}))}}))}(n)},children:Object(F.jsx)(Pa.a,{})}),edit:Object(F.jsx)(Ke.a,{component:l.b,to:{pathname:"/user/quotation/edit",state:{quotation:i[n]}},children:Object(F.jsx)(ft.a,{})}),delete:Object(F.jsx)(Ke.a,{onClick:function(e){e.preventDefault(),X(n)},children:Object(F.jsx)(mt.a,{})})},T)})),columns:ec.map((function(e,t){return t>3&&t<13?G.find((function(t){return t===e.label}))?e:void 0:e})).filter((function(e){return void 0!==e})),onEditClick:function(e){i.length},onRemoveClick:X,onBulkRemoveClick:function(e){Pe.a.fire({title:"Are you sure?",text:"This action will remove selected Quotations permanently.",icon:"question",showCancelButton:!0,confirmButtonText:"Yes, Remove!",cancelButtonText:"No, Keep Them.",allowOutsideClick:!1}).then((function(t){t.isConfirmed&&W.a.delete("/quotation",{data:{ids:e}}).then((function(e){Z()})).catch((function(e){Pe.a.fire({icon:"error",title:"Error",text:e.response.data.message,allowOutsideClick:!1}),console.log(e)})).then((function(){}))}))},onFilterClick:function(e){e.preventDefault(),V(null===q?e.currentTarget:null)}}),Object(F.jsxs)(ut.a,{fullWidth:!0,fullScreen:Object(en.a)(t.breakpoints.down("sm")),maxWidth:"sm",open:v,children:[Object(F.jsx)(dt.a,{children:"Send WhatsApp Message to the Client"}),Object(F.jsx)(pt.a,{children:Object(F.jsxs)(ht.a,{spacing:2,children:[Object(F.jsx)(Wn.a,{variant:"outlined",label:"Phone Number",onlyCountries:["hk"],defaultCountry:"hk",value:O,InputProps:{readOnly:!0}}),Object(F.jsx)(ve.a,{inputRef:R,label:"Message",fullWidth:!0,defaultValue:"Hello ".concat(d,"."),multiline:!0,minRows:4,maxRows:10})]})}),Object(F.jsxs)(jt.a,{children:[Object(F.jsx)(we.a,{onClick:function(e){e.preventDefault(),S(!1)},children:"Cancel"}),Object(F.jsx)(we.a,{onClick:function(e){e.preventDefault(),W.a.post("whatsapp/send",{phone:O,message:R.current.value}).then((function(){S(!1)})).catch((function(e){S(!1),Pe.a.fire({icon:"error",title:"Error",text:e.response.data.message,allowOutsideClick:!1}).then((function(){S(!0)}))})).then((function(){}))},children:"Send"})]})]}),Object(F.jsxs)(ut.a,{fullWidth:!0,fullScreen:Object(en.a)(t.breakpoints.down("sm")),maxWidth:"sm",open:T,children:[Object(F.jsx)(dt.a,{children:"Send Email to the Client"}),Object(F.jsx)(pt.a,{children:Object(F.jsxs)(ht.a,{spacing:2,children:[Object(F.jsx)(ve.a,{label:"Email",type:"email",value:j,InputProps:{readOnly:!0}}),Object(F.jsx)(ve.a,{inputRef:N,label:"Message",fullWidth:!0,defaultValue:"Hello ".concat(d,"."),multiline:!0,minRows:4,maxRows:10})]})}),Object(F.jsxs)(jt.a,{children:[Object(F.jsx)(we.a,{onClick:function(e){e.preventDefault(),D(!1)},children:"Cancel"}),Object(F.jsx)(we.a,{onClick:function(e){e.preventDefault(),W.a.post("email/send",{email:j,message:N.current.value}).then((function(){D(!1)})).catch((function(e){D(!1),Pe.a.fire({icon:"error",title:"Error",text:e.response.data.message,allowOutsideClick:!1}).then((function(){D(!0)}))})).then((function(){}))},children:"Send"})]})]}),Object(F.jsxs)(ut.a,{maxWidth:"sm",fullWidth:!0,open:B,onClose:function(e){e.preventDefault(),I(!1)},children:[Object(F.jsx)(dt.a,{children:"Products Details"}),Object(F.jsx)(pt.a,{children:Object(F.jsxs)(bi,{children:[U<i.length&&i[U].ChairStocks.map((function(e,t){return Object(F.jsxs)(ji,{children:[Object(F.jsx)(fi,{primary:"Chair: ".concat(e.brand,", ").concat(e.model,", ").concat(e.frameColor,", ").concat(e.backColor,", ").concat(e.seatColor),secondary:"".concat(e.withHeadrest?"Headrest, ":"").concat(e.withAdArmrest?"Armrest":"")}),Object(F.jsx)(mi,{unitPrice:"".concat(e.ChairToQuotation.unitPrice," HKD"),amount:"Amount: ".concat(e.ChairToQuotation.qty),deliveryOption:"".concat(e.ChairToQuotation.deliveryOption)})]},t)})),U<i.length&&i[U].DeskToQuotations.map((function(e,t){return Object(F.jsxs)(ji,{children:[Object(F.jsx)(fi,{primary:"Desk: \n                      ".concat(i[U].DeskStocks.find((function(t){return t.id===e.stockId})).supplierCode,", \n                      ").concat(i[U].DeskStocks.find((function(t){return t.id===e.stockId})).model,", \n                      ").concat(i[U].DeskStocks.find((function(t){return t.id===e.stockId})).color,", \n                      ").concat(i[U].DeskStocks.find((function(t){return t.id===e.stockId})).armSize,", \n                      ").concat(i[U].DeskStocks.find((function(t){return t.id===e.stockId})).feetSize,", \n                      ").concat(i[U].DeskStocks.find((function(t){return t.id===e.stockId})).beamSize),secondary:e.hasDeskTop?Object(F.jsxs)("span",{children:["".concat(e.topMaterial,", \n                            ").concat(e.topColor,", \n                            ").concat(e.topLength,"x").concat(e.topWidth,"x").concat(e.topThickness,", \n                            ").concat(e.topRoundedCorners,"-R").concat(e.topCornerRadius,", \n                            ").concat(e.topHoleCount,"-").concat(e.topHoleType," "),Object(F.jsx)("a",{href:e.topSketchURL,target:"_blank",rel:"noreferrer",children:"Sketch"})]}):"Without DeskTop"}),Object(F.jsx)(mi,{unitPrice:"".concat(e.unitPrice," HKD"),amount:"Amount: ".concat(e.qty),deliveryOption:"".concat(e.deliveryOption)})]},t)})),U<i.length&&i[U].AccessoryStocks.map((function(e,t){return Object(F.jsxs)(ji,{children:[Object(F.jsx)(fi,{primary:"Accessory: ".concat(e.name),secondary:"".concat(e.remark)}),Object(F.jsx)(mi,{unitPrice:"".concat(e.AccessoryToQuotation.unitPrice," HKD"),amount:"Amount: ".concat(e.AccessoryToQuotation.qty),deliveryOption:"".concat(e.AccessoryToQuotation.deliveryOption)})]},t)}))]})}),Object(F.jsx)(jt.a,{children:Object(F.jsx)(we.a,{onClick:function(e){e.preventDefault(),I(!1)},children:"OK"})})]})]})})),ac=["children","value","index"],rc=["setValue","width"],ic=["label"],cc=["thumbnailURL","withHeadrest","withAdArmrest","shipmentDate","arrivalDate"],oc=["label"],lc=["thumbnailURL","shipmentDate","arrivalDate"],sc=["thumbnailURL","shipmentDate","arrivalDate"],uc=["productDetail"],dc=["productDetail"],pc=["type","width"],hc=["name","label"],bc=["suffix"],jc=["name","label","options"],fc=function(e){var t=e.children,n=e.value,a=e.index,r=Object(L.a)(e,ac);return Object(F.jsx)("div",Object(H.a)(Object(H.a)({role:"tabpanel",hidden:n!==a,id:"simple-tabpanel-".concat(a),"aria-labelledby":"simple-tab-".concat(a)},r),{},{children:n===a&&Object(F.jsx)(ge.a,{sx:{p:"0 10px 10px 10px"},children:t})}))};var mc=[{id:"add"},{id:"thumbnail",sx:{width:100},nonSort:!0},{id:"brand",label:"Brand"},{id:"model",label:"Model"},{id:"unitPrice",label:"Price"},{id:"balance",label:"Balance"},{id:"qty",label:"QTY"},{id:"frameColor",label:"Frame Color"},{id:"backColor",label:"Back Color"},{id:"seatColor",label:"Seat Color"},{id:"backMaterial",label:"Back Material"},{id:"seatMaterial",label:"Seat Material"},{id:"withHeadrest",label:"Headrest"},{id:"withAdArmrest",label:"Adjustable Armrests"},{id:"remark",label:"Other Remark"},{id:"shipmentDate",label:"Shipment"},{id:"arrivalDate",label:"Arrival"}],xc=["Frame Color","Back Color","Seat Color","Back Material","Seat Material","Headrest","Adjustable Armrests","Other Remark","Shipment","Arrival"],Oc=[{id:"add"},{id:"thumbnail",sx:{width:100},nonSort:!0},{id:"supplierCode",label:"Supplier"},{id:"model",label:"Model"},{id:"unitPrice",label:"Price"},{id:"balance",label:"Balance"},{id:"qty",label:"QTY"},{id:"color",label:"Color"},{id:"armSize",label:"Arm Size"},{id:"feetSize",label:"Feet Size"},{id:"beamSize",label:"Beam Size"},{id:"remark",label:"Other Remark"},{id:"shipmentDate",label:"Shipment"},{id:"arrivalDate",label:"Arrival"}],gc=["Color","Arm Size","Feet Size","Beam Size","Other Remark","Shipment","Arrival"],yc=[{id:"add"},{id:"thumbnail",sx:{width:100},nonSort:!0},{id:"name",label:"Name"},{id:"category",label:"Category"},{id:"remark",label:"Other Remark"},{id:"unitPrice",label:"Price"},{id:"balance",label:"Balance"},{id:"qty",label:"QTY"},{id:"shipmentDate",label:"Shipment"},{id:"arrivalDate",label:"Arrival"}],kc=["Melamine","Laminate","North American Walnut","South American Walnut","Red Oak","Maple","Bamboo","Melamine with glass top","Toppal Plyedge"],vc=Object(f.b)((function(e){return{auth:e.auth}}))((function(e){var t=Object($t.a)(),n=e.componentType,r=e.initialClient,i=e.initialCart,c=e.initialServices,l=Object(a.useState)(0),s=Object(o.a)(l,2),u=s[0],d=s[1],p=Object(a.useState)("Left"),h=Object(o.a)(p,2),b=h[0],j=h[1],f=Object(a.useState)("Rounded"),m=Object(o.a)(f,2),x=m[0],O=m[1],g=Object(a.useState)("Melamine"),y=Object(o.a)(g,2),k=y[0],v=y[1],S=Object(a.useState)(""),C=Object(o.a)(S,2),w=C[0],T=C[1],D=Object(a.useState)(700),A=Object(o.a)(D,2),P=A[0],B=A[1],I=Object(a.useState)(400),N=Object(o.a)(I,2),M=N[0],q=N[1],V=Object(a.useState)(25),Q=Object(o.a)(V,2),E=Q[0],U=Q[1],K=Object(a.useState)(0),Y=Object(o.a)(K,2),J=Y[0],G=Y[1],_=Object(a.useState)(50),X=Object(o.a)(_,2),Z=X[0],$=X[1],ee=Object(a.useState)(""),te=Object(o.a)(ee,2),ne=te[0],ae=te[1],re=Object(a.useRef)(null),ie=Object(a.useState)(0),ce=Object(o.a)(ie,2),oe=ce[0],le=ce[1],se=Object(a.useState)(!1),ue=Object(o.a)(se,2),de=ue[0],pe=ue[1],he=Object(a.useState)(!1),be=Object(o.a)(he,2),je=be[0],fe=be[1],me=Object(a.useState)(!1),xe=Object(o.a)(me,2),Oe=xe[0],ye=xe[1],Te=Object(a.useState)("chair"),De=Object(o.a)(Te,2),Ae=De[0],Be=De[1],Ie=Object(a.useState)(""),We=Object(o.a)(Ie,2),Me=We[0],ze=We[1],qe=Object(a.useState)(1e3),Ve=Object(o.a)(qe,2),Fe=Ve[0],Qe=Ve[1],Ee=Object(a.useState)(0),Ue=Object(o.a)(Ee,2),Ye=Ue[0],Je=Ue[1],Ge=Object(a.useState)(""),_e=Object(o.a)(Ge,2),Xe=_e[0],Ze=_e[1],$e=Object(a.useState)(!1),et=Object(o.a)($e,2),nt=et[0],at=et[1],rt=Object(a.useState)(!1),it=Object(o.a)(rt,2),ct=it[0],ot=it[1],lt=Object(a.useState)(!1),st=Object(o.a)(lt,2),ht=st[0],bt=st[1],xt=Object(a.useState)(!1),Ot=Object(o.a)(xt,2),gt=Ot[0],yt=Ot[1],kt=Object(a.useState)(i),vt=Object(o.a)(kt,2),St=vt[0],Ct=vt[1],wt=Object(a.useState)("add"),Tt=Object(o.a)(wt,2),Dt=Tt[0],At=Tt[1],Pt=Object(a.useState)([]),It=Object(o.a)(Pt,2),Wt=It[0],Rt=It[1],Ht=Object(a.useState)([]),Lt=Object(o.a)(Ht,2),Nt=Lt[0],Mt=Lt[1],zt=Object(a.useState)([]),qt=Object(o.a)(zt,2),Vt=qt[0],Qt=qt[1],Et=Object(a.useState)([]),Ut=Object(o.a)(Et,2),Kt=Ut[0],Yt=Ut[1],tn=Object(a.useState)(0),nn=Object(o.a)(tn,2),rn=nn[0],cn=nn[1],on=Object(a.useState)([]),ln=Object(o.a)(on,2),sn=ln[0],un=ln[1],dn=Object(a.useState)([]),pn=Object(o.a)(dn,2),hn=pn[0],bn=pn[1],jn=Object(a.useState)(null),fn=Object(o.a)(jn,2),mn=fn[0],xn=fn[1],On=Object(a.useState)(null),gn=Object(o.a)(On,2),yn=gn[0],kn=gn[1],vn=Object(a.useState)(null),Sn=Object(o.a)(vn,2),Cn=Sn[0],wn=Sn[1],Tn=Object(a.useState)(null),Dn=Object(o.a)(Tn,2),An=Dn[0],Pn=Dn[1],Bn=Object(a.useState)(null),In=Object(o.a)(Bn,2),Rn=In[0],Hn=In[1],Ln=Object(a.useState)("All"),Nn=Object(o.a)(Ln,2),Mn=Nn[0],zn=Nn[1],qn=c?c.map((function(e){return Object.assign(e,{productType:"misc"})})):[],Vn=Object(a.useState)(qn),Fn=Object(o.a)(Vn,2),Qn=Fn[0],En=Fn[1],Un=Object(a.useState)([]),aa=Object(o.a)(Un,2),ra=aa[0],ia=aa[1],ca=Object(a.useState)([]),oa=Object(o.a)(ca,2),la=oa[0],sa=oa[1];Object(a.useEffect)((function(){var e,t=W.a.CancelToken.source();return e=t.token,W.a.get("/chairStock/features",{cancelToken:e}).then((function(e){un(e.data)})).catch((function(e){console.log(e)})).then((function(){})),function(e){W.a.get("/deskStock/features",{cancelToken:e}).then((function(e){bn(e.data)})).catch((function(e){console.log(e)})).then((function(){}))}(t.token),function(e){W.a.get("/accessoryStock/features",{cancelToken:e}).then((function(e){})).catch((function(e){console.log(e)})).then((function(){}))}(t.token),function(e){W.a.get("/chairStock",{cancelToken:e}).then((function(e){Rt(e.data)})).catch((function(e){console.log(e)})).then((function(){}))}(t.token),function(e){W.a.get("/deskStock",{cancelToken:e}).then((function(e){Mt(e.data)})).catch((function(e){console.log(e)})).then((function(){}))}(t.token),function(e){W.a.get("/accessoryStock",{cancelToken:e}).then((function(e){Qt(e.data),Yt(e.data)})).catch((function(e){console.log(e)})).then((function(){}))}(t.token),function(){return t.cancel("Stock Component got unmounted")}}),[]);return Object(F.jsxs)(ge.a,{sx:{height:"100%",overflow:"auto",padding:"20px 20px 10px 20px"},children:[Object(F.jsx)(Kn.a,{activeStep:oe,sx:{flexWrap:"wrap"},children:["Input Client Info","Select Products","Input Payment Details"].map((function(e,t){var n,a={};return n=t,(null!==re.current&&oe>0&&0===n?!re.current.checkValidity():0===St.length&&0===Qn.length&&oe>1&&1===n)&&(a.optional=Object(F.jsx)(z.a,{variant:"caption",color:"error",children:["Invalid Input","Products cannot be empty"][t]}),a.error=!0),Object(F.jsx)(Yn.a,{sx:{my:"10px"},children:Object(F.jsx)(Jn.a,Object(H.a)(Object(H.a)({},a),{},{children:e}))},e)}))}),Object(F.jsxs)(ge.a,{sx:{mx:"auto",mt:"50px"},ref:re,hidden:0!==oe,component:"form",maxWidth:"sm",fullWidth:!0,onSubmit:function(e){e.preventDefault(),le(1)},children:[Object(F.jsxs)(Bt.a,{sx:{p:"10px",display:"flex",flexWrap:"wrap",justifyContent:"space-between"},children:[Object(F.jsx)(z.a,{variant:"h6",sx:{flexBasis:"100%",minWidth:"100%"},children:"Client Info"}),[{name:"name",label:"Name",type:"text",defaultValue:r.name,width:"100%",required:!0},{name:"phone",label:"Phone",type:"text",value:r.phone,onChange:r.setPhone,width:"48%"},{name:"email",label:"Email",type:"email",defaultValue:r.email,width:"48%"},{name:"district",label:"District",type:"text",defaultValue:r.district,width:"55%"},{name:"street",label:"Street",type:"text",defaultValue:r.street,width:"40%"},{name:"block",label:"Block",type:"text",defaultValue:r.block,width:"30%"},{name:"floor",label:"Floor",type:"text",defaultValue:r.floor,width:"30%"},{name:"unit",label:"Unit",type:"text",defaultValue:r.unit,width:"30%"}].map((function(e,t){e.setValue;var n=e.width,a=Object(L.a)(e,rc);return"Phone"===a.label?Object(F.jsx)(Wn.a,Object(H.a)({variant:"outlined",onlyCountries:["hk"],defaultCountry:"hk",sx:{flexBasis:n,minWidth:n},margin:"dense",size:"small"},a),t):Object(F.jsx)(ve.a,Object(H.a)({sx:{flexBasis:n,minWidth:n}},a),t)})),Object(F.jsx)(ve.a,{sx:{flexBasis:["100%","30%"],minWidth:["100%","30%"]},name:"timeLine",label:"TimeLine",type:"number",inputProps:{min:0},defaultValue:r.timeLine||0}),Object(F.jsxs)(Gn.a,{row:!0,name:"timeLineFormat",defaultValue:"day",sx:{flexBasis:["100%","70%"],minWidth:["100%","70%"],justifyContent:"flex-end"},children:[Object(F.jsx)(Se.a,{value:"day",control:Object(F.jsx)(_n.a,{}),label:"Days"}),Object(F.jsx)(Se.a,{value:"week",control:Object(F.jsx)(_n.a,{}),label:"Weeks"})]}),Object(F.jsx)(ve.a,{sx:{flexBasis:["100%","100%"],minWidth:["100%","100%"]},name:"remark",label:"Delivery Remark",type:"text",defaultValue:r.remark||""})]}),Object(F.jsx)(we.a,{type:"submit",sx:{marginTop:"10px",float:"right"},children:"Next"})]}),1===oe&&Object(F.jsxs)(F.Fragment,{children:[St.length>0&&Object(F.jsx)(Bt.a,{children:Object(F.jsx)(bi,{sx:{px:"10px"},children:St.map((function(e,t){return Object(F.jsxs)(ji,{secondaryAction:Object(F.jsxs)(a.Fragment,{children:[Object(F.jsx)(Ke.a,{onClick:function(t){t.preventDefault(),function(e){At("edit"),Be(e.productType),ze(e.productDetail),Ze(e.remark),Qe(e.productPrice),Je(e.productAmount);var t=JSON.parse(e.productDeliveryOption);t.includes("Delivery Included")&&at(!0),t.includes("Delivery and installation included")&&ot(!0),t.includes("Remote Area Surcharge")&&bt(!0),t.includes("Stairs Surcharge")&&yt(!0),"chair"===e.productType||"accessory"===e.productType?pe(!0):"desk"===e.productType&&(ye(e.hasDeskTop),T(e.topColor),$(e.topCornerRadius),d(e.topHoleCount),j(e.topHolePosition),O(e.topHoleType),B(e.topLength),v(e.topMaterial),G(e.topRoundedCorners),U(e.topThickness),q(e.topWidth),ae(e.topSketchURL),fe(!0))}(e)},children:Object(F.jsx)(ft.a,{})}),Object(F.jsx)(Ke.a,{onClick:function(e){e.preventDefault(),Ct(St.filter((function(e,n){return n!==t})))},children:Object(F.jsx)(mt.a,{})})]}),children:["chair"===e.productType&&Object(F.jsx)(fi,{primary:"Chair: ".concat(e.productDetail.brand,", ").concat(e.productDetail.model,", ").concat(e.remark),secondary:"".concat(e.productDetail.withHeadrest?"Headrest, ":"").concat(e.productDetail.withAdArmrest?"Armrest":"")}),"desk"===e.productType&&Object(F.jsx)(fi,{primary:"Desk: ".concat(e.productDetail.supplierCode,", ").concat(e.productDetail.model,", ").concat(e.productDetail.color,", ").concat(e.productDetail.armSize,", ").concat(e.productDetail.feetSize,", ").concat(e.productDetail.beamSize),secondary:e.hasDeskTop?"".concat(e.topMaterial,", ").concat(e.topColor,", ").concat(e.topLength,"x").concat(e.topWidth,"x").concat(e.topThickness,", ").concat(e.topRoundedCorners,"-R").concat(e.topCornerRadius,", ").concat(e.topHoleCount,"-").concat(e.topHoleType):"Without DeskTop"}),"accessory"===e.productType&&Object(F.jsx)(fi,{primary:"Accessory: ".concat(e.productDetail.category),secondary:"".concat(e.remark)}),Object(F.jsx)(mi,{unitPrice:"".concat(e.productPrice," HKD"),amount:"Amount: ".concat(e.productAmount),deliveryOption:"".concat(e.productDeliveryOption)})]},t)}))})}),Object(F.jsxs)(Bt.a,{sx:{my:"10px"},children:[Object(F.jsx)(ge.a,{sx:{borderBottom:1,borderColor:"divider"},children:Object(F.jsxs)(Xn.a,{value:rn,onChange:function(e,t){e.preventDefault(),cn(t)},"aria-label":"basic tabs example",children:[Object(F.jsx)(Zn.a,{label:"Chairs"}),Object(F.jsx)(Zn.a,{label:"Desks"}),Object(F.jsx)(Zn.a,{label:"Accessories"}),Object(F.jsx)(Zn.a,{label:"Miscs"})]})}),Object(F.jsxs)(fc,{value:rn,index:0,children:[Object(F.jsx)(Bt.a,{sx:{marginTop:"10px",padding:"5px 10px",display:"flex",flexWrap:"wrap",justifyContent:"space-around"},children:[{label:"Brand",value:mn,onChange:function(e,t){e.preventDefault(),xn(t),kn(null)},options:sn.map((function(e){return e.brand})).filter((function(e,t,n){return n.indexOf(e)===t}))},{label:"Model",value:yn,onChange:function(e,t){e.preventDefault(),kn(t)},options:sn.filter((function(e){return!mn||e.brand===mn})).map((function(e){return e.model})).filter((function(e,t,n){return n.indexOf(e)===t}))}].map((function(e,t){var n=e.label,a=Object(L.a)(e,ic);return Object(F.jsx)(_t.a,Object(H.a)({sx:{flexBasis:"200px",maxWidth:"200px"},renderInput:function(e){return Object(F.jsx)(ve.a,Object(H.a)(Object(H.a)({},e),{},{label:n}))}},a),t)}))}),Object(F.jsx)(an,{options:xc,onChange:function(e){ia(e)},selected:ra}),Object(F.jsx)(Ft,{nonSelect:!0,title:"Chair Stocks",rows:Wt.map((function(e,t){var n=e.thumbnailURL,a=e.withHeadrest,r=e.withAdArmrest,i=e.shipmentDate,c=e.arrivalDate,o=Object(L.a)(e,cc);return Object(H.a)({thumbnail:Object(F.jsx)("a",{href:"/",onClick:function(e){e.preventDefault(),Pe.a.fire({html:'<img alt="" width="400px" src="'.concat(n,'" />'),showCloseButton:!0,showConfirmButton:!1,allowOutsideClick:!1})},children:Object(F.jsx)("img",{alt:"",width:"80px",src:n,style:{marginTop:"5px"}})}),withHeadrest:a?"Yes":"No",withAdArmrest:r?"Yes":"No",add:Object(F.jsx)(Ke.a,{onClick:function(e){if(e.preventDefault(),St.find((function(e){return"chair"===e.productType&&e.productDetail.id===Wt[t].id})))Pe.a.fire({icon:"warning",title:"Warning",text:"This product is already added.",allowOutsideClick:!1});else{Be("chair"),ze(Wt[t]);var n=""===Wt[t].frameColor?"___":Wt[t].frameColor,a=""===Wt[t].seatColor?"___":Wt[t].seatColor,r=""===Wt[t].backColor?"___":Wt[t].backColor;Ze("FrameColor:"+n+", SeatColor:"+a+", BackColor:"+r),Qe(Wt[t].unitPrice),Je(1),pe(!0)}},children:Object(F.jsx)(Xt.a,{})}),shipmentDate:function(){if(null===i)return"No";var e=new Date(i);return e.setMinutes(e.getMinutes()-e.getTimezoneOffset()),e.toISOString().split("T")[0]}(),arrivalDate:function(){if(null===c)return"No";var e=new Date(c);return e.setMinutes(e.getMinutes()-e.getTimezoneOffset()),e.toISOString().split("T")[0]}()},o)})).filter((function(e){return(!mn||e.brand===mn)&&(!yn||e.model===yn)})),columns:mc.map((function(e,t){return t>6&&ra.find((function(t){return t===e.label})),e})).filter((function(e){return void 0!==e}))})]}),Object(F.jsxs)(fc,{value:rn,index:1,children:[Object(F.jsx)(Bt.a,{sx:{marginTop:"10px",padding:"5px 10px",display:"flex",flexWrap:"wrap",justifyContent:"space-around"},children:[{label:"Supplier",value:Cn,onChange:function(e,t){e.preventDefault(),wn(t),Pn(null),Hn(null)},options:hn.map((function(e){return e.supplierCode})).filter((function(e,t,n){return n.indexOf(e)===t}))},{label:"Model",value:An,onChange:function(e,t){e.preventDefault(),Pn(t),Hn(null)},options:hn.filter((function(e){return!Cn||e.supplierCode===Cn})).map((function(e){return e.model})).filter((function(e,t,n){return n.indexOf(e)===t}))},{label:"Color",value:Rn,onChange:function(e,t){e.preventDefault(),Hn(t)},options:hn.filter((function(e){return!An||e.model===An})).map((function(e){return e.color})).filter((function(e,t,n){return n.indexOf(e)===t}))}].map((function(e,t){var n=e.label,a=Object(L.a)(e,oc);return Object(F.jsx)(_t.a,Object(H.a)({sx:{flexBasis:"200px",maxWidth:"200px"},renderInput:function(e){return Object(F.jsx)(ve.a,Object(H.a)(Object(H.a)({},e),{},{label:n}))}},a),t)}))}),Object(F.jsx)(an,{options:gc,onChange:function(e){sa(e)},selected:la}),Object(F.jsx)(Ft,{nonSelect:!0,title:"Desk Leg Stocks",rows:Nt.map((function(e,t){var n=e.thumbnailURL,a=e.shipmentDate,r=e.arrivalDate,i=Object(L.a)(e,lc);return Object(H.a)({thumbnail:Object(F.jsx)("a",{href:"/",onClick:function(e){e.preventDefault(),Pe.a.fire({html:'<img alt="" width="400px" src="'.concat(n,'" />'),showCloseButton:!0,showConfirmButton:!1,allowOutsideClick:!1})},children:Object(F.jsx)("img",{alt:"",width:"80px",src:n,style:{marginTop:"5px"}})}),add:Object(F.jsx)(Ke.a,{onClick:function(e){Be("desk"),ze(Nt[t]),Qe(Nt[t].unitPrice),Je(1),ye(!1),fe(!0)},children:Object(F.jsx)(Xt.a,{})}),shipmentDate:function(){if(null===a)return"No";var e=new Date(a);return e.setMinutes(e.getMinutes()-e.getTimezoneOffset()),e.toISOString().split("T")[0]}(),arrivalDate:function(){if(null===r)return"No";var e=new Date(r);return e.setMinutes(e.getMinutes()-e.getTimezoneOffset()),e.toISOString().split("T")[0]}()},i)})).filter((function(e){return(!Cn||e.supplierCode===Cn)&&(!An||e.model===An)&&(!Rn||e.color===Rn)})),columns:Oc.map((function(e,t){return t>6&&la.find((function(t){return t===e.label})),e})).filter((function(e){return void 0!==e}))})]}),Object(F.jsxs)(fc,{value:rn,index:2,children:[Object(F.jsx)(Bt.a,{sx:{marginTop:"10px",padding:"5px 10px",display:"flex",flexWrap:"wrap",justifyContent:"space-around"},children:Object(F.jsxs)(Re.a,{size:"small",sx:{flexBasis:"200px",maxWidth:"200px"},children:[Object(F.jsx)(He.a,{id:"category_filter",children:"Category"}),Object(F.jsxs)(Le.a,{labelId:"category_filter",label:"Category",value:Mn,onChange:function(e){var t=e.target.value;zn(t),Qt("All"===t?Kt:Kt.filter((function(e){return e.category===t})))},children:[Object(F.jsx)(Ne.a,{value:"All",children:"All"}),Object(F.jsx)(Ne.a,{value:"Desk Accessories",children:"Desk Accessories"}),Object(F.jsx)(Ne.a,{value:"Chair Accessories",children:"Chair Accessories"}),Object(F.jsx)(Ne.a,{value:"Desk on Desk",children:"Desk on Desk"}),Object(F.jsx)(Ne.a,{value:"Monitor Arms",children:"Monitor Arms"}),Object(F.jsx)(Ne.a,{value:"Cabinet",children:"Cabinet"}),Object(F.jsx)(Ne.a,{value:"Drawer",children:"Drawer"})]})]})}),Object(F.jsx)(Ft,{nonSelect:!0,title:"Accessory Stocks",rows:Vt.map((function(e,t){var n=e.thumbnailURL,a=e.shipmentDate,r=e.arrivalDate,i=Object(L.a)(e,sc);return Object(H.a)({thumbnail:Object(F.jsx)("a",{href:"/",onClick:function(e){e.preventDefault(),Pe.a.fire({html:'<img alt="" width="400px" src="'.concat(n,'" />'),showCloseButton:!0,showConfirmButton:!1,allowOutsideClick:!1})},children:Object(F.jsx)("img",{alt:"",width:"80px",src:n,style:{marginTop:"5px"}})}),add:Object(F.jsx)(Ke.a,{onClick:function(e){e.preventDefault(),Be("accessory"),ze(Vt[t]),Ze(Vt[t].remark),Qe(Vt[t].unitPrice),Je(1),St.find((function(e){return"accessory"===e.productType&&e.productDetail.id===Vt[t].id}))?Pe.a.fire({icon:"warning",title:"Warning",text:"This product is already added.",allowOutsideClick:!1}):pe(!0)},children:Object(F.jsx)(Xt.a,{})}),shipmentDate:function(){if(null===a)return"No";var e=new Date(a);return e.setMinutes(e.getMinutes()-e.getTimezoneOffset()),e.toISOString().split("T")[0]}(),arrivalDate:function(){if(null===r)return"No";var e=new Date(r);return e.setMinutes(e.getMinutes()-e.getTimezoneOffset()),e.toISOString().split("T")[0]}()},i)})),columns:yc})]}),Object(F.jsx)(fc,{value:rn,index:3,children:Object(F.jsxs)(ge.a,{sx:{m:3},children:[Object(F.jsx)(we.a,{variant:"contained",sx:{mb:2},onClick:function(){var e={id:Object(na.a)(),description:"",price:0,productType:"misc"};En([].concat(Object(R.a)(Qn),[e]))},children:"+ New Service"}),Object(F.jsx)(ke.a,{container:!0,spacing:2,children:Qn.map((function(e){return Object(F.jsx)(ke.a,{item:!0,xs:4,children:Object(F.jsxs)($n.a,{sx:{px:2,pb:2},children:[Object(F.jsx)(ge.a,{sx:{display:"flex",justifyContent:"flex-end"},children:Object(F.jsx)(Ke.a,{"aria-label":"settings",size:"small",onClick:function(){return function(e){var t=Qn.filter((function(t){return t.id!==e}));En(t)}(e.id)},children:Object(F.jsx)(ta.a,{fontSize:"small"})})}),Object(F.jsx)(ve.a,{label:"Description",multiline:!0,rows:5,sx:{flexBasis:"100%",minWidth:"100%"},value:e.description,onChange:function(t){return function(e,t){var n=Qn.map((function(n){return n.id===t?Object.assign({},n,{description:e.target.value}):n}));En(n)}(t,e.id)}}),Object(F.jsx)(ve.a,{type:"number",sx:{flexBasis:"100%",minWidth:"100%"},label:"Price",value:e.price,onChange:function(t){return function(e,t){var n=Qn.map((function(n){return n.id===t?Object.assign({},n,{price:parseFloat(e.target.value)}):n}));En(n)}(t,e.id)}})]})},e.id)}))})]})})]}),Object(F.jsx)(we.a,{onClick:function(e){e.preventDefault(),le(0)},children:"Previous"}),Object(F.jsx)(we.a,{sx:{float:"right"},onClick:function(e){e.preventDefault(),0!==St.length||0!==Qn.length?le(2):Pe.a.fire({icon:"warning",title:"Warning",text:"Products and services list cannot be empty",allowOutsideClick:!1})},children:"Next"})]}),Object(F.jsxs)(ge.a,{sx:{mx:"auto",mt:"50px"},hidden:2!==oe,component:"form",maxWidth:"sm",fullWidth:!0,onSubmit:function(t){t.preventDefault();var a=new FormData(re.current),i=new FormData(t.currentTarget);"create"===n?W.a.post("/quotation/create",{name:a.get("name"),phone:a.get("phone"),email:a.get("email"),district:a.get("district"),street:a.get("street"),block:a.get("block"),floor:a.get("floor"),unit:a.get("unit"),timeLine:Math.max(a.get("timeLine"),0)*("day"===a.get("timeLineFormat")?1:7),remark:"",products:St.map((function(e){var t,n=e.productDetail,a=Object(L.a)(e,uc);return Object(H.a)({productId:n.id,productCategory:null!==(t=n.category)&&void 0!==t?t:""},a)})).concat(Qn),paymentTerms:i.get("paymentTerms"),paid:Boolean(i.get("paid")),validTil:i.get("validTil")||null,discount:Math.max(i.get("discountType")>0?i.get("discount"):Math.min(i.get("discount"),100),0),discountType:i.get("discountType"),surcharge:Math.max(i.get("surchargeType")>0?i.get("surcharge"):Math.min(i.get("surcharge"),100),0),surchargeType:i.get("surchargeType")}).then((function(){e.history.push("/user/quotation")})).catch((function(e){Pe.a.fire({icon:"error",title:"Error",text:e.response.data.message,allowOutsideClick:!1}).then((function(){})),console.log(e)})).then((function(){})):W.a.put("/quotation/".concat(r.id),{name:a.get("name"),phone:a.get("phone"),email:a.get("email"),district:a.get("district"),street:a.get("street"),block:a.get("block"),floor:a.get("floor"),unit:a.get("unit"),timeLine:a.get("timeLine")*("day"===a.get("timeLineFormat")?1:7),remark:a.get("remark"),products:St.map((function(e){var t,n=e.productDetail,a=Object(L.a)(e,dc);return Object(H.a)({productId:n.id,productCategory:null!==(t=n.category)&&void 0!==t?t:""},a)})).concat(Qn),paymentTerms:i.get("paymentTerms"),paid:Boolean(i.get("paid")),validTil:i.get("validTil")||null,discount:Math.max(i.get("discountType")>0?i.get("discount"):Math.min(i.get("discount"),100),0),discountType:i.get("discountType"),surcharge:Math.max(i.get("surchargeType")>0?i.get("surcharge"):Math.min(i.get("surcharge"),100),0),surchargeType:i.get("surchargeType")}).then((function(){e.history.push("/user/quotation")})).catch((function(e){Pe.a.fire({icon:"error",title:"Error",text:e.response.data.message,allowOutsideClick:!1}).then((function(){})),console.log(e)})).then((function(){}))},children:[Object(F.jsxs)(Bt.a,{sx:{p:"10px",display:"flex",flexWrap:"wrap",justifyContent:"space-between"},children:[Object(F.jsx)(z.a,{variant:"h6",sx:{flexBasis:"100%",minWidth:"100%"},children:"Payment Details"}),Object(F.jsxs)(z.a,{variant:"h7",sx:{flexBasis:"100%",minWidth:"100%"},children:["Sub Total:"," ",St.reduce((function(e,t){return e+t.productAmount*parseFloat(t.productPrice)}),0)+Qn.reduce((function(e,t){return e+t.price}),0)]}),Object(F.jsx)(ve.a,{name:"paymentTerms",size:"small",sx:{flexBasis:"100%",minWidth:"100%"},defaultValue:r.paymentTerms,label:"Payment Terms"}),Object(F.jsx)(Se.a,{sx:{flexBasis:"100%",minWidth:"100%",alignItems:"baseline",m:0},control:Object(F.jsx)(ve.a,{type:"number",name:"validTil",label:"Valid Til",inputProps:{max:10,min:0},defaultValue:r.validTil,InputLabelProps:{shrink:!0},fullWidth:!0,sx:{m:"10px 5px 10px 0"}}),label:"month(s)"}),Object(F.jsx)(ve.a,{sx:{flexBasis:["58%","68%"],minWidth:["58%","68%"],alignItems:"baseline",m:0},label:"Discount",type:"number",name:"discount",inputProps:{min:0},defaultValue:r.discount,fullWidth:!0}),Object(F.jsxs)(Le.a,{sx:{flexBasis:["40%","30%"],minWidth:["40%","30%"],alignItems:"baseline",m:0},name:"discountType",defaultValue:r.discountType,children:[Object(F.jsx)(Ne.a,{value:0,children:"%"}),Object(F.jsx)(Ne.a,{value:1,children:"HKD"})]}),Object(F.jsx)(ve.a,{sx:{flexBasis:["58%","68%"],minWidth:["58%","68%"],alignItems:"baseline",mt:"10px",mb:0},label:"Surcharge",type:"number",name:"surcharge",inputProps:{min:0},defaultValue:r.surcharge,fullWidth:!0}),Object(F.jsxs)(Le.a,{sx:{flexBasis:["40%","30%"],minWidth:["40%","30%"],alignItems:"baseline",mt:"10px",mb:0},name:"surchargeType",defaultValue:r.surchargeType,children:[Object(F.jsx)(Ne.a,{value:0,children:"%"}),Object(F.jsx)(Ne.a,{value:1,children:"HKD"})]})]}),Object(F.jsx)(we.a,{sx:{marginTop:"10px"},onClick:function(e){e.preventDefault(),le(1)},children:"Previous"}),Object(F.jsx)(we.a,{sx:{float:"right",marginTop:"10px"},type:"submit",children:"Finish"})]}),Object(F.jsxs)(ut.a,{open:de,maxWidth:"sm",fullWidth:!0,fullScreen:Object(en.a)(t.breakpoints.down("sm")),PaperProps:{component:"form",onSubmit:function(e){e.preventDefault();var t=new FormData(e.currentTarget);if(at(!1),ot(!1),bt(!1),yt(!1),pe(!1),"add"===Dt){if(St.find((function(e){return e.productType===Ae&&e.productDetail.id===Me.id})))return void Pe.a.fire({icon:"warning",title:"Warning",text:"This product is already added.",allowOutsideClick:!1});Ct(St.concat({productType:Ae,productDetail:Me,productAmount:Ye,productDeliveryOption:JSON.stringify(["Delivery Included","Delivery and installation included","Remote Area Surcharge","Stairs Surcharge"].filter((function(e,n){return Boolean(t.get("deliveryOption_".concat(n)))}))),productPrice:e.currentTarget.unitPrice.value,remark:Xe}))}else if("edit"===Dt){var n=St.map((function(n){return n.productType===Ae&&n.productDetail.id===Me.id?{productType:Ae,productDetail:Me,productAmount:Ye,productDeliveryOption:JSON.stringify(["Delivery Included","Delivery and installation included","Remote Area Surcharge","Stairs Surcharge"].filter((function(e,n){return Boolean(t.get("deliveryOption_".concat(n)))}))),productPrice:e.currentTarget.unitPrice.value,remark:Xe}:n}));Ct(n)}}},children:[Object(F.jsx)(dt.a,{children:"Price and Amount"}),Object(F.jsxs)(pt.a,{sx:{textAlign:"center"},children:[Object(F.jsx)(ve.a,{label:"Unit Price",type:"number",name:"unitPrice",value:Fe,sx:{width:"200px"},InputProps:{readOnly:!0,endAdornment:Object(F.jsx)(ea.a,{position:"end",children:"HKD"})}}),Object(F.jsxs)(ge.a,{sx:{display:"flex",alignItems:"center",width:"200px",border:"1px solid #0000003b",borderRadius:"4px",my:"10px",mx:"auto",p:"5px 3px"},children:[Object(F.jsx)(z.a,{variant:"span",sx:{flexGrow:1},children:"Amount"}),Object(F.jsx)(Ke.a,{onClick:function(e){e.preventDefault(),Je(Math.max(Ye-1,1))},children:Object(F.jsx)(Zt.a,{})}),Object(F.jsx)(z.a,{variant:"span",sx:{ml:"10px"},children:Ye}),Object(F.jsx)(Ke.a,{onClick:function(e){e.preventDefault(),Je(Math.min(Ye+1,99))},children:Object(F.jsx)(Xt.a,{})})]}),Object(F.jsx)(ge.a,{sx:{alignItems:"center",justifyContent:"center",my:"10px",mx:"auto",p:"5px 3px"},children:Object(F.jsx)(ve.a,{label:"Specification",name:"remark",value:Xe,sx:{width:400,mx:"5px"},onChange:function(e){Ze(e.target.value)}})}),Object(F.jsx)(Se.a,{sx:{display:"block",textAlign:"left",marginLeft:"100px"},control:Object(F.jsx)(Ce.a,{name:"deliveryOption_0",checked:nt,onChange:function(e){return at(e.target.checked)},sx:{textAlign:"left"}}),label:"Delivery Included"}),Object(F.jsx)(Se.a,{sx:{display:"block",textAlign:"left",marginLeft:"100px"},control:Object(F.jsx)(Ce.a,{name:"deliveryOption_1",checked:ct,onChange:function(e){return ot(e.target.checked)}}),label:"Delivery and installation included"}),Object(F.jsx)(Se.a,{sx:{display:"block",textAlign:"left",marginLeft:"100px"},control:Object(F.jsx)(Ce.a,{name:"deliveryOption_2",checked:ht,onChange:function(e){return bt(e.target.checked)}}),label:"Remote Area Surcharge"}),Object(F.jsx)(Se.a,{sx:{display:"block",textAlign:"left",marginLeft:"100px"},control:Object(F.jsx)(Ce.a,{name:"deliveryOption_3",checked:gt,onChange:function(e){return yt(e.target.checked)}}),label:"Stairs Surcharge"})]}),Object(F.jsxs)(jt.a,{children:[Object(F.jsx)(we.a,{onClick:function(e){at(!1),ot(!1),bt(!1),yt(!1),pe(!1)},children:"Cancel"}),Object(F.jsx)(we.a,{type:"submit",children:"OK"})]})]}),Object(F.jsxs)(ut.a,{open:je,maxWidth:"sm",fullWidth:!0,fullScreen:Object(en.a)(t.breakpoints.down("sm")),PaperProps:{component:"form",onSubmit:function(){var e=Object(Gt.a)(Jt.a.mark((function e(t){var n,a,r,i,c,o,l,s;return Jt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),d(0),j("Left"),O("Rounded"),v("Melamine"),T(""),B(700),q(400),U(25),G(0),$(50),ae(""),at(!1),ot(!1),bt(!1),yt(!1),fe(!1),n=new FormData(t.currentTarget),"add"!==Dt){e.next=38;break}if(Oe||!St.find((function(e){return"desk"===e.productType&&e.productDetail.id===Me.id&&!e.hasDeskTop}))){e.next=22;break}return Pe.a.fire({icon:"warning",title:"Warning",text:"This product is already added.",allowOutsideClick:!1}),e.abrupt("return");case 22:if(a="",!n.get("topSketchImg")||!n.get("topSketchImg").name){e.next=35;break}return(r=new FormData).append("file",n.get("topSketchImg")),e.prev=26,e.next=29,W.a.post("/upload",r,{headers:{"Content-Type":"application/x-www-form-urlencoded"}});case 29:i=e.sent,a=i.data.url,e.next=35;break;case 33:e.prev=33,e.t0=e.catch(26);case 35:Ct(St.concat({productType:Ae,productDetail:Me,productAmount:Ye,productDeliveryOption:JSON.stringify(["Delivery Included","Delivery and installation included","Remote Area Surcharge","Stairs Surcharge"].filter((function(e,t){return Boolean(n.get("deliveryOption_".concat(t)))}))),productPrice:Boolean(n.get("hasDeskTop"))?Number(n.get("deskTotalPrice")):Number(n.get("deskLegPrice")),hasDeskTop:Boolean(n.get("hasDeskTop"))||!1,topMaterial:n.get("topMaterial")||"",topColor:n.get("topColor")||"",topLength:n.get("topLength")||0,topWidth:n.get("topWidth")||0,topThickness:n.get("topThickness")||0,topRoundedCorners:n.get("topRoundedCorners")||0,topCornerRadius:n.get("topCornerRadius")||50,topHoleCount:n.get("topHoleCount")||0,topHoleType:n.get("topHoleType")||"",topHolePosition:b||"",remark:n.get("remark")||"",topSketchURL:a})),e.next=54;break;case 38:if("edit"!==Dt){e.next=54;break}if(c=ne,!n.get("topSketchImg")||!n.get("topSketchImg").name){e.next=52;break}return(o=new FormData).append("file",n.get("topSketchImg")),e.prev=43,e.next=46,W.a.post("/upload",o,{headers:{"Content-Type":"application/x-www-form-urlencoded"}});case 46:l=e.sent,c=l.data.url,e.next=52;break;case 50:e.prev=50,e.t1=e.catch(43);case 52:s=St.map((function(e){return"desk"===e.productType&&e.productDetail.id===Me.id?{productType:Ae,productDetail:Me,productAmount:Ye,productDeliveryOption:JSON.stringify(["Delivery Included","Delivery and installation included","Remote Area Surcharge","Stairs Surcharge"].filter((function(e,t){return Boolean(n.get("deliveryOption_".concat(t)))}))),productPrice:Boolean(n.get("hasDeskTop"))?Number(n.get("deskTotalPrice")):Number(n.get("deskLegPrice")),hasDeskTop:Boolean(n.get("hasDeskTop"))||!1,topMaterial:n.get("topMaterial")||"",topColor:n.get("topColor")||"",topLength:n.get("topLength")||0,topWidth:n.get("topWidth")||0,topThickness:n.get("topThickness")||0,topRoundedCorners:n.get("topRoundedCorners")||0,topCornerRadius:n.get("topCornerRadius")||50,topHoleCount:n.get("topHoleCount")||0,topHoleType:n.get("topHoleType")||"",topHolePosition:b||"",remark:n.get("remark")||"",topSketchURL:c}:e})),Ct(s);case 54:case"end":return e.stop()}}),e,null,[[26,33],[43,50]])})));return function(t){return e.apply(this,arguments)}}()},children:[Object(F.jsx)(dt.a,{children:"Price and Amount"}),Object(F.jsxs)(pt.a,{sx:{textAlign:"center"},children:[Object(F.jsx)(ve.a,{label:"Desk Leg Price",type:"number",name:"deskLegPrice",value:Fe,sx:{width:200,visibility:Oe?"hidden":"visible"},InputProps:{readOnly:!0,endAdornment:Object(F.jsx)(ea.a,{position:"end",children:"HKD"})}}),Object(F.jsx)(tt.a,{sx:{my:"10px"}}),Object(F.jsxs)(ge.a,{display:"flex",flexWrap:"wrap",justifyContent:"space-between",children:[Object(F.jsx)(Se.a,{control:Object(F.jsx)(Ce.a,{name:"hasDeskTop",checked:Oe,onChange:function(e){ye(e.currentTarget.checked)}}),label:"with Table Top",sx:{flexBasis:"100%",minWidth:"100%"}}),[{name:"topMaterial",label:"Material",type:"autocomplete",value:k,onChange:function(e,t){e.preventDefault(),v(t)},options:kc,width:"65%"},{name:"topColor",label:"Color",type:"text",width:"30%",value:w,onChange:function(e){e.preventDefault(),T(e.target.value)}},{name:"topLength",label:"Length",type:"suffixNumber",suffix:"mm",inputProps:{min:0},width:"30%",value:P,onChange:function(e){e.preventDefault(),B(e.target.value)}},{name:"topWidth",label:"Width",type:"suffixNumber",suffix:"mm",inputProps:{min:0},width:"30%",value:M,onChange:function(e){e.preventDefault(),q(e.target.value)}},{name:"topThickness",label:"Thickness",type:"suffixNumber",suffix:"mm",inputProps:{min:0},width:"30%",value:E,onChange:function(e){e.preventDefault(),U(e.target.value)}},{name:"topRoundedCorners",label:"Rounded Corners",type:"select",options:[0,1,2,3,4],width:"48%",value:J,onChange:function(e){e.preventDefault(),G(e.target.value)}},{name:"topCornerRadius",label:"Corner Radius",type:"number",inputProps:{min:0},width:"48%",value:Z,onChange:function(e){e.preventDefault(),$(e.target.value)}},{name:"topHoleCount",label:"Number of Holes",type:"select",value:u,onChange:function(e){e.preventDefault(),d(e.target.value),1===e.target.value?j("Left"):2===e.target.value?j("Left_Right"):3===e.target.value&&j("Left_Right_Center")},options:[0,1,2,3],width:"48%"},{name:"topHoleType",label:"Type of Holes",type:"select",value:x,onChange:function(e){e.preventDefault(),O(e.target.value)},options:["Rounded","Rectangular"],width:"48%"},{name:"topHolePosition",label:"Hole Position",type:"select",value:b,onChange:function(e){e.preventDefault(),j(e.target.value)},options:1===u?["Left","Right","Center"]:["Left","Right","Center","Left_Right","Left_Right_Center"],disabled:1!==u,visible:"true",width:"48%"},{name:"remark",label:"Specification",type:"text",width:"100%",value:Xe,onChange:function(e){e.preventDefault(),Ze(e.target.value)}},{name:"topSketchImg",label:"Sketch Image (Optional)",type:"file",inputProps:{accept:"image/png, image/gif, image/jpeg"},InputLabelProps:{shrink:!0},width:"100%"}].map((function(e,t){var n=e.type,a=e.width,r=Object(L.a)(e,pc);if("autocomplete"===n){var i=r.name,c=r.label,o=Object(L.a)(r,hc);return Object(F.jsx)(_t.a,Object(H.a)({sx:{flexBasis:a,minWidth:a},renderInput:function(e){return Object(F.jsx)(ve.a,Object(H.a)(Object(H.a)({},e),{},{name:i,label:c}))},disabled:!Oe},o),t)}if("suffixNumber"===n){var l=r.suffix,s=Object(L.a)(r,bc);return Object(F.jsx)(Se.a,{sx:{flexBasis:a,minWidth:a,alignItems:"baseline",mx:0},control:Object(F.jsx)(ve.a,Object(H.a)({fullWidth:!0,sx:{m:"10px 5px 0 0"},type:"number",disabled:!Oe},s)),label:l},t)}if("select"===n){var u=r.name,d=r.label,p=r.options,h=Object(L.a)(r,jc);return"topHolePosition"===u?"1"===h.visible?Object(F.jsxs)(Re.a,{sx:{flexBasis:a,minWidth:a},children:[Object(F.jsx)(He.a,{id:"desk-top-".concat(u,"-select-label"),children:d}),Object(F.jsx)(Le.a,Object(H.a)(Object(H.a)({labelId:"desk-top-".concat(u,"-select-label"),id:"desk-top-".concat(u,"-select"),name:u,label:d,size:"small",disabled:!Oe},h),{},{children:p.map((function(e,t){return Object(F.jsx)(Ne.a,{value:e,children:e},t)}))}))]},t):"":Object(F.jsxs)(Re.a,{sx:{flexBasis:a,minWidth:a},children:[Object(F.jsx)(He.a,{id:"desk-top-".concat(u,"-select-label"),children:d}),Object(F.jsx)(Le.a,Object(H.a)(Object(H.a)({labelId:"desk-top-".concat(u,"-select-label"),id:"desk-top-".concat(u,"-select"),name:u,label:d,size:"small",disabled:!Oe},h),{},{children:p.map((function(e,t){return Object(F.jsx)(Ne.a,{value:e,children:e},t)}))}))]},t)}return Object(F.jsx)(ve.a,Object(H.a)({type:n,sx:{flexBasis:a,minWidth:a},disabled:!Oe},r),t)})),Object(F.jsx)(ve.a,{label:"Desk Total Price",type:"number",name:"deskTotalPrice",defaultValue:Fe,sx:{flexBasis:200,minWidth:200,mx:"auto"},disabled:!Oe,InputProps:{endAdornment:Object(F.jsx)(ea.a,{position:"end",children:"HKD"})}})]}),Object(F.jsx)(tt.a,{sx:{my:"10px"}}),Object(F.jsxs)(ge.a,{sx:{display:"flex",alignItems:"center",width:"200px",border:"1px solid #0000003b",borderRadius:"4px",mt:"10px",mx:"auto",p:"5px 3px"},children:[Object(F.jsx)(z.a,{variant:"span",sx:{flexGrow:1},children:"Amount"}),Object(F.jsx)(Ke.a,{onClick:function(e){e.preventDefault(),Je(Math.max(Ye-1,1))},children:Object(F.jsx)(Zt.a,{})}),Object(F.jsx)(z.a,{variant:"span",mx:"10px",children:Ye}),Object(F.jsx)(Ke.a,{onClick:function(e){e.preventDefault(),Je(Math.min(Ye+1,99))},children:Object(F.jsx)(Xt.a,{})})]}),Object(F.jsx)(Se.a,{sx:{display:"block",textAlign:"left",marginLeft:"100px"},control:Object(F.jsx)(Ce.a,{name:"deliveryOption_0",checked:nt,onChange:function(e){return at(e.target.checked)},sx:{textAlign:"left"}}),label:"Delivery Included"}),Object(F.jsx)(Se.a,{sx:{display:"block",textAlign:"left",marginLeft:"100px"},control:Object(F.jsx)(Ce.a,{name:"deliveryOption_1",checked:ct,onChange:function(e){return ot(e.target.checked)}}),label:"Delivery and installation included"}),Object(F.jsx)(Se.a,{sx:{display:"block",textAlign:"left",marginLeft:"100px"},control:Object(F.jsx)(Ce.a,{name:"deliveryOption_2",checked:ht,onChange:function(e){return bt(e.target.checked)}}),label:"Remote Area Surcharge"}),Object(F.jsx)(Se.a,{sx:{display:"block",textAlign:"left",marginLeft:"100px"},control:Object(F.jsx)(Ce.a,{name:"deliveryOption_3",checked:gt,onChange:function(e){return yt(e.target.checked)}}),label:"Stairs Surcharge"})]}),Object(F.jsxs)(jt.a,{children:[Object(F.jsx)(we.a,{onClick:function(e){e.preventDefault(),d(0),j("Left"),O("Rounded"),v("Melamine"),T(""),B(700),q(400),U(25),G(0),$(50),ae(""),at(!1),ot(!1),bt(!1),yt(!1),fe(!1)},children:"Cancel"}),Object(F.jsx)(we.a,{type:"submit",children:"OK"})]})]})]})})),Sc=function(e){var t=Object(a.useState)(""),n=Object(o.a)(t,2),r=n[0],i=n[1];return Object(F.jsx)(vc,Object(H.a)({componentType:"create",initialClient:{phone:r,setPhone:i,paid:!0,discountType:1,surchargeType:1,validTil:1},initialCart:[]},e))},Cc=["ChairStocks","DeskStocks","DeskToQuotations","AccessoryStocks","ServiceToQuotations","Seller","sellerId","remark"],wc=["ChairToQuotation"],Tc=["stockId","unitPrice","qty","deliveryOption"],Dc=["AccessoryToQuotation"],Ac=function(e){var t=(Object(s.g)().state||{}).quotation,n=t||{},r=n.ChairStocks,i=n.DeskStocks,c=n.DeskToQuotations,l=n.AccessoryStocks,u=n.ServiceToQuotations,d=(n.Seller,n.sellerId,n.remark,Object(L.a)(n,Cc)),p=Object(a.useState)(d.phone),h=Object(o.a)(p,2),b=h[0],j=h[1];return t?Object(F.jsx)(vc,Object(H.a)({componentType:"edit",initialClient:Object(H.a)(Object(H.a)({},d),{},{phone:b,setPhone:j}),initialCart:r.map((function(e){var t=e.ChairToQuotation;return{productType:"chair",productDetail:Object(L.a)(e,wc),remark:t.remark,productPrice:t.unitPrice,productAmount:t.qty,productDeliveryOption:t.deliveryOption}})).concat(c.map((function(e){var t=e.stockId,n=e.unitPrice,a=e.qty,r=e.deliveryOption,c=Object(L.a)(e,Tc),o=i.find((function(e){return e.id===t}));return Object(H.a)({productType:"desk",productDetail:o,productPrice:n,productAmount:a,productDeliveryOption:r},c)}))).concat(l.map((function(e){var t=e.AccessoryToQuotation;return{productType:"accessory",productDetail:Object(L.a)(e,Dc),remark:t.remark,productPrice:t.unitPrice,productAmount:t.qty,productDeliveryOption:t.deliveryOption}}))),initialServices:u},e)):Object(F.jsx)(s.a,{to:"/user/quotation"})};var Pc=[{category:"Chair",content:[{to:"/user/chair/stock",icon:Object(F.jsx)(qe.a,{}),label:"Stock"}]},{category:"Desk",content:[{to:"/user/desk/stock",icon:Object(F.jsx)(qe.a,{}),label:"Stock"}]},{category:"Accessory",content:[{to:"/user/accessory/stock",icon:Object(F.jsx)(qe.a,{}),label:"Stock"}]},{category:"Sales",content:[{to:"/user/sales",icon:Object(F.jsx)(Ve.a,{}),label:"Order"},{to:"/user/quotation",icon:Object(F.jsx)(Ve.a,{}),label:"Quotation"}]}],Bc=Object(f.b)((function(e){return{auth:e.auth}}),{logout:Be})((function(e){var t=Object(a.useState)(!1),n=Object(o.a)(t,2),r=n[0],i=n[1],c=Object(s.i)().path,l=function(t){t.preventDefault(),Pe.a.fire({title:"Are you sure?",text:"Log out will remove your session information permanently.",icon:"question",showCancelButton:!0,confirmButtonText:"Yes, Logout!",cancelButtonText:"No, Keep Login",allowOutsideClick:!1}).then((function(t){t.isConfirmed&&e.logout()}))};return Object(F.jsxs)(F.Fragment,{children:[Object(F.jsx)(Ge,{drawerHeight:50,handleDrawerToggle:function(e){e.preventDefault(),i(!0)},title:"Salesman"}),Object(F.jsxs)(ge.a,{flexBasis:"calc(100% - ".concat(50,"px)"),maxHeight:"calc(100% - ".concat(50,"px)"),position:"relative",display:"flex",backgroundColor:"#f4f5f7",children:[Object(F.jsx)(st,{mobileOpen:r,handleDrawerClose:function(e){e.preventDefault(),i(!1)},drawerWidth:240,handleLogout:l,lists:Pc}),Object(F.jsx)(ct,{drawerWidth:240,handleLogout:l,lists:Pc}),Object(F.jsx)(ge.a,{component:"main",sx:{flexGrow:1,p:3,width:{sm:"calc(100% - ".concat(240,"px)")}},children:Object(F.jsxs)(s.d,{children:[Object(F.jsx)(s.b,{path:"".concat(c,"/chair/stock"),component:ii}),Object(F.jsx)(s.b,{path:"".concat(c,"/desk/stock"),component:ui}),Object(F.jsx)(s.b,{path:"".concat(c,"/accessory/stock"),component:hi}),Object(F.jsx)(s.b,{path:"".concat(c,"/sales"),exact:!0,component:yi}),Object(F.jsx)(s.b,{path:"".concat(c,"/sales/create"),exact:!0,component:Qi}),Object(F.jsx)(s.b,{path:"".concat(c,"/sales/edit"),exact:!0,component:Ji}),Object(F.jsx)(s.b,{path:"".concat(c,"/quotation"),exact:!0,component:nc}),Object(F.jsx)(s.b,{path:"".concat(c,"/quotation/create"),exact:!0,component:Sc}),Object(F.jsx)(s.b,{path:"".concat(c,"/quotation/edit"),exact:!0,component:Ac})]})})]})]})})),Ic=["component","auth"],Wc=Object(f.b)((function(e){return{auth:e.auth}}))((function(e){var t=e.component,n=e.auth,a=Object(L.a)(e,Ic);return Object(F.jsx)(s.b,Object(H.a)(Object(H.a)({},a),{},{render:function(e){return!0===n.isLoggedIn?!0===n.isAdmin?Object(F.jsx)(t,Object(H.a)({},e)):Object(F.jsx)(s.a,{to:"/user/sales"}):Object(F.jsx)(s.a,{to:"/signin"})}}))})),Rc=["component","auth"],Hc=Object(f.b)((function(e){return{auth:e.auth}}))((function(e){var t=e.component,n=e.auth,a=Object(L.a)(e,Rc);return Object(F.jsx)(s.b,Object(H.a)(Object(H.a)({},a),{},{render:function(e){return!1===n.isLoggedIn?Object(F.jsx)(t,Object(H.a)({},e)):!0===n.isAdmin?Object(F.jsx)(s.a,{to:"/admin/sales"}):Object(F.jsx)(s.a,{to:"/user/sales"})}}))})),Lc=["component","auth"],Nc=Object(f.b)((function(e){return{auth:e.auth}}))((function(e){var t=e.component,n=e.auth,a=Object(L.a)(e,Lc);return Object(F.jsx)(s.b,Object(H.a)(Object(H.a)({},a),{},{render:function(e){return!0===n.isLoggedIn?!1===n.isAdmin?Object(F.jsx)(t,Object(H.a)({},e)):Object(F.jsx)(s.a,{to:"/admin/sales"}):Object(F.jsx)(s.a,{to:"/signin"})}}))})),Mc=Object(f.b)((function(e){return{auth:e.auth}}))((function(){var e=Object(s.h)(),t=e.productType,n=e.deliveryId,r=Object(a.useState)(""),i=Object(o.a)(r,2),c=i[0],l=i[1];return Object(a.useEffect)((function(){c||W.a.post("/delivery/generatePDF",{productType:t,deliveryId:n,signature:""}).then((function(e){e.data||Pe.a.fire({icon:"info",title:"Alarm",text:"New Delivery PDF was created. Please click the button again to check.",allowOutsideClick:!1}),l(e.data.url),e.data.url&&(window.location.href=e.data.url)})).catch((function(e){Pe.a.fire({icon:"error",title:"Error",text:e.response.data.message,allowOutsideClick:!1})}))}),[c]),Object(F.jsx)(F.Fragment,{})}));B.getState().auth.isLoggedIn&&(W.a.defaults.headers.common.Authorization="Bearer ".concat(B.getState().auth.token));var zc=Object(b.a)({components:{MuiButton:{variants:[{props:{color:"aaaa"},style:{root:{color:"#888888"}}}],defaultProps:{variant:"outlined"},styleOverrides:{root:{textTransform:"none"}}},MuiTextField:{defaultProps:{variant:"outlined",margin:"dense",size:"small"}},MuiSelect:{defaultProps:{margin:"dense",size:"small"}},MuiFormControl:{defaultProps:{margin:"dense"}}}});W.a.defaults.baseURL="https://blueoceanblue.com/api",W.a.interceptors.request.use((function(e){return B.dispatch({type:"loading/beginLoading"}),e}),(function(e){return Promise.reject(e)})),W.a.interceptors.response.use((function(e){return B.dispatch({type:"loading/endLoading"}),e}),(function(e){return B.dispatch({type:"loading/endLoading"}),e.response&&401===e.response.status&&B.dispatch({type:"auth/logout"}),Promise.reject(e)}));var qc=function(){var e=Object(a.useState)(B.getState().loading.value),t=Object(o.a)(e,2),n=t[0],r=t[1];return B.subscribe((function(){r(B.getState().loading.value)})),Object(F.jsx)(j.a,{theme:zc,children:Object(F.jsxs)(f.a,{store:B,children:[Object(F.jsx)(u.a,{}),Object(F.jsxs)(d.a,{maxWidth:!1,disableGutters:!0,sx:{height:"100vh",overflow:"auto",display:"flex",flexDirection:"column"},children:[Object(F.jsx)(p.a,{sx:{color:"#fff",zIndex:function(e){return e.zIndex.modal+1}},open:n,children:Object(F.jsx)(h.a,{color:"inherit"})}),Object(F.jsx)(l.a,{children:Object(F.jsxs)(s.d,{children:[Object(F.jsx)(s.b,{path:"/",exact:!0,children:Object(F.jsx)(s.a,{to:"/signin"})}),Object(F.jsx)(s.b,{path:"/invoice/:id",exact:!0,component:$}),Object(F.jsx)(s.b,{path:"/receipt/:id",exact:!0,component:de}),Object(F.jsx)(s.b,{path:"/quotation/:id",exact:!0,component:xe}),Object(F.jsx)(Hc,{path:"/signin",exact:!0,component:We}),Object(F.jsx)(Hc,{path:"/signup",exact:!0,component:ze}),Object(F.jsx)(Wc,{path:"/admin",component:ei}),Object(F.jsx)(Nc,{path:"/user",component:Bc}),Object(F.jsx)(s.b,{path:"/deliveryPDF/:productType/:deliveryId",component:Mc})]})})]})]})})},Vc=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,812)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,i=t.getLCP,c=t.getTTFB;n(e),a(e),r(e),i(e),c(e)}))};c.a.render(Object(F.jsx)(r.a.StrictMode,{children:Object(F.jsx)(qc,{})}),document.getElementById("root")),Vc()}},[[677,1,2]]]);
//# sourceMappingURL=main.a3c15052.chunk.js.map