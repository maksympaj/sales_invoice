{"version":3,"sources":["store/slice/auth.slice.js","store/slice/counter.slice.js","store/slice/loading.slice.js","store/index.js","fonts/chinese.msyh.ttf","images/logo_title.png","components/Guest/Invoice.js","images/receipt_logo.png","components/Guest/Receipt.js","components/Guest/Quotation.js","services/auth.service.js","components/Guest/SignIn.js","components/Guest/SignUp.js","components/Common/AppHeader/index.js","components/Common/Sidebar/FixedSidebar.js","components/Common/Sidebar/CollapsedSidebar.js","components/Common/DataGrid/index.js","components/Admin/User.js","components/Common/MultiSelect/index.js","components/Admin/Chair/Stock.js","components/Admin/Desk/Stock.js","components/Admin/Accessory/Stock.js","components/Admin/Salement/ProductList/index.js","components/Admin/Salement/SalesOrder/View.js","components/Admin/Salement/SalesOrder/Detail.js","components/Admin/Salement/SalesOrder/Create.js","components/Admin/Salement/SalesOrder/Edit.js","components/Admin/Salement/Quotation/View.js","components/Admin/Salement/Quotation/Detail.js","components/Admin/Salement/Quotation/Create.js","components/Admin/Salement/Quotation/Edit.js","components/Admin/Delivery/Chair.js","components/Admin/Delivery/Desk.js","components/Admin/Delivery/Accessory.js","components/Admin/Purchase/Order/view.js","components/Admin/Purchase/Order/create.js","components/Admin/Purchase/Order/edit.js","components/Admin/Purchase/Shipment/view.js","components/Admin/Purchase/Shipment/ProductList/index.js","components/Admin/Purchase/Shipment/detail.js","components/Admin/Purchase/Shipment/create.js","components/Admin/Purchase/Shipment/edit.js","components/Admin/index.js","components/Standard/Chair/Stock.js","components/Standard/Desk/Stock.js","components/Standard/Accessory/Stock.js","components/Standard/Salement/ProductList/index.js","components/Standard/Salement/SalesOrder/View.js","components/Standard/Salement/SalesOrder/Detail.js","components/Standard/Salement/SalesOrder/Create.js","components/Standard/Salement/SalesOrder/Edit.js","components/Standard/Salement/Quotation/View.js","components/Standard/Salement/Quotation/Detail.js","components/Standard/Salement/Quotation/Create.js","components/Standard/Salement/Quotation/Edit.js","components/Standard/index.js","components/Common/Routes/AdminRoute.js","components/Common/Routes/GuestRoute.js","components/Common/Routes/PrivateRoute.js","components/Common/DeliveryPDF/index.js","App.js","reportWebVitals.js","index.js"],"names":["auth","createSlice","name","initialState","isLoggedIn","isAdmin","token","reducers","loginSuccess","state","action","payload","loginFail","logout","_auth$actions","actions","counter","value","increment","decrement","incrementByAmount","_counter$actions","beginLoading","endLoading","reducer","combineReducers","loading","preloadedState","localStorage","getItem","JSON","parse","store","configureStore","subscribe","setItem","stringify","getState","styles","StyleSheet","create","body","paddingTop","paddingBottom","paddingHorizontal","header","width","fontSize","lineHeight","marginBottom","flexDirection","alignItems","title","fontFamily","textTransform","logo","marginLeft","info","companyInfo","paddingRight","clientInfo","email","color","textDecoration","subtitle","margin","fontWeight","text","textAlign","table","border","tableRow","borderBottom","minHeight","tableColumn","flex","padding","borderRight","Font","register","family","src","microsoft_yahei","monthNames","connect","props","_useState","useState","_useState2","_slicedToArray","success","setSuccess","_useState3","Seller","ChairStocks","DeskStocks","AccessoryStocks","ServiceToOrders","DeskToOrders","_useState4","order","setOrder","id","useParams","useEffect","source","axios","CancelToken","getOrder","cancelToken","cancel","getDateString","time","tmp","Date","concat","getMonth","getDate","getFullYear","_ref","get","then","response","console","log","data","catch","error","_jsx","Backdrop","sx","zIndex","theme","drawer","open","children","CircularProgress","_jsxs","Fragment","test","navigator","userAgent","PDFDownloadLink","document","Document","Page","style","wrap","View","Text","createdAt","prefix","invoiceNum","substr","Image","logoTitle","Tspan","unit","floor","block","street","district","phone","cells","content","backgroundColor","firstName","lastName","timeLine","paymentTerms","paid","dueDate","map","_ref2","rowIndex","rowArr","rowRestProps","_objectWithoutProperties","_excluded","_objectSpread","length","_ref3","index","cellArr","cellRestProps","_excluded2","flexBasis","maxWidth","_toConsumableArray","item","ChairToOrder","qty","brand","model","withHeadrest","withAdArmrest","remark","deliveryOption","unitPrice","find","stock","stockId","armSize","feetSize","beamSize","hasDeskTop","topMaterial","topLength","topWidth","topThickness","topColor","topRoundedCorners","topCornerRadius","topHoleCount","topHolePosition","topHoleType","AccessoryToOrder","category","description","price","Array","Math","max","fill","reduce","acc","cur","discountType","discount","DeskToOrder","surchargeType","surcharge","_ref4","_excluded3","_ref5","_excluded4","position","bottom","left","flexGrow","marginTop","fileName","_ref6","_blob","_url","_error","PDFViewer","height","_ref7","_excluded5","_ref8","_excluded6","_ref9","_excluded7","_ref10","_excluded8","WarningIcon","Typography","receiptLogo","note","ServiceToQuotations","DeskToQuotations","quotation","setQuotation","getQuotation","getDateNum","quotationNum","validTil","ChairToQuotation","AccessoryToQuotation","DeskToQuotation","dispatch","defaults","headers","common","type","Copyright","variant","align","Link","href","login","Promise","resolve","reject","post","_response$data","_Fragment","Box","mx","mt","display","LogoTitile","alt","Avatar","m","bgcolor","LockOutlinedIcon","component","onSubmit","event","preventDefault","form","currentTarget","FormData","password","err","Swal","fire","icon","html","message","replace","allowOutsideClick","noValidate","Grid","container","spacing","xs","TextField","required","fullWidth","label","autoComplete","autoFocus","FormControlLabel","control","Checkbox","Button","mb","RouterLink","to","history","push","sm","FormControl","InputLabel","size","Select","labelId","defaultValue","MenuItem","justifyContent","drawerHeight","handleDrawerToggle","AppBar","maxHeight","Toolbar","IconButton","edge","onClick","mr","MenuIcon","noWrap","useFixedSidebarStyles","makeStyles","root","boxSizing","drawerWidth","overflow","borderRadius","navlink","transition","minWidth","FixedSidebar","handleLogout","lists","classes","expList","setExpList","expIndex","setExpIndex","className","list","listIndex","List","pl","listitem","itemIndex","ListItem","button","secondaryAction","ExpandMoreIcon","transform","ListItemIcon","ListItemText","primary","Collapse","in","disablePadding","child","childIndex","NavLink","path","exact","activeClassName","Divider","LogoutIcon","handleDrawerClose","mobileOpen","Drawer","onClose","ModalProps","keepMounted","PaperProps","e","descendingComparator","a","b","orderBy","getComparator","stableSort","array","comparator","stabilizedThis","el","sort","EnhancedTableHead","columns","onSelectAllClick","numSelected","nonSelect","rowCount","onRequestSort","TableHead","TableRow","TableCell","indeterminate","checked","onChange","inputProps","property","nonSort","restProps","p","sortDirection","TableSortLabel","active","direction","IconComponent","ArrowDropDownIcon","EnhancedTableToolbar","onBulkEditClick","onBulkRemoveClick","pr","alpha","palette","main","activatedOpacity","Tooltip","EditIcon","DeleteIcon","useDataGridStyles","_table","_defineProperty","tableCellClasses","head","teal","grey","DataGrid","rows","setOrderBy","_useState5","_useState6","selected","setSelected","_useState7","_useState8","page","setPage","_useState9","_useState10","rowsPerPage","setRowsPerPage","_useState11","_useState12","rowsLength","setRowsLength","prevRows","useRef","current","join","filter","row","includes","emptyRows","Paper","TableContainer","Table","target","newSelecteds","n","TableBody","slice","isItemSelected","indexOf","role","tabIndex","bkColor","selectedIndex","newSelected","handleClick","filedIndex","scope","colSpan","TablePagination","rowsPerPageOptions","count","onPageChange","newPage","onRowsPerPageChange","parseInt","users","setUsers","editOpen","setEditOpen","setID","formProps","setFormProps","setType","handleEditClick","handleRemoveClick","showCancelButton","confirmButtonText","cancelButtonText","result","isConfirmed","delete","getUsers","isActive","stopPropagation","put","edit","onEditClick","onRemoveClick","ids","Dialog","DialogTitle","DialogContent","Stack","DialogContentText","DialogActions","useStyles","formControl","marginRight","float","indeterminateColor","selectAllText","selectedAll","MenuProps","ITEM_HEIGHT","anchorOrigin","vertical","horizontal","transformOrigin","CheckableMultiSelect","options","isAllSelected","htmlFor","multiple","renderValue","option","hideColumns","Stock","useTheme","formMode","setFormMode","stocks","setStocks","formOpen","setFormOpen","balance","setBalance","_useState13","_useState14","setUnitPrice","_useState15","_useState16","shipmentQty","setShipmentQty","_useState17","_useState18","features","setFeatures","_useState19","_useState20","filterBrand","setFilterBrand","_useState21","_useState22","filterModel","setFilterModel","_useState23","_useState24","selectedHideColumns","setSelectedHideColumns","frameColor","backColor","seatColor","backMaterial","seatMaterial","multiline","shipmentDate","arrivalDate","getStocks","handleSave","_asyncToGenerator","_regeneratorRuntime","mark","_callee","thumbnailURL","uploadData","_context","prev","next","append","sent","url","t0","Boolean","Number","stop","_x","apply","arguments","handleCreate","_callee2","_context2","_x2","startIcon","AddIcon","accept","_callee3","_context3","files","finish","_x3","ml","flexWrap","c","chars","Autocomplete","renderInput","params","values","thumbnail","showCloseButton","showConfirmButton","column","i","hideColumn","undefined","fullScreen","useMediaQuery","breakpoints","down","restParams","InputLabelProps","shrink","defaultChecked","RemoveIcon","filterSupplier","setFilterSupplier","filterColor","setFilterColor","_useState25","_useState26","supplierCode","autocomParams","initStocks","setInitStocks","filterCategory","setFilterCategory","selected_category","ProductList","styled","ProductListItem","boxShadow","ProductListItemText","indigo","ProductPriceAmount","amount","whiteSpace","textOverflow","flexShrink","paddingLeft","orders","setOrders","initOrders","setInitOrders","setName","setEmail","setPhone","whatsAppOpen","setWhatsAppOpen","emailOpen","setEmailOpen","detailOpen","setDetailOpen","whatsAppMessage","emailContent","filterAnchor","setFilterAnchor","orderIndex","setOrderIndex","paymentLink","setPaymentLink","searchInvoiceNumber","setSearchInvoiceNumber","_useState27","_useState28","searchPhoneNumber","setSearchPhoneNumber","chairDeliveries","deskDeliveries","accessoryDeliveries","getOrders","isSentToShipment","AccessoryToOrders","shipmentId","ChairToOrders","onKeyPressed","key","searchedOrders","toLowerCase","onKeyPress","isPreOrder","seller","orderDate","createdTime","setMinutes","getMinutes","getTimezoneOffset","toISOString","split","clientAddress","preOrder","products","my","Badge","badgeContent","DeckIcon","receiptIcon","ReceiptIcon","emailIcon","EmailIcon","whatsappIcon","ReactDOMServer","renderToStaticMarkup","QRCode","qrcode","level","qrerror","WhatsAppIcon","pathname","onFilterClick","MuiPhoneNumber","onlyCountries","defaultCountry","InputProps","readOnly","inputRef","minRows","maxRows","link","secondary","ref","proDeliveryDate","estDeliveryDate","from","delivered","topSketchURL","rel","chairToOrders","deskToOrders","accessoryToOrders","TabPanel","other","hidden","chairColumns","hideChairColumns","deskColumns","hideDeskColumns","accessoryColumns","materialOptions","componentType","initialClient","initialCart","initialServices","setTopHoleCount","setTopHolePosition","setTopHoleType","setTopMaterial","setTopColor","setTopLength","setTopWidth","setTopThickness","setTopRoundedCorners","setTopCornerRadius","sketchUrl","setSketchUrl","clientForm","currentStep","setCurrentStep","addOpen","setAddOpen","_useState29","_useState30","deskAddOpen","setDeskAddOpen","_useState31","_useState32","setHasDeskTop","_useState33","_useState34","productType","setProductType","_useState35","_useState36","productId","setProductId","_useState37","_useState38","productDetail","setProductDetail","_useState39","_useState40","productPrice","setProductPrice","_useState41","_useState42","productAmount","setProductAmount","_useState43","_useState44","productRemark","setProductRemark","_useState45","_useState46","deliveryChecked0","setDeliveryChecked0","_useState47","_useState48","deliveryChecked1","setDeliveryChecked1","_useState49","_useState50","deliveryChecked2","setDeliveryChecked2","_useState51","_useState52","deliveryChecked3","setDeliveryChecked3","_useState53","_useState54","cart","setCart","_useState55","_useState56","cartItemStatus","setCartItemStatus","_useState57","_useState58","setPaid","_useState59","_useState60","chairStocks","setChairStocks","_useState61","_useState62","deskStocks","setDeskStocks","_useState63","_useState64","accessoryStocks","setAccessoryStocks","_useState65","_useState66","initAccessoryStocks","setInitAccessoryStocks","_useState67","_useState68","stocksIndex","setStocksIndex","_useState69","_useState70","chairFeatures","setChairFeatures","_useState71","_useState72","deskFeatures","setDeskFeatures","_useState73","_useState74","chairFilterBrand","setChairFilterBrand","_useState75","_useState76","chairFilterModel","setChairFilterModel","_useState77","_useState78","deskFilterSupplier","setDeskFilterSupplier","_useState79","_useState80","deskFilterModel","setDeskFilterModel","_useState81","_useState82","deskFilterColor","setDeskFilterColor","_useState83","_useState84","accessoryFilterCategory","setAccessoryFilterCategory","initServices","service","Object","assign","_useState85","_useState86","services","setServices","_useState87","_useState88","selectedHideChairColumns","setSelectedHideChairColumns","_useState89","_useState90","selectedHideDeskColumns","setSelectedHideDeskColumns","getDeskFeatures","getAccessoryFeatures","getChairStocks","getDeskStocks","getAccessoryStocks","Stepper","activeStep","step","labelProps","checkValidity","optional","Step","StepLabel","setValue","min","RadioGroup","Radio","px","deliveryOptions","productDeliveryOption","onEditCartProduct","product","productIndex","borderColor","Tabs","Tab","add","newService","uuidv4","Card","pb","serviceId","newServices","onDeleteService","CloseIcon","onChangeServiceDes","parseFloat","onChangeServicePrice","clientData","paymentData","_productDetail$catego","productCategory","_productDetail$catego2","_excluded9","disabled","newCart","endAdornment","InputAdornment","_onSubmit","_topSketchURL","_uploadData","_response","abrupt","t1","visibility","newVal","suffix","visible","_excluded10","_excluded11","fieldParams","_excluded12","selectParams","_excluded13","selectOption","selectOptionIndex","Create","Detail","Edit","useLocation","sellerId","client","deskTopProps","val","Redirect","quotations","setquotations","quotationIndex","setquotationIndex","getQuotations","quotationDate","toInvoice","handleToInvoiceClick","DriveFolderUploadIcon","deliveries","setDeliveries","setIDs","getDeliveries","SalesOrder","ChairStock","reamrk","deliveryPDF","poNum","DeskStock","deskTop","akNum","heworkNum","AccessoryStock","defaultHiddenColumns","shipments","setShipments","initShipments","setInitShipments","columnsToShow","setColumnsToShow","searchPONumber","setsearchPONumber","getShipments","shipment","searchedShipments","toString","des","orderQty","finishDate","location","supplier","invoice","desc","col","initialShipment","productQty","setProductQty","productDesc","setProductDesc","basicForm","chairProducts","deskProducts","accProducts","pid","getShipment","handleSubmit3","basicData","handleSubmit2","menuLists","StorefrontIcon","BookOnlineIcon","DeliveryDiningIcon","PeopleAltIcon","setMobileOpen","useRouteMatch","AppHeader","CollapsedSidebar","Switch","Route","User","SalesOrderView","SalesOrderCreate","SalesOrderEdit","QuotationView","QuotationCreate","QuotationEdit","ChairDelivery","DeskDelivery","PurchaseOrderView","PurchaseOrderCreate","PurchaseOrderEdit","ShipmentView","ShipmentCreate","ShipmentEdit","Component","rest","render","_useParams","deliveryId","setLink","signature","window","createTheme","components","MuiButton","variants","defaultProps","styleOverrides","MuiTextField","MuiSelect","MuiFormControl","baseURL","interceptors","request","use","config","status","App","setLoading","ThemeProvider","Provider","CssBaseline","Container","disableGutters","modal","BrowserRouter","Invoice","Receipt","Quotation","GuestRoute","SignIn","SignUp","AdminRoute","Admin","PrivateRoute","Standard","DeliveryPDF","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","React","StrictMode","getElementById"],"mappings":"oaAEaA,EAAOC,YAAY,CAC9BC,KAAM,OACNC,aAAc,CACZC,YAAY,EACZC,SAAS,EACTC,MAAO,MAETC,SAAU,CACRC,aAAc,SAACC,EAAOC,GACpBD,EAAML,YAAa,EACnBK,EAAMH,MAAQI,EAAOC,QAAQL,MAC7BG,EAAMJ,QAAUK,EAAOC,QAAQN,SAEjCO,UAAW,SAACH,GACVA,EAAML,YAAa,GAErBS,OAAQ,SAACJ,GACPA,EAAML,YAAa,EACnBK,EAAMJ,SAAU,EAChBI,EAAMH,MAAQ,SAMbQ,EAA4Cd,EAAKe,QAEzCf,GAFYc,EAAZN,aAAuBM,EAATF,UAAiBE,EAAND,OAEzBb,EAAY,SC3BdgB,EAAUf,YAAY,CACjCC,KAAM,UACNC,aAAc,CACZc,MAAO,GAETV,SAAU,CACRW,UAAW,SAACT,GAKVA,EAAMQ,OAAS,GAEjBE,UAAW,SAACV,GACVA,EAAMQ,OAAS,GAEjBG,kBAAmB,SAACX,EAAOC,GACzBD,EAAMQ,OAASP,EAAOC,YAMrBU,EAAoDL,EAAQD,QAEpDC,GAFSK,EAATH,UAAoBG,EAATF,UAA4BE,EAAjBD,kBAEtBJ,EAAe,SCzBjBA,EAAUf,YAAY,CACjCC,KAAM,UACNC,aAAc,CACZc,OAAO,GAETV,SAAU,CACRe,aAAc,SAACb,GACbA,EAAMQ,OAAQ,GAEhBM,WAAY,SAACd,GACXA,EAAMQ,OAAQ,MAMbI,EAAoDL,EAAQD,QAEpDC,GAFSK,EAATH,UAAoBG,EAATF,UAA4BE,EAAjBD,kBAEtBJ,EAAe,SCdxBQ,EAAUC,YAAgB,CAC9BzB,OACAgB,UACAU,YAGIC,EAAiBC,aAAaC,QAAQ,SACxCC,KAAKC,MAAMH,aAAaC,QAAQ,UAChC,GAEEG,EAAQC,YAAe,CAC3BT,UACAG,mBAGFK,EAAME,WAAU,WACdN,aAAaO,QAAQ,QAASL,KAAKM,UAAUJ,EAAMK,gBAGtCL,Q,iECzBA,MAA0B,yCCA1B,mnY,+ICsBTM,EAASC,aAAWC,OAAO,CAC/BC,KAAM,CACJC,WAAY,GACZC,cAAe,GACfC,kBAAmB,IAErBC,OAAQ,CACNC,MAAO,OACPC,SAAU,EACVC,WAAY,IACZC,aAAc,GACdC,cAAe,MACfC,WAAY,UAEdC,MAAO,CACLC,WAAY,kBACZN,SAAU,GACVE,aAAc,GACdK,cAAe,aAEjBC,KAAM,CACJC,WAAY,OACZV,MAAO,IAETW,KAAM,CACJP,cAAe,MACfD,aAAc,IAEhBS,YAAa,CACXL,WAAY,kBACZN,SAAU,EACVD,MAAO,IACPa,aAAc,GACdX,WAAY,KAEdY,WAAY,CACVP,WAAY,kBACZN,SAAU,EACVD,MAAO,IACPa,aAAc,GACdX,WAAY,KAEda,MAAO,CACLC,MAAO,UACPC,eAAgB,aAElBC,SAAU,CACRjB,SAAU,GACVkB,OAAQ,GACRC,WAAY,IACZb,WAAY,mBAEdc,KAAM,CACJF,OAAQ,GACRlB,SAAU,GACVqB,UAAW,UACXf,WAAY,eAEdgB,MAAO,CACLtB,SAAU,EACVE,aAAc,GACdqB,OAAQ,uBAEVC,SAAU,CACRxB,SAAU,EACVyB,aAAc,sBACdtB,cAAe,MACfuB,UAAW,GACXpB,WAAY,mBAEdqB,YAAa,CACXC,KAAM,EACNC,QAAS,UACTC,YAAa,yBAIjBC,OAAKC,SAAS,CACZC,OAAQ,kBACRC,IAAKC,IAGP,IAAMC,EAAa,CACjB,UACA,WACA,QACA,QACA,MACA,OACA,OACA,SACA,YACA,UACA,WACA,YAQaC,eALS,SAAC3E,GAEvB,MAAO,CAAEiB,QADOjB,EAAMiB,QAAQT,SAIjBmE,EAAyB,SAACC,GACvC,IAAQ3D,EAAY2D,EAAZ3D,QACR4D,EAA8BC,oBAAS,GAAMC,EAAAC,YAAAH,EAAA,GAAtCI,EAAOF,EAAA,GAAEG,EAAUH,EAAA,GAC1BI,EAA0BL,mBAAS,CACjCM,OAAQ,GACRC,YAAa,GACbC,WAAY,GACZC,gBAAiB,GACjBC,gBAAiB,GACjBC,aAAc,KACdC,EAAAV,YAAAG,EAAA,GAPKQ,EAAKD,EAAA,GAAEE,EAAQF,EAAA,GAQdG,EAAOC,cAAPD,GACRE,qBAAU,WACR,IAAMC,EAASC,IAAMC,YAAYF,SAEjC,OADAG,EAAS,CAAEN,KAAIO,YAAaJ,EAAOnG,QAC5B,kBAAMmG,EAAOK,OAAO,oCAC1B,CAACR,IAEJ,IAAMS,EAAgB,SAACC,GACrB,IAAMC,EAAM,IAAIC,KAAKF,GACrB,MAAM,GAANG,OACEhC,EAAW8B,EAAIG,YAAW,KAAAD,OACxBF,EAAII,UAAS,MAAAF,OAAKF,EAAIK,gBAGtBV,EAAW,SAAHW,GAA6B,IAAvBjB,EAAEiB,EAAFjB,GAAIO,EAAWU,EAAXV,YACtBH,IACGc,IAAI,UAADL,OAAWb,GAAM,CAAEO,gBACtBY,MAAK,SAACC,GAEL/B,GAAW,GACXgC,QAAQC,IAAIF,EAASG,MACrBxB,EAASqB,EAASG,SAEnBC,OAAM,SAAUC,GAEfpC,GAAW,OAIjB,OAAOjE,EACLsG,cAACC,IAAQ,CACPC,GAAI,CAAEpE,MAAO,OAAQqE,OAAQ,SAACC,GAAK,OAAKA,EAAMD,OAAOE,OAAS,IAC9DC,MAAM,EAAKC,SAEXP,cAACQ,IAAgB,CAAC1E,MAAM,cAExB4B,EACF+C,eAACC,WAAQ,CAAAH,SAAA,CACN,iEAAiEI,KAChEC,UAAUC,YAEVb,cAACc,kBAAe,CACdC,SACEf,cAACgB,WAAQ,CAAAT,SACPE,eAACQ,OAAI,CAACC,MAAO5G,EAAOG,KAAM0G,MAAI,EAAAZ,SAAA,CAC5BE,eAACW,OAAI,CAACF,MAAO5G,EAAOO,OAAO0F,SAAA,CACzBE,eAACW,OAAI,CAAAb,SAAA,CACHP,cAACqB,OAAI,CAACH,MAAO5G,EAAOc,MAAMmF,SAAC,YAC3BE,eAACY,OAAI,CAAAd,SAAA,CAAC,SAAOxB,EAAcX,EAAMkD,cACjCtB,cAACqB,OAAI,CAAAd,SAAA,SAAApB,OACOf,EAAMP,OAAO0D,QAAMpC,OAAG,IAAID,KAClCd,EAAMkD,WACNhC,cAAa,KAAAH,QAAK,MAAQf,EAAMoD,YAAYC,QAC3C,SAIPzB,cAACoB,OAAI,CAACF,MAAO5G,EAAOiB,KAAKgF,SACvBP,cAAC0B,QAAK,CAACzE,IAAK0E,SAGhBlB,eAACW,OAAI,CAACF,MAAO5G,EAAOmB,KAAK8E,SAAA,CACvBE,eAACW,OAAI,CAACF,MAAO5G,EAAOoB,YAAY6E,SAAA,CAC9BP,cAACqB,OAAI,CAAAd,SAAC,sCACNP,cAACqB,OAAI,CAAAd,SAAC,SACNP,cAACqB,OAAI,CAAAd,SAAC,oBACNP,cAACqB,OAAI,CAAAd,SAAC,uBACNP,cAACqB,OAAI,CAAAd,SAAC,uBACNP,cAACqB,OAAI,CAAAd,SAAC,mBACNE,eAACY,OAAI,CAAAd,SAAA,CAAC,SACG,IACPP,cAAC4B,QAAK,CAACV,MAAO5G,EAAOuB,MAAM0E,SAAC,gCAGhCE,eAACW,OAAI,CAACF,MAAO5G,EAAOsB,WAAW2E,SAAA,CAC7BE,eAACY,OAAI,CAAAd,SAAA,CAAC,kBAAgBnC,EAAMlG,QAC3BkG,EAAMyD,KAAOpB,eAACY,OAAI,CAAAd,SAAA,CAAC,QAAMnC,EAAMyD,QAAe,KAC9CzD,EAAM0D,MAAQrB,eAACY,OAAI,CAAAd,SAAA,CAAC,SAAOnC,EAAM0D,SAAgB,KACjD1D,EAAM2D,MAAQtB,eAACY,OAAI,CAAAd,SAAA,CAAC,SAAOnC,EAAM2D,SAAgB,KAClD/B,cAACqB,OAAI,CAAAd,SAAEnC,EAAM4D,SACbhC,cAACqB,OAAI,CAAAd,SAAEnC,EAAM6D,WACbxB,eAACY,OAAI,CAAAd,SAAA,CAAC,UAAQnC,EAAM8D,SACpBzB,eAACY,OAAI,CAAAd,SAAA,CAAC,UACGP,cAAC4B,QAAK,CAACV,MAAO5G,EAAOuB,MAAM0E,SAAEnC,EAAMvC,iBAIhDmE,cAACoB,OAAI,CAACF,MAAO5G,EAAO+B,MAAMkE,SACvB,CACC,CACE4B,MAAO,CACL,CAAEC,QAAS,cAAetH,MAAO,OACjC,CAAEsH,QAAS,0BAA2BtH,MAAO,OAC7C,CAAEsH,QAAS,gBAAiBtH,MAAO,OACnC,CACEsH,QAAS,WACThG,UAAW,QACXtB,MAAO,QAGXuH,gBAAiB,UACjB/G,cAAe,aAEjB,CACE6G,MAAO,CACL,CACEC,QAAQ,GAADjD,OAAKf,EAAMP,OAAOyE,UAAS,KAAAnD,OAAIf,EAAMP,OAAO0E,UACnDzH,MAAO,OAET,CACEsH,QACEhE,EAAMoE,SAAW,IAAM,EAAC,OAAArD,OACbf,EAAMoE,SAAW,EAAC,iBAAArD,OACvBf,EAAMoE,SAAW,IAAM,EAAI,GAAK,IAAG,yBAAArD,OAE9Bf,EAAMoE,SAAQ,gBAAArD,OACA,IAAnBf,EAAMoE,SAAiB,GAAK,IAAG,kBAEvC1H,MAAO,OAET,CAAEsH,QAAShE,EAAMqE,aAAc3H,MAAO,OACtC,CACEsH,QAAShE,EAAMsE,KAAO,OAAStE,EAAMuE,QACrCvG,UAAW,QACXtB,MAAO,UAIb8H,KAAI,SAAAC,EAA6BC,EAAUC,GAAM,IAA1CZ,EAAKU,EAALV,MAAUa,EAAYC,YAAAJ,EAAAK,GAAA,OAC7BlD,cAACoB,OAAI,CAEHF,MAAO,CACL5G,EAAOiC,SAAQ4G,YAAA,CAEb3G,aACEsG,IAAaC,EAAOK,OAAS,EAAI,OAAS,MACzCJ,IAELzC,SAED4B,EAAMS,KACL,SAAAS,EAEEC,EACAC,GAAO,IAFLnB,EAAOiB,EAAPjB,QAAStH,EAAKuI,EAALvI,MAAU0I,EAAaP,YAAAI,EAAAI,GAAA,OAIlCzD,cAACqB,OAAI,CAEHH,MAAO,CACL5G,EAAOoC,YAAWyG,YAAA,CAEhBtG,YACEyG,IAAUC,EAAQH,OAAS,EAAI,OAAS,KAC1CM,UAAW5I,EACX6I,SAAU7I,GACP0I,IAELjD,SAED6B,GAZIkB,OAjBNR,QAoCXrC,eAACW,OAAI,CAACF,MAAO5G,EAAO+B,MAAMkE,SAAA,CACvB,CACC,CACE4B,MAAO,CACL,CAAEC,QAAS,MAAOtH,MAAO,OACzB,CAAEsH,QAAS,cAAetH,MAAO,OACjC,CAAEsH,QAAS,aAActH,MAAO,OAChC,CACEsH,QAAS,mBACThG,UAAW,QACXtB,MAAO,QAGXuH,gBAAiB,UACjB/G,cAAe,cAChB6D,OAAAyE,YACExF,EAAMN,YAAY8E,KAAI,SAACiB,GAAI,MAAM,CAClC1B,MAAO,CACL,CACEC,QAAQ,GAADjD,OAAK0E,EAAKC,aAAaC,KAC9BjJ,MAAO,OAET,CACEsH,QAAQ,gBAADjD,OAAkB0E,EAAKG,MAAK,mBAAA7E,OACjC0E,EAAKI,MAAK,MAAA9E,OAEV0E,EAAKK,aACD,gBACA,mBAAkB,MAAA/E,OAEtB0E,EAAKM,cACD,0BACA,6BAA4B,cAAAhF,OACrB0E,EAAKC,aAAaM,OAAM,MAAAjF,OAAKrF,KAAKC,MAC7C8J,EAAKC,aAAaO,iBAEpBvJ,MAAO,OAET,CACEsH,QAAQ,GAADjD,OAAK0E,EAAKC,aAAaQ,WAC9BlI,UAAW,QACXtB,MAAO,OAET,CACEsH,QAAQ,GAADjD,OACL0E,EAAKC,aAAaQ,UAAYT,EAAKC,aAAaC,KAElD3H,UAAW,QACXtB,MAAO,aAGV8I,YACAxF,EAAMF,aAAa0E,KAAI,SAACiB,GAAI,MAAM,CACnC1B,MAAO,CACL,CACEC,QAAQ,GAADjD,OAAK0E,EAAKE,KACjBjJ,MAAO,OAET,CACEsH,QAAQ,eAADjD,OACLf,EAAML,WAAWwG,MACf,SAACC,GAAK,OAAKA,EAAMlG,KAAOuF,EAAKY,WAC7BR,MAAK,iDAAA9E,OAGLf,EAAML,WAAWwG,MACf,SAACC,GAAK,OAAKA,EAAMlG,KAAOuF,EAAKY,WAC7B3I,MAAK,2CAAAqD,OAGPf,EAAML,WAAWwG,MACf,SAACC,GAAK,OAAKA,EAAMlG,KAAOuF,EAAKY,WAC7BC,QAAO,4CAAAvF,OAGTf,EAAML,WAAWwG,MACf,SAACC,GAAK,OAAKA,EAAMlG,KAAOuF,EAAKY,WAC7BE,SAAQ,6CAAAxF,OAGVf,EAAML,WAAWwG,MACf,SAACC,GAAK,OAAKA,EAAMlG,KAAOuF,EAAKY,WAC7BG,SAAQ,kCAAAzF,OAGV0E,EAAKgB,WAAU,cAAA1F,OACG0E,EAAKiB,YAAW,wDAAA3F,OACZ0E,EAAKkB,UAAS,KAAA5F,OAAI0E,EAAKmB,SAAQ,KAAA7F,OAC/C0E,EAAKoB,aAAY,yDAAA9F,OAEA0E,EAAKqB,SAAQ,KAAA/F,OACH,IAA3B0E,EAAKsB,kBACD,GAAE,sBAAAhG,OACoB0E,EAAKsB,kBAAiB,eAAAhG,OAAc0E,EAAKuB,iBAAiB,KAAAjG,OAE9D,IAAtB0E,EAAKwB,aACD,GAAE,qBAAAlG,OACmB0E,EAAKwB,aAAY,qBAAAlG,OAAoB0E,EAAKyB,gBAAe,oBAAAnG,OAAmB0E,EAAK0B,aAAa,gDAAApG,OAE/G0E,EAAKO,QACf,kBAAiB,kCAAAjF,OAErBrF,KAAKC,MAAM8J,EAAKQ,iBACZvJ,MAAO,OAEjB,CACEsH,QAAQ,GAADjD,OAAK0E,EAAKS,WACjBlI,UAAW,QACXtB,MAAO,OAET,CACEsH,QAAQ,GAADjD,OAAK0E,EAAKS,UAAYT,EAAKE,KAClC3H,UAAW,QACXtB,MAAO,aAGV8I,YACAxF,EAAMJ,gBAAgB4E,KAAI,SAACiB,GAAI,MAAM,CACtC1B,MAAO,CACL,CACEC,QAAQ,GAADjD,OAAK0E,EAAK2B,iBAAiBzB,KAClCjJ,MAAO,OAET,CACEsH,QAAQ,GAADjD,OAAK0E,EAAK3L,KAAI,0BAAAiH,OACnB0E,EAAK4B,SAAQ,cAAAtG,OAEb0E,EAAK2B,iBAAiBpB,OAAM,MAAAjF,OACzBrF,KAAKC,MACR8J,EAAK2B,iBAAiBnB,iBAExBvJ,MAAO,OAET,CACEsH,QAAQ,GAADjD,OAAK0E,EAAK2B,iBAAiBlB,WAClClI,UAAW,QACXtB,MAAO,OAET,CACEsH,QAAQ,GAADjD,OACL0E,EAAK2B,iBAAiBlB,UACtBT,EAAK2B,iBAAiBzB,KAExB3H,UAAW,QACXtB,MAAO,aAGV8I,YACAxF,EAAMH,gBAAgB2E,KAAI,SAACiB,GAAI,MAAM,CACtC1B,MAAO,CACL,CACEC,QAAS,IACTtH,MAAO,OAET,CACEsH,QAAQ,GAADjD,OAAK0E,EAAK6B,aACjB5K,MAAO,OAET,CACEsH,QAAQ,GAADjD,OAAK0E,EAAK8B,OACjBvJ,UAAW,QACXtB,MAAO,OAET,CACEsH,QAAQ,GAADjD,OAAK0E,EAAK8B,OACjBvJ,UAAW,QACXtB,MAAO,aAGV8I,YACAgC,MACDC,KAAKC,IACH,EACA,EACE1H,EAAMN,YAAYsF,OAClBhF,EAAML,WAAWqF,OACjBhF,EAAMJ,gBAAgBoF,OACtBhF,EAAMH,gBAAgBmF,SAE1B2C,KAAK,CACL5D,MAAO,CACL,CAAEC,QAAS,GAAItH,MAAO,OACtB,CAAEsH,QAAS,GAAItH,MAAO,OACtB,CAAEsH,QAAS,GAAItH,MAAO,OACtB,CAAEsH,QAAS,GAAItH,MAAO,WAExB,CACF,CACEqH,MAAO,CACL,CACEC,QAAQ,GACRtH,MAAO,MACPC,SAAU,IAEZ,CAAEqH,QAAS,WAAYtH,MAAO,OAC9B,CACEsH,QAAQ,GAADjD,QACJf,EAAMN,YAAYsF,OACfhF,EAAMN,YAAY8E,KAChB,SAACiB,GAAI,OACHA,EAAKC,aAAaQ,UAClBT,EAAKC,aAAaC,OACpBiC,QAAO,SAACC,EAAKC,GAAG,OAAKD,EAAMC,KAC7B,IACH9H,EAAMF,aAAakF,OAChBhF,EAAMF,aAAa0E,KACjB,SAACiB,GAAI,OAAKA,EAAKS,UAAYT,EAAKE,OAChCiC,QAAO,SAACC,EAAKC,GAAG,OAAKD,EAAMC,KAC7B,IACH9H,EAAMJ,gBAAgBoF,OACnBhF,EAAMJ,gBAAgB4E,KACpB,SAACiB,GAAI,OACHA,EAAK2B,iBAAiBlB,UACtBT,EAAK2B,iBAAiBzB,OACxBiC,QAAO,SAACC,EAAKC,GAAG,OAAKD,EAAMC,KAC7B,IACH9H,EAAMH,gBAAgBmF,OACnBhF,EAAMH,gBAAgB2E,KACpB,SAACiB,GAAI,OAAKA,EAAK8B,SACfK,QAAO,SAACC,EAAKC,GAAG,OAAKD,EAAMC,KAC7B,IAEN9J,UAAW,QACXtB,MAAO,MACP0B,aAAc,wBAGlBA,aAAc,QAEhB,CACE2F,MAAO,CACL,CACEC,QAAQ,GACRtH,MAAO,MACPC,SAAU,IAEZ,CAAEqH,QAAS,WAAYtH,MAAO,OAC9B,CACEsH,QAAQ,GAADjD,OACLf,EAAM+H,aACF/H,EAAMgI,WACHhI,EAAMN,YAAYsF,OACjBhF,EAAMN,YAAY8E,KAChB,SAACiB,GAAI,OACHA,EAAKC,aAAaQ,UAClBT,EAAKC,aAAaC,OACpBiC,QAAO,SAACC,EAAKC,GAAG,OAAKD,EAAMC,KAC7B,IACD9H,EAAML,WAAWqF,OACdhF,EAAML,WAAW6E,KACf,SAACiB,GAAI,OACHA,EAAKwC,YAAY/B,UACjBT,EAAKwC,YAAYtC,OACnBiC,QAAO,SAACC,EAAKC,GAAG,OAAKD,EAAMC,KAC7B,IACH9H,EAAMJ,gBAAgBoF,OACnBhF,EAAMJ,gBAAgB4E,KACpB,SAACiB,GAAI,OACHA,EAAK2B,iBAAiBlB,UACtBT,EAAK2B,iBAAiBzB,OACxBiC,QAAO,SAACC,EAAKC,GAAG,OAAKD,EAAMC,KAC7B,IACJ9H,EAAMgI,SACR,KAENhK,UAAW,QACXtB,MAAO,MACP0B,aAAc,wBAGlBA,aAAc,QAEhB,CACE2F,MAAO,CACL,CACEC,QAAQ,GACRtH,MAAO,MACPC,SAAU,IAEZ,CAAEqH,QAAS,YAAatH,MAAO,OAC/B,CACEsH,QAAQ,GAADjD,OACLf,EAAMkI,cACFlI,EAAMmI,YACHnI,EAAMN,YAAYsF,OACjBhF,EAAMN,YAAY8E,KAChB,SAACiB,GAAI,OACHA,EAAKC,aAAaQ,UAClBT,EAAKC,aAAaC,OACpBiC,QAAO,SAACC,EAAKC,GAAG,OAAKD,EAAMC,KAC7B,IACD9H,EAAML,WAAWqF,OACdhF,EAAML,WAAW6E,KACf,SAACiB,GAAI,OACHA,EAAKwC,YAAY/B,UACjBT,EAAKwC,YAAYtC,OACnBiC,QAAO,SAACC,EAAKC,GAAG,OAAKD,EAAMC,KAC7B,IACH9H,EAAMJ,gBAAgBoF,OACnBhF,EAAMJ,gBAAgB4E,KACpB,SAACiB,GAAI,OACHA,EAAK2B,iBAAiBlB,UACtBT,EAAK2B,iBAAiBzB,OACxBiC,QAAO,SAACC,EAAKC,GAAG,OAAKD,EAAMC,KAC7B,IACJ9H,EAAMmI,UACR,KAENnK,UAAW,QACXtB,MAAO,MACP0B,aAAc,wBAGlBA,aAAc,QAEhB,CACE2F,MAAO,CACL,CACEC,QAAQ,GACRtH,MAAO,MACPC,SAAU,IAEZ,CAAEqH,QAAS,QAAStH,MAAO,OAC3B,CACEsH,QAAQ,GAADjD,QACJf,EAAMN,YAAYsF,OACfhF,EAAMN,YAAY8E,KAChB,SAACiB,GAAI,OACHA,EAAKC,aAAaQ,UAClBT,EAAKC,aAAaC,OACpBiC,QAAO,SAACC,EAAKC,GAAG,OAAKD,EAAMC,KAC7B,IACH9H,EAAMF,aAAakF,OAChBhF,EAAMF,aAAa0E,KACjB,SAACiB,GAAI,OAAKA,EAAKS,UAAYT,EAAKE,OAChCiC,QAAO,SAACC,EAAKC,GAAG,OAAKD,EAAMC,KAC7B,IACH9H,EAAMJ,gBAAgBoF,OACnBhF,EAAMJ,gBAAgB4E,KACpB,SAACiB,GAAI,OACHA,EAAK2B,iBAAiBlB,UACtBT,EAAK2B,iBAAiBzB,OACxBiC,QAAO,SAACC,EAAKC,GAAG,OAAKD,EAAMC,KAC7B,IACH9H,EAAMH,gBAAgBmF,OACnBhF,EAAMH,gBAAgB2E,KACpB,SAACiB,GAAI,OAAKA,EAAK8B,SACfK,QAAO,SAACC,EAAKC,GAAG,OAAKD,EAAMC,KAC7B,IACH9H,EAAM+H,aACH/H,EAAMgI,WACHhI,EAAMN,YAAYsF,OACjBhF,EAAMN,YAAY8E,KAChB,SAACiB,GAAI,OACHA,EAAKC,aAAaQ,UAClBT,EAAKC,aAAaC,OACpBiC,QAAO,SAACC,EAAKC,GAAG,OAAKD,EAAMC,KAC7B,IACD9H,EAAML,WAAWqF,OACdhF,EAAML,WAAW6E,KACf,SAACiB,GAAI,OACHA,EAAKwC,YAAY/B,UACjBT,EAAKwC,YAAYtC,OACnBiC,QAAO,SAACC,EAAKC,GAAG,OAAKD,EAAMC,KAC7B,IACH9H,EAAMJ,gBAAgBoF,OACnBhF,EAAMJ,gBAAgB4E,KACpB,SAACiB,GAAI,OACHA,EAAK2B,iBAAiBlB,UACtBT,EAAK2B,iBAAiBzB,OACxBiC,QAAO,SAACC,EAAKC,GAAG,OAAKD,EAAMC,KAC7B,IACJ9H,EAAMgI,SACR,MACHhI,EAAMkI,cACHlI,EAAMmI,YACHnI,EAAMN,YAAYsF,OACjBhF,EAAMN,YAAY8E,KAChB,SAACiB,GAAI,OACHA,EAAKC,aAAaQ,UAClBT,EAAKC,aAAaC,OACpBiC,QAAO,SAACC,EAAKC,GAAG,OAAKD,EAAMC,KAC7B,IACD9H,EAAML,WAAWqF,OACdhF,EAAML,WAAW6E,KACf,SAACiB,GAAI,OACHA,EAAKwC,YAAY/B,UACjBT,EAAKwC,YAAYtC,OACnBiC,QAAO,SAACC,EAAKC,GAAG,OAAKD,EAAMC,KAC7B,IACH9H,EAAMJ,gBAAgBoF,OACnBhF,EAAMJ,gBAAgB4E,KACpB,SAACiB,GAAI,OACHA,EAAK2B,iBAAiBlB,UACtBT,EAAK2B,iBAAiBzB,OACxBiC,QAAO,SAACC,EAAKC,GAAG,OAAKD,EAAMC,KAC7B,IACJ9H,EAAMmI,UACR,MAENnK,UAAW,QACXtB,MAAO,WAIb8H,KAAI,SAAA4D,EAA6B1D,EAAUC,GAAM,IAA1CZ,EAAKqE,EAALrE,MAAUa,EAAYC,YAAAuD,EAAAC,GAAA,OAC7BzG,cAACoB,OAAI,CAEHF,MAAO,CACL5G,EAAOiC,SAAQ4G,YAAA,CAEb3G,aACEsG,IAAaC,EAAOK,OAAS,EAAI,OAAS,MACzCJ,IAELzC,SAED4B,EAAMS,KACL,SAAA8D,EAEEpD,EACAC,GAAO,IAFLnB,EAAOsE,EAAPtE,QAAStH,EAAK4L,EAAL5L,MAAU0I,EAAaP,YAAAyD,EAAAC,GAAA,OAIlC3G,cAACqB,OAAI,CAEHH,MAAO,CACL5G,EAAOoC,YAAWyG,YAAA,CAEhBtG,YACEyG,IAAUC,EAAQH,OAAS,EAAI,OAAS,KAC1CM,UAAW5I,EACX6I,SAAU7I,GACP0I,IAELjD,SAED6B,GAZIkB,OAjBNR,MAmCT9C,cAACqB,OAAI,CAAAd,SAAC,sCAGNP,cAACqB,OAAI,CACHH,MAAO,CACLnG,SAAU,GACV6B,QAAS,EACTgK,SAAU,WACV9L,MAAO,MACP+L,OAAQ,EACRC,KAAM,GACNvG,SACH,2KAMF,CAAC,wKAAD,2/BAOCqC,KAAI,SAACzG,EAAMmH,GAAK,OAChB7C,eAACW,OAAI,CAEHF,MAAO,CAAEhG,cAAe,MAAOe,OAAQ,SAAUsE,SAAA,CAEjDP,cAACoB,OAAI,CACHF,MAAO,CACLpG,MAAO,EACPC,SAAU,GACVC,WAAY,IACZiB,OAAQ,aACRH,MAAO,WACPyE,SAEFP,cAACqB,OAAI,CAAAd,SAAC,aAERP,cAACoB,OAAI,CACHF,MAAO,CACL6F,SAAU,EACVhM,SAAU,GACVC,WAAY,IACZc,MAAO,WACPyE,SAEFP,cAACqB,OAAI,CAAAd,SAAEpE,QAtBJmH,MA0BTtD,cAACqB,OAAI,CACHH,MAAO,CACL8F,UAAW,MACXjM,SAAU,GACVC,WAAY,IACZc,MAAO,WACPyE,SACH,iQAOA,CAAC,4FAAD,2xBAWC,sFAEAqC,KAAI,SAACzG,EAAMmH,GAAK,OAChB7C,eAACW,OAAI,CAEHF,MAAO,CAAEhG,cAAe,MAAOM,WAAY,QAAS+E,SAAA,CAEpDP,cAACoB,OAAI,CACHF,MAAO,CACLpG,MAAO,EACPC,SAAU,GACVC,WAAY,IACZiB,OAAQ,aACRH,MAAO,WACPyE,SAEFP,cAACqB,OAAI,CAAAd,SAAC,aAERP,cAACoB,OAAI,CACHF,MAAO,CACL6F,SAAU,EACVhM,SAAU,GACVC,WAAY,IACZc,MAAO,WACPyE,SAEFP,cAACqB,OAAI,CAAAd,SAAEpE,QAtBJmH,MA0BTtD,cAACqB,OAAI,CACHH,MAAO,CACLnG,SAAU,GACVC,WAAY,IACZgM,UAAW,GACXlL,MAAO,WACPyE,SACH,2hBAWDP,cAACqB,OAAI,CACHH,MAAO,CACLnG,SAAU,GACVC,WAAY,IACZgM,UAAW,GACXlL,MAAO,WACPyE,SACH,6KAKDP,cAACqB,OAAI,CACHH,MAAO,CACLnG,SAAU,GACVC,WAAY,IACZgM,UAAW,GACXlL,MAAO,WACPyE,SACH,gCAGDP,cAACqB,OAAI,CACHH,MAAO,CACLnG,SAAU,GACVC,WAAY,IACZgM,UAAW,GACX9K,WAAY,OACZE,UAAW,UACXmE,SACH,sCAMP0G,SAAS,eAAc1G,SAEtB,SAAA2G,GAAQA,EAALC,MAAWD,EAAJE,KAAV,IAAgB1N,EAAOwN,EAAPxN,QAAewN,EAANG,OAAM,OAC9B3N,EAAU,sBAAwB,mBAIxCsG,cAACsH,YAAS,CAACC,OAAO,OAAMhH,SACtBP,cAACgB,WAAQ,CAAAT,SACPE,eAACQ,OAAI,CAACC,MAAO5G,EAAOG,KAAM0G,MAAI,EAAAZ,SAAA,CAC5BE,eAACW,OAAI,CAACF,MAAO5G,EAAOO,OAAO0F,SAAA,CACzBE,eAACW,OAAI,CAAAb,SAAA,CACHP,cAACqB,OAAI,CAACH,MAAO5G,EAAOc,MAAMmF,SAAC,YAC3BE,eAACY,OAAI,CAAAd,SAAA,CAAC,SAAOxB,EAAcX,EAAMkD,cACjCtB,cAACqB,OAAI,CAAAd,SAAA,SAAApB,OACOf,EAAMP,OAAO0D,QAAMpC,OAAG,IAAID,KAClCd,EAAMkD,WACNhC,cAAa,KAAAH,QAAK,MAAQf,EAAMoD,YAAYC,QAAQ,SAG1DzB,cAACoB,OAAI,CAACF,MAAO5G,EAAOiB,KAAKgF,SACvBP,cAAC0B,QAAK,CAACzE,IAAK0E,SAGhBlB,eAACW,OAAI,CAACF,MAAO5G,EAAOmB,KAAK8E,SAAA,CACvBE,eAACW,OAAI,CAACF,MAAO5G,EAAOoB,YAAY6E,SAAA,CAC9BP,cAACqB,OAAI,CAAAd,SAAC,sCACNP,cAACqB,OAAI,CAAAd,SAAC,SACNP,cAACqB,OAAI,CAAAd,SAAC,oBACNP,cAACqB,OAAI,CAAAd,SAAC,wBACNP,cAACqB,OAAI,CAAAd,SAAC,uBACNP,cAACqB,OAAI,CAAAd,SAAC,mBACNE,eAACY,OAAI,CAAAd,SAAA,CAAC,SACG,IACPP,cAAC4B,QAAK,CAACV,MAAO5G,EAAOuB,MAAM0E,SAAC,gCAGhCE,eAACW,OAAI,CAACF,MAAO5G,EAAOsB,WAAW2E,SAAA,CAC7BE,eAACY,OAAI,CAAAd,SAAA,CAAC,kBAAgBnC,EAAMlG,QAC3BkG,EAAMyD,KAAOpB,eAACY,OAAI,CAAAd,SAAA,CAAC,QAAMnC,EAAMyD,QAAe,KAC9CzD,EAAM0D,MAAQrB,eAACY,OAAI,CAAAd,SAAA,CAAC,SAAOnC,EAAM0D,SAAgB,KACjD1D,EAAM2D,MAAQtB,eAACY,OAAI,CAAAd,SAAA,CAAC,SAAOnC,EAAM2D,SAAgB,KAClD/B,cAACqB,OAAI,CAAAd,SAAEnC,EAAM4D,SACbhC,cAACqB,OAAI,CAAAd,SAAEnC,EAAM6D,WACbxB,eAACY,OAAI,CAAAd,SAAA,CAAC,UAAQnC,EAAM8D,SACpBzB,eAACY,OAAI,CAAAd,SAAA,CAAC,UACGP,cAAC4B,QAAK,CAACV,MAAO5G,EAAOuB,MAAM0E,SAAEnC,EAAMvC,iBAIhDmE,cAACoB,OAAI,CAACF,MAAO5G,EAAO+B,MAAMkE,SACvB,CACC,CACE4B,MAAO,CACL,CAAEC,QAAS,cAAetH,MAAO,OACjC,CAAEsH,QAAS,0BAA2BtH,MAAO,OAC7C,CAAEsH,QAAS,gBAAiBtH,MAAO,OACnC,CAAEsH,QAAS,WAAYhG,UAAW,QAAStB,MAAO,QAEpDuH,gBAAiB,UACjB/G,cAAe,aAEjB,CACE6G,MAAO,CACL,CACEC,QAAQ,GAADjD,OAAKf,EAAMP,OAAOyE,UAAS,KAAAnD,OAAIf,EAAMP,OAAO0E,UACnDzH,MAAO,OAET,CACEsH,SACGhE,EAAMoE,SAAW,IAAM,EAAC,OAAArD,OACdf,EAAMoE,SAAW,EAAC,iBAAArD,OACvBf,EAAMoE,SAAW,IAAM,EAAI,GAAK,IAAG,yBAAArD,OAE9Bf,EAAMoE,SAAQ,gBAAArD,OACA,IAAnBf,EAAMoE,SAAiB,GAAK,IAAG,mBACb,KAAI,GAAArD,OAAMf,EAAMgG,QAC1CtJ,MAAO,OAET,CAAEsH,QAAShE,EAAMqE,aAAc3H,MAAO,OACtC,CACEsH,QAAShE,EAAMsE,KAAO,OAAStE,EAAMuE,QACrCvG,UAAW,QACXtB,MAAO,UAIb8H,KAAI,SAAA4E,EAA6B1E,EAAUC,GAAM,IAA1CZ,EAAKqF,EAALrF,MAAUa,EAAYC,YAAAuE,EAAAC,GAAA,OAC7BzH,cAACoB,OAAI,CAEHF,MAAO,CACL5G,EAAOiC,SAAQ4G,YAAA,CAEb3G,aACEsG,IAAaC,EAAOK,OAAS,EAAI,OAAS,MACzCJ,IAELzC,SAED4B,EAAMS,KACL,SAAA8E,EAAuCpE,EAAOC,GAAO,IAAlDnB,EAAOsF,EAAPtF,QAAStH,EAAK4M,EAAL5M,MAAU0I,EAAaP,YAAAyE,EAAAC,GAAA,OACjC3H,cAACqB,OAAI,CAEHH,MAAO,CACL5G,EAAOoC,YAAWyG,YAAA,CAEhBtG,YACEyG,IAAUC,EAAQH,OAAS,EAAI,OAAS,KAC1CM,UAAW5I,EACX6I,SAAU7I,GACP0I,IAELjD,SAED6B,GAZIkB,OAbNR,QAgCXrC,eAACW,OAAI,CAACF,MAAO5G,EAAO+B,MAAMkE,SAAA,CACvB,CACC,CACE4B,MAAO,CACL,CAAEC,QAAS,MAAOtH,MAAO,OACzB,CAAEsH,QAAS,cAAetH,MAAO,OACjC,CAAEsH,QAAS,aAActH,MAAO,OAChC,CACEsH,QAAS,mBACThG,UAAW,QACXtB,MAAO,QAGXuH,gBAAiB,UACjB/G,cAAe,cAChB6D,OAAAyE,YACExF,EAAMN,YAAY8E,KAAI,SAACiB,GAAI,MAAM,CAClC1B,MAAO,CACL,CACEC,QAAQ,GAADjD,OAAK0E,EAAKC,aAAaC,KAC9BjJ,MAAO,OAET,CACEsH,QAAQ,gBAADjD,OAAkB0E,EAAKG,MAAK,2CAAA7E,OAClB0E,EAAKI,MAAK,8BAAA9E,OACvB0E,EAAKK,aAAe,gBAAkB,mBAAkB,8BAAA/E,OACxD0E,EAAKM,cAAgB,0BAA4B,6BAA4B,6CAAAhF,OAC9D0E,EAAKC,aAAaM,OAAM,4CAAAjF,OACzB0E,EAAKO,OAAM,8BAAAjF,OACzBrF,KAAKC,MAAM8J,EAAKC,aAAaO,gBAAe,8BAEhDvJ,MAAO,OAET,CACEsH,QAAQ,GAADjD,OAAK0E,EAAKC,aAAaQ,WAC9BlI,UAAW,QACXtB,MAAO,OAET,CACEsH,QAAQ,GAADjD,OACL0E,EAAKC,aAAaQ,UAAYT,EAAKC,aAAaC,KAElD3H,UAAW,QACXtB,MAAO,aAGV8I,YACAxF,EAAMF,aAAa0E,KAAI,SAACiB,GAAI,MAAM,CACnC1B,MAAO,CACL,CACEC,QAAQ,GAADjD,OAAK0E,EAAKE,KACjBjJ,MAAO,OAET,CACEsH,QAAQ,eAADjD,OACDf,EAAML,WAAWwG,MACf,SAACC,GAAK,OAAKA,EAAMlG,KAAOuF,EAAKY,WAC7BR,MAAK,6CAAA9E,OAGTf,EAAML,WAAWwG,MACf,SAACC,GAAK,OAAKA,EAAMlG,KAAOuF,EAAKY,WAC7B3I,MAAK,uCAAAqD,OAGPf,EAAML,WAAWwG,MACf,SAACC,GAAK,OAAKA,EAAMlG,KAAOuF,EAAKY,WAC7BC,QAAO,wCAAAvF,OAGTf,EAAML,WAAWwG,MACf,SAACC,GAAK,OAAKA,EAAMlG,KAAOuF,EAAKY,WAC7BE,SAAQ,yCAAAxF,OAGVf,EAAML,WAAWwG,MACf,SAACC,GAAK,OAAKA,EAAMlG,KAAOuF,EAAKY,WAC7BG,SAAQ,8BAAAzF,OAGV0E,EAAKgB,WAAU,cAAA1F,OACG0E,EAAKiB,YAAW,oDAAA3F,OACZ0E,EAAKkB,UAAS,KAAA5F,OAAI0E,EAAKmB,SAAQ,KAAA7F,OAC/C0E,EAAKoB,aAAY,qDAAA9F,OAEA0E,EAAKqB,SAAQ,KAAA/F,OACH,IAA3B0E,EAAKsB,kBACD,GAAE,sBAAAhG,OACoB0E,EAAKsB,kBAAiB,eAAAhG,OAAc0E,EAAKuB,iBAAiB,KAAAjG,OAE9D,IAAtB0E,EAAKwB,aACD,GAAE,qBAAAlG,OACmB0E,EAAKwB,aAAY,qBAAAlG,OAAoB0E,EAAKyB,gBAAe,oBAAAnG,OAAmB0E,EAAK0B,aAAa,mDAAApG,OAExG0E,EAAKO,OAAM,kDAAAjF,OACZf,EAAML,WAAWwG,MAC/B,SAACC,GAAK,OAAKA,EAAMlG,KAAOuF,EAAKY,WAC7BL,QACF,kBAAiB,0BAAAjF,OAEzBrF,KAAKC,MAAM8J,EAAKQ,iBAChBvJ,MAAO,OAET,CACEsH,QAAQ,GAADjD,OAAK0E,EAAKS,WACjBlI,UAAW,QACXtB,MAAO,OAET,CACEsH,QAAQ,GAADjD,OAAK0E,EAAKS,UAAYT,EAAKE,KAClC3H,UAAW,QACXtB,MAAO,aAGV8I,YACAxF,EAAMJ,gBAAgB4E,KAAI,SAACiB,GAAI,MAAM,CACtC1B,MAAO,CACL,CACEC,QAAQ,GAADjD,OAAK0E,EAAK2B,iBAAiBzB,KAClCjJ,MAAO,OAET,CACEsH,QAAQ,GAADjD,OAAK0E,EAAK3L,KAAI,0BAAAiH,OACnB0E,EAAK4B,SAAQ,2CAAAtG,OAEE0E,EAAK2B,iBAAiBpB,OAAM,0CAAAjF,OAC7B0E,EAAKO,OAAM,4BAAAjF,OACzBrF,KAAKC,MACL8J,EAAK2B,iBAAiBnB,iBAExBvJ,MAAO,OAET,CACEsH,QAAQ,GAADjD,OAAK0E,EAAK2B,iBAAiBlB,WAClClI,UAAW,QACXtB,MAAO,OAET,CACEsH,QAAQ,GAADjD,OACL0E,EAAK2B,iBAAiBlB,UACtBT,EAAK2B,iBAAiBzB,KAExB3H,UAAW,QACXtB,MAAO,aAGV8I,YACAxF,EAAMH,gBAAgB2E,KAAI,SAACiB,GAAI,MAAM,CACtC1B,MAAO,CACL,CACEC,QAAS,IACTtH,MAAO,OAET,CACEsH,QAAQ,GAADjD,OAAK0E,EAAK6B,aACjB5K,MAAO,OAET,CACEsH,QAAQ,GAADjD,OAAK0E,EAAK8B,OACjBvJ,UAAW,QACXtB,MAAO,OAET,CACEsH,QAAQ,GAADjD,OAAK0E,EAAK8B,OACjBvJ,UAAW,QACXtB,MAAO,aAGV8I,YACAgC,MACDC,KAAKC,IACH,EACA,EACE1H,EAAMN,YAAYsF,OAClBhF,EAAML,WAAWqF,OACjBhF,EAAMJ,gBAAgBoF,OACtBhF,EAAMH,gBAAgBmF,SAE1B2C,KAAK,CACL5D,MAAO,CACL,CAAEC,QAAS,GAAItH,MAAO,OACtB,CAAEsH,QAAS,GAAItH,MAAO,OACtB,CAAEsH,QAAS,GAAItH,MAAO,OACtB,CAAEsH,QAAS,GAAItH,MAAO,WAExB,CACF,CACEqH,MAAO,CACL,CACEC,QAAQ,GACRtH,MAAO,MACPC,SAAU,IAEZ,CAAEqH,QAAS,WAAYtH,MAAO,OAC9B,CACEsH,QAAQ,GAADjD,QACJf,EAAMN,YAAYsF,OACfhF,EAAMN,YAAY8E,KAChB,SAACiB,GAAI,OACHA,EAAKC,aAAaQ,UAClBT,EAAKC,aAAaC,OACpBiC,QAAO,SAACC,EAAKC,GAAG,OAAKD,EAAMC,KAC7B,IACH9H,EAAMF,aAAakF,OAChBhF,EAAMF,aAAa0E,KACjB,SAACiB,GAAI,OAAKA,EAAKS,UAAYT,EAAKE,OAChCiC,QAAO,SAACC,EAAKC,GAAG,OAAKD,EAAMC,KAC7B,IACH9H,EAAMJ,gBAAgBoF,OACnBhF,EAAMJ,gBAAgB4E,KACpB,SAACiB,GAAI,OACHA,EAAK2B,iBAAiBlB,UACtBT,EAAK2B,iBAAiBzB,OACxBiC,QAAO,SAACC,EAAKC,GAAG,OAAKD,EAAMC,KAC7B,IACH9H,EAAMH,gBAAgBmF,OACnBhF,EAAMH,gBAAgB2E,KACpB,SAACiB,GAAI,OAAKA,EAAK8B,SACfK,QAAO,SAACC,EAAKC,GAAG,OAAKD,EAAMC,KAC7B,IAEN9J,UAAW,QACXtB,MAAO,MACP0B,aAAc,wBAGlBA,aAAc,QAEhB,CACE2F,MAAO,CACL,CACEC,QAAQ,GACRtH,MAAO,MACPC,SAAU,IAEZ,CAAEqH,QAAS,WAAYtH,MAAO,OAC9B,CACEsH,QAAQ,GAADjD,OACLf,EAAM+H,aACF/H,EAAMgI,WACHhI,EAAMN,YAAYsF,OACjBhF,EAAMN,YAAY8E,KAChB,SAACiB,GAAI,OACHA,EAAKC,aAAaQ,UAClBT,EAAKC,aAAaC,OACpBiC,QAAO,SAACC,EAAKC,GAAG,OAAKD,EAAMC,KAC7B,IACD9H,EAAML,WAAWqF,OACdhF,EAAML,WAAW6E,KACf,SAACiB,GAAI,OACHA,EAAKwC,YAAY/B,UACjBT,EAAKwC,YAAYtC,OACnBiC,QAAO,SAACC,EAAKC,GAAG,OAAKD,EAAMC,KAC7B,IACH9H,EAAMJ,gBAAgBoF,OACnBhF,EAAMJ,gBAAgB4E,KACpB,SAACiB,GAAI,OACHA,EAAK2B,iBAAiBlB,UACtBT,EAAK2B,iBAAiBzB,OACxBiC,QAAO,SAACC,EAAKC,GAAG,OAAKD,EAAMC,KAC7B,IACJ9H,EAAMgI,SACR,KAENhK,UAAW,QACXtB,MAAO,MACP0B,aAAc,wBAGlBA,aAAc,QAEhB,CACE2F,MAAO,CACL,CACEC,QAAQ,GACRtH,MAAO,MACPC,SAAU,IAEZ,CAAEqH,QAAS,YAAatH,MAAO,OAC/B,CACEsH,QAAQ,GAADjD,OACLf,EAAMkI,cACFlI,EAAMmI,YACHnI,EAAMN,YAAYsF,OACjBhF,EAAMN,YAAY8E,KAChB,SAACiB,GAAI,OACHA,EAAKC,aAAaQ,UAClBT,EAAKC,aAAaC,OACpBiC,QAAO,SAACC,EAAKC,GAAG,OAAKD,EAAMC,KAC7B,IACD9H,EAAML,WAAWqF,OACdhF,EAAML,WAAW6E,KACf,SAACiB,GAAI,OACHA,EAAKwC,YAAY/B,UACjBT,EAAKwC,YAAYtC,OACnBiC,QAAO,SAACC,EAAKC,GAAG,OAAKD,EAAMC,KAC7B,IACH9H,EAAMJ,gBAAgBoF,OACnBhF,EAAMJ,gBAAgB4E,KACpB,SAACiB,GAAI,OACHA,EAAK2B,iBAAiBlB,UACtBT,EAAK2B,iBAAiBzB,OACxBiC,QAAO,SAACC,EAAKC,GAAG,OAAKD,EAAMC,KAC7B,IACJ9H,EAAMmI,UACR,KAENnK,UAAW,QACXtB,MAAO,MACP0B,aAAc,wBAGlBA,aAAc,QAEhB,CACE2F,MAAO,CACL,CACEC,QAAQ,GACRtH,MAAO,MACPC,SAAU,IAEZ,CAAEqH,QAAS,QAAStH,MAAO,OAC3B,CACEsH,QAAQ,GAADjD,QACJf,EAAMN,YAAYsF,OACfhF,EAAMN,YAAY8E,KAChB,SAACiB,GAAI,OACHA,EAAKC,aAAaQ,UAClBT,EAAKC,aAAaC,OACpBiC,QAAO,SAACC,EAAKC,GAAG,OAAKD,EAAMC,KAC7B,IACH9H,EAAMF,aAAakF,OAChBhF,EAAMF,aAAa0E,KACjB,SAACiB,GAAI,OAAKA,EAAKS,UAAYT,EAAKE,OAChCiC,QAAO,SAACC,EAAKC,GAAG,OAAKD,EAAMC,KAC7B,IACH9H,EAAMJ,gBAAgBoF,OACnBhF,EAAMJ,gBAAgB4E,KACpB,SAACiB,GAAI,OACHA,EAAK2B,iBAAiBlB,UACtBT,EAAK2B,iBAAiBzB,OACxBiC,QAAO,SAACC,EAAKC,GAAG,OAAKD,EAAMC,KAC7B,IACH9H,EAAMH,gBAAgBmF,OACnBhF,EAAMH,gBAAgB2E,KACpB,SAACiB,GAAI,OAAKA,EAAK8B,SACfK,QAAO,SAACC,EAAKC,GAAG,OAAKD,EAAMC,KAC7B,IACH9H,EAAM+H,aACH/H,EAAMgI,WACHhI,EAAMN,YAAYsF,OACjBhF,EAAMN,YAAY8E,KAChB,SAACiB,GAAI,OACHA,EAAKC,aAAaQ,UAClBT,EAAKC,aAAaC,OACpBiC,QAAO,SAACC,EAAKC,GAAG,OAAKD,EAAMC,KAC7B,IACD9H,EAAML,WAAWqF,OACdhF,EAAML,WAAW6E,KACf,SAACiB,GAAI,OACHA,EAAKwC,YAAY/B,UACjBT,EAAKwC,YAAYtC,OACnBiC,QAAO,SAACC,EAAKC,GAAG,OAAKD,EAAMC,KAC7B,IACH9H,EAAMJ,gBAAgBoF,OACnBhF,EAAMJ,gBAAgB4E,KACpB,SAACiB,GAAI,OACHA,EAAK2B,iBAAiBlB,UACtBT,EAAK2B,iBAAiBzB,OACxBiC,QAAO,SAACC,EAAKC,GAAG,OAAKD,EAAMC,KAC7B,IACJ9H,EAAMgI,SACR,MACHhI,EAAMkI,cACHlI,EAAMmI,YACHnI,EAAMN,YAAYsF,OACjBhF,EAAMN,YAAY8E,KAChB,SAACiB,GAAI,OACHA,EAAKC,aAAaQ,UAClBT,EAAKC,aAAaC,OACpBiC,QAAO,SAACC,EAAKC,GAAG,OAAKD,EAAMC,KAC7B,IACD9H,EAAML,WAAWqF,OACdhF,EAAML,WAAW6E,KACf,SAACiB,GAAI,OACHA,EAAKwC,YAAY/B,UACjBT,EAAKwC,YAAYtC,OACnBiC,QAAO,SAACC,EAAKC,GAAG,OAAKD,EAAMC,KAC7B,IACH9H,EAAMJ,gBAAgBoF,OACnBhF,EAAMJ,gBAAgB4E,KACpB,SAACiB,GAAI,OACHA,EAAK2B,iBAAiBlB,UACtBT,EAAK2B,iBAAiBzB,OACxBiC,QAAO,SAACC,EAAKC,GAAG,OAAKD,EAAMC,KAC7B,IACJ9H,EAAMmI,UACR,MAENnK,UAAW,QACXtB,MAAO,WAIb8H,KAAI,SAAAgF,EAA6B9E,EAAUC,GAAM,IAA1CZ,EAAKyF,EAALzF,MAAUa,EAAYC,YAAA2E,EAAAC,GAAA,OAC7B7H,cAACoB,OAAI,CAEHF,MAAO,CACL5G,EAAOiC,SAAQ4G,YAAA,CAEb3G,aACEsG,IAAaC,EAAOK,OAAS,EAAI,OAAS,MACzCJ,IAELzC,SAED4B,EAAMS,KACL,SAAAkF,EAAuCxE,EAAOC,GAAO,IAAlDnB,EAAO0F,EAAP1F,QAAStH,EAAKgN,EAALhN,MAAU0I,EAAaP,YAAA6E,EAAAC,GAAA,OACjC/H,cAACqB,OAAI,CAEHH,MAAO,CACL5G,EAAOoC,YAAWyG,YAAA,CAEhBtG,YACEyG,IAAUC,EAAQH,OAAS,EAAI,OAAS,KAC1CM,UAAW5I,EACX6I,SAAU7I,GACP0I,IAELjD,SAED6B,GAZIkB,OAbNR,MA+BT9C,cAACqB,OAAI,CACHH,MAAO,CACLnG,SAAU,GACV6B,QAAS,EACTgK,SAAU,WACV9L,MAAO,MACP+L,OAAQ,GACRC,KAAM,GACNvG,SACH,sCAGDP,cAACqB,OAAI,CACHH,MAAO,CACLnG,SAAU,GACV6B,QAAS,EACTgK,SAAU,WACV9L,MAAO,MACP+L,OAAQ,EACRC,KAAM,GACNvG,SACH,2KAMF,CAAC,wKAAD,2/BAOCqC,KAAI,SAACzG,EAAMmH,GAAK,OAChB7C,eAACW,OAAI,CAEHF,MAAO,CAAEhG,cAAe,MAAOe,OAAQ,SAAUsE,SAAA,CAEjDP,cAACoB,OAAI,CACHF,MAAO,CACLpG,MAAO,EACPC,SAAU,GACVC,WAAY,IACZiB,OAAQ,aACRH,MAAO,WACPyE,SAEFP,cAACqB,OAAI,CAAAd,SAAC,aAERP,cAACoB,OAAI,CACHF,MAAO,CACL6F,SAAU,EACVhM,SAAU,GACVC,WAAY,IACZc,MAAO,WACPyE,SAEFP,cAACqB,OAAI,CAAAd,SAAEpE,QAtBJmH,MA0BTtD,cAACqB,OAAI,CACHH,MAAO,CACL8F,UAAW,MACXjM,SAAU,GACVC,WAAY,IACZc,MAAO,WACPyE,SACH,iQAMA,CAAC,4FAAD,2xBAWC,sFAEAqC,KAAI,SAACzG,EAAMmH,GAAK,OAChB7C,eAACW,OAAI,CAEHF,MAAO,CAAEhG,cAAe,MAAOM,WAAY,QAAS+E,SAAA,CAEpDP,cAACoB,OAAI,CACHF,MAAO,CACLpG,MAAO,EACPC,SAAU,GACVC,WAAY,IACZiB,OAAQ,aACRH,MAAO,WACPyE,SAEFP,cAACqB,OAAI,CAAAd,SAAC,aAERP,cAACoB,OAAI,CACHF,MAAO,CACL6F,SAAU,EACVhM,SAAU,GACVC,WAAY,IACZc,MAAO,WACPyE,SAEFP,cAACqB,OAAI,CAAAd,SAAEpE,QAtBJmH,MA0BTtD,cAACqB,OAAI,CACHH,MAAO,CACLnG,SAAU,GACViM,UAAW,GACXhM,WAAY,IACZc,MAAO,WACPyE,SACH,2hBAWDP,cAACqB,OAAI,CACHH,MAAO,CACLnG,SAAU,GACVC,WAAY,IACZgM,UAAW,GACXlL,MAAO,WACPyE,SACH,6KAKDP,cAACqB,OAAI,CACHH,MAAO,CACLnG,SAAU,GACVC,WAAY,IACZgM,UAAW,GACXlL,MAAO,WACPyE,SACH,gCAGDP,cAACqB,OAAI,CACHH,MAAO,CACLnG,SAAU,GACVC,WAAY,IACZgM,UAAW,GACX9K,WAAY,OACZE,UAAW,UACXmE,SACH,2CAQTE,eAACR,IAAQ,CACPC,GAAI,CAAEpE,MAAO,OAAQqE,OAAQ,SAACC,GAAK,OAAKA,EAAMD,OAAOE,OAAS,IAC9DC,MAAM,EAAKC,SAAA,CAEXP,cAACgI,IAAW,IACZhI,cAACiI,IAAU,CAAA1H,SAAC,+CCxmDH,OAA0B,yC,gJCuBnCjG,GAASC,aAAWC,OAAO,CAC/BC,KAAM,CACJC,WAAY,GACZC,cAAe,GACfC,kBAAmB,IAErBC,OAAQ,CACNC,MAAO,OACPC,SAAU,EACVC,WAAY,IACZC,aAAc,GACdC,cAAe,MACfC,WAAY,UAEdC,MAAO,CACLC,WAAY,kBACZN,SAAU,GACVE,aAAc,GACdK,cAAe,aAEjBC,KAAM,CACJC,WAAY,OACZV,MAAO,IAETW,KAAM,CACJP,cAAe,MACfD,aAAc,IAEhBS,YAAa,CACXL,WAAY,kBACZN,SAAU,EACVD,MAAO,IACPa,aAAc,GACdX,WAAY,KAEdY,WAAY,CACVP,WAAY,kBACZN,SAAU,EACVD,MAAO,IACPa,aAAc,GACdX,WAAY,KAEdkN,YAAa,CACXpN,MAAO,GACPU,WAAY,IAEd2M,KAAM,CACJjN,cAAe,OAEjBW,MAAO,CACLC,MAAO,UACPC,eAAgB,aAElBC,SAAU,CACRjB,SAAU,GACVkB,OAAQ,GACRC,WAAY,IACZb,WAAY,mBAEdc,KAAM,CACJF,OAAQ,GACRlB,SAAU,GACVqB,UAAW,UACXf,WAAY,eAEdgB,MAAO,CACLtB,SAAU,EACVE,aAAc,GACdqB,OAAQ,uBAEVC,SAAU,CACRxB,SAAU,EACVyB,aAAc,sBACdtB,cAAe,MACfuB,UAAW,GACXpB,WAAY,mBAEdqB,YAAa,CACXC,KAAM,EACNC,QAAS,UACTC,YAAa,yBAIjBC,OAAKC,SAAS,CACZC,OAAQ,kBACRC,IAAKC,IAGP,IAAMC,GAAa,CACjB,UACA,WACA,QACA,QACA,MACA,OACA,OACA,SACA,YACA,UACA,WACA,YAQaC,gBALS,SAAC3E,GAEvB,MAAO,CAAEiB,QADOjB,EAAMiB,QAAQT,SAIjBmE,EAAyB,SAACC,GACvC,IAAQ3D,EAAY2D,EAAZ3D,QACR4D,EAA8BC,oBAAS,GAAMC,EAAAC,YAAAH,EAAA,GAAtCI,EAAOF,EAAA,GAAEG,EAAUH,EAAA,GAC1BI,EAA0BL,mBAAS,CACjCM,OAAQ,GACRC,YAAa,GACbC,WAAY,GACZC,gBAAiB,GACjBC,gBAAiB,GACjBC,aAAc,KACdC,EAAAV,YAAAG,EAAA,GAPKQ,EAAKD,EAAA,GAAEE,EAAQF,EAAA,GAQdG,EAAOC,cAAPD,GACRE,qBAAU,WACR,IAAMC,EAASC,IAAMC,YAAYF,SAEjC,OADAG,EAAS,CAAEN,KAAIO,YAAaJ,EAAOnG,QAC5B,kBAAMmG,EAAOK,OAAO,oCAC1B,CAACR,IAEJ,IAAMS,EAAgB,SAACC,GACrB,IAAMC,EAAM,IAAIC,KAAKF,GACrB,MAAM,GAANG,OACEhC,GAAW8B,EAAIG,YAAW,KAAAD,OACxBF,EAAII,UAAS,MAAAF,OAAKF,EAAIK,gBAGtBV,EAAW,SAAHW,GAA6B,IAAvBjB,EAAEiB,EAAFjB,GAAIO,EAAWU,EAAXV,YACtBH,IACGc,IAAI,UAADL,OAAWb,GAAM,CAAEO,gBACtBY,MAAK,SAACC,GAEL/B,GAAW,GACXU,EAASqB,EAASG,SAEnBC,OAAM,SAAUC,GAEfpC,GAAW,OAIjB,OAAOjE,EACLsG,cAACC,IAAQ,CACPC,GAAI,CAAEpE,MAAO,OAAQqE,OAAQ,SAACC,GAAK,OAAKA,EAAMD,OAAOE,OAAS,IAC9DC,MAAM,EAAKC,SAEXP,cAACQ,IAAgB,CAAC1E,MAAM,cAExB4B,EACF+C,eAACC,WAAQ,CAAAH,SAAA,CACN,iEAAiEI,KAChEC,UAAUC,YAEVb,cAACc,kBAAe,CACdC,SACEf,cAACgB,WAAQ,CAAAT,SACPE,eAACQ,OAAI,CAACC,MAAO5G,GAAOG,KAAM0G,MAAI,EAAAZ,SAAA,CAC5BE,eAACW,OAAI,CAACF,MAAO5G,GAAOO,OAAO0F,SAAA,CACzBE,eAACW,OAAI,CAAAb,SAAA,CACHP,cAACqB,OAAI,CAACH,MAAO5G,GAAOc,MAAMmF,SAAC,YAC3BE,eAACY,OAAI,CAAAd,SAAA,CAAC,SAAOxB,EAAcX,EAAMkD,cACjCtB,cAACqB,OAAI,CAAAd,SAAA,SAAApB,OACOf,EAAMP,OAAO0D,QAAMpC,OAAG,IAAID,KAClCd,EAAMkD,WACNhC,cAAa,KAAAH,QAAK,MAAQf,EAAMoD,YAAYC,QAC3C,SAIPzB,cAACoB,OAAI,CAACF,MAAO5G,GAAOiB,KAAKgF,SACvBP,cAAC0B,QAAK,CAACzE,IAAK0E,SAGhBlB,eAACW,OAAI,CAACF,MAAO5G,GAAOmB,KAAK8E,SAAA,CACvBE,eAACW,OAAI,CAACF,MAAO5G,GAAOoB,YAAY6E,SAAA,CAC9BP,cAACqB,OAAI,CAAAd,SAAC,sCACNP,cAACqB,OAAI,CAAAd,SAAC,SACNP,cAACqB,OAAI,CAAAd,SAAC,kCACNP,cAACqB,OAAI,CAAAd,SAAC,qBACNP,cAACqB,OAAI,CAAAd,SAAC,uBACNP,cAACqB,OAAI,CAAAd,SAAC,mBACNE,eAACY,OAAI,CAAAd,SAAA,CAAC,SACG,IACPP,cAAC4B,QAAK,CAACV,MAAO5G,GAAOuB,MAAM0E,SAAC,gCAGhCE,eAACW,OAAI,CAACF,MAAO5G,GAAOsB,WAAW2E,SAAA,CAC7BE,eAACY,OAAI,CAAAd,SAAA,CAAC,kBAAgBnC,EAAMlG,QAC3BkG,EAAMyD,KAAOpB,eAACY,OAAI,CAAAd,SAAA,CAAC,QAAMnC,EAAMyD,QAAe,KAC9CzD,EAAM0D,MAAQrB,eAACY,OAAI,CAAAd,SAAA,CAAC,SAAOnC,EAAM0D,SAAgB,KACjD1D,EAAM2D,MAAQtB,eAACY,OAAI,CAAAd,SAAA,CAAC,SAAOnC,EAAM2D,SAAgB,KAClD/B,cAACqB,OAAI,CAAAd,SAAEnC,EAAM4D,SACbhC,cAACqB,OAAI,CAAAd,SAAEnC,EAAM6D,WACbxB,eAACY,OAAI,CAAAd,SAAA,CAAC,UAAQnC,EAAM8D,SACpBzB,eAACY,OAAI,CAAAd,SAAA,CAAC,UACGP,cAAC4B,QAAK,CAACV,MAAO5G,GAAOuB,MAAM0E,SAAEnC,EAAMvC,iBAIhDmE,cAACoB,OAAI,CAACF,MAAO5G,GAAO+B,MAAMkE,SACvB,CACC,CACE4B,MAAO,CACL,CAAEC,QAAS,cAAetH,MAAO,OACjC,CAAEsH,QAAS,0BAA2BtH,MAAO,OAC7C,CAAEsH,QAAS,gBAAiBtH,MAAO,OACnC,CACEsH,QAAS,WACThG,UAAW,QACXtB,MAAO,QAGXuH,gBAAiB,UACjB/G,cAAe,aAEjB,CACE6G,MAAO,CACL,CACEC,QAAQ,GAADjD,OAAKf,EAAMP,OAAOyE,UAAS,KAAAnD,OAAIf,EAAMP,OAAO0E,UACnDzH,MAAO,OAET,CACEsH,QACEhE,EAAMoE,SAAW,IAAM,EAAC,OAAArD,OACbf,EAAMoE,SAAW,EAAC,iBAAArD,OACvBf,EAAMoE,SAAW,IAAM,EAAI,GAAK,IAAG,yBAAArD,OAE9Bf,EAAMoE,SAAQ,gBAAArD,OACA,IAAnBf,EAAMoE,SAAiB,GAAK,IAAG,kBAEvC1H,MAAO,OAET,CAAEsH,QAAShE,EAAMqE,aAAc3H,MAAO,OACtC,CACEsH,QAAShE,EAAMsE,KAAO,OAAStE,EAAMuE,QACrCvG,UAAW,QACXtB,MAAO,UAIb8H,KAAI,SAAAC,EAA6BC,EAAUC,GAAM,IAA1CZ,EAAKU,EAALV,MAAUa,EAAYC,YAAAJ,EAAAK,IAAA,OAC7BlD,cAACoB,OAAI,CAEHF,MAAO,CACL5G,GAAOiC,SAAQ4G,YAAA,CAEb3G,aACEsG,IAAaC,EAAOK,OAAS,EAAI,OAAS,MACzCJ,IAELzC,SAED4B,EAAMS,KACL,SAAAS,EAEEC,EACAC,GAAO,IAFLnB,EAAOiB,EAAPjB,QAAStH,EAAKuI,EAALvI,MAAU0I,EAAaP,YAAAI,EAAAI,IAAA,OAIlCzD,cAACqB,OAAI,CAEHH,MAAO,CACL5G,GAAOoC,YAAWyG,YAAA,CAEhBtG,YACEyG,IAAUC,EAAQH,OAAS,EAAI,OAAS,KAC1CM,UAAW5I,EACX6I,SAAU7I,GACP0I,IAELjD,SAED6B,GAZIkB,OAjBNR,QAoCXrC,eAACW,OAAI,CAACF,MAAO5G,GAAO+B,MAAMkE,SAAA,CACvB,CACC,CACE4B,MAAO,CACL,CAAEC,QAAS,MAAOtH,MAAO,OACzB,CAAEsH,QAAS,cAAetH,MAAO,OACjC,CAAEsH,QAAS,aAActH,MAAO,OAChC,CACEsH,QAAS,mBACThG,UAAW,QACXtB,MAAO,QAGXuH,gBAAiB,UACjB/G,cAAe,cAChB6D,OAAAyE,YACExF,EAAMN,YAAY8E,KAAI,SAACiB,GAAI,MAAM,CAClC1B,MAAO,CACL,CACEC,QAAQ,GAADjD,OAAK0E,EAAKC,aAAaC,KAC9BjJ,MAAO,OAET,CACEsH,QAAQ,gBAADjD,OAAkB0E,EAAKG,MAAK,mBAAA7E,OACjC0E,EAAKI,MAAK,MAAA9E,OAEV0E,EAAKK,aACD,gBACA,mBAAkB,MAAA/E,OAEtB0E,EAAKM,cACD,0BACA,6BAA4B,cAAAhF,OACrB0E,EAAKC,aAAaM,OAAM,MAAAjF,OAAKrF,KAAKC,MAC7C8J,EAAKC,aAAaO,iBAEpBvJ,MAAO,OAET,CACEsH,QAAQ,GAADjD,OAAK0E,EAAKC,aAAaQ,WAC9BlI,UAAW,QACXtB,MAAO,OAET,CACEsH,QAAQ,GAADjD,OACL0E,EAAKC,aAAaQ,UAAYT,EAAKC,aAAaC,KAElD3H,UAAW,QACXtB,MAAO,aAGV8I,YACAxF,EAAMF,aAAa0E,KAAI,SAACiB,GAAI,MAAM,CACnC1B,MAAO,CACL,CACEC,QAAQ,GAADjD,OAAK0E,EAAKE,KACjBjJ,MAAO,OAET,CACEsH,QAAQ,eAADjD,OACLf,EAAML,WAAWwG,MACf,SAACC,GAAK,OAAKA,EAAMlG,KAAOuF,EAAKY,WAC7BR,MAAK,yCAAA9E,OAGbf,EAAML,WAAWwG,MACf,SAACC,GAAK,OAAKA,EAAMlG,KAAOuF,EAAKY,WAC7B3I,MAAK,mCAAAqD,OAGPf,EAAML,WAAWwG,MACf,SAACC,GAAK,OAAKA,EAAMlG,KAAOuF,EAAKY,WAC7BC,QAAO,oCAAAvF,OAGTf,EAAML,WAAWwG,MACf,SAACC,GAAK,OAAKA,EAAMlG,KAAOuF,EAAKY,WAC7BE,SAAQ,qCAAAxF,OAGVf,EAAML,WAAWwG,MACf,SAACC,GAAK,OAAKA,EAAMlG,KAAOuF,EAAKY,WAC7BG,SAAQ,0BAAAzF,OAGV0E,EAAKgB,WAAU,cAAA1F,OACG0E,EAAKiB,YAAW,gDAAA3F,OACZ0E,EAAKkB,UAAS,KAAA5F,OAAI0E,EAAKmB,SAAQ,KAAA7F,OAC/C0E,EAAKoB,aAAY,iDAAA9F,OAEA0E,EAAKqB,SAAQ,KAAA/F,OACH,IAA3B0E,EAAKsB,kBACD,GAAE,sBAAAhG,OACoB0E,EAAKsB,kBAAiB,eAAAhG,OAAc0E,EAAKuB,iBAAiB,KAAAjG,OAE9D,IAAtB0E,EAAKwB,aACD,GAAE,qBAAAlG,OACmB0E,EAAKwB,aAAY,qBAAAlG,OAAoB0E,EAAKyB,gBAAe,oBAAAnG,OAAmB0E,EAAK0B,aAAa,wCAAApG,OAE/G0E,EAAKO,QACf,kBAAiB,0BAAAjF,OAErBrF,KAAKC,MAAM8J,EAAKQ,iBACZvJ,MAAO,OAET,CACEsH,QAAQ,GAADjD,OAAK0E,EAAKS,WACjBlI,UAAW,QACXtB,MAAO,OAET,CACEsH,QAAQ,GAADjD,OAAK0E,EAAKS,UAAYT,EAAKE,KAClC3H,UAAW,QACXtB,MAAO,aAGV8I,YACAxF,EAAMJ,gBAAgB4E,KAAI,SAACiB,GAAI,MAAM,CACtC1B,MAAO,CACL,CACEC,QAAQ,GAADjD,OAAK0E,EAAK2B,iBAAiBzB,KAClCjJ,MAAO,OAET,CACEsH,QAAQ,GAADjD,OAAK0E,EAAK3L,KAAI,0BAAAiH,OACnB0E,EAAK4B,SAAQ,cAAAtG,OAEb0E,EAAK2B,iBAAiBpB,OAAM,MAAAjF,OACzBrF,KAAKC,MACR8J,EAAK2B,iBAAiBnB,iBAExBvJ,MAAO,OAET,CACEsH,QAAQ,GAADjD,OAAK0E,EAAK2B,iBAAiBlB,WAClClI,UAAW,QACXtB,MAAO,OAET,CACEsH,QAAQ,GAADjD,OACL0E,EAAK2B,iBAAiBlB,UACtBT,EAAK2B,iBAAiBzB,KAExB3H,UAAW,QACXtB,MAAO,aAGV8I,YACAxF,EAAMH,gBAAgB2E,KAAI,SAACiB,GAAI,MAAM,CACtC1B,MAAO,CACL,CACEC,QAAS,IACTtH,MAAO,OAET,CACEsH,QAAQ,GAADjD,OAAK0E,EAAK6B,aACjB5K,MAAO,OAET,CACEsH,QAAQ,GAADjD,OAAK0E,EAAK8B,OACjBvJ,UAAW,QACXtB,MAAO,OAET,CACEsH,QAAQ,GAADjD,OAAK0E,EAAK8B,OACjBvJ,UAAW,QACXtB,MAAO,aAGV8I,YACAgC,MACDC,KAAKC,IACH,EACA,EACE1H,EAAMN,YAAYsF,OAClBhF,EAAML,WAAWqF,OACjBhF,EAAMJ,gBAAgBoF,OACtBhF,EAAMH,gBAAgBmF,SAE1B2C,KAAK,CACL5D,MAAO,CACL,CAAEC,QAAS,GAAItH,MAAO,OACtB,CAAEsH,QAAS,GAAItH,MAAO,OACtB,CAAEsH,QAAS,GAAItH,MAAO,OACtB,CAAEsH,QAAS,GAAItH,MAAO,WAExB,CACF,CACEqH,MAAO,CACL,CACEC,QAAQ,GACRtH,MAAO,MACPC,SAAU,IAEZ,CAAEqH,QAAS,WAAYtH,MAAO,OAC9B,CACEsH,QAAQ,GAADjD,QACJf,EAAMN,YAAYsF,OACfhF,EAAMN,YAAY8E,KAChB,SAACiB,GAAI,OACHA,EAAKC,aAAaQ,UAClBT,EAAKC,aAAaC,OACpBiC,QAAO,SAACC,EAAKC,GAAG,OAAKD,EAAMC,KAC7B,IACH9H,EAAMF,aAAakF,OAChBhF,EAAMF,aAAa0E,KACjB,SAACiB,GAAI,OAAKA,EAAKS,UAAYT,EAAKE,OAChCiC,QAAO,SAACC,EAAKC,GAAG,OAAKD,EAAMC,KAC7B,IACH9H,EAAMJ,gBAAgBoF,OACnBhF,EAAMJ,gBAAgB4E,KACpB,SAACiB,GAAI,OACHA,EAAK2B,iBAAiBlB,UACtBT,EAAK2B,iBAAiBzB,OACxBiC,QAAO,SAACC,EAAKC,GAAG,OAAKD,EAAMC,KAC7B,IACH9H,EAAMH,gBAAgBmF,OACnBhF,EAAMH,gBAAgB2E,KACpB,SAACiB,GAAI,OAAKA,EAAK8B,SACfK,QAAO,SAACC,EAAKC,GAAG,OAAKD,EAAMC,KAC7B,IAEN9J,UAAW,QACXtB,MAAO,MACP0B,aAAc,wBAGlBA,aAAc,QAEhB,CACE2F,MAAO,CACL,CACEC,QAAQ,GACRtH,MAAO,MACPC,SAAU,IAEZ,CAAEqH,QAAS,WAAYtH,MAAO,OAC9B,CACEsH,QAAQ,GAADjD,OACLf,EAAM+H,aACF/H,EAAMgI,WACHhI,EAAMN,YAAYsF,OACjBhF,EAAMN,YAAY8E,KAChB,SAACiB,GAAI,OACHA,EAAKC,aAAaQ,UAClBT,EAAKC,aAAaC,OACpBiC,QAAO,SAACC,EAAKC,GAAG,OAAKD,EAAMC,KAC7B,IACD9H,EAAML,WAAWqF,OACdhF,EAAML,WAAW6E,KACf,SAACiB,GAAI,OACHA,EAAKwC,YAAY/B,UACjBT,EAAKwC,YAAYtC,OACnBiC,QAAO,SAACC,EAAKC,GAAG,OAAKD,EAAMC,KAC7B,IACH9H,EAAMJ,gBAAgBoF,OACnBhF,EAAMJ,gBAAgB4E,KACpB,SAACiB,GAAI,OACHA,EAAK2B,iBAAiBlB,UACtBT,EAAK2B,iBAAiBzB,OACxBiC,QAAO,SAACC,EAAKC,GAAG,OAAKD,EAAMC,KAC7B,IACJ9H,EAAMgI,SACR,KAENhK,UAAW,QACXtB,MAAO,MACP0B,aAAc,wBAGlBA,aAAc,QAEhB,CACE2F,MAAO,CACL,CACEC,QAAQ,GACRtH,MAAO,MACPC,SAAU,IAEZ,CAAEqH,QAAS,YAAatH,MAAO,OAC/B,CACEsH,QAAQ,GAADjD,OACLf,EAAMkI,cACFlI,EAAMmI,YACHnI,EAAMN,YAAYsF,OACjBhF,EAAMN,YAAY8E,KAChB,SAACiB,GAAI,OACHA,EAAKC,aAAaQ,UAClBT,EAAKC,aAAaC,OACpBiC,QAAO,SAACC,EAAKC,GAAG,OAAKD,EAAMC,KAC7B,IACD9H,EAAML,WAAWqF,OACdhF,EAAML,WAAW6E,KACf,SAACiB,GAAI,OACHA,EAAKwC,YAAY/B,UACjBT,EAAKwC,YAAYtC,OACnBiC,QAAO,SAACC,EAAKC,GAAG,OAAKD,EAAMC,KAC7B,IACH9H,EAAMJ,gBAAgBoF,OACnBhF,EAAMJ,gBAAgB4E,KACpB,SAACiB,GAAI,OACHA,EAAK2B,iBAAiBlB,UACtBT,EAAK2B,iBAAiBzB,OACxBiC,QAAO,SAACC,EAAKC,GAAG,OAAKD,EAAMC,KAC7B,IACJ9H,EAAMmI,UACR,KAENnK,UAAW,QACXtB,MAAO,MACP0B,aAAc,wBAGlBA,aAAc,QAEhB,CACE2F,MAAO,CACL,CACEC,QAAQ,GACRtH,MAAO,MACPC,SAAU,IAEZ,CAAEqH,QAAS,QAAStH,MAAO,OAC3B,CACEsH,QAAQ,GAADjD,QACJf,EAAMN,YAAYsF,OACfhF,EAAMN,YAAY8E,KAChB,SAACiB,GAAI,OACHA,EAAKC,aAAaQ,UAClBT,EAAKC,aAAaC,OACpBiC,QAAO,SAACC,EAAKC,GAAG,OAAKD,EAAMC,KAC7B,IACH9H,EAAMF,aAAakF,OAChBhF,EAAMF,aAAa0E,KACjB,SAACiB,GAAI,OAAKA,EAAKS,UAAYT,EAAKE,OAChCiC,QAAO,SAACC,EAAKC,GAAG,OAAKD,EAAMC,KAC7B,IACH9H,EAAMJ,gBAAgBoF,OACnBhF,EAAMJ,gBAAgB4E,KACpB,SAACiB,GAAI,OACHA,EAAK2B,iBAAiBlB,UACtBT,EAAK2B,iBAAiBzB,OACxBiC,QAAO,SAACC,EAAKC,GAAG,OAAKD,EAAMC,KAC7B,IACH9H,EAAMH,gBAAgBmF,OACnBhF,EAAMH,gBAAgB2E,KACpB,SAACiB,GAAI,OAAKA,EAAK8B,SACfK,QAAO,SAACC,EAAKC,GAAG,OAAKD,EAAMC,KAC7B,IACH9H,EAAM+H,aACH/H,EAAMgI,WACHhI,EAAMN,YAAYsF,OACjBhF,EAAMN,YAAY8E,KAChB,SAACiB,GAAI,OACHA,EAAKC,aAAaQ,UAClBT,EAAKC,aAAaC,OACpBiC,QAAO,SAACC,EAAKC,GAAG,OAAKD,EAAMC,KAC7B,IACD9H,EAAML,WAAWqF,OACdhF,EAAML,WAAW6E,KACf,SAACiB,GAAI,OACHA,EAAKwC,YAAY/B,UACjBT,EAAKwC,YAAYtC,OACnBiC,QAAO,SAACC,EAAKC,GAAG,OAAKD,EAAMC,KAC7B,IACH9H,EAAMJ,gBAAgBoF,OACnBhF,EAAMJ,gBAAgB4E,KACpB,SAACiB,GAAI,OACHA,EAAK2B,iBAAiBlB,UACtBT,EAAK2B,iBAAiBzB,OACxBiC,QAAO,SAACC,EAAKC,GAAG,OAAKD,EAAMC,KAC7B,IACJ9H,EAAMgI,SACR,MACHhI,EAAMkI,cACHlI,EAAMmI,YACHnI,EAAMN,YAAYsF,OACjBhF,EAAMN,YAAY8E,KAChB,SAACiB,GAAI,OACHA,EAAKC,aAAaQ,UAClBT,EAAKC,aAAaC,OACpBiC,QAAO,SAACC,EAAKC,GAAG,OAAKD,EAAMC,KAC7B,IACD9H,EAAML,WAAWqF,OACdhF,EAAML,WAAW6E,KACf,SAACiB,GAAI,OACHA,EAAKwC,YAAY/B,UACjBT,EAAKwC,YAAYtC,OACnBiC,QAAO,SAACC,EAAKC,GAAG,OAAKD,EAAMC,KAC7B,IACH9H,EAAMJ,gBAAgBoF,OACnBhF,EAAMJ,gBAAgB4E,KACpB,SAACiB,GAAI,OACHA,EAAK2B,iBAAiBlB,UACtBT,EAAK2B,iBAAiBzB,OACxBiC,QAAO,SAACC,EAAKC,GAAG,OAAKD,EAAMC,KAC7B,IACJ9H,EAAMmI,UACR,MAENnK,UAAW,QACXtB,MAAO,WAIb8H,KAAI,SAAA4D,EAA6B1D,EAAUC,GAAM,IAA1CZ,EAAKqE,EAALrE,MAAUa,EAAYC,YAAAuD,EAAAC,IAAA,OAC7BzG,cAACoB,OAAI,CAEHF,MAAO,CACL5G,GAAOiC,SAAQ4G,YAAA,CAEb3G,aACEsG,IAAaC,EAAOK,OAAS,EAAI,OAAS,MACzCJ,IAELzC,SAED4B,EAAMS,KACL,SAAA8D,EAEEpD,EACAC,GAAO,IAFLnB,EAAOsE,EAAPtE,QAAStH,EAAK4L,EAAL5L,MAAU0I,EAAaP,YAAAyD,EAAAC,IAAA,OAIlC3G,cAACqB,OAAI,CAEHH,MAAO,CACL5G,GAAOoC,YAAWyG,YAAA,CAEhBtG,YACEyG,IAAUC,EAAQH,OAAS,EAAI,OAAS,KAC1CM,UAAW5I,EACX6I,SAAU7I,GACP0I,IAELjD,SAED6B,GAZIkB,OAjBNR,MAmCT9C,cAACqB,OAAI,CACHH,MAAO,CACLnG,SAAU,GACV6B,QAAS,EACTgK,SAAU,WACV9L,MAAO,MACP+L,OAAQ,EACRC,KAAM,GACNvG,SACH,oNAOF,CAAC,wKAAD,84BAMCqC,KAAI,SAACzG,EAAMmH,GAAK,OAChB7C,eAACW,OAAI,CAEHF,MAAO,CAAEhG,cAAe,MAAOe,OAAQ,SAAUsE,SAAA,CAEjDP,cAACoB,OAAI,CACHF,MAAO,CACLpG,MAAO,EACPC,SAAU,GACVC,WAAY,IACZiB,OAAQ,aACRH,MAAO,WACPyE,SAEFP,cAACqB,OAAI,CAAAd,SAAC,aAERP,cAACoB,OAAI,CACHF,MAAO,CACL6F,SAAU,EACVhM,SAAU,GACVC,WAAY,IACZc,MAAO,WACPyE,SAEFP,cAACqB,OAAI,CAAAd,SAAEpE,QAtBJmH,MA0BT7C,eAACW,OAAI,CAACF,MAAO5G,GAAO6N,KAAK5H,SAAA,CACvBP,cAACqB,OAAI,CACHH,MAAO,CACL8F,UAAW,MACXjM,SAAU,GACVC,WAAY,IACZc,MAAO,UACPhB,MAAO,OACPyF,SACH,iQAODP,cAAC0B,QAAK,CAACzE,IAAKiL,GAAahH,MAAO5G,GAAO4N,iBAExC,CAAC,4FAAD,qtBAWCtF,KAAI,SAACzG,EAAMmH,GAAK,OAChB7C,eAACW,OAAI,CAEHF,MAAO,CAAEhG,cAAe,MAAOM,WAAY,QAAS+E,SAAA,CAEpDP,cAACoB,OAAI,CACHF,MAAO,CACLpG,MAAO,EACPC,SAAU,GACVC,WAAY,IACZiB,OAAQ,aACRH,MAAO,WACPyE,SAEFP,cAACqB,OAAI,CAAAd,SAAC,aAERP,cAACoB,OAAI,CACHF,MAAO,CACL6F,SAAU,EACVhM,SAAU,GACVC,WAAY,IACZc,MAAO,WACPyE,SAEFP,cAACqB,OAAI,CAAAd,SAAEpE,QAtBJmH,MA0BTtD,cAACqB,OAAI,CACHH,MAAO,CACLnG,SAAU,GACVC,WAAY,IACZc,MAAO,WACPyE,SACH,2hBAWDP,cAACqB,OAAI,CACHH,MAAO,CACLnG,SAAU,GACVC,WAAY,IACZgM,UAAW,GACXlL,MAAO,WACPyE,SACH,6KAKDP,cAACqB,OAAI,CACHH,MAAO,CACLnG,SAAU,GACVC,WAAY,IACZgM,UAAW,GACXlL,MAAO,WACPyE,SACH,gCAGDP,cAACqB,OAAI,CACHH,MAAO,CACLnG,SAAU,GACVC,WAAY,IACZgM,UAAW,GACX9K,WAAY,OACZE,UAAW,UACXmE,SACH,sCAKNA,SAEA,SAAA2G,GAAQA,EAALC,MAAWD,EAAJE,KAAV,IAAgB1N,EAAOwN,EAAPxN,QAAewN,EAANG,OAAM,OAC9B3N,EAAU,sBAAwB,mBAIxCsG,cAACsH,YAAS,CAACC,OAAO,OAAMhH,SACtBP,cAACgB,WAAQ,CAAAT,SACPE,eAACQ,OAAI,CAACC,MAAO5G,GAAOG,KAAM0G,MAAI,EAAAZ,SAAA,CAC5BE,eAACW,OAAI,CAACF,MAAO5G,GAAOO,OAAO0F,SAAA,CACzBE,eAACW,OAAI,CAAAb,SAAA,CACHP,cAACqB,OAAI,CAACH,MAAO5G,GAAOc,MAAMmF,SAAC,YAC3BE,eAACY,OAAI,CAAAd,SAAA,CAAC,SAAOxB,EAAcX,EAAMkD,cACjCtB,cAACqB,OAAI,CAAAd,SAAA,SAAApB,OACOf,EAAMP,OAAO0D,QAAMpC,OAAG,IAAID,KAClCd,EAAMkD,WACNhC,cAAa,KAAAH,QAAK,MAAQf,EAAMoD,YAAYC,QAAQ,SAG1DzB,cAACoB,OAAI,CAACF,MAAO5G,GAAOiB,KAAKgF,SACvBP,cAAC0B,QAAK,CAACzE,IAAK0E,SAGhBlB,eAACW,OAAI,CAACF,MAAO5G,GAAOmB,KAAK8E,SAAA,CACvBE,eAACW,OAAI,CAACF,MAAO5G,GAAOoB,YAAY6E,SAAA,CAC9BP,cAACqB,OAAI,CAAAd,SAAC,sCACNP,cAACqB,OAAI,CAAAd,SAAC,SACNP,cAACqB,OAAI,CAAAd,SAAC,kCACNP,cAACqB,OAAI,CAAAd,SAAC,qBACNP,cAACqB,OAAI,CAAAd,SAAC,uBACNP,cAACqB,OAAI,CAAAd,SAAC,mBACNE,eAACY,OAAI,CAAAd,SAAA,CAAC,SACG,IACPP,cAAC4B,QAAK,CAACV,MAAO5G,GAAOuB,MAAM0E,SAAC,gCAGhCE,eAACW,OAAI,CAACF,MAAO5G,GAAOsB,WAAW2E,SAAA,CAC7BE,eAACY,OAAI,CAAAd,SAAA,CAAC,kBAAgBnC,EAAMlG,QAC3BkG,EAAMyD,KAAOpB,eAACY,OAAI,CAAAd,SAAA,CAAC,QAAMnC,EAAMyD,QAAe,KAC9CzD,EAAM0D,MAAQrB,eAACY,OAAI,CAAAd,SAAA,CAAC,SAAOnC,EAAM0D,SAAgB,KACjD1D,EAAM2D,MAAQtB,eAACY,OAAI,CAAAd,SAAA,CAAC,SAAOnC,EAAM2D,SAAgB,KAClD/B,cAACqB,OAAI,CAAAd,SAAEnC,EAAM4D,SACbhC,cAACqB,OAAI,CAAAd,SAAEnC,EAAM6D,WACbxB,eAACY,OAAI,CAAAd,SAAA,CAAC,UAAQnC,EAAM8D,SACpBzB,eAACY,OAAI,CAAAd,SAAA,CAAC,UACGP,cAAC4B,QAAK,CAACV,MAAO5G,GAAOuB,MAAM0E,SAAEnC,EAAMvC,iBAIhDmE,cAACoB,OAAI,CAACF,MAAO5G,GAAO+B,MAAMkE,SACvB,CACC,CACE4B,MAAO,CACL,CAAEC,QAAS,cAAetH,MAAO,OACjC,CAAEsH,QAAS,0BAA2BtH,MAAO,OAC7C,CAAEsH,QAAS,gBAAiBtH,MAAO,OACnC,CAAEsH,QAAS,WAAYhG,UAAW,QAAStB,MAAO,QAEpDuH,gBAAiB,UACjB/G,cAAe,aAEjB,CACE6G,MAAO,CACL,CACEC,QAAQ,GAADjD,OAAKf,EAAMP,OAAOyE,UAAS,KAAAnD,OAAIf,EAAMP,OAAO0E,UACnDzH,MAAO,OAET,CACEsH,QACEhE,EAAMoE,SAAW,IAAM,EAAC,OAAArD,OACbf,EAAMoE,SAAW,EAAC,iBAAArD,OACvBf,EAAMoE,SAAW,IAAM,EAAI,GAAK,IAAG,yBAAArD,OAE9Bf,EAAMoE,SAAQ,gBAAArD,OACA,IAAnBf,EAAMoE,SAAiB,GAAK,IAAG,kBAEvC1H,MAAO,OAET,CAAEsH,QAAShE,EAAMqE,aAAc3H,MAAO,OACtC,CACEsH,QAAShE,EAAMsE,KAAO,OAAStE,EAAMuE,QACrCvG,UAAW,QACXtB,MAAO,UAIb8H,KAAI,SAAA4E,EAA6B1E,EAAUC,GAAM,IAA1CZ,EAAKqF,EAALrF,MAAUa,EAAYC,YAAAuE,EAAAC,IAAA,OAC7BzH,cAACoB,OAAI,CAEHF,MAAO,CACL5G,GAAOiC,SAAQ4G,YAAA,CAEb3G,aACEsG,IAAaC,EAAOK,OAAS,EAAI,OAAS,MACzCJ,IAELzC,SAED4B,EAAMS,KACL,SAAA8E,EAAuCpE,EAAOC,GAAO,IAAlDnB,EAAOsF,EAAPtF,QAAStH,EAAK4M,EAAL5M,MAAU0I,EAAaP,YAAAyE,EAAAC,IAAA,OACjC3H,cAACqB,OAAI,CAEHH,MAAO,CACL5G,GAAOoC,YAAWyG,YAAA,CAEhBtG,YACEyG,IAAUC,EAAQH,OAAS,EAAI,OAAS,KAC1CM,UAAW5I,EACX6I,SAAU7I,GACP0I,IAELjD,SAED6B,GAZIkB,OAbNR,QAgCXrC,eAACW,OAAI,CAACF,MAAO5G,GAAO+B,MAAMkE,SAAA,CACvB,CACC,CACE4B,MAAO,CACL,CAAEC,QAAS,MAAOtH,MAAO,OACzB,CAAEsH,QAAS,cAAetH,MAAO,OACjC,CAAEsH,QAAS,aAActH,MAAO,OAChC,CACEsH,QAAS,mBACThG,UAAW,QACXtB,MAAO,QAGXuH,gBAAiB,UACjB/G,cAAe,cAChB6D,OAAAyE,YACExF,EAAMN,YAAY8E,KAAI,SAACiB,GAAI,MAAM,CAClC1B,MAAO,CACL,CACEC,QAAQ,GAADjD,OAAK0E,EAAKC,aAAaC,KAC9BjJ,MAAO,OAET,CACEsH,QAAQ,gBAADjD,OAAkB0E,EAAKG,MAAK,mBAAA7E,OACjC0E,EAAKI,MAAK,MAAA9E,OAEV0E,EAAKK,aAAe,gBAAkB,mBAAkB,MAAA/E,OAExD0E,EAAKM,cACD,0BACA,6BAA4B,cAAAhF,OACrB0E,EAAKC,aAAaM,OAAM,MAAAjF,OAAKrF,KAAKC,MAC7C8J,EAAKC,aAAaO,iBAEpBvJ,MAAO,OAET,CACEsH,QAAQ,GAADjD,OAAK0E,EAAKC,aAAaQ,WAC9BlI,UAAW,QACXtB,MAAO,OAET,CACEsH,QAAQ,GAADjD,OACL0E,EAAKC,aAAaQ,UAAYT,EAAKC,aAAaC,KAElD3H,UAAW,QACXtB,MAAO,aAGV8I,YACAxF,EAAMF,aAAa0E,KAAI,SAACiB,GAAI,MAAM,CACnC1B,MAAO,CACL,CACEC,QAAQ,GAADjD,OAAK0E,EAAKE,KACjBjJ,MAAO,OAET,CACEsH,QAAQ,eAADjD,OACLf,EAAML,WAAWwG,MACf,SAACC,GAAK,OAAKA,EAAMlG,KAAOuF,EAAKY,WAC7BR,MAAK,yCAAA9E,OAGTf,EAAML,WAAWwG,MACf,SAACC,GAAK,OAAKA,EAAMlG,KAAOuF,EAAKY,WAC7B3I,MAAK,mCAAAqD,OAGPf,EAAML,WAAWwG,MACf,SAACC,GAAK,OAAKA,EAAMlG,KAAOuF,EAAKY,WAC7BC,QAAO,oCAAAvF,OAGTf,EAAML,WAAWwG,MACf,SAACC,GAAK,OAAKA,EAAMlG,KAAOuF,EAAKY,WAC7BE,SAAQ,qCAAAxF,OAGVf,EAAML,WAAWwG,MACf,SAACC,GAAK,OAAKA,EAAMlG,KAAOuF,EAAKY,WAC7BG,SAAQ,0BAAAzF,OAGV0E,EAAKgB,WAAU,cAAA1F,OACG0E,EAAKiB,YAAW,gDAAA3F,OACZ0E,EAAKkB,UAAS,KAAA5F,OAAI0E,EAAKmB,SAAQ,KAAA7F,OAC/C0E,EAAKoB,aAAY,iDAAA9F,OAEA0E,EAAKqB,SAAQ,KAAA/F,OACH,IAA3B0E,EAAKsB,kBACD,GAAE,sBAAAhG,OACoB0E,EAAKsB,kBAAiB,eAAAhG,OAAc0E,EAAKuB,iBAAiB,KAAAjG,OAE9D,IAAtB0E,EAAKwB,aACD,GAAE,qBAAAlG,OACmB0E,EAAKwB,aAAY,qBAAAlG,OAAoB0E,EAAKyB,gBAAe,oBAAAnG,OAAmB0E,EAAK0B,aAAa,wCAAApG,OAE/G0E,EAAKO,QACf,kBAAiB,0BAAAjF,OAErBrF,KAAKC,MAAM8J,EAAKQ,iBAChBvJ,MAAO,OAET,CACEsH,QAAQ,GAADjD,OAAK0E,EAAKS,WACjBlI,UAAW,QACXtB,MAAO,OAET,CACEsH,QAAQ,GAADjD,OAAK0E,EAAKS,UAAYT,EAAKE,KAClC3H,UAAW,QACXtB,MAAO,aAGV8I,YACAxF,EAAMJ,gBAAgB4E,KAAI,SAACiB,GAAI,MAAM,CACtC1B,MAAO,CACL,CACEC,QAAQ,GAADjD,OAAK0E,EAAK2B,iBAAiBzB,KAClCjJ,MAAO,OAET,CACEsH,QAAQ,GAADjD,OAAK0E,EAAK3L,KAAI,0BAAAiH,OACnB0E,EAAK4B,SAAQ,cAAAtG,OACF0E,EAAK2B,iBAAiBpB,OAAM,MAAAjF,OAAKrF,KAAKC,MACjD8J,EAAK2B,iBAAiBnB,iBAExBvJ,MAAO,OAET,CACEsH,QAAQ,GAADjD,OAAK0E,EAAK2B,iBAAiBlB,WAClClI,UAAW,QACXtB,MAAO,OAET,CACEsH,QAAQ,GAADjD,OACL0E,EAAK2B,iBAAiBlB,UACtBT,EAAK2B,iBAAiBzB,KAExB3H,UAAW,QACXtB,MAAO,aAGV8I,YACAxF,EAAMH,gBAAgB2E,KAAI,SAACiB,GAAI,MAAM,CACtC1B,MAAO,CACL,CACEC,QAAS,IACTtH,MAAO,OAET,CACEsH,QAAQ,GAADjD,OAAK0E,EAAK6B,aACjB5K,MAAO,OAET,CACEsH,QAAQ,GAADjD,OAAK0E,EAAK8B,OACjBvJ,UAAW,QACXtB,MAAO,OAET,CACEsH,QAAQ,GAADjD,OAAK0E,EAAK8B,OACjBvJ,UAAW,QACXtB,MAAO,aAGV8I,YACAgC,MACDC,KAAKC,IACH,EACA,EACE1H,EAAMN,YAAYsF,OAClBhF,EAAML,WAAWqF,OACjBhF,EAAMJ,gBAAgBoF,OACtBhF,EAAMH,gBAAgBmF,SAE1B2C,KAAK,CACL5D,MAAO,CACL,CAAEC,QAAS,GAAItH,MAAO,OACtB,CAAEsH,QAAS,GAAItH,MAAO,OACtB,CAAEsH,QAAS,GAAItH,MAAO,OACtB,CAAEsH,QAAS,GAAItH,MAAO,WAExB,CACF,CACEqH,MAAO,CACL,CACEC,QAAQ,GACRtH,MAAO,MACPC,SAAU,IAEZ,CAAEqH,QAAS,WAAYtH,MAAO,OAC9B,CACEsH,QAAQ,GAADjD,QACJf,EAAMN,YAAYsF,OACfhF,EAAMN,YAAY8E,KAChB,SAACiB,GAAI,OACHA,EAAKC,aAAaQ,UAClBT,EAAKC,aAAaC,OACpBiC,QAAO,SAACC,EAAKC,GAAG,OAAKD,EAAMC,KAC7B,IACH9H,EAAMF,aAAakF,OAChBhF,EAAMF,aAAa0E,KACjB,SAACiB,GAAI,OAAKA,EAAKS,UAAYT,EAAKE,OAChCiC,QAAO,SAACC,EAAKC,GAAG,OAAKD,EAAMC,KAC7B,IACH9H,EAAMJ,gBAAgBoF,OACnBhF,EAAMJ,gBAAgB4E,KACpB,SAACiB,GAAI,OACHA,EAAK2B,iBAAiBlB,UACtBT,EAAK2B,iBAAiBzB,OACxBiC,QAAO,SAACC,EAAKC,GAAG,OAAKD,EAAMC,KAC7B,IACH9H,EAAMH,gBAAgBmF,OACnBhF,EAAMH,gBAAgB2E,KACpB,SAACiB,GAAI,OAAKA,EAAK8B,SACfK,QAAO,SAACC,EAAKC,GAAG,OAAKD,EAAMC,KAC7B,IAEN9J,UAAW,QACXtB,MAAO,MACP0B,aAAc,wBAGlBA,aAAc,QAEhB,CACE2F,MAAO,CACL,CACEC,QAAQ,GACRtH,MAAO,MACPC,SAAU,IAEZ,CAAEqH,QAAS,WAAYtH,MAAO,OAC9B,CACEsH,QAAQ,GAADjD,OACLf,EAAM+H,aACF/H,EAAMgI,WACHhI,EAAMN,YAAYsF,OACjBhF,EAAMN,YAAY8E,KAChB,SAACiB,GAAI,OACHA,EAAKC,aAAaQ,UAClBT,EAAKC,aAAaC,OACpBiC,QAAO,SAACC,EAAKC,GAAG,OAAKD,EAAMC,KAC7B,IACD9H,EAAML,WAAWqF,OACdhF,EAAML,WAAW6E,KACf,SAACiB,GAAI,OACHA,EAAKwC,YAAY/B,UACjBT,EAAKwC,YAAYtC,OACnBiC,QAAO,SAACC,EAAKC,GAAG,OAAKD,EAAMC,KAC7B,IACH9H,EAAMJ,gBAAgBoF,OACnBhF,EAAMJ,gBAAgB4E,KACpB,SAACiB,GAAI,OACHA,EAAK2B,iBAAiBlB,UACtBT,EAAK2B,iBAAiBzB,OACxBiC,QAAO,SAACC,EAAKC,GAAG,OAAKD,EAAMC,KAC7B,IACJ9H,EAAMgI,SACR,KAENhK,UAAW,QACXtB,MAAO,MACP0B,aAAc,wBAGlBA,aAAc,QAEhB,CACE2F,MAAO,CACL,CACEC,QAAQ,GACRtH,MAAO,MACPC,SAAU,IAEZ,CAAEqH,QAAS,YAAatH,MAAO,OAC/B,CACEsH,QAAQ,GAADjD,OACLf,EAAMkI,cACFlI,EAAMmI,YACHnI,EAAMN,YAAYsF,OACjBhF,EAAMN,YAAY8E,KAChB,SAACiB,GAAI,OACHA,EAAKC,aAAaQ,UAClBT,EAAKC,aAAaC,OACpBiC,QAAO,SAACC,EAAKC,GAAG,OAAKD,EAAMC,KAC7B,IACD9H,EAAML,WAAWqF,OACdhF,EAAML,WAAW6E,KACf,SAACiB,GAAI,OACHA,EAAKwC,YAAY/B,UACjBT,EAAKwC,YAAYtC,OACnBiC,QAAO,SAACC,EAAKC,GAAG,OAAKD,EAAMC,KAC7B,IACH9H,EAAMJ,gBAAgBoF,OACnBhF,EAAMJ,gBAAgB4E,KACpB,SAACiB,GAAI,OACHA,EAAK2B,iBAAiBlB,UACtBT,EAAK2B,iBAAiBzB,OACxBiC,QAAO,SAACC,EAAKC,GAAG,OAAKD,EAAMC,KAC7B,IACJ9H,EAAMmI,UACR,KAENnK,UAAW,QACXtB,MAAO,MACP0B,aAAc,wBAGlBA,aAAc,QAEhB,CACE2F,MAAO,CACL,CACEC,QAAQ,GACRtH,MAAO,MACPC,SAAU,IAEZ,CAAEqH,QAAS,QAAStH,MAAO,OAC3B,CACEsH,QAAQ,GAADjD,QACJf,EAAMN,YAAYsF,OACfhF,EAAMN,YAAY8E,KAChB,SAACiB,GAAI,OACHA,EAAKC,aAAaQ,UAClBT,EAAKC,aAAaC,OACpBiC,QAAO,SAACC,EAAKC,GAAG,OAAKD,EAAMC,KAC7B,IACH9H,EAAMF,aAAakF,OAChBhF,EAAMF,aAAa0E,KACjB,SAACiB,GAAI,OAAKA,EAAKS,UAAYT,EAAKE,OAChCiC,QAAO,SAACC,EAAKC,GAAG,OAAKD,EAAMC,KAC7B,IACH9H,EAAMJ,gBAAgBoF,OACnBhF,EAAMJ,gBAAgB4E,KACpB,SAACiB,GAAI,OACHA,EAAK2B,iBAAiBlB,UACtBT,EAAK2B,iBAAiBzB,OACxBiC,QAAO,SAACC,EAAKC,GAAG,OAAKD,EAAMC,KAC7B,IACH9H,EAAMH,gBAAgBmF,OACnBhF,EAAMH,gBAAgB2E,KACpB,SAACiB,GAAI,OAAKA,EAAK8B,SACfK,QAAO,SAACC,EAAKC,GAAG,OAAKD,EAAMC,KAC7B,IACH9H,EAAM+H,aACH/H,EAAMgI,WACHhI,EAAMN,YAAYsF,OACjBhF,EAAMN,YAAY8E,KAChB,SAACiB,GAAI,OACHA,EAAKC,aAAaQ,UAClBT,EAAKC,aAAaC,OACpBiC,QAAO,SAACC,EAAKC,GAAG,OAAKD,EAAMC,KAC7B,IACD9H,EAAML,WAAWqF,OACdhF,EAAML,WAAW6E,KACf,SAACiB,GAAI,OACHA,EAAKwC,YAAY/B,UACjBT,EAAKwC,YAAYtC,OACnBiC,QAAO,SAACC,EAAKC,GAAG,OAAKD,EAAMC,KAC7B,IACH9H,EAAMJ,gBAAgBoF,OACnBhF,EAAMJ,gBAAgB4E,KACpB,SAACiB,GAAI,OACHA,EAAK2B,iBAAiBlB,UACtBT,EAAK2B,iBAAiBzB,OACxBiC,QAAO,SAACC,EAAKC,GAAG,OAAKD,EAAMC,KAC7B,IACJ9H,EAAMgI,SACR,MACHhI,EAAMkI,cACHlI,EAAMmI,YACHnI,EAAMN,YAAYsF,OACjBhF,EAAMN,YAAY8E,KAChB,SAACiB,GAAI,OACHA,EAAKC,aAAaQ,UAClBT,EAAKC,aAAaC,OACpBiC,QAAO,SAACC,EAAKC,GAAG,OAAKD,EAAMC,KAC7B,IACD9H,EAAML,WAAWqF,OACdhF,EAAML,WAAW6E,KACf,SAACiB,GAAI,OACHA,EAAKwC,YAAY/B,UACjBT,EAAKwC,YAAYtC,OACnBiC,QAAO,SAACC,EAAKC,GAAG,OAAKD,EAAMC,KAC7B,IACH9H,EAAMJ,gBAAgBoF,OACnBhF,EAAMJ,gBAAgB4E,KACpB,SAACiB,GAAI,OACHA,EAAK2B,iBAAiBlB,UACtBT,EAAK2B,iBAAiBzB,OACxBiC,QAAO,SAACC,EAAKC,GAAG,OAAKD,EAAMC,KAC7B,IACJ9H,EAAMmI,UACR,MAENnK,UAAW,QACXtB,MAAO,WAIb8H,KAAI,SAAAgF,EAA6B9E,EAAUC,GAAM,IAA1CZ,EAAKyF,EAALzF,MAAUa,EAAYC,YAAA2E,EAAAC,IAAA,OAC7B7H,cAACoB,OAAI,CAEHF,MAAO,CACL5G,GAAOiC,SAAQ4G,YAAA,CAEb3G,aACEsG,IAAaC,EAAOK,OAAS,EAAI,OAAS,MACzCJ,IAELzC,SAED4B,EAAMS,KACL,SAAAkF,EAAuCxE,EAAOC,GAAO,IAAlDnB,EAAO0F,EAAP1F,QAAStH,EAAKgN,EAALhN,MAAU0I,EAAaP,YAAA6E,EAAAC,IAAA,OACjC/H,cAACqB,OAAI,CAEHH,MAAO,CACL5G,GAAOoC,YAAWyG,YAAA,CAEhBtG,YACEyG,IAAUC,EAAQH,OAAS,EAAI,OAAS,KAC1CM,UAAW5I,EACX6I,SAAU7I,GACP0I,IAELjD,SAED6B,GAZIkB,OAbNR,MA+BT9C,cAACqB,OAAI,CACHH,MAAO,CACLnG,SAAU,GACV6B,QAAS,EACTgK,SAAU,WACV9L,MAAO,MACP+L,OAAQ,EACRC,KAAM,GACNvG,SACH,oNAOF,CAAC,wKAAD,84BAMCqC,KAAI,SAACzG,EAAMmH,GAAK,OAChB7C,eAACW,OAAI,CAEHF,MAAO,CAAEhG,cAAe,MAAOe,OAAQ,SAAUsE,SAAA,CAEjDP,cAACoB,OAAI,CACHF,MAAO,CACLpG,MAAO,EACPC,SAAU,GACVC,WAAY,IACZiB,OAAQ,aACRH,MAAO,WACPyE,SAEFP,cAACqB,OAAI,CAAAd,SAAC,aAERP,cAACoB,OAAI,CACHF,MAAO,CACL6F,SAAU,EACVhM,SAAU,GACVC,WAAY,IACZc,MAAO,WACPyE,SAEFP,cAACqB,OAAI,CAAAd,SAAEpE,QAtBJmH,MA0BT7C,eAACW,OAAI,CAACF,MAAO5G,GAAO6N,KAAK5H,SAAA,CACvBP,cAACqB,OAAI,CACHH,MAAO,CACL8F,UAAW,MACXjM,SAAU,GACVC,WAAY,IACZc,MAAO,UACPhB,MAAO,OACPyF,SACH,iQAODP,cAAC0B,QAAK,CAACzE,IAAKiL,GAAahH,MAAO5G,GAAO4N,iBAExC,CAAC,4FAAD,qtBAWCtF,KAAI,SAACzG,EAAMmH,GAAK,OAChB7C,eAACW,OAAI,CAEHF,MAAO,CAAEhG,cAAe,MAAOM,WAAY,QAAS+E,SAAA,CAEpDP,cAACoB,OAAI,CACHF,MAAO,CACLpG,MAAO,EACPC,SAAU,GACVC,WAAY,IACZiB,OAAQ,aACRH,MAAO,WACPyE,SAEFP,cAACqB,OAAI,CAAAd,SAAC,aAERP,cAACoB,OAAI,CACHF,MAAO,CACL6F,SAAU,EACVhM,SAAU,GACVC,WAAY,IACZc,MAAO,WACPyE,SAEFP,cAACqB,OAAI,CAAAd,SAAEpE,QAtBJmH,MA0BTtD,cAACqB,OAAI,CACHH,MAAO,CACLnG,SAAU,GACVC,WAAY,IACZc,MAAO,WACPyE,SACH,2hBAWDP,cAACqB,OAAI,CACHH,MAAO,CACLnG,SAAU,GACVC,WAAY,IACZgM,UAAW,GACXlL,MAAO,WACPyE,SACH,6KAKDP,cAACqB,OAAI,CACHH,MAAO,CACLnG,SAAU,GACVC,WAAY,IACZgM,UAAW,GACXlL,MAAO,WACPyE,SACH,gCAGDP,cAACqB,OAAI,CACHH,MAAO,CACLnG,SAAU,GACVC,WAAY,IACZgM,UAAW,GACX9K,WAAY,OACZE,UAAW,UACXmE,SACH,2CAQTE,eAACR,IAAQ,CACPC,GAAI,CAAEpE,MAAO,OAAQqE,OAAQ,SAACC,GAAK,OAAKA,EAAMD,OAAOE,OAAS,IAC9DC,MAAM,EAAKC,SAAA,CAEXP,cAACgI,IAAW,IACZhI,cAACiI,IAAU,CAAA1H,SAAC,+C,wEC1kDZjG,GAASC,aAAWC,OAAO,CAC/BC,KAAM,CACJC,WAAY,GACZC,cAAe,GACfC,kBAAmB,IAErBC,OAAQ,CACNC,MAAO,OACPC,SAAU,EACVC,WAAY,IACZC,aAAc,GACdC,cAAe,MACfC,WAAY,UAEdC,MAAO,CACLC,WAAY,kBACZN,SAAU,GACVE,aAAc,GACdK,cAAe,aAEjBC,KAAM,CACJC,WAAY,OACZV,MAAO,IAETW,KAAM,CACJP,cAAe,MACfD,aAAc,IAEhBS,YAAa,CACXL,WAAY,kBACZN,SAAU,EACVD,MAAO,IACPa,aAAc,GACdX,WAAY,KAEdY,WAAY,CACVP,WAAY,kBACZN,SAAU,EACVD,MAAO,IACPa,aAAc,GACdX,WAAY,KAEda,MAAO,CACLC,MAAO,UACPC,eAAgB,aAElBC,SAAU,CACRjB,SAAU,GACVkB,OAAQ,GACRC,WAAY,IACZb,WAAY,mBAEdc,KAAM,CACJF,OAAQ,GACRlB,SAAU,GACVqB,UAAW,UACXf,WAAY,eAEdgB,MAAO,CACLtB,SAAU,EACVE,aAAc,GACdqB,OAAQ,uBAEVC,SAAU,CACRxB,SAAU,EACVyB,aAAc,sBACdtB,cAAe,MACfuB,UAAW,GACXpB,WAAY,mBAEdqB,YAAa,CACXC,KAAM,EACNC,QAAS,UACTC,YAAa,yBAIjBC,OAAKC,SAAS,CACZC,OAAQ,kBACRC,IAAKC,IAGP,IAAMC,GAAa,CACjB,UACA,WACA,QACA,QACA,MACA,OACA,OACA,SACA,YACA,UACA,WACA,YAQaC,gBALS,SAAC3E,GAEvB,MAAO,CAAEiB,QADOjB,EAAMiB,QAAQT,SAIjBmE,EAAyB,SAACC,GACvC,IAAQ3D,EAAY2D,EAAZ3D,QACR4D,EAA8BC,oBAAS,GAAMC,EAAAC,YAAAH,EAAA,GAAtCI,EAAOF,EAAA,GAAEG,EAAUH,EAAA,GAC1BI,EAAkCL,mBAAS,CACzCM,OAAQ,GACRC,YAAa,GACbC,WAAY,GACZC,gBAAiB,GACjBoK,oBAAqB,GACrBC,iBAAkB,KAClBlK,EAAAV,YAAAG,EAAA,GAPK0K,EAASnK,EAAA,GAAEoK,EAAYpK,EAAA,GAQtBG,EAAOC,cAAPD,GACRE,qBAAU,WACR,IAAMC,EAASC,IAAMC,YAAYF,SAEjC,OADA+J,EAAa,CAAElK,KAAIO,YAAaJ,EAAOnG,QAChC,kBAAMmG,EAAOK,OAAO,oCAC1B,CAACR,IAEJ,IAYMkK,EAAe,SAAHjJ,GAA6B,IAAvBjB,EAAEiB,EAAFjB,GAAIO,EAAWU,EAAXV,YAC1BH,IACGc,IAAI,cAADL,OAAeb,GAAM,CAAEO,gBAC1BY,MAAK,SAACC,GAEL/B,GAAW,GACX4K,EAAa7I,EAASG,SAEvBC,OAAM,SAAUC,GAEfpC,GAAW,OAIjB,OAAOjE,EACLsG,cAACC,IAAQ,CACPC,GAAI,CAAEpE,MAAO,OAAQqE,OAAQ,SAACC,GAAK,OAAKA,EAAMD,OAAOE,OAAS,IAC9DC,MAAM,EAAKC,SAEXP,cAACQ,IAAgB,CAAC1E,MAAM,cAExB4B,EACFsC,cAACsH,YAAS,CAACC,OAAO,OAAMhH,SACtBP,cAACgB,WAAQ,CAAAT,SACPE,eAACQ,OAAI,CAACC,MAAO5G,GAAOG,KAAM0G,MAAI,EAAAZ,SAAA,CAC5BE,eAACW,OAAI,CAACF,MAAO5G,GAAOO,OAAO0F,SAAA,CACzBE,eAACW,OAAI,CAAAb,SAAA,CACHP,cAACqB,OAAI,CAACH,MAAO5G,GAAOc,MAAMmF,SAAC,cAC3BE,eAACY,OAAI,CAAAd,SAAA,CAAC,SAxCI,SAACvB,GACrB,IAAMC,EAAM,IAAIC,KAAKF,GACrB,MAAM,GAANG,OACEhC,GAAW8B,EAAIG,YAAW,KAAAD,OACxBF,EAAII,UAAS,MAAAF,OAAKF,EAAIK,eAoCHP,CAAcuJ,EAAUhH,cACrCtB,cAACqB,OAAI,CAAAd,SAAA,SAAApB,OACOmJ,EAAUzK,OAAO0D,QAAMpC,OAnC5B,SAACH,GAClB,IAAMC,EAAM,IAAIC,KAAKF,GACrB,MAAM,GAANG,OAAUF,EAAIK,eAAaH,OAAGF,EAAIG,YAAUD,OAAGF,EAAII,WAiCHoJ,CAClCH,EAAUhH,YACXnC,QAAI,MAAQmJ,EAAUI,cAAcjH,QAAQ,SAGjDzB,cAACoB,OAAI,CAACF,MAAO5G,GAAOiB,KAAKgF,SACvBP,cAAC0B,QAAK,CAACzE,IAAK0E,SAGhBlB,eAACW,OAAI,CAACF,MAAO5G,GAAOmB,KAAK8E,SAAA,CACvBE,eAACW,OAAI,CAACF,MAAO5G,GAAOoB,YAAY6E,SAAA,CAC9BP,cAACqB,OAAI,CAAAd,SAAC,sCACNP,cAACqB,OAAI,CAAAd,SAAC,SACNP,cAACqB,OAAI,CAAAd,SAAC,oBACNP,cAACqB,OAAI,CAAAd,SAAC,wBACNP,cAACqB,OAAI,CAAAd,SAAC,uBACNP,cAACqB,OAAI,CAAAd,SAAC,mBACNE,eAACY,OAAI,CAAAd,SAAA,CAAC,UACGP,cAAC4B,QAAK,CAACV,MAAO5G,GAAOuB,MAAM0E,SAAC,gCAGvCE,eAACW,OAAI,CAACF,MAAO5G,GAAOsB,WAAW2E,SAAA,CAC7BE,eAACY,OAAI,CAAAd,SAAA,CAAC,kBAAgB+H,EAAUpQ,QAC/BoQ,EAAUzG,KAAOpB,eAACY,OAAI,CAAAd,SAAA,CAAC,QAAM+H,EAAUzG,QAAe,KACtDyG,EAAUxG,MAAQrB,eAACY,OAAI,CAAAd,SAAA,CAAC,SAAO+H,EAAUxG,SAAgB,KACzDwG,EAAUvG,MAAQtB,eAACY,OAAI,CAAAd,SAAA,CAAC,SAAO+H,EAAUvG,SAAgB,KAC1D/B,cAACqB,OAAI,CAAAd,SAAE+H,EAAUtG,SACjBhC,cAACqB,OAAI,CAAAd,SAAE+H,EAAUrG,WACjBxB,eAACY,OAAI,CAAAd,SAAA,CAAC,UAAQ+H,EAAUpG,SACxBzB,eAACY,OAAI,CAAAd,SAAA,CAAC,UACGP,cAAC4B,QAAK,CAACV,MAAO5G,GAAOuB,MAAM0E,SAAE+H,EAAUzM,iBAIpDmE,cAACoB,OAAI,CAACF,MAAO5G,GAAO+B,MAAMkE,SACvB,CACC,CACE4B,MAAO,CACL,CAAEC,QAAS,cAAetH,MAAO,OACjC,CAAEsH,QAAS,yBAA0BtH,MAAO,OAC5C,CAAEsH,QAAS,gBAAiBtH,MAAO,OACnC,CAAEsH,QAAS,YAAahG,UAAW,QAAStB,MAAO,QAErDuH,gBAAiB,UACjB/G,cAAe,aAEjB,CACE6G,MAAO,CACL,CACEC,QAAQ,GAADjD,OAAKmJ,EAAUzK,OAAOyE,UAAS,KAAAnD,OAAImJ,EAAUzK,OAAO0E,UAC3DzH,MAAO,OAET,CACEsH,SACGkG,EAAU9F,SAAW,IAAM,EAAC,OAAArD,OAClBmJ,EAAU9F,SAAW,EAAC,iBAAArD,OAC3BmJ,EAAU9F,SAAW,IAAM,EAAI,GAAK,IAAG,yBAAArD,OAElCmJ,EAAU9F,SAAQ,gBAAArD,OACA,IAAvBmJ,EAAU9F,SAAiB,GAAK,IAAG,mBACjB,KAAI,GAAArD,OAAMmJ,EAAUlE,QAC9CtJ,MAAO,OAET,CAAEsH,QAASkG,EAAU7F,aAAc3H,MAAO,OAC1C,CACEsH,QAAQ,GAADjD,OAAKmJ,EAAUK,SAAQ,UAAAxJ,OACL,IAAvBmJ,EAAUK,SAAiB,GAAK,KAElCvM,UAAW,QACXtB,MAAO,UAIb8H,KAAI,SAAAC,EAA6BC,EAAUC,GAAM,IAA1CZ,EAAKU,EAALV,MAAUa,EAAYC,YAAAJ,EAAAK,IAAA,OAC7BlD,cAACoB,OAAI,CAEHF,MAAO,CACL5G,GAAOiC,SAAQ4G,YAAA,CAEb3G,aACEsG,IAAaC,EAAOK,OAAS,EAAI,OAAS,MACzCJ,IAELzC,SAED4B,EAAMS,KACL,SAAAS,EAAuCC,EAAOC,GAAO,IAAlDnB,EAAOiB,EAAPjB,QAAStH,EAAKuI,EAALvI,MAAU0I,EAAaP,YAAAI,EAAAI,IAAA,OACjCzD,cAACqB,OAAI,CAEHH,MAAO,CACL5G,GAAOoC,YAAWyG,YAAA,CAEhBtG,YACEyG,IAAUC,EAAQH,OAAS,EAAI,OAAS,KAC1CM,UAAW5I,EACX6I,SAAU7I,GACP0I,IAELjD,SAED6B,GAZIkB,OAbNR,QAgCXrC,eAACW,OAAI,CAACF,MAAO5G,GAAO+B,MAAMkE,SAAA,CACvB,CACC,CACE4B,MAAO,CACL,CAAEC,QAAS,MAAOtH,MAAO,OACzB,CAAEsH,QAAS,cAAetH,MAAO,OACjC,CAAEsH,QAAS,aAActH,MAAO,OAChC,CACEsH,QAAS,mBACThG,UAAW,QACXtB,MAAO,QAGXuH,gBAAiB,UACjB/G,cAAe,cAChB6D,OAAAyE,YACE0E,EAAUxK,YAAY8E,KAAI,SAACiB,GAAI,MAAM,CACtC1B,MAAO,CACL,CACEC,QAAQ,GAADjD,OAAK0E,EAAK+E,iBAAiB7E,KAClCjJ,MAAO,OAET,CACEsH,QAAQ,gBAADjD,OAAkB0E,EAAKG,MAAK,yCAAA7E,OAClB0E,EAAKI,MAAK,MAAA9E,OAAK0E,EAAKK,aAAe,gBAAkB,mBAAkB,4BAAA/E,OACpF0E,EAAKM,cAAgB,0BAA4B,6BAA4B,2CAAAhF,OAC9D0E,EAAK+E,iBAAiBxE,OAAM,0CAAAjF,OAC7B0E,EAAKO,OAAM,4BAAAjF,OACzBrF,KAAKC,MAAM8J,EAAK+E,iBAAiBvE,iBACrCvJ,MAAO,OAET,CACEsH,QAAQ,GAADjD,OAAK0E,EAAK+E,iBAAiBtE,WAClClI,UAAW,QACXtB,MAAO,OAET,CACEsH,QAAQ,GAADjD,OACL0E,EAAK+E,iBAAiBtE,UACtBT,EAAK+E,iBAAiB7E,KAExB3H,UAAW,QACXtB,MAAO,aAGV8I,YACA0E,EAAUD,iBAAiBzF,KAAI,SAACiB,GAAI,MAAM,CAC3C1B,MAAO,CACL,CACEC,QAAQ,GAADjD,OAAK0E,EAAKE,KACjBjJ,MAAO,OAET,CACEsH,QAAQ,eAADjD,OACLmJ,EAAUvK,WAAWwG,MACnB,SAACC,GAAK,OAAKA,EAAMlG,KAAOuF,EAAKY,WAC7BR,MAAK,yCAAA9E,OAGPmJ,EAAUvK,WAAWwG,MACnB,SAACC,GAAK,OAAKA,EAAMlG,KAAOuF,EAAKY,WAC7B3I,MAAK,mCAAAqD,OAGPmJ,EAAUvK,WAAWwG,MACnB,SAACC,GAAK,OAAKA,EAAMlG,KAAOuF,EAAKY,WAC7BC,QAAO,oCAAAvF,OAGTmJ,EAAUvK,WAAWwG,MACnB,SAACC,GAAK,OAAKA,EAAMlG,KAAOuF,EAAKY,WAC7BE,SAAQ,qCAAAxF,OAGVmJ,EAAUvK,WAAWwG,MACnB,SAACC,GAAK,OAAKA,EAAMlG,KAAOuF,EAAKY,WAC7BG,SAAQ,0BAAAzF,OAGV0E,EAAKgB,WAAU,cAAA1F,OACG0E,EAAKiB,YAAW,8CAAA3F,OACd0E,EAAKkB,UAAS,KAAA5F,OAAI0E,EAAKmB,SAAQ,KAAA7F,OAC7C0E,EAAKoB,aAAY,+CAAA9F,OAEF0E,EAAKqB,UAAQ/F,OACD,IAA3B0E,EAAKsB,kBACD,GAAE,sBAAAhG,OACoB0E,EAAKsB,kBAAiB,eAAAhG,OAAc0E,EAAKuB,kBAAiBjG,OAE9D,IAAtB0E,EAAKwB,aACD,GAAE,qBAAAlG,OACmB0E,EAAKwB,aAAY,qBAAAlG,OAAoB0E,EAAKyB,gBAAe,oBAAAnG,OAAmB0E,EAAK0B,aAAa,6CAAApG,OAE1G0E,EAAKO,OAAM,4CAAAjF,OACZmJ,EAAUvK,WAAWwG,MAAK,SAACC,GAAK,OAAKA,EAAMlG,KAAOuF,EAAKY,WAASL,QAC9E,kBAAiB,0BAAAjF,OAErBrF,KAAKC,MAAM8J,EAAKQ,iBAClBvJ,MAAO,OAET,CACEsH,QAAQ,GAADjD,OAAK0E,EAAKS,WACjBlI,UAAW,QACXtB,MAAO,OAET,CACEsH,QAAQ,GAADjD,OAAK0E,EAAKS,UAAYT,EAAKE,KAClC3H,UAAW,QACXtB,MAAO,aAGV8I,YACA0E,EAAUtK,gBAAgB4E,KAAI,SAACiB,GAAI,MAAM,CAC1C1B,MAAO,CACL,CACEC,QAAQ,GAADjD,OAAK0E,EAAKgF,qBAAqB9E,KACtCjJ,MAAO,OAET,CACEsH,QAAQ,GAADjD,OAAK0E,EAAK3L,KAAI,0BAAAiH,OAAyB0E,EAAK4B,SAAQ,2CAAAtG,OACxC0E,EAAKgF,qBAAqBzE,OAAM,0CAAAjF,OACjC0E,EAAKO,OAAM,4BAAAjF,OACzBrF,KAAKC,MAAM8J,EAAKgF,qBAAqBxE,iBACzCvJ,MAAO,OAET,CACEsH,QAAQ,GAADjD,OAAK0E,EAAKgF,qBAAqBvE,WACtClI,UAAW,QACXtB,MAAO,OAET,CACEsH,QAAQ,GAADjD,OACL0E,EAAKgF,qBAAqBvE,UAC1BT,EAAKgF,qBAAqB9E,KAE5B3H,UAAW,QACXtB,MAAO,aAGV8I,YACA0E,EAAUF,oBAAoBxF,KAAI,SAACiB,GAAI,MAAM,CAC9C1B,MAAO,CACL,CACEC,QAAS,IACTtH,MAAO,OAET,CACEsH,QAAQ,GAADjD,OAAK0E,EAAK6B,aACjB5K,MAAO,OAET,CACEsH,QAAQ,GAADjD,OAAK0E,EAAK8B,OACjBvJ,UAAW,QACXtB,MAAO,OAET,CACEsH,QAAQ,GAADjD,OAAK0E,EAAK8B,OACjBvJ,UAAW,QACXtB,MAAO,aAGV8I,YACAgC,MACDC,KAAKC,IACH,EACA,EACEwC,EAAUxK,YAAYsF,OACtBkF,EAAUvK,WAAWqF,OACrBkF,EAAUtK,gBAAgBoF,OAC1BkF,EAAUF,oBAAoBhF,SAElC2C,KAAK,CACL5D,MAAO,CACL,CAAEC,QAAS,GAAItH,MAAO,OACtB,CAAEsH,QAAS,GAAItH,MAAO,OACtB,CAAEsH,QAAS,GAAItH,MAAO,OACtB,CAAEsH,QAAS,GAAItH,MAAO,WAExB,CACF,CACEqH,MAAO,CACL,CACEC,QAAQ,GACRtH,MAAO,MACPC,SAAU,IAEZ,CAAEqH,QAAS,WAAYtH,MAAO,OAC9B,CACEsH,QAAQ,GAADjD,QACJmJ,EAAUxK,YAAYsF,OACnBkF,EAAUxK,YAAY8E,KACpB,SAACiB,GAAI,OACHA,EAAK+E,iBAAiBtE,UACtBT,EAAK+E,iBAAiB7E,OACxBiC,QAAO,SAACC,EAAKC,GAAG,OAAKD,EAAMC,KAC7B,IACHoC,EAAUD,iBAAiBjF,OACxBkF,EAAUD,iBAAiBzF,KACzB,SAACiB,GAAI,OAAKA,EAAKS,UAAYT,EAAKE,OAChCiC,QAAO,SAACC,EAAKC,GAAG,OAAKD,EAAMC,KAC7B,IACHoC,EAAUtK,gBAAgBoF,OACvBkF,EAAUtK,gBAAgB4E,KACxB,SAACiB,GAAI,OACHA,EAAKgF,qBAAqBvE,UAC1BT,EAAKgF,qBAAqB9E,OAC5BiC,QAAO,SAACC,EAAKC,GAAG,OAAKD,EAAMC,KAC7B,IACHoC,EAAUF,oBAAoBhF,OAC3BkF,EAAUF,oBAAoBxF,KAC5B,SAACiB,GAAI,OAAKA,EAAK8B,SACfK,QAAO,SAACC,EAAKC,GAAG,OAAKD,EAAMC,KAC7B,IAEN9J,UAAW,QACXtB,MAAO,MACP0B,aAAc,wBAGlBA,aAAc,QAEhB,CACE2F,MAAO,CACL,CACEC,QAAQ,GACRtH,MAAO,MACPC,SAAU,IAEZ,CAAEqH,QAAS,WAAYtH,MAAO,OAC9B,CACEsH,QAAQ,GAADjD,OACLmJ,EAAUnC,aACNmC,EAAUlC,WACPkC,EAAUxK,YAAYsF,OACrBkF,EAAUxK,YAAY8E,KACpB,SAACiB,GAAI,OACHA,EAAK+E,iBAAiBtE,UACtBT,EAAK+E,iBAAiB7E,OACxBiC,QAAO,SAACC,EAAKC,GAAG,OAAKD,EAAMC,KAC7B,IACDoC,EAAUvK,WAAWqF,OAClBkF,EAAUvK,WAAW6E,KACnB,SAACiB,GAAI,OACHA,EAAKiF,gBAAgBxE,UACrBT,EAAKiF,gBAAgB/E,OACvBiC,QAAO,SAACC,EAAKC,GAAG,OAAKD,EAAMC,KAC7B,IACHoC,EAAUtK,gBAAgBoF,OACvBkF,EAAUtK,gBAAgB4E,KACxB,SAACiB,GAAI,OACHA,EAAKgF,qBAAqBvE,UAC1BT,EAAKgF,qBAAqB9E,OAC5BiC,QAAO,SAACC,EAAKC,GAAG,OAAKD,EAAMC,KAC7B,IACJoC,EAAUlC,SACZ,KAENhK,UAAW,QACXtB,MAAO,MACP0B,aAAc,wBAGlBA,aAAc,QAEhB,CACE2F,MAAO,CACL,CACEC,QAAQ,GACRtH,MAAO,MACPC,SAAU,IAEZ,CAAEqH,QAAS,YAAatH,MAAO,OAC/B,CACEsH,QAAQ,GAADjD,OACLmJ,EAAUhC,cACNgC,EAAU/B,YACP+B,EAAUxK,YAAYsF,OACrBkF,EAAUxK,YAAY8E,KACpB,SAACiB,GAAI,OACHA,EAAK+E,iBAAiBtE,UACtBT,EAAK+E,iBAAiB7E,OACxBiC,QAAO,SAACC,EAAKC,GAAG,OAAKD,EAAMC,KAC7B,IACDoC,EAAUvK,WAAWqF,OAClBkF,EAAUvK,WAAW6E,KACnB,SAACiB,GAAI,OACHA,EAAKiF,gBAAgBxE,UACrBT,EAAKiF,gBAAgB/E,OACvBiC,QAAO,SAACC,EAAKC,GAAG,OAAKD,EAAMC,KAC7B,IACHoC,EAAUtK,gBAAgBoF,OACvBkF,EAAUtK,gBAAgB4E,KACxB,SAACiB,GAAI,OACHA,EAAKgF,qBAAqBvE,UAC1BT,EAAKgF,qBAAqB9E,OAC5BiC,QAAO,SAACC,EAAKC,GAAG,OAAKD,EAAMC,KAC7B,IACJoC,EAAU/B,UACZ,KAENnK,UAAW,QACXtB,MAAO,MACP0B,aAAc,wBAGlBA,aAAc,QAEhB,CACE2F,MAAO,CACL,CACEC,QAAQ,GACRtH,MAAO,MACPC,SAAU,IAEZ,CAAEqH,QAAS,QAAStH,MAAO,OAC3B,CACEsH,QAAQ,GAADjD,QACJmJ,EAAUxK,YAAYsF,OACnBkF,EAAUxK,YAAY8E,KACpB,SAACiB,GAAI,OACHA,EAAK+E,iBAAiBtE,UACtBT,EAAK+E,iBAAiB7E,OACxBiC,QAAO,SAACC,EAAKC,GAAG,OAAKD,EAAMC,KAC7B,IACHoC,EAAUD,iBAAiBjF,OACxBkF,EAAUD,iBAAiBzF,KACzB,SAACiB,GAAI,OAAKA,EAAKS,UAAYT,EAAKE,OAChCiC,QAAO,SAACC,EAAKC,GAAG,OAAKD,EAAMC,KAC7B,IACHoC,EAAUtK,gBAAgBoF,OACvBkF,EAAUtK,gBAAgB4E,KACxB,SAACiB,GAAI,OACHA,EAAKgF,qBAAqBvE,UAC1BT,EAAKgF,qBAAqB9E,OAC5BiC,QAAO,SAACC,EAAKC,GAAG,OAAKD,EAAMC,KAC7B,IACHoC,EAAUF,oBAAoBhF,OAC3BkF,EAAUF,oBAAoBxF,KAC5B,SAACiB,GAAI,OAAKA,EAAK8B,SACfK,QAAO,SAACC,EAAKC,GAAG,OAAKD,EAAMC,KAC7B,IACHoC,EAAUnC,aACPmC,EAAUlC,WACPkC,EAAUxK,YAAYsF,OACrBkF,EAAUxK,YAAY8E,KACpB,SAACiB,GAAI,OACHA,EAAK+E,iBAAiBtE,UACtBT,EAAK+E,iBAAiB7E,OACxBiC,QAAO,SAACC,EAAKC,GAAG,OAAKD,EAAMC,KAC7B,IACDoC,EAAUvK,WAAWqF,OAClBkF,EAAUvK,WAAW6E,KACnB,SAACiB,GAAI,OACHA,EAAKiF,gBAAgBxE,UACrBT,EAAKiF,gBAAgB/E,OACvBiC,QAAO,SAACC,EAAKC,GAAG,OAAKD,EAAMC,KAC7B,IACHoC,EAAUtK,gBAAgBoF,OACvBkF,EAAUtK,gBAAgB4E,KACxB,SAACiB,GAAI,OACHA,EAAKgF,qBAAqBvE,UAC1BT,EAAKgF,qBAAqB9E,OAC5BiC,QAAO,SAACC,EAAKC,GAAG,OAAKD,EAAMC,KAC7B,IACJoC,EAAUlC,SACZ,MACHkC,EAAUhC,cACPgC,EAAU/B,YACP+B,EAAUxK,YAAYsF,OACrBkF,EAAUxK,YAAY8E,KACpB,SAACiB,GAAI,OACHA,EAAK+E,iBAAiBtE,UACtBT,EAAK+E,iBAAiB7E,OACxBiC,QAAO,SAACC,EAAKC,GAAG,OAAKD,EAAMC,KAC7B,IACDoC,EAAUvK,WAAWqF,OAClBkF,EAAUvK,WAAW6E,KACnB,SAACiB,GAAI,OACHA,EAAKiF,gBAAgBxE,UACrBT,EAAKiF,gBAAgB/E,OACvBiC,QAAO,SAACC,EAAKC,GAAG,OAAKD,EAAMC,KAC7B,IACHoC,EAAUtK,gBAAgBoF,OACvBkF,EAAUtK,gBAAgB4E,KACxB,SAACiB,GAAI,OACHA,EAAKgF,qBAAqBvE,UAC1BT,EAAKgF,qBAAqB9E,OAC5BiC,QAAO,SAACC,EAAKC,GAAG,OAAKD,EAAMC,KAC7B,IACJoC,EAAU/B,UACZ,MAENnK,UAAW,QACXtB,MAAO,WAIb8H,KAAI,SAAA4D,EAA6B1D,EAAUC,GAAM,IAA1CZ,EAAKqE,EAALrE,MAAUa,EAAYC,YAAAuD,EAAAC,IAAA,OAC7BzG,cAACoB,OAAI,CAEHF,MAAO,CACL5G,GAAOiC,SAAQ4G,YAAA,CAEb3G,aACEsG,IAAaC,EAAOK,OAAS,EAAI,OAAS,MACzCJ,IAELzC,SAED4B,EAAMS,KACL,SAAA8D,EAAuCpD,EAAOC,GAAO,IAAlDnB,EAAOsE,EAAPtE,QAAStH,EAAK4L,EAAL5L,MAAU0I,EAAaP,YAAAyD,EAAAC,IAAA,OACjC3G,cAACqB,OAAI,CAEHH,MAAO,CACL5G,GAAOoC,YAAWyG,YAAA,CAEhBtG,YACEyG,IAAUC,EAAQH,OAAS,EAAI,OAAS,KAC1CM,UAAW5I,EACX6I,SAAU7I,GACP0I,IAELjD,SAED6B,GAZIkB,OAbNR,MA+BT9C,cAACqB,OAAI,CACHH,MAAO,CACLnG,SAAU,GACV6B,QAAS,EACTgK,SAAU,WACV9L,MAAO,MACP+L,OAAQ,EACRC,KAAM,GACNvG,SACH,oNAOF,CAAC,wKAAD,2/BAOCqC,KAAI,SAACzG,EAAMmH,GAAK,OAChB7C,eAACW,OAAI,CAAaF,MAAO,CAAEhG,cAAe,MAAOe,OAAQ,SAAUsE,SAAA,CACjEP,cAACoB,OAAI,CACHF,MAAO,CACLpG,MAAO,EACPC,SAAU,GACVC,WAAY,IACZiB,OAAQ,aACRH,MAAO,WACPyE,SAEFP,cAACqB,OAAI,CAAAd,SAAC,aAERP,cAACoB,OAAI,CACHF,MAAO,CACL6F,SAAU,EACVhM,SAAU,GACVC,WAAY,IACZc,MAAO,WACPyE,SAEFP,cAACqB,OAAI,CAAAd,SAAEpE,QApBAmH,MAwBbtD,cAACqB,OAAI,CACHH,MAAO,CACL8F,UAAW,MACXjM,SAAU,GACVC,WAAY,IACZc,MAAO,WACPyE,SACH,iQAMA,CAAC,4FAAD,2xBAWC,sFAEAqC,KAAI,SAACzG,EAAMmH,GAAK,OAChB7C,eAACW,OAAI,CAEHF,MAAO,CAAEhG,cAAe,MAAOM,WAAY,QAAS+E,SAAA,CAEpDP,cAACoB,OAAI,CACHF,MAAO,CACLpG,MAAO,EACPyM,OAAQ,EACRtL,OAAQ,eACRoG,gBAAiB,aAGrBrC,cAACoB,OAAI,CACHF,MAAO,CACL6F,SAAU,EACVhM,SAAU,GACVC,WAAY,IACZc,MAAO,WACPyE,SAEFP,cAACqB,OAAI,CAAAd,SAAEpE,QAnBJmH,MAuBTtD,cAACqB,OAAI,CACHH,MAAO,CACLnG,SAAU,GACVC,WAAY,IACZgM,UAAW,GACXlL,MAAO,WACPyE,SACH,2hBAWDP,cAACqB,OAAI,CACHH,MAAO,CACLnG,SAAU,GACVC,WAAY,IACZgM,UAAW,GACXlL,MAAO,WACPyE,SACH,+KAKDP,cAACqB,OAAI,CACHH,MAAO,CACLnG,SAAU,GACVC,WAAY,IACZgM,UAAW,GACXlL,MAAO,WACPyE,SACH,gCAGDP,cAACqB,OAAI,CACHH,MAAO,CACLnG,SAAU,GACVC,WAAY,IACZgM,UAAW,GACX9K,WAAY,OACZE,UAAW,UACXmE,SACH,wCAOPE,eAACR,IAAQ,CACPC,GAAI,CAAEpE,MAAO,OAAQqE,OAAQ,SAACC,GAAK,OAAKA,EAAMD,OAAOE,OAAS,IAC9DC,MAAM,EAAKC,SAAA,CAEXP,cAACgI,IAAW,IACZhI,cAACiI,IAAU,CAAA1H,SAAC,iD,yHCv1BL1H,GAAS,WAAH,OAAS,SAACkQ,UACpBrK,IAAMsK,SAASC,QAAQC,OAAsB,cACpDH,EAAS,CAAEI,KAAM,kBCDnB,IAAMC,GAAY,SAAC/L,GACjB,OACEoD,eAACwH,IAAU9E,wBAAA,CACTkG,QAAQ,QACRvN,MAAM,iBACNwN,MAAM,UACFjM,GAAK,IAAAkD,SAAA,CAER,kBACDP,cAACuJ,KAAI,CAACzN,MAAM,UAAU0N,KAAK,6BAA4BjJ,SAAC,sBAEhD,KACP,IAAIrB,MAAOI,cACX,SAKQlC,gBAvBf,SAAyB3E,GAEvB,MAAO,CAAET,KADQS,EAATT,QAsB8B,CAAEyR,MDzCrB,SAAC5J,GAAI,OAAK,SAACkJ,GAC9B,OAAO,IAAIW,SAAQ,SAACC,EAASC,GAC3BlL,IACGmL,KAAK,cAAehK,GACpBJ,MAAK,SAACC,GAEL,IAAAoK,EAAwBpK,EAASG,KAAzBvH,EAAKwR,EAALxR,MACFD,EAAmB,UADNyR,EAAJX,KAEfzK,IAAMsK,SAASC,QAAQC,OAAsB,cAAC,UAAA/J,OAAa7G,GAC3DyQ,EAAS,CAAEI,KAAM,oBAAqBxQ,QAAS,CAAEL,QAAOD,aACxDsR,OAED7J,OAAM,SAAUC,GAEf6J,EAAO7J,MAERN,MAAK,qBCyBGrC,EAAoC,SAACC,GAsBlD,OACEoD,eAAAsJ,WAAA,CAAAxJ,SAAA,CACEE,eAACuJ,KAAG,CACF9J,GAAM,CACJ+J,GAAI,EACJC,GAAI,EACJC,QAAS,OACTjP,cAAe,SACfC,WAAY,UACZoF,SAAA,CAEFP,cAAA,OAAK/C,IAAOmN,EAAYlJ,MAAO,CAAEyC,SAAU,QAAU0G,IAAI,gBACzDrK,cAACsK,KAAM,CAACpK,GAAM,CAAEqK,EAAG,EAAGC,QAAS,kBAAmBjK,SAChDP,cAACyK,KAAgB,MAEnBzK,cAACiI,IAAU,CAACyC,UAAU,KAAKrB,QAAQ,KAAI9I,SAAC,YAGxCE,eAACuJ,KAAG,CACFrG,SAAW,KACX7I,MAAQ,OACR4P,UAAY,OACZC,SA3Ca,SAACC,GACpBA,EAAMC,iBACN,IAAMC,EAAOF,EAAMG,cACblL,EAAO,IAAImL,SAASF,GAC1BzN,EACGoM,MAAM,CACL5N,MAAOgE,EAAKL,IAAI,SAChByL,SAAUpL,EAAKL,IAAI,cAEpBC,OACAK,OAAM,SAACoL,GACNJ,EAAKG,SAAShS,MAAQ,GACtBkS,KAAKC,KAAK,CACRC,KAAM,QACNjQ,MAAO,gBACPkQ,KAAMJ,EAAIxL,SAASG,KAAK0L,QAAQC,QAAQ,KAAM,UAC9CC,mBAAmB,QA4BnBC,YAAU,EACVxL,GAAM,CAAEgK,GAAI,GAAI3J,SAAA,CAEhBE,eAACkL,KAAI,CAACC,WAAS,EAACC,QAAS,EAAEtL,SAAA,CACzBP,cAAC2L,KAAI,CAAC9H,MAAI,EAACiI,GAAI,GAAGvL,SAChBP,cAAC+L,KAAS,CACRC,UAAQ,EACRC,WAAS,EACT3N,GAAG,QACH4N,MAAM,gBACN/C,KAAK,QACLjR,KAAK,QACLiU,aAAa,QACbC,WAAS,MAGbpM,cAAC2L,KAAI,CAAC9H,MAAI,EAACiI,GAAI,GAAGvL,SAChBP,cAAC+L,KAAS,CACRC,UAAQ,EACRC,WAAS,EACT/T,KAAK,WACLgU,MAAM,WACN/C,KAAK,WACL7K,GAAG,WACH6N,aAAa,0BAKnBnM,cAACqM,KAAgB,CACfC,QAAStM,cAACuM,KAAQ,CAACtT,MAAM,WAAW6C,MAAM,YAC1CoQ,MAAM,gBAERlM,cAACwM,KAAM,CACLrD,KAAO,SACP8C,WAAS,EACT5C,QAAQ,YACRnJ,GAAM,CAAEgK,GAAI,EAAGuC,GAAI,GAAIlM,SACxB,YAGDE,eAACkL,KAAI,CAACC,WAAS,EAAArL,SAAA,CACbP,cAAC2L,KAAI,CAAC9H,MAAI,EAACiI,IAAE,EAAAvL,SACXP,cAACuJ,KAAI,CAACC,KAAK,IAAIH,QAAQ,QAAO9I,SAAC,uBAIjCP,cAAC2L,KAAI,CAAC9H,MAAI,EAAAtD,SACRP,cAACuJ,KAAI,CAACmB,UAAWgC,IAAYC,GAAG,UAAUtD,QAAQ,QAAO9I,SACtD,8CAMXP,cAACoJ,GAAS,CAAClJ,GAAI,CAAEgK,GAAI,EAAGuC,GAAI,W,wCCpHlC,IAAMrD,GAAY,SAAC/L,GACjB,OACEoD,eAACwH,IAAU9E,wBAAA,CACTkG,QAAQ,QACRvN,MAAM,iBACNwN,MAAM,UACFjM,GAAK,IAAAkD,SAAA,CAER,kBACDP,cAACuJ,KAAI,CAACzN,MAAM,UAAU0N,KAAK,6BAA4BjJ,SAAC,sBAEhD,KACP,IAAIrB,MAAOI,cACX,SAKQlC,gBAvBf,SAAyB3E,GAEvB,MAAO,CAAET,KADQS,EAATT,QAsBKoF,EAAyB,SAACC,GAsCvC,OACEoD,eAAAsJ,WAAA,CAAAxJ,SAAA,CACEE,eAACuJ,KAAG,CACF9J,GAAI,CACF+J,GAAI,EACJC,GAAI,EACJC,QAAS,OACTjP,cAAe,SACfC,WAAY,UACZoF,SAAA,CAEFP,cAAA,OAAK/C,IAAKmN,EAAYlJ,MAAO,CAAEyC,SAAU,QAAU0G,IAAI,gBACvDrK,cAACsK,KAAM,CAACpK,GAAI,CAAEqK,EAAG,EAAGC,QAAS,kBAAmBjK,SAC9CP,cAACyK,KAAgB,MAEnBzK,cAACiI,IAAU,CAACyC,UAAU,KAAKrB,QAAQ,KAAI9I,SAAC,YAGxCE,eAACuJ,KAAG,CACFrG,SAAS,KACT7I,MAAM,OACN4P,UAAU,OACVC,SA3Da,SAACC,GACpBA,EAAMC,iBACN,IAAMC,EAAOF,EAAMG,cACblL,EAAO,IAAImL,SAASF,GAC1BpM,IACGmL,KAAK,gBAAiB,CACrBvH,UAAWzC,EAAKL,IAAI,aACpB+C,SAAU1C,EAAKL,IAAI,YACnB3D,MAAOgE,EAAKL,IAAI,SAChByL,SAAUpL,EAAKL,IAAI,YACnB+B,OAAQ1B,EAAKL,IAAI,UACjB2J,KAAMtJ,EAAKL,IAAI,UAEhBC,MAAK,WAEJpC,EAAMuP,QAAQC,KAAK,WACnB1B,KAAKC,KAAK,CACRC,KAAM,UACNjQ,MAAO,iBACPkQ,KAAK,kGACLG,mBAAmB,OAGtB3L,OAAM,SAACoL,GAENC,KAAKC,KAAK,CACRC,KAAM,QACNjQ,MAAO,iBACPkQ,KAAMJ,EAAIxL,SAASG,KAAK0L,QAAQC,QAAQ,KAAM,UAC9CC,mBAAmB,OAGtBhM,MAAK,gBA4BFiM,YAAU,EACVxL,GAAI,CAAEgK,GAAI,GAAI3J,SAAA,CAEdE,eAACkL,KAAI,CAACC,WAAS,EAACC,QAAS,EAAEtL,SAAA,CACzBP,cAAC2L,KAAI,CAAC9H,MAAI,EAACiI,GAAI,GAAIgB,GAAI,EAAEvM,SACvBP,cAAC+L,KAAS,CACRC,UAAQ,EACRC,WAAS,EACTC,MAAM,aACN/C,KAAK,OACLjR,KAAK,YACLiU,aAAa,QACbC,WAAS,MAGbpM,cAAC2L,KAAI,CAAC9H,MAAI,EAACiI,GAAI,GAAIgB,GAAI,EAAEvM,SACvBP,cAAC+L,KAAS,CACRC,UAAQ,EACRC,WAAS,EACTC,MAAM,YACN/C,KAAK,OACLjR,KAAK,WACLiU,aAAa,YAGjBnM,cAAC2L,KAAI,CAAC9H,MAAI,EAACiI,GAAI,GAAGvL,SAChBP,cAAC+L,KAAS,CACRC,UAAQ,EACRC,WAAS,EACT3N,GAAG,QACH4N,MAAM,gBACN/C,KAAK,QACLjR,KAAK,QACLiU,aAAa,YAGjBnM,cAAC2L,KAAI,CAAC9H,MAAI,EAACiI,GAAI,GAAGvL,SAChBP,cAAC+L,KAAS,CACRC,UAAQ,EACRC,WAAS,EACT/T,KAAK,WACLgU,MAAM,WACN/C,KAAK,WACLgD,aAAa,uBAGjBnM,cAAC2L,KAAI,CAAC9H,MAAI,EAACiI,GAAI,GAAIgB,GAAI,EAAEvM,SACvBP,cAAC+L,KAAS,CACRC,UAAQ,EACRC,WAAS,EACT/T,KAAK,SACLgU,MAAM,SACN/C,KAAK,OACLgD,aAAa,aAGjBnM,cAAC2L,KAAI,CAAC9H,MAAI,EAACiI,GAAI,GAAIgB,GAAI,EAAEvM,SACvBE,eAACsM,KAAW,CAACd,WAAS,EAAA1L,SAAA,CACpBP,cAACgN,KAAU,CAAC1O,GAAG,yBAAyB2O,KAAK,QAAO1M,SAAC,SAGrDE,eAACyM,KAAM,CACLC,QAAQ,yBACR7O,GAAG,mBACH8O,aAAa,GACblV,KAAK,OACLgU,MAAM,OAAM3L,SAAA,CAEZP,cAACqN,KAAQ,CAACpU,MAAM,WAAUsH,SAAC,aAC3BP,cAACqN,KAAQ,CAACpU,MAAM,SAAQsH,SAAC,sBAKjCP,cAACwM,KAAM,CACLrD,KAAK,SACL8C,WAAS,EACT5C,QAAQ,YACRnJ,GAAI,CAAEgK,GAAI,EAAGuC,GAAI,GAAIlM,SACtB,YAGDP,cAAC2L,KAAI,CAACC,WAAS,EAAC0B,eAAe,WAAU/M,SACvCP,cAAC2L,KAAI,CAAC9H,MAAI,EAAAtD,SACRP,cAACuJ,KAAI,CAACmB,UAAWgC,IAAYC,GAAG,UAAUtD,QAAQ,QAAO9I,SACtD,+CAMXP,cAACoJ,GAAS,CAAClJ,GAAI,CAAEgK,GAAI,EAAGuC,GAAI,W,oJCnJnBrP,gBAJS,SAAC3E,GAAK,MAAM,CAClCT,KAAMS,EAAMT,QAGCoF,EA5CG,SAAHmC,GACOA,EAApBmL,UACInL,EAAJvH,KAFa,IAGbuV,EAAYhO,EAAZgO,aACAC,EAAkBjO,EAAlBiO,mBACApS,EAAKmE,EAALnE,MACO6H,YAAA1D,EAAA2D,IAAA,OAEPlD,cAACyN,KAAM,CACL7G,SAAS,SACT1G,GAAI,CACFmC,gBAAiB,UACjBqB,UAAU,GAADvE,OAAKoO,EAAY,MAC1BG,UAAU,GAADvO,OAAKoO,EAAY,OAC1BhN,SAEFE,eAACkN,KAAO,CAACtE,QAAQ,QAAO9I,SAAA,CACtBP,cAAC4N,KAAU,CACT9R,MAAM,UACN,aAAW,cACX+R,KAAK,QACLC,QAASN,EACTtN,GAAI,CAAE6N,GAAI,EAAG5D,QAAS,CAAE2C,GAAI,SAAWvM,SAEvCP,cAACgO,KAAQ,MAEXhO,cAACiI,IAAU,CAACoB,QAAQ,KAAK4E,QAAM,EAACvD,UAAU,MAAKnK,SAC5CnF,Y,0FCdH8S,GAAwBC,aAAW,CACvCC,KAAM,CACJC,UAAW,aACX3T,WAAY,OACZI,MAAO,SAACuC,GAAK,OAAKA,EAAMiR,aACxBjM,gBAAiB,OACjBxF,YAAa,gCACb,MAAO,CACLd,eAAgB,QAElBwS,SAAU,OACV,uBAAwB,CACtBzT,MAAO,GAET,6BAA8B,CAC5BuH,gBAAiB,UACjBmM,aAAc,IAGlBC,QAAS,CACP3S,MAAO,UACP,UAAW,GAGX4S,WAAY,4BAEZ,0BAA2B,CACzBC,SAAU,QAEZ,mDAAoD,CAClD,YAAa,CACX7S,MAAO,eA+GA8S,GAzGM,SAAHrP,GAA8C,IAAxC+O,EAAW/O,EAAX+O,YAAaO,EAAYtP,EAAZsP,aAAcC,EAAKvP,EAALuP,MAC3CC,EAAUb,GAAsB,CAAEI,gBACxChR,EAA8BC,oBAAU,GAAEC,EAAAC,YAAAH,EAAA,GAAnC0R,EAAOxR,EAAA,GAAEyR,EAAUzR,EAAA,GAC1BI,EAAgCL,oBAAU,GAAEY,EAAAV,YAAAG,EAAA,GAArCsR,EAAQ/Q,EAAA,GAAEgR,EAAWhR,EAAA,GAE5B,OACEsC,eAACuJ,KAAG,CACFoF,UAAaL,EAAQX,KACrBlO,GAAM,CACJiK,QAAS,CAAE2B,GAAI,OAAQgB,GAAI,UAC3BvM,SAAA,CAEDuO,EAAMlM,KAAI,SAACyM,EAAMC,GAAS,MAAK,CAC9B7O,eAAC8O,KAAI,CAAAhP,SAAA,CACF8O,EAAK5J,SACJzF,cAACiI,IAAU,CAACoB,QAAQ,KAAKnJ,GAAI,CAAEsP,GAAI,QAASjP,SACzC8O,EAAK5J,WAEN,KACH4J,EAAKjN,QAAQQ,KAAI,SAAC6M,EAAUC,GAAS,OACpCD,EAASlP,SACP,CACEE,eAACkP,KAAQ,CAEPC,QAAM,EACNR,UAAWL,EAAQN,QACnBX,QAAS,WACHoB,IAAaQ,GAAaV,IAAYM,GACxCH,GAAa,GACbF,GAAY,KAEZE,EAAYO,GACZT,EAAWK,KAGfO,gBACE7P,cAAC8P,KAAc,CACb5P,GAAI,CACFwO,WAAY,qBACZqB,UACEb,IAAaQ,GAAaV,IAAYM,EAClC,GACA,oBAGX/O,SAAA,CAEDP,cAACgQ,KAAY,CAAAzP,SAAEkP,EAASpE,OACxBrL,cAACiQ,KAAY,CAACC,QAAST,EAASvD,UAAS,YAAA/M,OAzBxBuQ,IA2BnB1P,cAACmQ,KAAQ,CAEPC,GAAIlB,IAAaQ,GAAaV,IAAYM,EAAU/O,SAEpDP,cAACuP,KAAI,CAACc,gBAAc,EAAA9P,SACjBkP,EAASlP,SAASqC,KAAI,SAAC0N,EAAOC,GAAU,OACvCvQ,cAACwQ,IAAO,CAEN7D,GAAI2D,EAAMG,KACVC,OAAK,EACLC,gBAAgB,SAAQpQ,SAExBE,eAACkP,KAAQ,CAACC,QAAM,EAACR,UAAWL,EAAQN,QAAQlO,SAAA,CAC1CP,cAACgQ,KAAY,CAAAzP,SAAE,OACfP,cAACiQ,KAAY,CAACC,QAASI,EAAMpE,YAP1BqE,SAWJ,gBAAApR,OAjBcuQ,KAqBzB1P,cAACwQ,IAAOrN,wBAAA,CAENwN,gBAAgB,UACZlB,GAAQ,IAAAlP,SAEZE,eAACkP,KAAQ,CAACC,QAAM,EAACR,UAAWL,EAAQN,QAAQlO,SAAA,CAC1CP,cAACgQ,KAAY,CAAAzP,SAAEkP,EAASpE,OACxBrL,cAACiQ,KAAY,CAACC,QAAST,EAASvD,aACvB,YAAA/M,OAPMuQ,SAUtB,QAAAvQ,OAtEgBmQ,IAwEnBtP,cAAC4Q,KAAO,kBAAAzR,OAAqBmQ,QAE/BtP,cAACuP,KAAI,CAAAhP,SACHE,eAACkP,KAAQ,CAACC,QAAM,EAACR,UAAWL,EAAQN,QAASX,QAASe,EAAatO,SAAA,CACjEP,cAACgQ,KAAY,CAAAzP,SACXP,cAAC6Q,KAAU,MAEb7Q,cAACiQ,KAAY,CAACC,QAAQ,oB,UCjI1BhC,GAAwBC,aAAW,CACvCC,KAAM,CACJC,UAAW,aACX3T,WAAY,OACZI,MAAO,SAACuC,GAAK,OAAKA,EAAMiR,aACxBjM,gBAAiB,OACjBxF,YAAa,gCACb,MAAO,CACLd,eAAgB,SAGpB0S,QAAS,CACP3S,MAAO,UACP,UAAW,GAGX4S,WAAY,4BAEZ,0BAA2B,CACzBC,SAAU,QAEZ,mDAAoD,CAClD,YAAa,CACX7S,MAAO,eAsIA8S,GAhIM,SAAHrP,GAMX,IALL+O,EAAW/O,EAAX+O,YACAO,EAAYtP,EAAZsP,aACAiC,EAAiBvR,EAAjBuR,kBACAhC,EAAKvP,EAALuP,MACAiC,EAAUxR,EAAVwR,WAEMhC,EAAUb,GAAsB,CAAEI,gBACxChR,EAA8BC,oBAAU,GAAEC,EAAAC,YAAAH,EAAA,GAAnC0R,EAAOxR,EAAA,GAAEyR,EAAUzR,EAAA,GAC1BI,EAAgCL,oBAAU,GAAEY,EAAAV,YAAAG,EAAA,GAArCsR,EAAQ/Q,EAAA,GAAEgR,EAAWhR,EAAA,GAE5B,OACEsC,eAACuQ,KAAM,CACL3H,QAAQ,YACR/I,KAAMyQ,EACNE,QAASH,EACTI,WAAY,CACVC,aAAa,GAEfC,WAAY,CACVhC,UAAWL,EAAQX,MAErBlO,GAAI,CACFiK,QAAS,CAAE2B,GAAI,QAASgB,GAAI,SAC5BvM,SAAA,CAEDuO,EAAMlM,KAAI,SAACyM,EAAMC,GAAS,MAAK,CAC9B7O,eAAC8O,KAAI,CAAAhP,SAAA,CACD8O,EAAK5J,SACLzF,cAACiI,IAAU,CAACoB,QAAQ,KAAKnJ,GAAI,CAAEsP,GAAI,QAASjP,SACzC8O,EAAK5J,WAEN,KACF4J,EAAKjN,QAAQQ,KAAI,SAAC6M,EAAUC,GAAS,OACrCD,EAASlP,SACP,CACEE,eAACkP,KAAQ,CAEPC,QAAM,EACNR,UAAaL,EAAQN,QACrBX,QAAY,WACNoB,IAAaQ,GAAaV,IAAYM,GACxCH,GAAa,GACbF,GAAY,KAEZE,EAAYO,GACZT,EAAWK,KAGfO,gBACE7P,cAAC8P,KAAc,CACb5P,GAAI,CACFwO,WAAY,qBACZqB,UACEb,IAAaQ,GAAaV,IAAYM,EAClC,GACA,oBAGX/O,SAAA,CAEDP,cAACgQ,KAAY,CAAAzP,SAAEkP,EAASpE,OACxBrL,cAACiQ,KAAY,CAACC,QAAST,EAASvD,UAAS,YAAA/M,OAzBrBuQ,IA2BtB1P,cAACmQ,KAAQ,CAEPC,GAAOlB,IAAaQ,GAAaV,IAAYM,EAAW/O,SAExDP,cAACuP,KAAI,CAACc,gBAAc,EAAA9P,SACjBkP,EAASlP,SAASqC,KAAI,SAAC0N,EAAOC,GAAU,OACvCvQ,cAACwQ,IAAO,CAEN7D,GAAI2D,EAAMG,KACVC,OAAK,EACLC,gBAAgB,SAAQpQ,SAExBE,eAACkP,KAAQ,CAACC,QAAM,EAACR,UAAWL,EAAQN,QAAQlO,SAAA,CAC1CP,cAACgQ,KAAY,CAAAzP,SAAE,OACfP,cAACiQ,KAAY,CAACC,QAASI,EAAMpE,YAP1BqE,SAWJ,gBAAApR,OAjBiBuQ,KAqB5B1P,cAACwQ,IAAOrN,wBAAA,GAEFsM,GAAQ,IACZkB,gBAAkB,SAAQpQ,SAE1BE,eAACkP,KAAQ,CAACC,QAAM,EAACR,UAAWL,EAAQN,QAAQlO,SAAA,CAC1CP,cAACgQ,KAAY,CAAAzP,SAAEkP,EAASpE,OACxBrL,cAACiQ,KAAY,CAACC,QAAST,EAASvD,aACvB,YAAA/M,OAPQuQ,SAUxB,QAAAvQ,OAtEkBmQ,IAwErBtP,cAAC4Q,KAAO,kBAAAzR,OAAqBmQ,QAE/BtP,cAACuP,KAAI,CAAAhP,SACHE,eAACkP,KAAQ,CACPC,QAAM,EACNR,UAAaL,EAAQN,QACrBX,QAAW,SAACuD,GACVP,EAAkBO,GAClBxC,EAAawC,IACb9Q,SAAA,CAEFP,cAACgQ,KAAY,CAAAzP,SACXP,cAAC6Q,KAAU,MAEb7Q,cAACiQ,KAAY,CAACC,QAAU,oB,+SCpIlC,SAASoB,GAAqBC,EAAGC,EAAGC,GAClC,OAAID,EAAEC,GAAWF,EAAEE,IACT,EAEND,EAAEC,GAAWF,EAAEE,GACV,EAEF,EAGT,SAASC,GAActT,EAAOqT,GAC5B,MAAiB,SAAVrT,EACH,SAACmT,EAAGC,GAAC,OAAKF,GAAqBC,EAAGC,EAAGC,IACrC,SAACF,EAAGC,GAAC,OAAMF,GAAqBC,EAAGC,EAAGC,IAK5C,SAASE,GAAWC,EAAOC,GACzB,IAAMC,EAAiBF,EAAMhP,KAAI,SAACmP,EAAIzO,GAAK,MAAK,CAACyO,EAAIzO,MAQrD,OAPAwO,EAAeE,MAAK,SAACT,EAAGC,GACtB,IAAMpT,EAAQyT,EAAWN,EAAE,GAAIC,EAAE,IACjC,OAAc,IAAVpT,EACKA,EAEFmT,EAAE,GAAKC,EAAE,MAEXM,EAAelP,KAAI,SAACmP,GAAE,OAAKA,EAAG,MAGvC,SAASE,GAAkB5U,GACzB,IACE6U,EAQE7U,EARF6U,QACAC,EAOE9U,EAPF8U,iBACA/T,EAMEf,EANFe,MACAqT,EAKEpU,EALFoU,QACAW,EAIE/U,EAJF+U,YACAC,EAGEhV,EAHFgV,UACAC,EAEEjV,EAFFiV,SACAC,EACElV,EADFkV,cAOF,OACEvS,cAACwS,KAAS,CAAAjS,SACRE,eAACgS,KAAQ,CAAAlS,SAAA,EACL8R,GACArS,cAAC0S,KAAS,CAAC9V,QAAQ,WAAU2D,SAC3BP,cAACuM,KAAQ,CACPzQ,MAAM,UACN6W,cAAeP,EAAc,GAAKA,EAAcE,EAChDM,QAASN,EAAW,GAAKF,IAAgBE,EACzCO,SAAUV,EACVW,WAAY,CACV,aAAc,2BAKrBZ,EAAQtP,KAAI,SAAArD,GAAA,IApBQwT,EAoBLzU,EAAEiB,EAAFjB,GAAI4N,EAAK3M,EAAL2M,MAAO8G,EAAOzT,EAAPyT,QAAS9S,EAAEX,EAAFW,GAAO+S,EAAShQ,YAAA1D,EAAA2D,IAAA,OAClDlD,cAAC0S,KAASvP,wBAAA,CAERmG,MAAM,OACNpJ,GAAEiD,YAAA,CAAI+P,EAAG,iBAAoBhT,GAC7BiT,cAAe1B,IAAYnT,GAAKF,GAC5B6U,GAAS,IAAA1S,SAEZyS,EACC9G,EAEAlM,cAACoT,KAAc,CACbC,OAAQ5B,IAAYnT,EACpBgV,UAAW7B,IAAYnT,EAAKF,EAAQ,MACpC0P,SAlCaiF,EAkCczU,EAlCD,SAACsM,GACvC2H,EAAc3H,EAAOmI,KAkCTQ,cAAeC,KAAkBjT,SAEhC2L,MAfA5N,WAmCjB,IAAMmV,GAAuB,SAACpW,GAC5B,IAAQjC,EAA2DiC,EAA3DjC,MAAOgX,EAAoD/U,EAApD+U,YAAasB,EAAuCrW,EAAvCqW,gBAAiBC,EAAsBtW,EAAtBsW,kBAE7C,OACElT,eAACkN,KAAO,CACNzN,GAAEiD,YAAA,CACAqM,GAAI,CAAE1C,GAAI,GACV8G,GAAI,CAAE9H,GAAI,EAAGgB,GAAI,IACbsF,EAAc,GAAK,CACrB5H,QAAS,SAACpK,GAAK,OACbyT,aACEzT,EAAM0T,QAAQ5D,QAAQ6D,KACtB3T,EAAM0T,QAAQpb,OAAOsb,qBAG3BzT,SAAA,CAED6R,EAAc,EACb3R,eAACwH,IAAU,CACT/H,GAAI,CAAEvD,KAAM,YACZb,MAAM,UACNuN,QAAQ,YACRqB,UAAU,MAAKnK,SAAA,CAEd6R,EAAY,eAGfpS,cAACiI,IAAU,CACT/H,GAAI,CAAEvD,KAAM,YACZ0M,QAAQ,KACR/K,GAAG,aACHoM,UAAU,MAAKnK,SAEdnF,IAIJgX,EAAc,GACb3R,eAAAsJ,WAAA,CAAAxJ,SAAA,CACGmT,GACC1T,cAACiU,KAAO,CAAC7Y,MAAM,OAAMmF,SACnBP,cAAC4N,KAAU,CAACE,QAAS4F,EAAgBnT,SACnCP,cAACkU,KAAQ,QAIdP,GACC3T,cAACiU,KAAO,CAAC7Y,MAAM,SAAQmF,SACrBP,cAAC4N,KAAU,CAACE,QAAS6F,EAAkBpT,SACrCP,cAACmU,KAAU,eAiBrBC,GAAoBjG,cAAW,SAAC/N,GAAK,IAAAiU,EAAA,MAAM,CAC/ChY,OAAKgY,EAAA,GAAAC,aAAAD,EAAA,wBAAAlV,OACsBoV,KAAiBC,MAAS,CACjDnS,gBAAiBoS,KAAK,KACtB,SAAU,CAAE3Y,MAAO2Y,KAAK,KACxB1Z,SAAU,GACVmB,WAAY,MACboY,aAAAD,EAAC,wBAADlV,OACwBoV,KAAiB9Z,MAAS,CACjDM,SAAU,KACXuZ,aAAAD,EACD,sBAAuB,CACrB9M,OAAQ,GACR,qBAAsB,CACpBlF,gBAAiBqS,KAAK,KAExB,mCAAoC,CAClCpY,OAAQ,KAEX+X,OAuNUM,GAnNE,SAACtX,GAChB,IACEjC,EAMEiC,EANFjC,MACA8W,EAKE7U,EALF6U,QACAG,EAIEhV,EAJFgV,UACAqB,EAGErW,EAHFqW,gBACAC,EAEEtW,EAFFsW,kBACAiB,EACEvX,EADFuX,KAGI7F,EAAUqF,KAEhB9W,EAA0BC,mBAAS,OAAMC,EAAAC,YAAAH,EAAA,GAAlCc,EAAKZ,EAAA,GAAEa,EAAQb,EAAA,GACtBI,EAA8BL,mBAAS,SAAQY,EAAAV,YAAAG,EAAA,GAAxC6T,EAAOtT,EAAA,GAAE0W,EAAU1W,EAAA,GAC1B2W,EAAgCvX,mBAAS,IAAGwX,EAAAtX,YAAAqX,EAAA,GAArCE,EAAQD,EAAA,GAAEE,EAAWF,EAAA,GAC5BG,EAAwB3X,mBAAS,GAAE4X,EAAA1X,YAAAyX,EAAA,GAA5BE,EAAID,EAAA,GAAEE,EAAOF,EAAA,GACpBG,EAAsC/X,mBAAS,IAAGgY,EAAA9X,YAAA6X,EAAA,GAA3CE,EAAWD,EAAA,GAAEE,EAAcF,EAAA,GAClCG,EAAoCnY,mBAASqX,EAAKxR,QAAOuS,EAAAlY,YAAAiY,EAAA,GAAlDE,EAAUD,EAAA,GAAEE,EAAaF,EAAA,GAE1BG,EAAWC,mBAEjBvX,qBAAU,WACJsX,EAASE,UAAYpB,EAAKhS,KAAI,SAAC3D,GAAG,OAAKA,EAAIX,MAAI2X,KAAK,OACtDH,EAASE,QAAUpB,EAAKhS,KAAI,SAAC3D,GAAG,OAAKA,EAAIX,MAAI2X,KAAK,KAClDhB,EACED,EAASkB,QAAO,SAACrS,GAAI,OAAK+Q,EAAKhS,KAAI,SAACuT,GAAG,OAAKA,EAAI7X,MAAI8X,SAASvS,QAI7D+Q,EAAKxR,SAAWwS,IAClBP,EAAQ,GACRQ,EAAcjB,EAAKxR,WAEpB,CAACwR,EAAMI,IAEV,IA+CMqB,EACJjB,EAAO,EAAIvP,KAAKC,IAAI,GAAI,EAAIsP,GAAQI,EAAcZ,EAAKxR,QAAU,EAEnE,OACEpD,cAACgK,KAAG,CAAC9J,GAAI,CAAEpF,MAAO,QAASyF,SACzBE,eAAC6V,KAAK,CAACpW,GAAI,CAAEpF,MAAO,OAAQoP,GAAI,GAAI3J,SAAA,CAClCP,cAACyT,GAAoB,CACnBrY,MAAOA,EACPgX,YAAa4C,EAAS5R,OACtBsQ,gBACEA,EACI,SAAC9I,GACDA,EAAMC,iBACN6I,EAAgBsB,IAEhB,KAENrB,kBACEA,EACI,SAAC/I,GACDA,EAAMC,iBACN8I,EAAkBqB,IAElB,OAGRhV,cAACuW,KAAc,CAAAhW,SACbE,eAAC+V,KAAK,CACJpH,UAAWL,EAAQ1S,MACnB6D,GAAI,CAAEyO,SAAU,KAChB,kBAAgB,aAChB1B,KAAK,QAAO1M,SAAA,CAEZP,cAACiS,GAAiB,CAChBC,QAASA,EACTE,YAAa4C,EAAS5R,OACtBhF,MAAOA,EACPqT,QAASA,EACTU,iBA/EiB,SAACvH,GAC5B,GAAIA,EAAM6L,OAAO7D,QAAjB,CACE,IAAM8D,EAAe9B,EAAKhS,KAAI,SAAC+T,GAAC,OAAKA,EAAErY,MACvC2W,EAAYyB,QAGdzB,EAAY,KA0EF1C,cAtFc,SAAC3H,EAAOmI,GAEhC1U,EADcoT,IAAYsB,GAAsB,QAAV3U,EACrB,OAAS,OAC1ByW,EAAW9B,IAoFDV,UAAWA,EACXC,SAAUsC,EAAKxR,SAEjB3C,eAACmW,KAAS,CAAArW,SAAA,CAGPoR,GAAWiD,EAAMlD,GAActT,EAAOqT,IACpCoF,MAAMzB,EAAOI,EAAaJ,EAAOI,EAAcA,GAC/C5S,KAAI,SAACuT,EAAK7S,GACT,IApDIhF,EAoDEwY,GApDFxY,EAoD8B6X,EAAI7X,IApDD,IAA1B0W,EAAS+B,QAAQzY,IAqDtB6O,EAAO,2BAAAhO,OAA8BmE,GAE3C,OACE7C,eAACgS,KAAQ,CACPuE,KAAK,WACL,eAAcF,EACdG,UAAW,EAEXjC,SAAU8B,EACV5V,MAAuB,IAAhBiV,EAAIe,QAAgB,CAAE7U,gBAAiB,WAAa,GAAG9B,SAAA,EAE5D8R,GACArS,cAAC0S,KAAS,CAAC9V,QAAQ,WAAU2D,SAC3BP,cAACuM,KAAQ,CACPuB,QAAS,SAAClD,GAAK,OAhGrB,SAACA,EAAOtM,GAC1B,IAAM6Y,EAAgBnC,EAAS+B,QAAQzY,GACnC8Y,EAAc,IAEK,IAAnBD,EACFC,EAAcA,EAAYjY,OAAO6V,EAAU1W,GAChB,IAAlB6Y,EACTC,EAAcA,EAAYjY,OAAO6V,EAAS6B,MAAM,IACvCM,IAAkBnC,EAAS5R,OAAS,EAC7CgU,EAAcA,EAAYjY,OAAO6V,EAAS6B,MAAM,GAAI,IAC3CM,EAAgB,IACzBC,EAAcA,EAAYjY,OACxB6V,EAAS6B,MAAM,EAAGM,GAClBnC,EAAS6B,MAAMM,EAAgB,KAInClC,EAAYmC,GA+EgCC,CAAYzM,EAAOuL,EAAI7X,KAC3CxC,MAAM,UACN8W,QAASkE,EACThE,WAAY,CACV,kBAAmB3F,OAM1B+E,EAAQtP,KACP,SAAAC,EAEEyU,GAAU,IADRhZ,EAAEuE,EAAFvE,GAAoB4B,GAAX2C,EAALqJ,MAAcrJ,EAAPmQ,QAAWnQ,EAAF3C,IAAO+S,EAAShQ,YAAAJ,EAAAY,IAAA,OAGtCzD,cAAC0S,KAASvP,wBAAA,CAERuH,UAAU,KACVpM,GAAmB,IAAfgZ,EAAmBnK,EAAU,GACjCoK,MAAM,MACNrX,GAAEiD,YAAA,CAAI+P,EAAG,iBAAoBhT,IACzB+S,GAAS,IAAA1S,SAEL,UAAPjC,EAAiB6X,EAAI7X,GAAM,EAAI6X,EAAI7X,KAP/BgZ,QAvBNhU,MAqCZ+S,EAAY,GACXrW,cAACyS,KAAQ,CACPvR,MAAO,CACLqG,OAAQ,GAAK8O,GACb9V,SAEFP,cAAC0S,KAAS,CAAC8E,QAAS,cAM9BxX,cAACyX,KAAe,CACdC,mBAAoB,CAAC,EAAG,GAAI,IAC5BhN,UAAU,MACViN,MAAO/C,EAAKxR,OACZoS,YAAaA,EACbJ,KAAMA,EACNwC,aA5HiB,SAAChN,EAAOiN,GAC/BxC,EAAQwC,IA4HFC,oBAzHwB,SAAClN,GAC/B6K,EAAesC,SAASnN,EAAM6L,OAAOxd,MAAO,KAC5Coc,EAAQ,Y,6BC7QNnD,GAAU,CACd,CACE5T,GAAI,QACJ4N,MAAO,SAET,CACE5N,GAAI,YACJ4N,MAAO,cAET,CACE5N,GAAI,WACJ4N,MAAO,aAET,CACE5N,GAAI,OACJ4N,MAAO,QAET,CACE5N,GAAI,SACJ4N,MAAO,UAET,CACE5N,GAAI,WACJ4N,MAAO,UAET,CACE8G,SAAS,EACT1U,GAAI,OACJ4B,GAAI,CAAEyD,SAAU,GAAI7I,MAAO,KAE7B,CACEkY,SAAS,EACT1U,GAAI,SACJ4B,GAAI,CAAEyD,SAAU,GAAI7I,MAAO,MAShBsC,oBALf,SAAyB3E,GAEvB,MAAO,CAAET,KADQS,EAATT,QAIKoF,EAAyB,SAACC,GACvC,IAAAC,EAA0BC,mBAAS,IAAGC,EAAAC,YAAAH,EAAA,GAA/B0a,EAAKxa,EAAA,GAAEya,EAAQza,EAAA,GACtBI,EAAgCL,oBAAS,GAAMY,EAAAV,YAAAG,EAAA,GAAxCsa,EAAQ/Z,EAAA,GAAEga,EAAWha,EAAA,GAE5B2W,EAAoBvX,mBAAS,IAAGwX,EAAAtX,YAAAqX,EAAA,GAAzBxW,EAAEyW,EAAA,GAAEqD,EAAKrD,EAAA,GAChBG,EAAkC3X,mBAAS,IAAG4X,EAAA1X,YAAAyX,EAAA,GAAvCmD,EAASlD,EAAA,GAAEmD,EAAYnD,EAAA,GAC9BG,EAAwB/X,mBAAS,IAAGgY,EAAA9X,YAAA6X,EAAA,GAA7BnM,EAAIoM,EAAA,GAAEgD,EAAOhD,EAAA,GAEdiD,EAAkB,SAAClV,GACnBA,EAAQ0U,EAAM5U,QAAUE,GAAS,IACnC8U,EAAMJ,EAAM1U,GAAOhF,IACnBga,EAAa,CACX,CACEpgB,KAAM,QACNkV,aAAc4K,EAAM1U,GAAOzH,MAC3BqQ,MAAO,QACPpR,MAAO,QAET,CACE5C,KAAM,YACNkV,aAAc4K,EAAM1U,GAAOhB,UAC3B4J,MAAO,aACPpR,MAAO,QAET,CACE5C,KAAM,WACNkV,aAAc4K,EAAM1U,GAAOf,SAC3B2J,MAAO,YACPpR,MAAO,QAET,CACE5C,KAAM,SACNkV,aAAc4K,EAAM1U,GAAO/B,OAC3B2K,MAAO,SACPpR,MAAO,UAGXyd,EAAQP,EAAM1U,GAAO6F,OAEvBgP,GAAY,IAGRM,EAAoB,SAACnV,GACrBA,EAAQ0U,EAAM5U,QAAUE,GAAS,GACnC6H,KAAKC,KAAK,CACRhQ,MAAO,gBACPe,KAAM,uDACNkP,KAAM,WACNqN,kBAAkB,EAClBC,kBAAmB,eACnBC,iBAAkB,yBAClBnN,mBAAmB,IAClBhM,MAAK,SAACoZ,GACHA,EAAOC,aACTpa,IACGqa,OAAO,SAAD5Z,OAAU6Y,EAAM1U,GAAOhF,KAC7BmB,MAAK,SAACC,GAELsZ,OAEDlZ,OAAM,SAAUC,GAEfoL,KAAKC,KAAK,CACRC,KAAM,QACNjQ,MAAO,QACPe,KAAM4D,EAAML,SAASG,KAAK0L,QAC1BE,mBAAmB,IAErB9L,QAAQC,IAAIG,MAEbN,MAAK,mBA+EVuZ,EAAW,SAACna,GAChBH,IACGc,IAAI,QAAS,CAAEX,YAAaA,IAC5BY,MAAK,SAACC,GAELuY,EAASvY,EAASG,SAEnBC,OAAM,SAAUC,GAEfJ,QAAQC,IAAIG,MAEbN,MAAK,gBAWV,OANAjB,qBAAU,WACR,IAAIC,EAASC,IAAMC,YAAYF,SAE/B,OADAua,EAASva,EAAOnG,OACT,kBAAMmG,EAAOK,OAAO,oCAC1B,IAGD2B,eAAAsJ,WAAA,CAAAxJ,SAAA,CACEP,cAAC2U,GAAQ,CACPvZ,MAAM,QACNwZ,KAAMoD,EAAMpV,KAAI,SAAArD,EAA6B+D,GAAK,IAA/B2V,EAAQ1Z,EAAR0Z,SAAahG,EAAShQ,YAAA1D,EAAA2D,IAAA,OAAAC,YAAA,CACvCG,QACA2V,SACEjZ,cAACuM,KAAQ,CACPqG,QAASqG,EACTnL,QAAS,SAAClD,GACRA,EAAMsO,kBACNtO,EAAMC,iBACNnM,IACGya,IAAI,SAADha,OAAU8T,EAAU3U,IAAM,CAC5B2a,UAAWA,IAEZxZ,MAAK,WACJuZ,OAEDlZ,OAAM,SAAUC,GAEfoL,KAAKC,KAAK,CACRC,KAAM,QACNjQ,MAAO,QACPe,KAAM4D,EAAML,SAASG,KAAK0L,QAC1BE,mBAAmB,OAGtBhM,MAAK,kBAMd2Z,KACEpZ,cAAC4N,KAAU,CACTE,QAAS,SAAClD,GACRA,EAAMC,iBACN2N,EAAgBlV,IAChB/C,SAEFP,cAACkU,KAAQ,MAGb6E,OACE/Y,cAAC4N,KAAU,CACTE,QAAS,SAAClD,GACRA,EAAMC,iBACN4N,EAAkBnV,IAClB/C,SAEFP,cAACmU,KAAU,OAGZlB,MAELf,QAASA,GACTmH,YAAab,EACbc,cAAeb,EACf9E,kBAxJwB,SAACqB,GAC7B7J,KAAKC,KAAK,CACRhQ,MAAO,gBACPe,KAAM,4DACNkP,KAAM,WACNqN,kBAAkB,EAClBC,kBAAmB,eACnBC,iBAAkB,iBAClBnN,mBAAmB,IAClBhM,MAAK,SAACoZ,GACHA,EAAOC,aACTpa,IACGqa,OAAO,QAAS,CAAElZ,KAAM,CAAE0Z,IAAKvE,KAC/BvV,MAAK,SAACC,GAELsZ,OAEDlZ,OAAM,SAAUC,GAEfoL,KAAKC,KAAK,CACRC,KAAM,QACNjQ,MAAO,QACPe,KAAM4D,EAAML,SAASG,KAAK0L,QAC1BE,mBAAmB,IAErB9L,QAAQC,IAAIG,MAEbN,MAAK,qBA+HVgB,eAAC+Y,KAAM,CACLlZ,KAAM4X,EACN9G,WAAY,CAAE1G,UAAW,OAAQC,SAtHpB,SAAC0G,GAClBA,EAAExG,iBACF,IAAMhL,EAAO,IAAImL,SAASqG,EAAEtG,eAC5B,IAAIrM,IAAMya,IAAI,SAADha,OAAUb,GAAM,CAC3BzC,MAAOgE,EAAKL,IAAI,SAChB8C,UAAWzC,EAAKL,IAAI,aACpB+C,SAAU1C,EAAKL,IAAI,YACnB2J,KAAMA,EACN5H,OAAQ1B,EAAKL,IAAI,YAEhBC,MAAK,SAACC,GAELyY,GAAY,GACZa,OAEDlZ,OAAM,SAAUC,GAEfoY,GAAY,GACZhN,KAAKC,KAAK,CACRC,KAAM,QACNjQ,MAAO,QACPe,KAAM4D,EAAML,SAASG,KAAK0L,QAC1BE,mBAAmB,IAClBhM,MAAK,WACN0Y,GAAY,MAEdxY,QAAQC,IAAIG,MAEbN,MAAK,iBA0FoDc,SAAA,CAExDP,cAACyZ,KAAW,CAAAlZ,SAAC,cACbP,cAAC0Z,KAAa,CAAAnZ,SACZE,eAACkZ,KAAK,CAAC9N,QAAS,EAAEtL,SAAA,CAChBP,cAAC4Z,KAAiB,CAAArZ,SAAC,4DAGlB8X,EAAUzV,KAAI,SAAAC,EAA0BS,GAAK,IAA5BxI,EAAK+H,EAAL/H,MAAUmY,EAAShQ,YAAAJ,EAAAY,IAAA,OACnCzD,cAAC+L,KAAS5I,YAAA,CAERjD,GAAI,CAAEwD,UAAW5I,EAAO6T,SAAU7T,IAC9BmY,GAFC3P,MAKT7C,eAACsM,KAAW,CAAAxM,SAAA,CACVP,cAACgN,KAAU,CAAC1O,GAAG,yBAAyB2O,KAAK,QAAO1M,SAAC,SAGrDE,eAACyM,KAAM,CACLC,QAAQ,yBACR7O,GAAG,mBACHrF,MAAOkQ,EACP+C,MAAM,OACN2G,SAAU,SAACjI,GACTA,EAAMC,iBACN0N,EAAQ3N,EAAM6L,OAAOxd,QACrBsH,SAAA,CAEFP,cAACqN,KAAQ,CAACpU,MAAM,QAAOsH,SAAC,UACxBP,cAACqN,KAAQ,CAACpU,MAAM,WAAUsH,SAAC,aAC3BP,cAACqN,KAAQ,CAACpU,MAAM,SAAQsH,SAAC,sBAKjCE,eAACoZ,KAAa,CAAAtZ,SAAA,CACZP,cAACwM,KAAM,CAACsB,QA/JI,WAClBqK,GAAY,IA8JuB5X,SAAC,WAC9BP,cAACwM,KAAM,CAACrD,KAAK,SAAQ5I,SAAC,qB,8ECxU1BuZ,GAAY3L,cAAW,SAAC/N,GAAK,MAAM,CACrC2Z,YAAa,CACX/S,UAAW,GACXgT,YAAa,GACblf,MAAO,MACPmf,MAAO,SAETC,mBAAoB,CAClBpe,MAAO,WAETqe,cAAe,CACbje,WAAY,KAEdke,YAAa,CACX/X,gBAAiB,sBACjB,UAAW,CACTA,gBAAiB,4BAOjBgY,GAAY,CAChBjJ,WAAY,CACVlQ,MAAO,CACLwM,UAAW4M,IACXxf,MAAO,MAGXyf,aAAc,CACZC,SAAU,SACVC,WAAY,UAEdC,gBAAiB,CACfF,SAAU,MACVC,WAAY,UAEdpR,QAAS,QAgEEsR,OA7Df,SAA8Btd,GAC1B,IAAQud,EAAgCvd,EAAhCud,QAAS/H,EAAuBxV,EAAvBwV,SAAUmC,EAAa3X,EAAb2X,SACrBjG,EAAU+K,KAEVe,EACFD,EAAQxX,OAAS,GAAK4R,EAAS5R,SAAWwX,EAAQxX,OAWtD,OACI3C,eAACsM,KAAW,CAACqC,UAAWL,EAAQgL,YAAa1Q,QAAQ,WAAU9I,SAAA,CAC3DP,cAACgN,KAAU,CAAC8N,QAAQ,uBAAsBva,SAAC,mBAC3CE,eAACyM,KAAM,CACH6N,UAAQ,EACR9hB,MAAO+b,EACPnC,SAfS,SAACjI,GAClB,IAAM3R,EAAQ2R,EAAM6L,OAAOxd,MACK,QAA5BA,EAAMA,EAAMmK,OAAS,GAIzByP,EAAS5Z,GAHL4Z,EAASmC,EAAS5R,SAAWwX,EAAQxX,OAAS,GAAKwX,IAa/CI,YAAa,SAAChG,GAAQ,OAAKA,EAASiB,KAAK,OACzCoE,UAAWA,GACXnO,MAAM,iBACNe,KAAK,SAAQ1M,SAAA,CAEbE,eAAC4M,KAAQ,CACTpU,MAAM,MACN8V,QAAS,CACLX,KAAMyM,EAAgB9L,EAAQqL,YAAc,IAC9C7Z,SAAA,CAEFP,cAACgQ,KAAY,CAAAzP,SACTP,cAACuM,KAAQ,CACTwC,QAAS,CAAE4D,cAAe5D,EAAQmL,oBAClCtH,QAASiI,EACTlI,cACIqC,EAAS5R,OAAS,GAAK4R,EAAS5R,OAASwX,EAAQxX,WAIzDpD,cAACiQ,KAAY,CACTlB,QAAS,CAAEmB,QAASnB,EAAQoL,eAC5BjK,QAAQ,kBAGX0K,EAAQhY,KAAI,SAACqY,GAAM,OACpBxa,eAAC4M,KAAQ,CAAcpU,MAAOgiB,EAAO1a,SAAA,CACjCP,cAACgQ,KAAY,CAAAzP,SACbP,cAACuM,KAAQ,CAACqG,QAASoC,EAAS+B,QAAQkE,IAAW,MAE/Cjb,cAACiQ,KAAY,CAACC,QAAS+K,MAJZA,a,iHCtEzB/I,GAAU,CACd,CACE5T,GAAI,YACJ4B,GAAI,CAAEpF,MAAO,KACbkY,SAAS,GAEX,CACE1U,GAAI,QACJ4N,MAAO,SAET,CACE5N,GAAI,QACJ4N,MAAO,SAET,CACE5N,GAAI,YACJ4N,MAAO,SAET,CACE5N,GAAI,UACJ4N,MAAO,WAET,CACE5N,GAAI,MACJ4N,MAAO,OAET,CACE5N,GAAI,aACJ4N,MAAO,eAET,CACE5N,GAAI,YACJ4N,MAAO,cAET,CACE5N,GAAI,YACJ4N,MAAO,cAET,CACE5N,GAAI,eACJ4N,MAAO,iBAET,CACE5N,GAAI,eACJ4N,MAAO,iBAET,CACE5N,GAAI,eACJ4N,MAAO,YAET,CACE5N,GAAI,gBACJ4N,MAAO,uBAET,CACE5N,GAAI,SACJ4N,MAAO,gBAET,CACE5N,GAAI,eACJ4N,MAAO,YAET,CACE5N,GAAI,cACJ4N,MAAO,WAET,CACE5N,GAAI,OACJ0U,SAAS,GAEX,CACE1U,GAAI,SACJ0U,SAAS,IAIPkI,GAAc,CAClB,cACA,aACA,aACA,gBACA,gBACA,WACA,sBACA,eACA,WACA,WAQF,IAAMC,GAAQ/d,aALd,SAAyB3E,GAEvB,MAAO,CAAET,KADQS,EAATT,QAIIoF,EAAyB,SAACC,GACtC,IAAM+C,EAAQgb,eAEd9d,EAAgCC,mBAAS,UAASC,EAAAC,YAAAH,EAAA,GAA3C+d,EAAQ7d,EAAA,GAAE8d,EAAW9d,EAAA,GAE5BI,EAA4BL,mBAAS,IAAGY,EAAAV,YAAAG,EAAA,GAAjC2d,EAAMpd,EAAA,GAAEqd,EAASrd,EAAA,GACxB2W,EAAgCvX,oBAAS,GAAMwX,EAAAtX,YAAAqX,EAAA,GAAxC2G,EAAQ1G,EAAA,GAAE2G,EAAW3G,EAAA,GAC5BG,EAAkC3X,mBAAS,IAAG4X,EAAA1X,YAAAyX,EAAA,GAAvCmD,EAASlD,EAAA,GAAEmD,EAAYnD,EAAA,GAE9BG,EAAoB/X,mBAAS,IAAGgY,EAAA9X,YAAA6X,EAAA,GAAzBhX,EAAEiX,EAAA,GAAE6C,EAAK7C,EAAA,GAEhBG,EAA8BnY,mBAAS,GAAEoY,EAAAlY,YAAAiY,EAAA,GAAlCiG,EAAOhG,EAAA,GAAEiG,EAAUjG,EAAA,GAC1BkG,EAAkCte,mBAAS,KAAKue,EAAAre,YAAAoe,EAAA,GAAzCvX,EAASwX,EAAA,GAAEC,EAAYD,EAAA,GAC9BE,EAAsCze,mBAAS,GAAE0e,EAAAxe,YAAAue,EAAA,GAA1CE,EAAWD,EAAA,GAAEE,EAAcF,EAAA,GAElCG,EAAgC7e,mBAAS,IAAG8e,EAAA5e,YAAA2e,EAAA,GAArCE,EAAQD,EAAA,GAAEE,EAAWF,EAAA,GAE5BG,EAAsCjf,mBAAS,MAAKkf,EAAAhf,YAAA+e,EAAA,GAA7CE,EAAWD,EAAA,GAAEE,EAAcF,EAAA,GAClCG,EAAsCrf,mBAAS,MAAKsf,EAAApf,YAAAmf,EAAA,GAA7CE,EAAWD,EAAA,GAAEE,EAAcF,EAAA,GAElCG,EAAsDzf,mBAAS,IAAG0f,EAAAxf,YAAAuf,EAAA,GAA3DE,GAAmBD,EAAA,GAAEE,GAAsBF,EAAA,GAE5CzE,GAAkB,SAAClV,GACnBA,EAAQiY,EAAOnY,QAAUE,GAAS,IACpC8U,EAAMmD,EAAOjY,GAAOhF,IACpBga,EAAa,CACX,CACEpgB,KAAM,QACNgU,MAAO,QACP/C,KAAM,OACNiE,aAAcmO,EAAOjY,GAAOU,MAC5BlJ,MAAO,OAET,CACE5C,KAAM,QACNgU,MAAO,QACP/C,KAAM,OACNiE,aAAcmO,EAAOjY,GAAOW,MAC5BnJ,MAAO,OAET,CACE5C,KAAM,aACNgU,MAAO,cACP/C,KAAM,OACNiE,aAAcmO,EAAOjY,GAAO8Z,WAC5BtiB,MAAO,OAET,CACE5C,KAAM,YACNgU,MAAO,aACP/C,KAAM,OACNiE,aAAcmO,EAAOjY,GAAO+Z,UAC5BviB,MAAO,OAET,CACE5C,KAAM,YACNgU,MAAO,aACP/C,KAAM,OACNiE,aAAcmO,EAAOjY,GAAOga,UAC5BxiB,MAAO,OAET,CACE5C,KAAM,eACNgU,MAAO,gBACP/C,KAAM,OACNiE,aAAcmO,EAAOjY,GAAOia,aAC5BziB,MAAO,OAET,CACE5C,KAAM,eACNgU,MAAO,gBACP/C,KAAM,OACNiE,aAAcmO,EAAOjY,GAAOka,aAC5B1iB,MAAO,OAET,CACE5C,KAAM,SACNgU,MAAO,eACPuR,WAAW,EACXtU,KAAM,OACNiE,aAAcmO,EAAOjY,GAAOc,OAC5BtJ,MAAO,QAET,CACE5C,KAAM,eACNgU,MAAO,WACP/C,KAAM,WACNiE,aAAcmO,EAAOjY,GAAOY,aAC5BpJ,MAAO,OAET,CACE5C,KAAM,gBACNgU,MAAO,qBACP/C,KAAM,WACNiE,aAAcmO,EAAOjY,GAAOa,cAC5BrJ,MAAO,OAET,CACE5C,KAAM,eACNgU,MAAO,gBACP/C,KAAM,OACNiE,aAAcmO,EAAOjY,GAAOoa,aAC5B5iB,MAAO,OAET,CACE5C,KAAM,cACNgU,MAAO,eACP/C,KAAM,OACNiE,aAAcmO,EAAOjY,GAAOqa,YAC5B7iB,MAAO,SAGX8gB,EAAWL,EAAOjY,GAAOqY,SACzBI,EAAaR,EAAOjY,GAAOgB,WAC3B6X,EAAeZ,EAAOjY,GAAOS,IAAMwX,EAAOjY,GAAOqY,UAEnDL,EAAY,QACZI,GAAY,IAGRjD,GAAoB,SAACnV,GACrBA,EAAQiY,EAAOnY,QAAUE,GAAS,GACpC6H,KAAKC,KAAK,CACRhQ,MAAO,gBACPe,KAAM,0DACNkP,KAAM,WACNqN,kBAAkB,EAClBC,kBAAmB,eACnBC,iBAAkB,eAClBnN,mBAAmB,IAClBhM,MAAK,SAACoZ,GACHA,EAAOC,aACTpa,IACGqa,OAAO,eAAD5Z,OAAgBoc,EAAOjY,GAAOhF,KACpCmB,MAAK,SAACC,GAELke,QAED9d,OAAM,SAAUC,GAEfoL,KAAKC,KAAK,CACRC,KAAM,QACNjQ,MAAO,QACPe,KAAM4D,EAAML,SAASG,KAAK0L,QAC1BE,mBAAmB,IAErB9L,QAAQC,IAAIG,MAEbN,MAAK,mBA4CVoe,GAAU,eAAAte,EAAAue,aAAAC,KAAAC,MAAG,SAAAC,EAAOrT,GAAK,IAAA/K,EAAAqe,EAAAC,EAAAze,EAAA,OAAAqe,KAAA5c,MAAA,SAAAid,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,OAGP,GAFtB1T,EAAMC,iBACAhL,EAAO,IAAImL,SAASJ,EAAMG,eAC5BmT,EAAe,IACfre,EAAKL,IAAI,aAAatH,KAAK,CAADkmB,EAAAE,KAAA,SAEqB,OAD3CH,EAAa,IAAInT,UACZuT,OAAO,OAAQ1e,EAAKL,IAAI,cAAc4e,EAAAC,KAAA,EAAAD,EAAAE,KAAA,EAExB5f,IAAMmL,KAAK,qBAAsBsU,EAAY,CAClElV,QAAS,CACP,eAAgB,uCAEjB,KAAD,EAJIvJ,EAAQ0e,EAAAI,KAKdN,EAAexe,EAASG,KAAK4e,IAAIL,EAAAE,KAAA,iBAAAF,EAAAC,KAAA,GAAAD,EAAAM,GAAAN,EAAA,iBAGrC1f,IACGya,IAAI,eAADha,OAAgBb,GAAM,CACxB0F,MAAOnE,EAAKL,IAAI,SAChByE,MAAOpE,EAAKL,IAAI,SAChB4d,WAAYvd,EAAKL,IAAI,cACrB6d,UAAWxd,EAAKL,IAAI,aACpB8d,UAAWzd,EAAKL,IAAI,aACpB+d,aAAc1d,EAAKL,IAAI,gBACvBge,aAAc3d,EAAKL,IAAI,gBACvB0E,aAAcya,QAAQ9e,EAAKL,IAAI,iBAC/B2E,cAAewa,QAAQ9e,EAAKL,IAAI,kBAChC4E,OAAQvE,EAAKL,IAAI,UACjB0e,eACA5Z,UAAWzE,EAAKL,IAAI,aACpBke,aAAc7d,EAAKL,IAAI,iBAAmB,KAC1Cme,YAAa9d,EAAKL,IAAI,gBAAkB,KACxCmc,QAASA,EACT5X,IAAK6a,OAAOjD,GAAWiD,OAAO1C,KAE/Bzc,MAAK,SAACC,GAELgc,GAAY,GACZkC,QAED9d,OAAM,SAAUC,GAEf2b,GAAY,GACZvQ,KAAKC,KAAK,CACRC,KAAM,QACNjQ,MAAO,QACPkQ,KAAMvL,EAAML,SAASG,KAAK0L,QAAQC,QAAQ,KAAM,UAChDC,mBAAmB,IAClBhM,MAAK,WACNic,GAAY,MAEd/b,QAAQC,IAAIG,MAEbN,MAAK,eAEH,yBAAA2e,EAAAS,UAAAZ,EAAA,mBACN,gBAxDea,GAAA,OAAAvf,EAAAwf,MAAA,KAAAC,YAAA,GA0DVC,GAAY,eAAApc,EAAAib,aAAAC,KAAAC,MAAG,SAAAkB,EAAOtU,GAAK,IAAA/K,EAAAqe,EAAAC,EAAAze,EAAA,OAAAqe,KAAA5c,MAAA,SAAAge,GAAA,cAAAA,EAAAd,KAAAc,EAAAb,MAAA,OAGT,GAFtB1T,EAAMC,iBACAhL,EAAO,IAAImL,SAASJ,EAAMG,eAC5BmT,EAAe,IACfre,EAAKL,IAAI,aAAatH,KAAK,CAADinB,EAAAb,KAAA,SAEqB,OAD3CH,EAAa,IAAInT,UACZuT,OAAO,OAAQ1e,EAAKL,IAAI,cAAc2f,EAAAd,KAAA,EAAAc,EAAAb,KAAA,EAExB5f,IAAMmL,KAAK,qBAAsBsU,EAAY,CAClElV,QAAS,CACP,eAAgB,uCAEjB,KAAD,EAJIvJ,EAAQyf,EAAAX,KAKdN,EAAexe,EAASG,KAAK4e,IAAIU,EAAAb,KAAA,iBAAAa,EAAAd,KAAA,GAAAc,EAAAT,GAAAS,EAAA,iBAGrCzgB,IACGmL,KAAK,qBAAsB,CAC1B7F,MAAOnE,EAAKL,IAAI,SAChByE,MAAOpE,EAAKL,IAAI,SAChB4d,WAAYvd,EAAKL,IAAI,cACrB6d,UAAWxd,EAAKL,IAAI,aACpB8d,UAAWzd,EAAKL,IAAI,aACpB+d,aAAc1d,EAAKL,IAAI,gBACvBge,aAAc3d,EAAKL,IAAI,gBACvB0E,aAAcya,QAAQ9e,EAAKL,IAAI,iBAC/B2E,cAAewa,QAAQ9e,EAAKL,IAAI,kBAChC4E,OAAQvE,EAAKL,IAAI,UACjB0e,eACA5Z,UAAWzE,EAAKL,IAAI,aACpBke,aAAc7d,EAAKL,IAAI,iBAAmB,KAC1Cme,YAAa9d,EAAKL,IAAI,gBAAkB,KACxCmc,QAASA,EACT5X,IAAK6a,OAAOjD,GAAWiD,OAAO1C,KAE/Bzc,MAAK,SAACC,GAELgc,GAAY,GACZkC,QAED9d,OAAM,SAAUC,GAEf2b,GAAY,GACZvQ,KAAKC,KAAK,CACRC,KAAM,QACNjQ,MAAO,QACPe,KAAM4D,EAAML,SAASG,KAAK0L,QAC1BE,mBAAmB,IAClBhM,MAAK,WACNic,GAAY,MAEd/b,QAAQC,IAAIG,MAEbN,MAAK,eAEH,yBAAA0f,EAAAN,UAAAK,EAAA,mBACN,gBAxDiBE,GAAA,OAAAvc,EAAAkc,MAAA,KAAAC,YAAA,GA0EZpB,GAAY,SAAC/e,GACjBH,IACGc,IAAI,cAAe,CAAEX,gBACrBY,MAAK,SAACC,GAEL8b,EAAU9b,EAASG,SAEpBC,OAAM,SAAUC,GAEfJ,QAAQC,IAAIG,MAEbN,MAAK,gBAgBV,OAPAjB,qBAAU,WACR,IArCmBK,EAqCbJ,EAASC,IAAMC,YAAYF,SAGjC,OAxCmBI,EAsCPJ,EAAOnG,MArCnBoG,IACGc,IAAI,uBAAwB,CAAEX,gBAC9BY,MAAK,SAACC,GAEL6c,EAAY7c,EAASG,SAEtBC,OAAM,SAAUC,GAEfJ,QAAQC,IAAIG,MAEbN,MAAK,eA4BRme,GAAUnf,EAAOnG,OACV,kBAAMmG,EAAOK,OAAO,oCAC1B,IAGD2B,eAACuJ,KAAG,CACF9J,GAAI,CACFqH,OAAQ,OACRgH,SAAU,OACV3R,QAAS,aACT2D,SAAA,CAEFP,cAACwM,KAAM,CACL6S,UAAWrf,cAACsf,KAAO,IACnBxR,QAAS,WACPwK,EAAa,CACX,CACEpgB,KAAM,QACNgU,MAAO,QACP/C,KAAM,OACNrO,MAAO,OAET,CACE5C,KAAM,QACNgU,MAAO,QACP/C,KAAM,OACNrO,MAAO,OAET,CACE5C,KAAM,aACNgU,MAAO,cACP/C,KAAM,OACNrO,MAAO,OAET,CACE5C,KAAM,YACNgU,MAAO,aACP/C,KAAM,OACNrO,MAAO,OAET,CACE5C,KAAM,YACNgU,MAAO,aACP/C,KAAM,OACNrO,MAAO,OAET,CACE5C,KAAM,eACNgU,MAAO,gBACP/C,KAAM,OACNrO,MAAO,OAET,CACE5C,KAAM,eACNgU,MAAO,gBACP/C,KAAM,OACNrO,MAAO,OAET,CACE5C,KAAM,SACNgU,MAAO,eACP/C,KAAM,OACNrO,MAAO,QAET,CACE5C,KAAM,eACNgU,MAAO,WACP/C,KAAM,WACNrO,MAAO,OAET,CACE5C,KAAM,gBACNgU,MAAO,qBACP/C,KAAM,WACNrO,MAAO,OAET,CACE5C,KAAM,eACNgU,MAAO,gBACP/C,KAAM,OACNrO,MAAO,OAET,CACE5C,KAAM,cACNgU,MAAO,eACP/C,KAAM,OACNrO,MAAO,SAGX8gB,EAAW,GACXG,EAAa,KACbI,EAAe,GACfb,EAAY,UACZI,GAAY,IACZnb,SACH,cAGDE,eAAA,SAAOqa,QAAQ,wBAAuBva,SAAA,CACpCP,cAAA,SACEuf,OAAO,QACPjhB,GAAG,wBACH6K,KAAK,OACLjI,MAAO,CAAEiJ,QAAS,QAClB0I,SAAQ,eAAAxP,EAAAya,aAAAC,KAAAC,MAAE,SAAAwB,EAAOnO,GAAC,IAAA8M,EAAA,OAAAJ,KAAA5c,MAAA,SAAAse,GAAA,cAAAA,EAAApB,KAAAoB,EAAAnB,MAAA,OACG,GAAnBjN,EAAExG,iBAAiB4U,EAAApB,KAAA,IAEbhN,EAAEoF,OAAOiJ,MAAMtc,OAAS,GAAC,CAAAqc,EAAAnB,KAAA,QAEkB,OADvCH,EAAa,IAAInT,UACZuT,OAAO,OAAQlN,EAAEoF,OAAOiJ,MAAM,IAAID,EAAAnB,KAAA,EACvC5f,IAAMmL,KAAK,2BAEfsU,EACA,CACElV,QAAS,CACP,eAAgB,uCAGpB,KAAD,EACD2U,KAAY,OAAA6B,EAAAnB,KAAA,iBAAAmB,EAAApB,KAAA,GAAAoB,EAAAf,GAAAe,EAAA,SAGd9f,QAAQC,IAAG6f,EAAAf,IAAQ,QAEG,OAFHe,EAAApB,KAAA,GAEnBhN,EAAEoF,OAAOxd,MAAQ,KAAKwmB,EAAAE,OAAA,6BAAAF,EAAAZ,UAAAW,EAAA,yBAEzB,gBAAAI,GAAA,OAAAvc,EAAA0b,MAAA,KAAAC,YAtBO,KAwBVhf,cAACwM,KAAM,CAAC9B,UAAU,OAAOxK,GAAI,CAAE2f,GAAI,GAAItf,SAAC,mBAI1CP,cAACsW,KAAK,CACJpW,GAAI,CACF8G,UAAW,OACXpK,QAAS,WACTuN,QAAS,OACT2V,SAAU,OACVxS,eAAgB,gBAChB/M,SAED,CACC,CACE2L,MAAO,QACPjT,MAAOyjB,EACP7J,SAAU,SAACjI,EAAO3R,GAChB2R,EAAMC,iBACN8R,EAAe1jB,GACf8jB,EAAe,OAEjBnC,QAAS0B,EACN1Z,KAAI,SAACiB,GAAI,OAAKA,EAAKG,SACnBkS,QAAO,SAAC6J,EAAGzc,EAAO0c,GAAK,OAAKA,EAAMjJ,QAAQgJ,KAAOzc,MAEtD,CACE4I,MAAO,QACPjT,MAAO6jB,EACPjK,SAAU,SAACjI,EAAO3R,GAChB2R,EAAMC,iBACNkS,EAAe9jB,IAEjB2hB,QAAS0B,EACNpG,QAAO,SAACrS,GAAI,OAAM6Y,GAAe7Y,EAAKG,QAAU0Y,KAChD9Z,KAAI,SAACiB,GAAI,OAAKA,EAAKI,SACnBiS,QAAO,SAAC6J,EAAGzc,EAAO0c,GAAK,OAAKA,EAAMjJ,QAAQgJ,KAAOzc,OAEtDV,KAAI,SAAA4D,EAAsBlD,GAAK,IAAxB4I,EAAK1F,EAAL0F,MAAU7O,EAAK4F,YAAAuD,EAAAtD,IAAA,OACtBlD,cAACigB,KAAY9c,YAAA,CAEXjD,GAAI,CAAEwD,UAAW,QAASC,SAAU,SACpCuc,YAAa,SAACC,GAAM,OAAKngB,cAAC+L,KAAS5I,wBAAA,GAAKgd,GAAM,IAAEjU,MAAOA,OACnD7O,GAHCiG,QAOXtD,cAAC2a,GAAoB,CACnBC,QAASM,GACTrI,SAxLsB,SAACuN,GAC3BjD,GAAuBiD,IAwLnBpL,SAAUkI,KAEZld,cAAC2U,GAAQ,CACPvZ,MAAM,eACNwZ,KAAM2G,EACH3Y,KACC,SAAA8D,EASEpD,GAAK,IAPHY,EAAYwC,EAAZxC,aACAC,EAAauC,EAAbvC,cACA+Z,EAAYxX,EAAZwX,aACAR,EAAYhX,EAAZgX,aACAC,EAAWjX,EAAXiX,YACG1K,EAAShQ,YAAAyD,EAAAjD,IAAA,OAAAN,YAAA,CAIdkd,UACErgB,cAAA,KACEwJ,KAAK,IACLsE,QAAS,SAACuD,GACRA,EAAExG,iBACFM,KAAKC,KAAK,CACRE,KAAK,kCAADnM,OAAoC+e,EAAY,QACpDoC,iBAAiB,EACjBC,mBAAmB,EACnB9U,mBAAmB,KAErBlL,SAEFP,cAAA,OACEqK,IAAI,GACJvP,MAAM,OACNmC,IAAKihB,EACLhd,MAAO,CAAE8F,UAAW,WAI1B9C,aAAcA,EAAe,MAAQ,KACrCC,cAAeA,EAAgB,MAAQ,KACvCiV,KACEpZ,cAAC4N,KAAU,CACTE,QAAS,SAAClD,GACRA,EAAMC,iBACN2N,GAAgBlV,IAChB/C,SAEFP,cAACkU,KAAQ,MAGb6E,OACE/Y,cAAC4N,KAAU,CACTE,QAAS,SAAClD,GACRA,EAAMC,iBACN4N,GAAkBnV,IAClB/C,SAEFP,cAACmU,KAAU,MAGfuJ,aAAcA,GAAgB,KAC9BC,YAAaA,GAAe,MACzB1K,MAGNiD,QACC,SAACrS,GAAI,QACD6Y,GAAe7Y,EAAKG,QAAU0Y,MAC9BI,GAAejZ,EAAKI,QAAU6Y,MAEtC5K,QAASA,GACNtP,KAAI,SAAC4d,EAAQC,GACZ,OAAIA,EAAI,GAAKA,EAAI,GACXvD,GAAoB3Y,MAAK,SAACmc,GAAU,OAAKA,IAAeF,EAAOtU,SAC1DsU,OAEP,EAEGA,KAERtK,QAAO,SAACsK,GAAM,YAAgBG,IAAXH,KACtBnH,YAAab,GACbc,cAAeb,GACf9E,kBApcwB,SAACqB,GAC7B7J,KAAKC,KAAK,CACRhQ,MAAO,gBACPe,KAAM,4DACNkP,KAAM,WACNqN,kBAAkB,EAClBC,kBAAmB,eACnBC,iBAAkB,iBAClBnN,mBAAmB,IAClBhM,MAAK,SAACoZ,GACHA,EAAOC,aACTpa,IACGqa,OAAO,cAAe,CACrBlZ,KAAM,CAAE0Z,IAAKvE,KAEdvV,MAAK,SAACC,GAELke,QAED9d,OAAM,SAAUC,GAEfoL,KAAKC,KAAK,CACRC,KAAM,QACNjQ,MAAO,QACPe,KAAM4D,EAAML,SAASG,KAAK0L,QAC1BE,mBAAmB,IAErB9L,QAAQC,IAAIG,MAEbN,MAAK,qBAyaVgB,eAAC+Y,KAAM,CACLvN,WAAS,EACT2U,WAAYC,aAAczgB,EAAM0gB,YAAYC,KAAK,OACjDpd,SAAS,KACTrD,KAAMmb,EACNrK,WAAY,CACV1G,UAAW,OACXC,SAAuB,WAAb0Q,EAAwB4D,GAAepB,IACjDtd,SAAA,CAEFP,cAACyZ,KAAW,CAAAlZ,SACI,WAAb8a,EAAwB,YAAc,eAEzCrb,cAAC0Z,KAAa,CAAAnZ,SACZE,eAAC6V,KAAK,CACJpW,GAAI,CACFgK,GAAI,MACJgJ,EAAG,OACH/I,QAAS,OACT2V,SAAU,OACVxS,eAAgB,iBAChB/M,SAAA,CAED8X,EAAUzV,KAAI,SAAAsE,EAAiC5D,GAAW,IAAzC6F,EAAIjC,EAAJiC,KAAMrO,EAAKoM,EAALpM,MAAUkmB,EAAU/d,YAAAiE,EAAAT,IAC1C,GAAa,SAAT0C,EACF,OACEnJ,cAAC+L,KAAS5I,YAAA,CAERjD,GAAI,CAAEwD,UAAW5I,EAAO6T,SAAU7T,IAC9BkmB,GAFC1d,GAKJ,GAAa,SAAT6F,EACT,OACEnJ,cAAC+L,KAAS5I,YAAA,CAERgG,KAAK,OACL8X,gBAAiB,CAAEC,QAAQ,GAC3BhhB,GAAI,CAAEwD,UAAW5I,EAAO6T,SAAU7T,IAC9BkmB,GAJC1d,GAOJ,GAAa,aAAT6F,EAAqB,CAC9B,IAAQiE,EAA8B4T,EAA9B5T,aAAclB,EAAgB8U,EAAhB9U,MAAOhU,EAAS8oB,EAAT9oB,KAC7B,OACE8H,cAACqM,KAAgB,CAEfC,QACEtM,cAACuM,KAAQ,CAACrU,KAAMA,EAAMipB,eAAgB/T,IAExClB,MAAOA,GAJF5I,GAOJ,OAAO,QAEhBtD,cAAC+L,KAAS,CACRG,MAAM,YACNhU,KAAK,YACLiR,KAAK,OACLjJ,GAAI,CAAEwD,UAAW,CAAC,OAAQ,OAAQiL,SAAU,CAAC,OAAQ,QACrDmE,WAAY,CACVyM,OAAQ,oCAEV0B,gBAAiB,CAAEC,QAAQ,KAE7BlhB,cAACqM,KAAgB,CACfnM,GAAI,CACFwD,UAAW,CAAC,OAAQ,OACpBiL,SAAU,CAAC,OAAQ,OACnBxT,WAAY,WACZoP,EAAG,GAEL+B,QACEtM,cAAC+L,KAAS,CACRG,MAAM,aACN/C,KAAK,SACLjR,KAAK,YACLkV,aAAc9I,EACd2H,WAAS,EACT/L,GAAI,CAAEqK,EAAG,kBAGb2B,MAAM,QAERzL,eAACuJ,KAAG,CACFG,QAAQ,OACRmD,eAAe,SACfnS,WAAW,SACX+E,GAAI,CAAEwD,UAAW,CAAC,OAAQ,OAAQiL,SAAU,CAAC,OAAQ,QAASpO,SAAA,CAE9DP,cAAC4N,KAAU,CACTE,QAAS,WACP8N,EAAWD,EAAU,EAAIA,EAAU,EAAI,IACvCpb,SAEFP,cAACohB,KAAU,MAEbphB,cAAC+L,KAAS,CACRG,MAAM,UACNjT,MAAO0iB,EACPxS,KAAK,SACLjJ,GAAI,CAAEpF,MAAO,OAAQmP,GAAI,OACzB4I,SAAU,SAACxB,GACLA,EAAEoF,OAAOxd,MAAQ,EAAG2iB,EAAWvK,EAAEoF,OAAOxd,OACvC2iB,EAAW,GAChBG,EAAa,QAGjB/b,cAAC4N,KAAU,CACTE,QAAS,WACP8N,EAAWD,EAAU,IACrBpb,SAEFP,cAACsf,KAAO,SAGZ7e,eAACuJ,KAAG,CACFG,QAAQ,OACRmD,eAAe,SACfnS,WAAW,SACX+E,GAAI,CAAEwD,UAAW,CAAC,OAAQ,OAAQiL,SAAU,CAAC,OAAQ,QAASpO,SAAA,CAE9DP,cAAC4N,KAAU,CACTE,QAAS,WACPqO,EAAetW,KAAKC,IAAIoW,EAAc,EAAG,KACzC3b,SAEFP,cAACohB,KAAU,MAEbphB,cAAC+L,KAAS,CACRG,MAAM,WACNjT,MAAOijB,EACP/S,KAAK,SACLjJ,GAAI,CAAEpF,MAAO,OAAQmP,GAAI,OACzB4I,SAAU,SAACxB,GACT8K,EAAetW,KAAKC,IAAIuL,EAAEoF,OAAOxd,MAAO,OAG5C+G,cAAC4N,KAAU,CACTE,QAAS,WACPqO,EAAeD,EAAc,IAC7B3b,SAEFP,cAACsf,KAAO,cAKhB7e,eAACoZ,KAAa,CAAAtZ,SAAA,CACZP,cAACwM,KAAM,CACLsB,QAAS,WACP4N,GAAY,IACZnb,SACH,WAGDP,cAACwM,KAAM,CAACrD,KAAK,SAAQ5I,SACL,WAAb8a,EAAwB,SAAW,qBAQjCF,M,qICr2BTjJ,GAAU,CACd,CACE5T,GAAI,YACJ4B,GAAI,CAAEpF,MAAO,KACbkY,SAAS,GAEX,CACE1U,GAAI,eACJ4N,MAAO,YAET,CACE5N,GAAI,QACJ4N,MAAO,SAET,CACE5N,GAAI,YACJ4N,MAAO,SAET,CACE5N,GAAI,UACJ4N,MAAO,WAET,CACE5N,GAAI,MACJ4N,MAAO,OAET,CACE5N,GAAI,QACJ4N,MAAO,SAET,CACE5N,GAAI,UACJ4N,MAAO,YAET,CACE5N,GAAI,WACJ4N,MAAO,aAET,CACE5N,GAAI,WACJ4N,MAAO,aAET,CACE5N,GAAI,SACJ4N,MAAO,gBAET,CACE5N,GAAI,eACJ4N,MAAO,YAET,CACE5N,GAAI,cACJ4N,MAAO,WAET,CACE5N,GAAI,OACJ0U,SAAS,GAEX,CACE1U,GAAI,SACJ0U,SAAS,IAIPkI,GAAc,CAClB,QACA,WACA,YACA,YACA,eACA,WACA,WAQF,IAAMC,GAAQ/d,aALd,SAAyB3E,GAEvB,MAAO,CAAET,KADQS,EAATT,QAIIoF,EAAyB,SAACC,GACtC,IAAM+C,EAAQgb,eACd9d,EAA4BC,mBAAS,IAAGC,EAAAC,YAAAH,EAAA,GAAjCie,EAAM/d,EAAA,GAAEge,EAAShe,EAAA,GACxBI,EAAgCL,mBAAS,UAASY,EAAAV,YAAAG,EAAA,GAA3Cyd,EAAQld,EAAA,GAAEmd,EAAWnd,EAAA,GAC5B2W,EAAgCvX,oBAAS,GAAMwX,EAAAtX,YAAAqX,EAAA,GAAxC2G,EAAQ1G,EAAA,GAAE2G,EAAW3G,EAAA,GAC5BG,EAAkC3X,mBAAS,IAAG4X,EAAA1X,YAAAyX,EAAA,GAAvCmD,EAASlD,EAAA,GAAEmD,EAAYnD,EAAA,GAE9BG,EAAoB/X,mBAAS,IAAGgY,EAAA9X,YAAA6X,EAAA,GAAzBhX,EAAEiX,EAAA,GAAE6C,EAAK7C,EAAA,GAEhBG,EAA8BnY,mBAAS,GAAEoY,EAAAlY,YAAAiY,EAAA,GAAlCiG,EAAOhG,EAAA,GAAEiG,EAAUjG,EAAA,GAC1BkG,EAAkCte,mBAAS,KAAKue,EAAAre,YAAAoe,EAAA,GAAzCvX,EAASwX,EAAA,GAAEC,EAAYD,EAAA,GAC9BE,EAAsCze,mBAAS,GAAE0e,EAAAxe,YAAAue,EAAA,GAA1CE,EAAWD,EAAA,GAAEE,EAAcF,EAAA,GAElCG,EAAgC7e,mBAAS,IAAG8e,EAAA5e,YAAA2e,EAAA,GAArCE,EAAQD,EAAA,GAAEE,EAAWF,EAAA,GAE5BG,EAA4Cjf,mBAAS,MAAKkf,EAAAhf,YAAA+e,EAAA,GAAnD6E,EAAc5E,EAAA,GAAE6E,EAAiB7E,EAAA,GACxCG,EAAsCrf,mBAAS,MAAKsf,EAAApf,YAAAmf,EAAA,GAA7CE,EAAWD,EAAA,GAAEE,EAAcF,EAAA,GAClCG,EAAsCzf,mBAAS,MAAK0f,EAAAxf,YAAAuf,EAAA,GAA7CuE,GAAWtE,EAAA,GAAEuE,GAAcvE,EAAA,GAElCwE,GAAsDlkB,mBAAS,IAAGmkB,GAAAjkB,YAAAgkB,GAAA,GAA3DvE,GAAmBwE,GAAA,GAAEvE,GAAsBuE,GAAA,GAE5ClJ,GAAkB,SAAClV,GACnBA,EAAQiY,EAAOnY,QAAUE,GAAS,IACpC8U,EAAMmD,EAAOjY,GAAOhF,IACpBga,EAAa,CACX,CACEpgB,KAAM,eACNgU,MAAO,WACP/C,KAAM,eACNiE,aAAcmO,EAAOjY,GAAOqe,aAC5B/G,QAAS,CAAC,KAAM,KAAM,KAAM,MAC5B9f,MAAO,OAET,CACE5C,KAAM,QACNgU,MAAO,QACP/C,KAAM,OACNiE,aAAcmO,EAAOjY,GAAOW,MAC5BnJ,MAAO,OAET,CACE5C,KAAM,QACNgU,MAAO,QACP/C,KAAM,OACNiE,aAAcmO,EAAOjY,GAAOxH,MAC5BhB,MAAO,OAET,CACE5C,KAAM,UACNgU,MAAO,WACP/C,KAAM,eACNiE,aAAcmO,EAAOjY,GAAOoB,QAC5BkW,QAAS,CAAC,MAAO,MAAO,OACxB9f,MAAO,OAET,CACE5C,KAAM,WACNgU,MAAO,WACP/C,KAAM,eACNiE,aAAcmO,EAAOjY,GAAOqB,SAC5BiW,QAAS,CAAC,MAAO,MAAO,MAAO,OAC/B9f,MAAO,OAET,CACE5C,KAAM,WACNgU,MAAO,WACP/C,KAAM,eACNiE,aAAcmO,EAAOjY,GAAOsB,SAC5BgW,QAAS,CAAC,WAAY,WACtB9f,MAAO,OAET,CACE5C,KAAM,SACNgU,MAAO,eACPuR,WAAW,EACXtU,KAAM,OACNiE,aAAcmO,EAAOjY,GAAOc,OAC5BtJ,MAAO,QAET,CACE5C,KAAM,eACNgU,MAAO,gBACP/C,KAAM,OACNrO,MAAO,OAET,CACE5C,KAAM,cACNgU,MAAO,eACP/C,KAAM,OACNrO,MAAO,SAGX8gB,EAAWL,EAAOjY,GAAOqY,SACzBI,EAAaR,EAAOjY,GAAOgB,WAC3B6X,EAAeZ,EAAOjY,GAAOS,MAE/BuX,EAAY,QACZI,GAAY,IAGRjD,GAAoB,SAACnV,GACrBA,EAAQiY,EAAOnY,QAAUE,GAAS,GACpC6H,KAAKC,KAAK,CACRhQ,MAAO,gBACPe,KAAM,yDACNkP,KAAM,WACNqN,kBAAkB,EAClBC,kBAAmB,eACnBC,iBAAkB,eAClBnN,mBAAmB,IAClBhM,MAAK,SAACoZ,GACHA,EAAOC,aACTpa,IACGqa,OAAO,cAAD5Z,OAAeoc,EAAOjY,GAAOhF,KACnCmB,MAAK,SAACC,GAELke,QAED9d,OAAM,SAAUC,GAEfoL,KAAKC,KAAK,CACRC,KAAM,QACNjQ,MAAO,QACPe,KAAM4D,EAAML,SAASG,KAAK0L,QAC1BE,mBAAmB,IAErB9L,QAAQC,IAAIG,MAEbN,MAAK,mBA4CVoe,GAAU,eAAAte,EAAAue,aAAAC,KAAAC,MAAG,SAAAC,EAAOrT,GAAK,IAAA/K,EAAAqe,EAAAC,EAAAze,EAAA,OAAAqe,KAAA5c,MAAA,SAAAid,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,OAGP,GAFtB1T,EAAMC,iBACAhL,EAAO,IAAImL,SAASJ,EAAMG,eAC5BmT,EAAe,IACfre,EAAKL,IAAI,aAAatH,KAAK,CAADkmB,EAAAE,KAAA,SAEqB,OAD3CH,EAAa,IAAInT,UACZuT,OAAO,OAAQ1e,EAAKL,IAAI,cAAc4e,EAAAC,KAAA,EAAAD,EAAAE,KAAA,EAExB5f,IAAMmL,KAAK,qBAAsBsU,EAAY,CAClElV,QAAS,CACP,eAAgB,uCAEjB,KAAD,EAJIvJ,EAAQ0e,EAAAI,KAKdN,EAAexe,EAASG,KAAK4e,IAAIL,EAAAE,KAAA,iBAAAF,EAAAC,KAAA,GAAAD,EAAAM,GAAAN,EAAA,iBAGrC1f,IACGya,IAAI,cAADha,OAAeb,GAAM,CACvBqjB,aAAc9hB,EAAKL,IAAI,gBACvByE,MAAOpE,EAAKL,IAAI,SAChB1D,MAAO+D,EAAKL,IAAI,SAChBkF,QAAS7E,EAAKL,IAAI,WAClBmF,SAAU9E,EAAKL,IAAI,YACnBoF,SAAU/E,EAAKL,IAAI,YACnB4E,OAAQvE,EAAKL,IAAI,UACjB0e,eACA5Z,UAAWzE,EAAKL,IAAI,aACpBke,aAAc7d,EAAKL,IAAI,iBAAmB,KAC1Cme,YAAa9d,EAAKL,IAAI,gBAAkB,KACxCmc,QAASA,EACT5X,IAAK6a,OAAOjD,GAAWiD,OAAO1C,KAE/Bzc,MAAK,SAACC,GAELgc,GAAY,GACZkC,QAED9d,OAAM,SAAUC,GAEf2b,GAAY,GACZvQ,KAAKC,KAAK,CACRC,KAAM,QACNjQ,MAAO,QACPkQ,KAAMvL,EAAML,SAASG,KAAK0L,QAAQC,QAAQ,KAAM,UAChDC,mBAAmB,IAClBhM,MAAK,WACNic,GAAY,MAEd/b,QAAQC,IAAIG,MAEbN,MAAK,eAEH,yBAAA2e,EAAAS,UAAAZ,EAAA,mBACN,gBArDea,GAAA,OAAAvf,EAAAwf,MAAA,KAAAC,YAAA,GAuDVC,GAAY,eAAApc,EAAAib,aAAAC,KAAAC,MAAG,SAAAkB,EAAOtU,GAAK,IAAA/K,EAAAqe,EAAAC,EAAAze,EAAA,OAAAqe,KAAA5c,MAAA,SAAAge,GAAA,cAAAA,EAAAd,KAAAc,EAAAb,MAAA,OAGT,GAFtB1T,EAAMC,iBACAhL,EAAO,IAAImL,SAASJ,EAAMG,eAC5BmT,EAAe,IACfre,EAAKL,IAAI,aAAatH,KAAK,CAADinB,EAAAb,KAAA,SAEqB,OAD3CH,EAAa,IAAInT,UACZuT,OAAO,OAAQ1e,EAAKL,IAAI,cAAc2f,EAAAd,KAAA,EAAAc,EAAAb,KAAA,EAExB5f,IAAMmL,KAAK,qBAAsBsU,EAAY,CAClElV,QAAS,CACP,eAAgB,uCAEjB,KAAD,EAJIvJ,EAAQyf,EAAAX,KAKdN,EAAexe,EAASG,KAAK4e,IAAIU,EAAAb,KAAA,iBAAAa,EAAAd,KAAA,GAAAc,EAAAT,GAAAS,EAAA,iBAGrCzgB,IACGmL,KAAK,oBAAqB,CACzB8X,aAAc9hB,EAAKL,IAAI,gBACvByE,MAAOpE,EAAKL,IAAI,SAChB1D,MAAO+D,EAAKL,IAAI,SAChBkF,QAAS7E,EAAKL,IAAI,WAClBmF,SAAU9E,EAAKL,IAAI,YACnBoF,SAAU/E,EAAKL,IAAI,YACnB4E,OAAQvE,EAAKL,IAAI,UACjB0e,eACA5Z,UAAWzE,EAAKL,IAAI,aACpBke,aAAc7d,EAAKL,IAAI,iBAAmB,KAC1Cme,YAAa9d,EAAKL,IAAI,gBAAkB,KACxCmc,QAASA,EACT5X,IAAK6a,OAAOjD,GAAWiD,OAAO1C,KAE/Bzc,MAAK,SAACC,GAELgc,GAAY,GACZkC,QAED9d,OAAM,SAAUC,GAEf2b,GAAY,GACZvQ,KAAKC,KAAK,CACRC,KAAM,QACNjQ,MAAO,QACPe,KAAM4D,EAAML,SAASG,KAAK0L,QAC1BE,mBAAmB,IAClBhM,MAAK,WACNic,GAAY,MAEd/b,QAAQC,IAAIG,MAEbN,MAAK,eAEH,yBAAA0f,EAAAN,UAAAK,EAAA,mBACN,gBArDiBE,GAAA,OAAAvc,EAAAkc,MAAA,KAAAC,YAAA,GAuEZpB,GAAY,SAAC/e,GACjBH,IACGc,IAAI,aAAc,CAAEX,gBACpBY,MAAK,SAACC,GAEL8b,EAAU9b,EAASG,SAEpBC,OAAM,SAAUC,GAEfJ,QAAQC,IAAIG,MAEbN,MAAK,gBAgBV,OAPAjB,qBAAU,WACR,IArCmBK,EAqCbJ,EAASC,IAAMC,YAAYF,SAGjC,OAxCmBI,EAsCPJ,EAAOnG,MArCnBoG,IACGc,IAAI,sBAAuB,CAAEX,gBAC7BY,MAAK,SAACC,GAEL6c,EAAY7c,EAASG,SAEtBC,OAAM,SAAUC,GAEfJ,QAAQC,IAAIG,MAEbN,MAAK,eA4BRme,GAAUnf,EAAOnG,OACV,kBAAMmG,EAAOK,OAAO,oCAC1B,IAGD2B,eAACuJ,KAAG,CACF9J,GAAI,CACFqH,OAAQ,OACRgH,SAAU,OACV3R,QAAS,aACT2D,SAAA,CAEFP,cAACwM,KAAM,CACL6S,UAAWrf,cAACsf,KAAO,IACnBxR,QAAS,WACPwK,EAAa,CACX,CACEpgB,KAAM,eACNgU,MAAO,WACP/C,KAAM,eACNyR,QAAS,CAAC,KAAM,KAAM,KAAM,MAC5B9f,MAAO,OAET,CACE5C,KAAM,QACNgU,MAAO,QACP/C,KAAM,OACNrO,MAAO,OAET,CACE5C,KAAM,QACNgU,MAAO,QACP/C,KAAM,OACNrO,MAAO,OAET,CACE5C,KAAM,UACNgU,MAAO,WACP/C,KAAM,eACNyR,QAAS,CAAC,MAAO,MAAO,OACxB9f,MAAO,OAET,CACE5C,KAAM,WACNgU,MAAO,WACP/C,KAAM,eACNyR,QAAS,CAAC,MAAO,MAAO,MAAO,OAC/B9f,MAAO,OAET,CACE5C,KAAM,WACNgU,MAAO,WACP/C,KAAM,eACNyR,QAAS,CAAC,WAAY,WACtB9f,MAAO,OAET,CACE5C,KAAM,SACNgU,MAAO,eACP/C,KAAM,OACNrO,MAAO,QAET,CACE5C,KAAM,eACNgU,MAAO,gBACP/C,KAAM,OACNrO,MAAO,OAET,CACE5C,KAAM,cACNgU,MAAO,eACP/C,KAAM,OACNrO,MAAO,SAGX8gB,EAAW,GACXG,EAAa,KACbI,EAAe,GACfb,EAAY,UACZI,GAAY,IACZnb,SACH,cAGDE,eAAA,SAAOqa,QAAQ,wBAAuBva,SAAA,CACpCP,cAAA,SACEuf,OAAO,QACPjhB,GAAG,wBACH6K,KAAK,OACLjI,MAAO,CAAEiJ,QAAS,QAClB0I,SAAQ,eAAAxP,EAAAya,aAAAC,KAAAC,MAAE,SAAAwB,EAAOnO,GAAC,IAAA8M,EAAA,OAAAJ,KAAA5c,MAAA,SAAAse,GAAA,cAAAA,EAAApB,KAAAoB,EAAAnB,MAAA,OACG,GAAnBjN,EAAExG,iBAAiB4U,EAAApB,KAAA,IAEbhN,EAAEoF,OAAOiJ,MAAMtc,OAAS,GAAC,CAAAqc,EAAAnB,KAAA,QAEkB,OADvCH,EAAa,IAAInT,UACZuT,OAAO,OAAQlN,EAAEoF,OAAOiJ,MAAM,IAAID,EAAAnB,KAAA,EACvC5f,IAAMmL,KAAK,2BAEfsU,EACA,CACElV,QAAS,CACP,eAAgB,uCAGpB,KAAD,EACD2U,KAAY,OAAA6B,EAAAnB,KAAA,iBAAAmB,EAAApB,KAAA,GAAAoB,EAAAf,GAAAe,EAAA,SAGd9f,QAAQC,IAAG6f,EAAAf,IAAQ,QAEG,OAFHe,EAAApB,KAAA,GAEnBhN,EAAEoF,OAAOxd,MAAQ,KAAKwmB,EAAAE,OAAA,6BAAAF,EAAAZ,UAAAW,EAAA,yBAEzB,gBAAAI,GAAA,OAAAvc,EAAA0b,MAAA,KAAAC,YAtBO,KAwBVhf,cAACwM,KAAM,CAAC9B,UAAU,OAAOxK,GAAI,CAAE2f,GAAI,GAAItf,SAAC,mBAI1CP,cAACsW,KAAK,CACJpW,GAAI,CACF8G,UAAW,OACXpK,QAAS,WACTuN,QAAS,OACT2V,SAAU,OACVxS,eAAgB,gBAChB/M,SAED,CACC,CACE2L,MAAO,WACPjT,MAAOooB,EACPxO,SAAU,SAACjI,EAAO3R,GAChB2R,EAAMC,iBACNyW,EAAkBroB,GAClB8jB,EAAe,MACfyE,GAAe,OAEjB5G,QAAS0B,EACN1Z,KAAI,SAACiB,GAAI,OAAKA,EAAK8d,gBACnBzL,QAAO,SAAC6J,EAAGzc,EAAO0c,GAAK,OAAKA,EAAMjJ,QAAQgJ,KAAOzc,MAEtD,CACE4I,MAAO,QACPjT,MAAO6jB,EACPjK,SAAU,SAACjI,EAAO3R,GAChB2R,EAAMC,iBACNkS,EAAe9jB,GACfuoB,GAAe,OAEjB5G,QAAS0B,EACNpG,QACC,SAACrS,GAAI,OACFwd,GAAkBxd,EAAK8d,eAAiBN,KAE5Cze,KAAI,SAACiB,GAAI,OAAKA,EAAKI,SACnBiS,QAAO,SAAC6J,EAAGzc,EAAO0c,GAAK,OAAKA,EAAMjJ,QAAQgJ,KAAOzc,MAEtD,CACE4I,MAAO,QACPjT,MAAOsoB,GACP1O,SAAU,SAACjI,EAAO3R,GAChB2R,EAAMC,iBACN2W,GAAevoB,IAEjB2hB,QAAS0B,EACNpG,QACC,SAACrS,GAAI,QACDwd,GAAkBxd,EAAK8d,eAAiBN,MACxCvE,GAAejZ,EAAKI,QAAU6Y,MAEnCla,KAAI,SAACiB,GAAI,OAAKA,EAAK/H,SACnBoa,QAAO,SAAC6J,EAAGzc,EAAO0c,GAAK,OAAKA,EAAMjJ,QAAQgJ,KAAOzc,OAEtDV,KAAI,SAAA4D,EAAsBlD,GAAK,IAAxB4I,EAAK1F,EAAL0F,MAAU7O,EAAK4F,YAAAuD,EAAAtD,IAAA,OACtBlD,cAACigB,KAAY9c,YAAA,CAEXjD,GAAI,CAAEwD,UAAW,QAASC,SAAU,SACpCuc,YAAa,SAACC,GAAM,OAAKngB,cAAC+L,KAAS5I,wBAAA,GAAKgd,GAAM,IAAEjU,MAAOA,OACnD7O,GAHCiG,QAOXtD,cAAC2a,GAAoB,CACnBC,QAASM,GACTrI,SA/LsB,SAACuN,GAC3BjD,GAAuBiD,IA+LnBpL,SAAUkI,KAEZld,cAAC2U,GAAQ,CACPvZ,MAAM,kBACNwZ,KAAM2G,EACH3Y,KACC,SAAA8D,EASEpD,GAAK,IAPHY,EAAYwC,EAAZxC,aACAC,EAAauC,EAAbvC,cACA+Z,EAAYxX,EAAZwX,aACAR,EAAYhX,EAAZgX,aACAC,EAAWjX,EAAXiX,YACG1K,EAAShQ,YAAAyD,EAAAjD,IAAA,OAAAN,YAAA,CAIdkd,UACErgB,cAAA,KACEwJ,KAAK,IACLsE,QAAS,SAACuD,GACRA,EAAExG,iBACFM,KAAKC,KAAK,CACRE,KAAK,kCAADnM,OAAoC+e,EAAY,QACpDoC,iBAAiB,EACjBC,mBAAmB,EACnB9U,mBAAmB,KAErBlL,SAEFP,cAAA,OACEqK,IAAI,GACJvP,MAAM,OACNmC,IAAKihB,EACLhd,MAAO,CAAE8F,UAAW,WAI1B9C,aAAcA,EAAe,MAAQ,KACrCC,cAAeA,EAAgB,MAAQ,KACvCiV,KACEpZ,cAAC4N,KAAU,CACTE,QAAS,SAAClD,GACRA,EAAMC,iBACN2N,GAAgBlV,IAChB/C,SAEFP,cAACkU,KAAQ,MAGb6E,OACE/Y,cAAC4N,KAAU,CACTE,QAAS,SAAClD,GACRA,EAAMC,iBACN4N,GAAkBnV,IAClB/C,SAEFP,cAACmU,KAAU,MAGfuJ,aAAcA,GAAgB,KAC9BC,YAAaA,GAAe,MACzB1K,MAGNiD,QACC,SAACrS,GAAI,QACDwd,GAAkBxd,EAAK8d,eAAiBN,MACxCvE,GAAejZ,EAAKI,QAAU6Y,MAC9ByE,IAAe1d,EAAK/H,QAAUylB,OAEtCrP,QACEA,GAAQtP,KAAI,SAAC4d,EAAQC,GACnB,OAAIA,EAAI,GAAKA,EAAI,GACXvD,GAAoB3Y,MAAK,SAAAmc,GAAU,OAAEA,IAAeF,EAAOtU,SACtDsU,OAEP,EAEGA,KACNtK,QAAO,SAAAsK,GAAM,YAAaG,IAAXH,KAEpBnH,YAAab,GACbc,cAAeb,GACf9E,kBAtcwB,SAACqB,GAC7B7J,KAAKC,KAAK,CACRhQ,MAAO,gBACPe,KAAM,2DACNkP,KAAM,WACNqN,kBAAkB,EAClBC,kBAAmB,eACnBC,iBAAkB,iBAClBnN,mBAAmB,IAClBhM,MAAK,SAACoZ,GACHA,EAAOC,aACTpa,IACGqa,OAAO,aAAc,CACpBlZ,KAAM,CAAE0Z,IAAKvE,KAEdvV,MAAK,SAACC,GAELke,QAED9d,OAAM,SAAUC,GAEfoL,KAAKC,KAAK,CACRC,KAAM,QACNjQ,MAAO,QACPe,KAAM4D,EAAML,SAASG,KAAK0L,QAC1BE,mBAAmB,IAErB9L,QAAQC,IAAIG,MAEbN,MAAK,qBA2aVgB,eAAC+Y,KAAM,CACLvN,WAAS,EACT2U,WAAYC,aAAczgB,EAAM0gB,YAAYC,KAAK,OACjDpd,SAAS,KACTrD,KAAMmb,EACNrK,WAAY,CACV1G,UAAW,OACXC,SAAuB,WAAb0Q,EAAwB4D,GAAepB,IACjDtd,SAAA,CAEFP,cAACyZ,KAAW,CAAAlZ,SACI,WAAb8a,EAAwB,YAAc,eAEzCrb,cAAC0Z,KAAa,CAAAnZ,SACZE,eAAC6V,KAAK,CACJpW,GAAI,CACFgK,GAAI,MACJgJ,EAAG,OACH/I,QAAS,OACT2V,SAAU,OACVxS,eAAgB,iBAChB/M,SAAA,CAED8X,EAAUzV,KAAI,SAAAsE,EAAiC5D,GAAW,IAAzC6F,EAAIjC,EAAJiC,KAAMrO,EAAKoM,EAALpM,MAAUkmB,EAAU/d,YAAAiE,EAAAT,IAC1C,GAAa,SAAT0C,EACF,OACEnJ,cAAC+L,KAAS5I,YAAA,CAERjD,GAAI,CAAEwD,UAAW5I,EAAO6T,SAAU7T,IAC9BkmB,GAFC1d,GAKJ,GAAa,SAAT6F,EACT,OACEnJ,cAAC+L,KAAS5I,YAAA,CAERgG,KAAK,OACL8X,gBAAiB,CAAEC,QAAQ,GAC3BhhB,GAAI,CAAEwD,UAAW5I,EAAO6T,SAAU7T,IAC9BkmB,GAJC1d,GAOJ,GAAa,aAAT6F,EAAqB,CAC9B,IAAQiE,EAA8B4T,EAA9B5T,aAAclB,EAAgB8U,EAAhB9U,MAAOhU,EAAS8oB,EAAT9oB,KAC7B,OACE8H,cAACqM,KAAgB,CAEfC,QACEtM,cAACuM,KAAQ,CAACrU,KAAMA,EAAMipB,eAAgB/T,IAExClB,MAAOA,EACPhM,GAAI,CAAEwD,UAAW5I,EAAO6T,SAAU7T,IAL7BwI,GAQJ,GAAa,iBAAT6F,EAAyB,CAClC,IAAQjR,EAAkC8oB,EAAlC9oB,KAAMgU,EAA4B8U,EAA5B9U,MAAU0V,EAAa3e,YAAK+d,EAAUra,IACpD,OACE3G,cAACigB,KAAY9c,YAAA,CAEXjD,GAAI,CAAEwD,UAAW5I,EAAO6T,SAAU7T,GAClColB,YAAa,SAACC,GAAM,OAClBngB,cAAC+L,KAAS5I,wBAAA,GAAKgd,GAAM,IAAEjoB,KAAMA,EAAMgU,MAAOA,OAExC0V,GALCte,GAQJ,OAAO,QAEhBtD,cAAC+L,KAAS,CACRG,MAAM,YACNhU,KAAK,YACLiR,KAAK,OACLjJ,GAAI,CAAEwD,UAAW,CAAC,OAAQ,OAAQiL,SAAU,CAAC,OAAQ,QACrDmE,WAAY,CACVyM,OAAQ,oCAEV0B,gBAAiB,CAAEC,QAAQ,KAE7BlhB,cAACqM,KAAgB,CACfnM,GAAI,CACFwD,UAAW,CAAC,OAAQ,OACpBiL,SAAU,CAAC,OAAQ,OACnBxT,WAAY,WACZoP,EAAG,GAEL+B,QACEtM,cAAC+L,KAAS,CACRG,MAAM,aACN/C,KAAK,SACLjR,KAAK,YACLkV,aAAc9I,EACd2H,WAAS,EACT/L,GAAI,CAAEqK,EAAG,kBAGb2B,MAAM,QAERzL,eAACuJ,KAAG,CACFG,QAAQ,OACRmD,eAAe,SACfnS,WAAW,SACX+E,GAAI,CAAEwD,UAAW,CAAC,OAAQ,OAAQiL,SAAU,CAAC,OAAQ,QAASpO,SAAA,CAE9DP,cAAC4N,KAAU,CACTE,QAAS,WACP8N,EAAWD,EAAU,EAAIA,EAAU,EAAI,IACvCpb,SAEFP,cAACohB,KAAU,MAEbphB,cAAC+L,KAAS,CACRG,MAAM,UACNjT,MAAO0iB,EACPxS,KAAK,SACLjJ,GAAI,CAAEpF,MAAO,OAAQmP,GAAI,OACzB4I,SAAU,SAACxB,GACLA,EAAEoF,OAAOxd,MAAQ,EAAG2iB,EAAWvK,EAAEoF,OAAOxd,OACvC2iB,EAAW,GAChBG,EAAa,QAGjB/b,cAAC4N,KAAU,CACTE,QAAS,WACP8N,EAAWD,EAAU,IACrBpb,SAEFP,cAACsf,KAAO,SAGZ7e,eAACuJ,KAAG,CACFG,QAAQ,OACRmD,eAAe,SACfnS,WAAW,SACX+E,GAAI,CAAEwD,UAAW,CAAC,OAAQ,OAAQiL,SAAU,CAAC,OAAQ,QAASpO,SAAA,CAE9DP,cAAC4N,KAAU,CACTE,QAAS,WACPqO,EAAetW,KAAKC,IAAIoW,EAAc,EAAG,KACzC3b,SAEFP,cAACohB,KAAU,MAEbphB,cAAC+L,KAAS,CACRG,MAAM,WACNjT,MAAOijB,EACP/S,KAAK,SACLjJ,GAAI,CAAEpF,MAAO,OAAQmP,GAAI,OACzB4I,SAAU,SAACxB,GACT8K,EAAetW,KAAKC,IAAIuL,EAAEoF,OAAOxd,MAAO,OAG5C+G,cAAC4N,KAAU,CACTE,QAAS,WACPqO,EAAeD,EAAc,IAC7B3b,SAEFP,cAACsf,KAAO,cAKhB7e,eAACoZ,KAAa,CAAAtZ,SAAA,CACZP,cAACwM,KAAM,CACLsB,QAAS,WACP4N,GAAY,IACZnb,SACH,WAGDP,cAACwM,KAAM,CAACrD,KAAK,SAAQ5I,SACL,WAAb8a,EAAwB,SAAW,qBAQjCF,M,qEC/0BTjJ,GAAU,CACd,CACE5T,GAAI,YACJ4B,GAAI,CAAEpF,MAAO,KACbkY,SAAS,GAEX,CACE1U,GAAI,OACJ4N,MAAO,QAET,CACE5N,GAAI,WACJ4N,MAAO,YAET,CACE5N,GAAI,YACJ4N,MAAO,SAET,CACE5N,GAAI,UACJ4N,MAAO,WAET,CACE5N,GAAI,MACJ4N,MAAO,OAET,CACE5N,GAAI,SACJ4N,MAAO,gBAET,CACE5N,GAAI,eACJ4N,MAAO,YAET,CACE5N,GAAI,cACJ4N,MAAO,WAET,CACE5N,GAAI,OACJ0U,SAAS,GAEX,CACE1U,GAAI,SACJ0U,SAAS,IASb,IAAMmI,GAAQ/d,aALd,SAAyB3E,GAEvB,MAAO,CAAET,KADQS,EAATT,QAIIoF,EAAyB,SAACC,GACtC,IAAM+C,EAAQgb,eAEd9d,EAAgCC,mBAAS,UAASC,EAAAC,YAAAH,EAAA,GAA3C+d,EAAQ7d,EAAA,GAAE8d,EAAW9d,EAAA,GAE5BI,EAA4BL,mBAAS,IAAGY,EAAAV,YAAAG,EAAA,GAAjC2d,EAAMpd,EAAA,GAAEqd,EAASrd,EAAA,GACxB2W,EAAoCvX,mBAAS,IAAGwX,EAAAtX,YAAAqX,EAAA,GAAzC+M,EAAU9M,EAAA,GAAE+M,EAAa/M,EAAA,GAChCG,EAAgC3X,oBAAS,GAAM4X,EAAA1X,YAAAyX,EAAA,GAAxCuG,EAAQtG,EAAA,GAAEuG,EAAWvG,EAAA,GAC5BG,EAAkC/X,mBAAS,IAAGgY,EAAA9X,YAAA6X,EAAA,GAAvC+C,EAAS9C,EAAA,GAAE+C,EAAY/C,EAAA,GAE9BG,EAAoBnY,mBAAS,IAAGoY,EAAAlY,YAAAiY,EAAA,GAAzBpX,EAAEqX,EAAA,GAAEyC,EAAKzC,EAAA,GAEhBkG,EAA8Bte,mBAAS,GAAEue,EAAAre,YAAAoe,EAAA,GAAlCF,EAAOG,EAAA,GAAEF,EAAUE,EAAA,GAC1BE,EAAkCze,mBAAS,KAAK0e,EAAAxe,YAAAue,EAAA,GAAzC1X,EAAS2X,EAAA,GAAEF,EAAYE,EAAA,GAC9BG,EAAsC7e,mBAAS,GAAE8e,EAAA5e,YAAA2e,EAAA,GAA1CF,EAAWG,EAAA,GAAEF,EAAcE,EAAA,GAIlCG,EAA4Cjf,mBAAS,OAAMkf,EAAAhf,YAAA+e,EAAA,GAApDuF,EAActF,EAAA,GAAEuF,EAAiBvF,EAAA,GAElCjE,EAAkB,SAAClV,GACnBA,EAAQiY,EAAOnY,QAAUE,GAAS,IACpC8U,EAAMmD,EAAOjY,GAAOhF,IACpBga,EAAa,CACX,CACEpgB,KAAM,OACNgU,MAAO,OACP/C,KAAM,OACNiE,aAAcmO,EAAOjY,GAAOpL,KAC5B4C,MAAO,OAET,CACE5C,KAAM,WACNgU,MAAO,WACP/C,KAAM,SACNiE,aAAcmO,EAAOjY,GAAOmC,SAC5B3K,MAAO,OAET,CACE5C,KAAM,SACNgU,MAAO,eACPuR,WAAW,EACXtU,KAAM,OACNiE,aAAcmO,EAAOjY,GAAOc,OAC5BtJ,MAAO,QAET,CACE5C,KAAM,eACNgU,MAAO,gBACP/C,KAAM,OACNiE,aAAcmO,EAAOjY,GAAOoa,aAC5B5iB,MAAO,OAET,CACE5C,KAAM,cACNgU,MAAO,eACP/C,KAAM,OACNiE,aAAcmO,EAAOjY,GAAOqa,YAC5B7iB,MAAO,SAGX8gB,EAAWL,EAAOjY,GAAOqY,SACzBI,EAAaR,EAAOjY,GAAOgB,WAC3B6X,EAAeZ,EAAOjY,GAAOS,IAAMwX,EAAOjY,GAAOqY,UAEnDL,EAAY,QACZI,GAAY,IAGRjD,EAAoB,SAACnV,GACrBA,EAAQiY,EAAOnY,QAAUE,GAAS,GACpC6H,KAAKC,KAAK,CACRhQ,MAAO,gBACPe,KAAM,8DACNkP,KAAM,WACNqN,kBAAkB,EAClBC,kBAAmB,eACnBC,iBAAkB,eAClBnN,mBAAmB,IAClBhM,MAAK,SAACoZ,GACHA,EAAOC,aACTpa,IACGqa,OAAO,mBAAD5Z,OAAoBoc,EAAOjY,GAAOhF,KACxCmB,MAAK,SAACC,GAELke,OAED9d,OAAM,SAAUC,GAEfoL,KAAKC,KAAK,CACRC,KAAM,QACNjQ,MAAO,QACPe,KAAM4D,EAAML,SAASG,KAAK0L,QAC1BE,mBAAmB,IAErB9L,QAAQC,IAAIG,MAEbN,MAAK,mBA4CVoe,EAAU,eAAAte,EAAAue,aAAAC,KAAAC,MAAG,SAAAC,EAAOrT,GAAK,IAAA/K,EAAAqe,EAAAC,EAAAze,EAAA,OAAAqe,KAAA5c,MAAA,SAAAid,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,OAGP,GAFtB1T,EAAMC,iBACAhL,EAAO,IAAImL,SAASJ,EAAMG,eAC5BmT,EAAe,IACfre,EAAKL,IAAI,aAAatH,KAAK,CAADkmB,EAAAE,KAAA,SAEqB,OAD3CH,EAAa,IAAInT,UACZuT,OAAO,OAAQ1e,EAAKL,IAAI,cAAc4e,EAAAC,KAAA,EAAAD,EAAAE,KAAA,EAExB5f,IAAMmL,KAAK,yBAEhCsU,EACA,CACElV,QAAS,CACP,eAAgB,uCAGpB,KAAD,EARKvJ,EAAQ0e,EAAAI,KASdN,EAAexe,EAASG,KAAK4e,IAAIL,EAAAE,KAAA,iBAAAF,EAAAC,KAAA,GAAAD,EAAAM,GAAAN,EAAA,iBAGrC1f,IACGya,IAAI,mBAADha,OAAoBb,GAAM,CAC5BpG,KAAM2H,EAAKL,IAAI,QACfiG,SAAU5F,EAAKL,IAAI,YACnB4E,OAAQvE,EAAKL,IAAI,UACjB0e,eACA5Z,UAAWzE,EAAKL,IAAI,aACpBke,aAAc7d,EAAKL,IAAI,iBAAmB,KAC1Cme,YAAa9d,EAAKL,IAAI,gBAAkB,KACxCmc,QAASA,EACT5X,IAAK6a,OAAOjD,GAAWiD,OAAO1C,KAE/Bzc,MAAK,SAACC,GAELgc,GAAY,GACZkC,OAED9d,OAAM,SAAUC,GAEf2b,GAAY,GACZvQ,KAAKC,KAAK,CACRC,KAAM,QACNjQ,MAAO,QACPkQ,KAAMvL,EAAML,SAASG,KAAK0L,QAAQC,QAAQ,KAAM,UAChDC,mBAAmB,IAClBhM,MAAK,WACNic,GAAY,MAEd/b,QAAQC,IAAIG,MAEbN,MAAK,eAEH,yBAAA2e,EAAAS,UAAAZ,EAAA,mBACN,gBArDea,GAAA,OAAAvf,EAAAwf,MAAA,KAAAC,YAAA,GAuDVC,EAAY,eAAApc,EAAAib,aAAAC,KAAAC,MAAG,SAAAkB,EAAOtU,GAAK,IAAA/K,EAAAqe,EAAAC,EAAAze,EAAA,OAAAqe,KAAA5c,MAAA,SAAAge,GAAA,cAAAA,EAAAd,KAAAc,EAAAb,MAAA,OAGT,GAFtB1T,EAAMC,iBACAhL,EAAO,IAAImL,SAASJ,EAAMG,eAC5BmT,EAAe,IACfre,EAAKL,IAAI,aAAatH,KAAK,CAADinB,EAAAb,KAAA,SAEqB,OAD3CH,EAAa,IAAInT,UACZuT,OAAO,OAAQ1e,EAAKL,IAAI,cAAc2f,EAAAd,KAAA,EAAAc,EAAAb,KAAA,EAExB5f,IAAMmL,KAAK,yBAEhCsU,EACA,CACElV,QAAS,CACP,eAAgB,uCAGpB,KAAD,EARKvJ,EAAQyf,EAAAX,KASdN,EAAexe,EAASG,KAAK4e,IAAIU,EAAAb,KAAA,iBAAAa,EAAAd,KAAA,GAAAc,EAAAT,GAAAS,EAAA,iBAGrCzgB,IACGmL,KAAK,yBAA0B,CAC9B3R,KAAM2H,EAAKL,IAAI,QACfiG,SAAU5F,EAAKL,IAAI,YACnB4E,OAAQvE,EAAKL,IAAI,UACjB0e,eACA5Z,UAAWzE,EAAKL,IAAI,aACpBke,aAAc7d,EAAKL,IAAI,iBAAmB,KAC1Cme,YAAa9d,EAAKL,IAAI,gBAAkB,KACxCmc,QAASA,EACT5X,IAAK6a,OAAOjD,GAAWiD,OAAO1C,KAE/Bzc,MAAK,SAACC,GAELgc,GAAY,GACZkC,OAED9d,OAAM,SAAUC,GAEf2b,GAAY,GACZvQ,KAAKC,KAAK,CACRC,KAAM,QACNjQ,MAAO,QACPe,KAAM4D,EAAML,SAASG,KAAK0L,QAC1BE,mBAAmB,IAClBhM,MAAK,WACNic,GAAY,MAEd/b,QAAQC,IAAIG,MAEbN,MAAK,eAEH,yBAAA0f,EAAAN,UAAAK,EAAA,mBACN,gBArDiBE,GAAA,OAAAvc,EAAAkc,MAAA,KAAAC,YAAA,GAwEZpB,EAAY,SAAC/e,GACjBH,IACGc,IAAI,kBAAmB,CAAEX,gBACzBY,MAAK,SAACC,GAEL8b,EAAU9b,EAASG,MACnBiiB,EAAcpiB,EAASG,SAExBC,OAAM,SAAUC,GAEfJ,QAAQC,IAAIG,MAEbN,MAAK,gBAKVjB,qBAAU,WACR,IAnCmBK,EAmCbJ,EAASC,IAAMC,YAAYF,SAGjC,OAtCmBI,EAoCPJ,EAAOnG,MAnCnBoG,IACGc,IAAI,2BAA4B,CAAEX,gBAClCY,MAAK,SAACC,GAGLC,QAAQC,IAAI,wBAEbE,OAAM,SAAUC,GAEfJ,QAAQC,IAAIG,MAEbN,MAAK,eAyBRme,EAAUnf,EAAOnG,OACV,kBAAMmG,EAAOK,OAAO,oCAC1B,IAcH,OACE2B,eAACuJ,KAAG,CACF9J,GAAI,CACFqH,OAAQ,OACRgH,SAAU,OACV3R,QAAS,aACT2D,SAAA,CAEFP,cAACwM,KAAM,CACL6S,UAAWrf,cAACsf,KAAO,IACnBxR,QAAS,WACPwK,EAAa,CACX,CACEpgB,KAAM,OACNgU,MAAO,OACP/C,KAAM,OACNrO,MAAO,OAET,CACE5C,KAAM,WACNgU,MAAO,WACP/C,KAAM,SACNrO,MAAO,OAET,CACE5C,KAAM,SACNgU,MAAO,SACP/C,KAAM,OACNrO,MAAO,QAET,CACE5C,KAAM,eACNgU,MAAO,gBACP/C,KAAM,OACNrO,MAAO,OAET,CACE5C,KAAM,cACNgU,MAAO,eACP/C,KAAM,OACNrO,MAAO,SAGX8gB,EAAW,GACXG,EAAa,KACbI,EAAe,GACfb,EAAY,UACZI,GAAY,IACZnb,SACH,cAGDP,cAACsW,KAAK,CACJpW,GAAI,CACF8G,UAAW,OACXpK,QAAS,WACTuN,QAAS,OACT2V,SAAU,OACVxS,eAAgB,gBAChB/M,SAEFE,eAACsM,KAAW,CACVE,KAAK,QACL/M,GAAI,CAAEwD,UAAW,QAASC,SAAU,SAAUpD,SAAA,CAE9CP,cAACgN,KAAU,CAAC1O,GAAG,kBAAiBiC,SAAC,aACjCE,eAACyM,KAAM,CACLC,QAAQ,kBACRjB,MAAM,WACNjT,MAAO8oB,EACPlP,SAlFmB,SAACxB,GAC5B,IAAI4Q,EAAoB5Q,EAAEoF,OAAOxd,MACjC+oB,EAAkBC,GAEhBzG,EADwB,QAAtByG,EACQJ,EAGRA,EAAW3L,QAAO,SAAC1R,GAAK,OAAKA,EAAMiB,WAAawc,OA2Eb1hB,SAAA,CAE/BP,cAACqN,KAAQ,CAACpU,MAAM,MAAKsH,SAAC,QACtBP,cAACqN,KAAQ,CAACpU,MAAM,mBAAkBsH,SAAC,qBACnCP,cAACqN,KAAQ,CAACpU,MAAM,oBAAmBsH,SAAC,sBACpCP,cAACqN,KAAQ,CAACpU,MAAM,eAAcsH,SAAC,iBAC/BP,cAACqN,KAAQ,CAACpU,MAAM,eAAcsH,SAAC,iBAC/BP,cAACqN,KAAQ,CAACpU,MAAM,UAASsH,SAAC,YAC1BP,cAACqN,KAAQ,CAACpU,MAAM,SAAQsH,SAAC,mBAI/BP,cAAC2U,GAAQ,CACPvZ,MAAM,mBACNwZ,KAAM2G,EAAO3Y,KACX,SAAAS,EAEEC,GAAK,IADH4a,EAAY7a,EAAZ6a,aAAcR,EAAYra,EAAZqa,aAAcC,EAAWta,EAAXsa,YAAgB1K,EAAShQ,YAAAI,EAAAH,IAAA,OAAAC,YAAA,CAGvDkd,UACErgB,cAAA,KACEwJ,KAAK,IACLsE,QAAS,SAACuD,GACRA,EAAExG,iBACFM,KAAKC,KAAK,CACRE,KAAK,kCAADnM,OAAoC+e,EAAY,QACpDoC,iBAAiB,EACjBC,mBAAmB,EACnB9U,mBAAmB,KAErBlL,SAEFP,cAAA,OACEqK,IAAI,GACJvP,MAAM,OACNmC,IAAKihB,EACLhd,MAAO,CAAE8F,UAAW,WAI1BoS,KACEpZ,cAAC4N,KAAU,CACTE,QAAS,SAAClD,GACRA,EAAMC,iBACN2N,EAAgBlV,IAChB/C,SAEFP,cAACkU,KAAQ,MAGb6E,OACE/Y,cAAC4N,KAAU,CACTE,QAAS,SAAClD,GACRA,EAAMC,iBACN4N,EAAkBnV,IAClB/C,SAEFP,cAACmU,KAAU,MAGfuJ,aAAcA,GAAgB,KAC9BC,YAAaA,GAAe,MACzB1K,MAGPf,QAASA,GACTmH,YAAab,EACbc,cAAeb,EACf9E,kBAjVwB,SAACqB,GAC7B7J,KAAKC,KAAK,CACRhQ,MAAO,gBACPe,KAAM,gEACNkP,KAAM,WACNqN,kBAAkB,EAClBC,kBAAmB,eACnBC,iBAAkB,iBAClBnN,mBAAmB,IAClBhM,MAAK,SAACoZ,GACHA,EAAOC,aACTpa,IACGqa,OAAO,kBAAmB,CACzBlZ,KAAM,CAAE0Z,IAAKvE,KAEdvV,MAAK,SAACC,GAELke,OAED9d,OAAM,SAAUC,GAEfoL,KAAKC,KAAK,CACRC,KAAM,QACNjQ,MAAO,QACPe,KAAM4D,EAAML,SAASG,KAAK0L,QAC1BE,mBAAmB,IAErB9L,QAAQC,IAAIG,MAEbN,MAAK,qBAsTVgB,eAAC+Y,KAAM,CACLvN,WAAS,EACT2U,WAAYC,aAAczgB,EAAM0gB,YAAYC,KAAK,OACjDpd,SAAS,KACTrD,KAAMmb,EACNrK,WAAY,CACV1G,UAAW,OACXC,SAAuB,WAAb0Q,EAAwB4D,EAAepB,GACjDtd,SAAA,CAEFP,cAACyZ,KAAW,CAAAlZ,SACI,WAAb8a,EAAwB,YAAc,eAEzCrb,cAAC0Z,KAAa,CAAAnZ,SACZE,eAAC6V,KAAK,CACJpW,GAAI,CACFgK,GAAI,MACJgJ,EAAG,OACH/I,QAAS,OACT2V,SAAU,OACVxS,eAAgB,iBAChB/M,SAAA,CAED8X,EAAUzV,KAAI,SAAA4D,EAAiClD,GAAW,IAAzC6F,EAAI3C,EAAJ2C,KAAMrO,EAAK0L,EAAL1L,MAAUkmB,EAAU/d,YAAAuD,EAAA/C,IAC1C,GAAa,SAAT0F,EACF,OACEnJ,cAAC+L,KAAS5I,YAAA,CAER8J,KAAK,QACL/M,GAAI,CAAEwD,UAAW5I,EAAO6T,SAAU7T,IAC9BkmB,GAHC1d,GAMJ,GAAa,SAAT6F,EACT,OACEnJ,cAAC+L,KAAS5I,YAAA,CAER8J,KAAK,QACL9D,KAAK,OACL8X,gBAAiB,CAAEC,QAAQ,GAC3BhhB,GAAI,CAAEwD,UAAW5I,EAAO6T,SAAU7T,IAC9BkmB,GALC1d,GAQJ,GAAa,aAAT6F,EAAqB,CAC9B,IAAQiE,EAA8B4T,EAA9B5T,aAAclB,EAAgB8U,EAAhB9U,MAAOhU,EAAS8oB,EAAT9oB,KAC7B,OACE8H,cAACqM,KAAgB,CAEfC,QACEtM,cAACuM,KAAQ,CAACrU,KAAMA,EAAMipB,eAAgB/T,IAExClB,MAAOA,GAJF5I,GAOJ,MAAa,WAAT6F,EAEP1I,eAACsM,KAAW,CAEVE,KAAK,QACL/M,GAAI,CAAEwD,UAAW5I,EAAO6T,SAAU7T,GAAQyF,SAAA,CAE1CP,cAACgN,KAAU,CAAC1O,GAAG,kBAAiBiC,SAAC,aACjCE,eAACyM,KAAM/J,wBAAA,CAACgK,QAAQ,mBAAsB6T,GAAU,IAAAzgB,SAAA,CAC9CP,cAACqN,KAAQ,CAACpU,MAAM,mBAAkBsH,SAAC,qBAGnCP,cAACqN,KAAQ,CAACpU,MAAM,oBAAmBsH,SAAC,sBAGpCP,cAACqN,KAAQ,CAACpU,MAAM,eAAcsH,SAAC,iBAC/BP,cAACqN,KAAQ,CAACpU,MAAM,eAAcsH,SAAC,iBAC/BP,cAACqN,KAAQ,CAACpU,MAAM,UAASsH,SAAC,YAC1BP,cAACqN,KAAQ,CAACpU,MAAM,SAAQsH,SAAC,iBAftB+C,GAmBG,QAEhBtD,cAAC+L,KAAS,CACRG,MAAM,YACNhU,KAAK,YACLiR,KAAK,OACLjJ,GAAI,CAAEwD,UAAW,CAAC,OAAQ,OAAQiL,SAAU,CAAC,OAAQ,QACrDmE,WAAY,CACVyM,OAAQ,oCAEV0B,gBAAiB,CAAEC,QAAQ,KAE7BlhB,cAACqM,KAAgB,CACfnM,GAAI,CACFwD,UAAW,CAAC,OAAQ,OACpBiL,SAAU,CAAC,OAAQ,OACnBxT,WAAY,WACZoP,EAAG,GAEL+B,QACEtM,cAAC+L,KAAS,CACRG,MAAM,aACN/C,KAAK,SACLjR,KAAK,YACLkV,aAAc9I,EACd2H,WAAS,EACT/L,GAAI,CAAEqK,EAAG,kBAGb2B,MAAM,QAERzL,eAACuJ,KAAG,CACFG,QAAQ,OACRmD,eAAe,SACfnS,WAAW,SACX+E,GAAI,CAAEwD,UAAW,CAAC,OAAQ,OAAQiL,SAAU,CAAC,OAAQ,QAASpO,SAAA,CAE9DP,cAAC4N,KAAU,CACTE,QAAS,WACP8N,EAAWD,EAAU,EAAIA,EAAU,EAAI,IACvCpb,SAEFP,cAACohB,KAAU,MAEbphB,cAAC+L,KAAS,CACRG,MAAM,UACNjT,MAAO0iB,EACPxS,KAAK,SACLjJ,GAAI,CAAEpF,MAAO,OAAQmP,GAAI,OACzB4I,SAAU,SAACxB,GACLA,EAAEoF,OAAOxd,MAAQ,EAAG2iB,EAAWvK,EAAEoF,OAAOxd,OACvC2iB,EAAW,GAChBG,EAAa,QAGjB/b,cAAC4N,KAAU,CACTE,QAAS,WACP8N,EAAWD,EAAU,IACrBpb,SAEFP,cAACsf,KAAO,SAGZ7e,eAACuJ,KAAG,CACFG,QAAQ,OACRmD,eAAe,SACfnS,WAAW,SACX+E,GAAI,CAAEwD,UAAW,CAAC,OAAQ,OAAQiL,SAAU,CAAC,OAAQ,QAASpO,SAAA,CAE9DP,cAAC4N,KAAU,CACTE,QAAS,WACPqO,EAAetW,KAAKC,IAAIoW,EAAc,EAAG,KACzC3b,SAEFP,cAACohB,KAAU,MAEbphB,cAAC+L,KAAS,CACRG,MAAM,WACNjT,MAAOijB,EACP/S,KAAK,SACLjJ,GAAI,CAAEpF,MAAO,OAAQmP,GAAI,OACzB4I,SAAU,SAACxB,GACT8K,EAAetW,KAAKC,IAAIuL,EAAEoF,OAAOxd,MAAO,OAG5C+G,cAAC4N,KAAU,CACTE,QAAS,WACPqO,EAAeD,EAAc,IAC7B3b,SAEFP,cAACsf,KAAO,cAKhB7e,eAACoZ,KAAa,CAAAtZ,SAAA,CACZP,cAACwM,KAAM,CACLsB,QAAS,WACP4N,GAAY,IACZnb,SACH,WAGDP,cAACwM,KAAM,CAACrD,KAAK,SAAQ5I,SACL,WAAb8a,EAAwB,SAAW,qBAQjCF,M,gICvsBF+G,GAAcC,aAAO5S,KAAP4S,EAAa,SAAA5iB,GAAQA,EAALa,MAAK,MAAQ,CACtDiC,gBAAiBoS,KAAK,KACtB7X,QAAS,WAGEwlB,GAAkBD,aAAOxS,KAAPwS,EAAiB,SAAAtf,GAAQA,EAALzC,MAAK,MAAQ,CAC9DiC,gBAAiBoS,KAAK,KACtB4N,UAAU,oCACVpmB,OAAQ,SACR6jB,SAAU,WAGCwC,GAAsBH,aAAOlS,KAAPkS,EAAqB,SAAA9e,GAAQA,EAALjD,MAAK,MAAQ,CACtEtE,MAAOymB,KAAO,SAGHC,GAAqB,SAAHhc,GAA+C,IAAzClC,EAASkC,EAATlC,UAAWme,EAAMjc,EAANic,OAAQpe,EAAcmC,EAAdnC,eACtD,OACErE,cAACgK,KAAG,CAACtG,UAAU,OAAOyG,QAAQ,OAAO2V,SAAS,OAAO3kB,WAAW,SAAQoF,SACrE,CAAC+D,EAAWme,EAAQpe,GAAgBzB,KAAI,SAACiB,EAAMP,GAAK,OACnDtD,cAACiI,IAAU,CAEToB,QAAQ,OACRnJ,GAAI,CACFpE,MAAO,QACPhB,MAAiB,IAAVwI,EAAc,IAAM,GAC3Bof,WAAY,SACZnU,SAAU,SACVoU,aAAc,WACdvmB,UAAW,SACXiG,gBAAiBkgB,KAAO,KACxBxnB,SAAU,CAAC,OAAQ,QACnB6B,QAAS,QACTX,OAAQ,iBACR2mB,WAAY,EACZpU,aAAc,OACdjO,SAEDsD,GAjBIP,S,4OCiBT4O,GAAU,CACd,CACE5T,GAAI,aACJ4N,MAAO,WAET,CACE5N,GAAI,OACJ4N,MAAO,UAET,CACE5N,GAAI,SACJ4N,MAAO,UAET,CACE5N,GAAI,YACJ4N,MAAO,SAET,CACE5N,GAAI,gBACJ4N,MAAO,WAET,CACE5N,GAAI,WACJ4N,MAAO,YAET,CACE5N,GAAI,aACJ4N,MAAO,YAET,CACE5N,GAAI,SACJ4N,MAAO,UAET,CACE5N,GAAI,WACJ4N,MAAO,YAET,CACE5N,GAAI,YACJ4N,MAAO,aAET,CACE5N,GAAI,WACJ4N,MAAO,YAET,CACE5N,GAAI,OACJ4N,MAAO,QAET,CACE5N,GAAI,cACJ0U,SAAS,EACT9G,MAAO,UACPhM,GAAI,CAAEyD,SAAU,GAAI7I,MAAO,KAS7B,CACEwD,GAAI,YACJ0U,SAAS,EACT9G,MAAO,QACP5C,MAAO,QACPpJ,GAAI,CAAEyD,SAAU,GAAI7I,MAAO,KAE7B,CACEwD,GAAI,eACJ0U,SAAS,EACT9G,MAAO,QACP5C,MAAO,OACPpJ,GAAI,CAAEyD,SAAU,GAAI7I,MAAO,GAAI+nB,YAAa,IAE9C,CACEvkB,GAAI,OACJ0U,SAAS,EACT9S,GAAI,CAAEyD,SAAU,GAAI7I,MAAO,KAE7B,CACEkY,SAAS,EACT1U,GAAI,SACJ4B,GAAI,CAAEyD,SAAU,GAAI7I,MAAO,MAIzBogB,GAAc,CAClB,UACA,WACA,WACA,SACA,WACA,YACA,WACA,OACA,UACA,QACA,SAQa9d,oBALf,SAAyB3E,GAEvB,MAAO,CAAET,KADQS,EAATT,QAIKoF,EAAyB,SAACC,GACvC,IAAM+C,EAAQgb,eAEd9d,EAA4BC,mBAAS,IAAGC,EAAAC,YAAAH,EAAA,GAAjCwlB,EAAMtlB,EAAA,GAAEulB,EAASvlB,EAAA,GACxBI,EAAoCL,mBAAS,IAAGY,EAAAV,YAAAG,EAAA,GAAzColB,EAAU7kB,EAAA,GAAE8kB,EAAa9kB,EAAA,GAChC2W,EAAwBvX,mBAAS,IAAGwX,EAAAtX,YAAAqX,EAAA,GAA7B5c,EAAI6c,EAAA,GAAEmO,EAAOnO,EAAA,GACpBG,EAA0B3X,mBAAS,IAAG4X,EAAA1X,YAAAyX,EAAA,GAA/BrZ,EAAKsZ,EAAA,GAAEgO,EAAQhO,EAAA,GACtBG,EAA0B/X,mBAAS,IAAGgY,EAAA9X,YAAA6X,EAAA,GAA/BpT,EAAKqT,EAAA,GAAE6N,EAAQ7N,EAAA,GACtBG,EAAwCnY,oBAAS,GAAMoY,EAAAlY,YAAAiY,EAAA,GAAhD2N,EAAY1N,EAAA,GAAE2N,EAAe3N,EAAA,GACpCkG,EAAkCte,oBAAS,GAAMue,EAAAre,YAAAoe,EAAA,GAA1C0H,EAASzH,EAAA,GAAE0H,EAAY1H,EAAA,GAC9BE,EAAoCze,oBAAS,GAAM0e,EAAAxe,YAAAue,EAAA,GAA5CyH,EAAUxH,EAAA,GAAEyH,EAAazH,EAAA,GAC1B0H,EAAkB5N,iBAAO,MACzB6N,EAAe7N,iBAAO,MAC5BqG,EAAwC7e,mBAAS,MAAK8e,EAAA5e,YAAA2e,EAAA,GAA/CyH,EAAYxH,EAAA,GAAEyH,EAAezH,EAAA,GAEpCG,EAAoCjf,mBAAS,GAAEkf,EAAAhf,YAAA+e,EAAA,GAAxCuH,EAAUtH,EAAA,GAAEuH,EAAavH,EAAA,GAEhCG,EAAsCrf,mBAAS,IAAGsf,EAAApf,YAAAmf,EAAA,GAA3CqH,EAAWpH,EAAA,GAAEqH,GAAcrH,EAAA,GAElCG,GAAsDzf,mBAAS,IAAG0f,GAAAxf,YAAAuf,GAAA,GAA3DE,GAAmBD,GAAA,GAAEE,GAAsBF,GAAA,GAElDwE,GAAsDlkB,mBAAS,IAAGmkB,GAAAjkB,YAAAgkB,GAAA,GAA3D0C,GAAmBzC,GAAA,GAAE0C,GAAsB1C,GAAA,GAClD2C,GAAkD9mB,mBAAS,IAAG+mB,GAAA7mB,YAAA4mB,GAAA,GAAvDE,GAAiBD,GAAA,GAAEE,GAAoBF,GAAA,GAExCG,GAAkB1O,iBAAO,IACzB2O,GAAiB3O,iBAAO,IACxB4O,GAAsB5O,iBAAO,IA+D7B0C,GAAoB,SAACnV,GACrBA,EAAQwf,EAAO1f,QAAUE,GAAS,GACpC6H,KAAKC,KAAK,CACRhQ,MAAO,gBACPe,KAAM,qDACNkP,KAAM,WACNqN,kBAAkB,EAClBC,kBAAmB,eACnBC,iBAAkB,eAClBnN,mBAAmB,IAClBhM,MAAK,SAACoZ,GACHA,EAAOC,aACTpa,IACGqa,OAAO,UAAD5Z,OAAW2jB,EAAOxf,GAAOhF,KAC/BmB,MAAK,SAACC,GAELklB,QAED9kB,OAAM,SAAUC,GAEfoL,KAAKC,KAAK,CACRC,KAAM,QACNjQ,MAAO,QACPe,KAAM4D,EAAML,SAASG,KAAK0L,QAC1BE,mBAAmB,IAErB9L,QAAQC,IAAIG,MAEbN,MAAK,mBA4CVmlB,GAAY,SAAC/lB,GACjBH,IACGc,IAAI,SAAU,CAAEX,gBAChBY,MAAK,SAACC,GAEL,IAAIojB,EAAS,GACbpjB,EAASG,KAAK+C,KAAI,SAAAiB,GAChB,IAAIzF,EAAQyF,EAUZ,OATAzF,EAAMymB,kBAAmB,EACc,IAAnCzmB,EAAM0mB,kBAAkB1hB,QAAyD,MAAzChF,EAAM0mB,kBAAkB,GAAGC,aACrE3mB,EAAMymB,kBAAmB,GACQ,IAA/BzmB,EAAM4mB,cAAc5hB,QAAqD,MAArChF,EAAM4mB,cAAc,GAAGD,aAC7D3mB,EAAMymB,kBAAmB,GACO,IAA9BzmB,EAAMF,aAAakF,QAAoD,MAApChF,EAAMF,aAAa,GAAG6mB,aAC3D3mB,EAAMymB,kBAAmB,GAE3B/B,EAAOjW,KAAKzO,GACLyF,KAETkf,EAAUD,GACVG,EAAcH,MAEfhjB,OAAM,SAAUC,GAEfJ,QAAQC,IAAIG,MAEbN,MAAK,gBASJwlB,GAAe,SAAC5T,GACpB,GAAc,UAAVA,EAAE6T,IAAiB,CACrB,IAAMC,EAAiBnC,EACpB9M,QAAO,SAAC9X,GAAK,OACZA,EAAMoD,WACH4jB,cACAhP,SAAS+N,GAAoBiB,kBAEjClP,QAAO,SAAC9X,GAAK,OAAKA,EAAM8D,MAAMkU,SAASmO,OAC1CxB,EAAUoC,KAUd,OANA3mB,qBAAU,WACR,IAAMC,EAASC,IAAMC,YAAYF,SAEjC,OADAmmB,GAAUnmB,EAAOnG,OACV,kBAAMmG,EAAOK,OAAO,oCAC1B,IAGD2B,eAACuJ,KAAG,CACF9J,GAAI,CACFqH,OAAQ,OACRgH,SAAU,OACV3R,QAAS,aACT2D,SAAA,CAEFP,cAACwM,KAAM,CACL9B,UAAWgC,IACXC,GAAG,sBACH0S,UAAWrf,cAACsf,KAAO,IAAI/e,SACxB,cAGDE,eAAC6V,KAAK,CACJpW,GAAI,CACF8G,UAAW,OACXpK,QAAS,WACTuN,QAAS,OACT2V,SAAU,OACVxS,eAAgB,gBAChB/M,SAAA,CAEFP,cAAC+L,KAAS,CACRG,MAAM,iBACN7C,QAAQ,WACRgc,WAAYJ,GACZhsB,MAAOkrB,GACPtR,SAAU,SAACxB,GAAC,OAAK+S,GAAuB/S,EAAEoF,OAAOxd,UAEnD+G,cAAC+L,KAAS,CACRG,MAAM,eACN7C,QAAQ,WACRgc,WAAYJ,GACZhsB,MAAOsrB,GACP1R,SAAU,SAACxB,GAAC,OAAKmT,GAAqBnT,EAAEoF,OAAOxd,aAGnD+G,cAAC2a,GAAoB,CACnBC,QAASM,GACTrI,SAhEsB,SAACuN,GAC3BjD,GAAuBiD,IAgEnBpL,SAAUkI,KAEZld,cAAC2U,GAAQ,CACPvZ,MAAM,cACNwZ,KAAMkO,EAAOlgB,KACX,SAAArD,EAwBE+D,GAAK,IAtBHhF,EAAEiB,EAAFjB,GACAkD,EAAUjC,EAAViC,WACAS,EAAQ1C,EAAR0C,SACAD,EAAMzC,EAANyC,OACAD,EAAKxC,EAALwC,MACAD,EAAKvC,EAALuC,MACAD,EAAItC,EAAJsC,KACAhE,EAAM0B,EAAN1B,OAEAuI,GADU7G,EAAV+lB,WACQ/lB,EAAR6G,UACAD,EAAY5G,EAAZ4G,aACAI,EAAShH,EAATgH,UACAD,EAAa/G,EAAb+G,cACAhF,EAAS/B,EAAT+B,UACAkB,EAAQjD,EAARiD,SACAE,EAAInD,EAAJmD,KACA5E,EAAWyB,EAAXzB,YACAC,EAAUwB,EAAVxB,WACAC,EAAeuB,EAAfvB,gBAEGiV,GADa1T,EAAhBslB,iBACY5hB,YAAA1D,EAAA2D,KAAA,OAAAC,YAAA,CAId7E,KACAgF,QACAiiB,QAAS1nB,EAAOyE,WAAa,IAAInD,OAAO,IAAKtB,EAAO0E,UAAY,IAChEC,SACEA,EAAW,IAAM,EAAC,GAAArD,OACXqD,EAAQ,QAAArD,OAAoB,IAAbqD,EAAiB,GAAK,KAAG,GAAArD,OACxCqD,EAAW,EAAC,SAAArD,OAAQqD,EAAW,IAAM,EAAI,GAAK,KACvDgjB,UAAY,WACV,IAAMC,EAAc,IAAIvmB,KAAKoC,GAI7B,OAHAmkB,EAAYC,WACVD,EAAYE,aAAeF,EAAYG,qBAElCH,EAAYI,cAAcC,MAAM,KAAK,GALlC,GAOZ1f,SAAS,GAADjH,OAAKiH,GAAQjH,OAAGgH,EAAe,OAAS,KAChDI,UAAU,GAADpH,OAAKoH,GAASpH,OAAGmH,EAAgB,OAAS,KACnDyf,cAAe,CAAC9jB,EAAUD,EAAQD,EAAOD,EAAOD,GAAMoU,KAAK,MAC3DqP,aACIxC,EAAOxf,GAAOxF,YAAYsF,SACzB0f,EAAOxf,GAAOxF,YAAYkI,QACzB,SAACC,EAAKC,GAAG,OAAKA,EAAIpC,aAAakiB,SAAW/f,QAE1C6c,EAAOxf,GAAOvF,WAAWqF,SACxB0f,EAAOxf,GAAOvF,WAAWiI,QACxB,SAACC,EAAKC,GAAG,OAAKA,EAAIG,YAAY2f,SAAW/f,MAE3C,KACA,MACNggB,SACEjmB,cAAC4N,KAAU,CACT1N,GAAI,CAAEgmB,GAAI,OACVpY,QAAS,SAAClD,GACRA,EAAMC,iBACN4Z,GAAgBzO,QAAU,GAC1B0O,GAAe1O,QAAU,GACzB2O,GAAoB3O,QAAU,GAC9BgO,EAAc1gB,GACdogB,GAAc,IACdnjB,SAEFP,cAACmmB,KAAK,CACJC,aACEtoB,EAAYsF,OACZrF,EAAWqF,OACXpF,EAAgBoF,OAElBtH,MAAM,QAAOyE,SAEbP,cAACqmB,KAAQ,QAIf3jB,KACE1C,cAACuM,KAAQ,CACPqG,QAASlQ,EACToL,QAAS,SAAClD,GACRA,EAAMsO,kBACNtO,EAAMC,iBACNnM,IACGya,IAAI,uBAADha,OAAwBb,GAAM,CAChCoE,MAAOA,IAERjD,MAAK,WACJmlB,QAED9kB,OAAM,SAAUC,GAEfoL,KAAKC,KAAK,CACRC,KAAM,QACNjQ,MAAO,QACPe,KAAM4D,EAAML,SAASG,KAAK0L,QAC1BE,mBAAmB,OAGtBhM,MAAK,kBAMd+B,WACExB,cAAC0M,IAAU,CAACC,GAAE,YAAAxN,OAAcb,GAAMmY,OAAO,SAAQlW,SAC9CiB,IAGL8kB,YAAa5jB,GACX1C,cAAC4N,KAAU,CACTlD,UAAWgC,IACXC,GAAE,YAAAxN,OAAcb,GAChBmY,OAAO,SAAQlW,SAEfP,cAACumB,KAAW,MAMhBC,UACExmB,cAAC4N,KAAU,CACTE,QAAS,WACPoV,EAAQjQ,EAAU/a,MAClBirB,EAASlQ,EAAUpX,OACnB2nB,GAAa,IACbjjB,SAEFP,cAACymB,KAAS,MAGdC,aACE1mB,cAAC4N,KAAU,CACTE,QAAS,WACPpP,IACGc,IAAI,sBACJC,MAAK,WACJyjB,EAAQjQ,EAAU/a,MAClBkrB,EAASnQ,EAAU/Q,OACnBohB,GAAgB,MAEjBxjB,OAAM,SAAUC,GAEfrB,IACGc,IAAI,kBACJC,MAAK,SAACC,GACLyL,KAAKC,KAAK,CACRC,KAAM,OACNjQ,MACE,6DACFkQ,KAAMqb,KAAeC,qBACnB5mB,cAAC6mB,KAAM,CACL5tB,MAAK,GAAAkG,OAAKO,EAASG,KAAKinB,QACxBC,MAAM,OAGVtb,mBAAmB,OAGtB3L,OAAM,SAAUknB,GAEf7b,KAAKC,KAAK,CACRC,KAAM,QACNjQ,MAAO,QACPe,KAAM,oCACNsP,mBAAmB,OAGtBhM,MAAK,kBAITA,MAAK,gBAGRc,SAEFP,cAACinB,KAAY,MAGjB7N,KACEpZ,cAAC4N,KAAU,CACTlD,UAAWgC,IACXC,GAAI,CACFua,SAAU,oBACVzuB,MAAO,CAAE2F,MAAO0kB,EAAOxf,KACvB/C,SAEFP,cAACkU,KAAQ,MAGb6E,OACE/Y,cAAC4N,KAAU,CACTE,QAAS,SAAClD,GACRA,EAAMC,iBACN4N,GAAkBnV,IAClB/C,SAEFP,cAACmU,KAAU,OAGZlB,MAGPf,QAASA,GACNtP,KAAI,SAAC4d,EAAQC,GACZ,OAAIA,EAAI,GAAKA,EAAI,GACXvD,GAAoB3Y,MAAK,SAACmc,GAAU,OAAKA,IAAeF,EAAOtU,SAC1DsU,OAEP,EAEGA,KAERtK,QAAO,SAACsK,GAAM,YAAgBG,IAAXH,KACtBlH,cAAeb,GACf9E,kBApWwB,SAACqB,GAC7B7J,KAAKC,KAAK,CACRhQ,MAAO,gBACPe,KAAM,uDACNkP,KAAM,WACNqN,kBAAkB,EAClBC,kBAAmB,eACnBC,iBAAkB,iBAClBnN,mBAAmB,IAClBhM,MAAK,SAACoZ,GACHA,EAAOC,aACTpa,IACGqa,OAAO,SAAU,CAChBlZ,KAAM,CAAE0Z,IAAKvE,KAEdvV,MAAK,SAACC,GAELklB,QAED9kB,OAAM,SAAUC,GAEfoL,KAAKC,KAAK,CACRC,KAAM,QACNjQ,MAAO,QACPe,KAAM4D,EAAML,SAASG,KAAK0L,QAC1BE,mBAAmB,IAErB9L,QAAQC,IAAIG,MAEbN,MAAK,mBAwUR0nB,cAtcoB,SAAC9V,GACzBA,EAAExG,iBACyBiZ,EAAN,OAAjBD,EAAuCxS,EAAEtG,cACxB,SAqcnBtK,eAAC+Y,KAAM,CACLvN,WAAS,EACT2U,WAAYC,aAAczgB,EAAM0gB,YAAYC,KAAK,OACjDpd,SAAS,KACTrD,KAAM+iB,EAAa9iB,SAAA,CAEnBP,cAACyZ,KAAW,CAAAlZ,SAAC,wCACbP,cAAC0Z,KAAa,CAAAnZ,SACZE,eAACkZ,KAAK,CAAC9N,QAAS,EAAEtL,SAAA,CAChBP,cAAConB,KAAc,CACb/d,QAAQ,WACR6C,MAAM,eACNmb,cAAe,CAAC,MAChBC,eAAgB,KAChBruB,MAAOiJ,EACPqlB,WAAY,CACVC,UAAU,KAIdxnB,cAAC+L,KAAS,CACR0b,SAAU9D,EACVzX,MAAM,UACND,WAAS,EACTmB,aAAY,SAAAjO,OAAWjH,EAAI,gJAC3BulB,WAAS,EACTiK,QAAS,EACTC,QAAS,UAOflnB,eAACoZ,KAAa,CAAAtZ,SAAA,CACZP,cAACwM,KAAM,CACLsB,QAAS,SAAClD,GACRA,EAAMC,iBACNyY,GAAgB,IAChB/iB,SACH,WAGDP,cAACwM,KAAM,CAACsB,QA7eW,SAAClD,GAC1BA,EAAMC,iBACNnM,IACGmL,KAAK,gBAAiB,CACrB3H,MAAOA,EACPqJ,QAASoY,EAAgB3N,QAAQ/c,QAElCwG,MAAK,WACJ6jB,GAAgB,MAEjBxjB,OAAM,SAAUC,GAEfujB,GAAgB,GAChBnY,KAAKC,KAAK,CACRC,KAAM,QACNjQ,MAAO,QACPe,KAAM4D,EAAML,SAASG,KAAK0L,QAC1BE,mBAAmB,IAClBhM,MAAK,WACN6jB,GAAgB,SAGnB7jB,MAAK,gBAudkCc,SAAC,eAGzCE,eAAC+Y,KAAM,CACLvN,WAAS,EACT2U,WAAYC,aAAczgB,EAAM0gB,YAAYC,KAAK,OACjDpd,SAAS,KACTrD,KAAMijB,EAAUhjB,SAAA,CAEhBP,cAACyZ,KAAW,CAAAlZ,SAAC,6BACbP,cAAC0Z,KAAa,CAAAnZ,SACZE,eAACkZ,KAAK,CAAC9N,QAAS,EAAEtL,SAAA,CAChBP,cAAC+L,KAAS,CACRG,MAAM,QACN/C,KAAK,QACLlQ,MAAO4C,EACP0rB,WAAY,CACVC,UAAU,KAIdxnB,cAAC+L,KAAS,CACR0b,SAAU7D,EACV1X,MAAM,UACND,WAAS,EACTmB,aAAY,SAAAjO,OAAWjH,EAAI,gJAC3BulB,WAAS,EACTiK,QAAS,EACTC,QAAS,KAGX3nB,cAAC+L,KAAS,CACRG,MAAM,OACN/C,KAAK,OACLlQ,MAAOgrB,EACPpR,SAAU,SAACxB,GAAC,OAAK6S,GAAe7S,EAAEoF,OAAOxd,eAI/CwH,eAACoZ,KAAa,CAAAtZ,SAAA,CACZP,cAACwM,KAAM,CACLsB,QAAS,SAAClD,GACRA,EAAMC,iBACN2Y,GAAa,IACbjjB,SACH,WAGDP,cAACwM,KAAM,CAACsB,QAlgBQ,SAAClD,GACvBA,EAAMC,iBACNnM,IACGmL,KAAK,aAAc,CAClBhO,MAAOA,EACP0P,QAASqY,EAAa5N,QAAQ/c,MAC9B2uB,KAAM3D,IAEPxkB,MAAK,WACJ+jB,GAAa,MAEd1jB,OAAM,SAAUC,GAEfyjB,GAAa,GACbrY,KAAKC,KAAK,CACRC,KAAM,QACNjQ,MAAO,QACPe,KAAM4D,EAAML,SAASG,KAAK0L,QAC1BE,mBAAmB,IAClBhM,MAAK,WACN+jB,GAAa,SAGhB/jB,MAAK,gBA2e+Bc,SAAC,eAGtCE,eAAC+Y,KAAM,CACL7V,SAAS,KACTsI,WAAS,EACT2U,WAAYC,aAAczgB,EAAM0gB,YAAYC,KAAK,OACjDzgB,KAAMmjB,EAAWljB,SAAA,CAEjBP,cAACyZ,KAAW,CAAAlZ,SAAC,qBACbP,cAAC0Z,KAAa,CAAAnZ,SACZE,eAACyhB,GAAW,CAAA3hB,SAAA,CACTwjB,EAAajB,EAAO1f,QACnB0f,EAAOiB,GAAYjmB,YAAY8E,KAAI,SAACiB,EAAMP,GAAK,OAC7C7C,eAAC2hB,GAAe,CAAA7hB,SAAA,CACdP,cAACsiB,GAAmB,CAClBpS,QAAO,UAAA/Q,OAAY0E,EAAKG,MAAK,MAAA7E,OAAK0E,EAAKI,MAAK,MAAA9E,OAAK0E,EAAKuZ,WAAU,MAAAje,OAAK0E,EAAKwZ,UAAS,MAAAle,OAAK0E,EAAKyZ,WAC7FuK,UAAS,GAAA1oB,OAAK0E,EAAKK,aAAe,aAAe,IAAE/E,OAAG0E,EAAKM,cAAgB,UAAY,MAGzFnE,cAACwiB,GAAkB,CACjBle,UAAS,GAAAnF,OAAK0E,EAAKC,aAAaQ,UAAS,QACzCme,OAAM,WAAAtjB,OAAa0E,EAAKC,aAAaC,KACrCM,eAAc,GAAAlF,OAAK0E,EAAKC,aAAaO,kBAEvCrE,cAACwM,KAAM,CACLnD,QAAQ,YACRnJ,GAAI,CAAEgK,GAAI,OACVQ,UAAWgC,IACX+J,OAAO,SACP9J,GAAE,sBAAAxN,OAAwB0E,EAAKC,aAAaxF,IAAKiC,SAClD,kBAGAuiB,EAAOiB,GAAYrhB,MAClBjC,eAAC6V,KAAK,CACJwR,IAAK,SAACA,GAAG,OAAKrD,GAAgBzO,QAAQnJ,KAAKib,IAC3Cpd,UAAU,OACVxK,GAAI,CACFwD,UAAW,OACXyG,QAAS,OACT2V,SAAU,OACV3kB,WAAY,SACZmS,eAAgB,gBAChBtG,UAAW,OACXpK,QAAS,QACT2D,SAAA,CAEFP,cAAA,SACE9H,KAAK,KACLiR,KAAK,SACLlQ,MAAO4K,EAAKC,aAAaxF,KAE3B0B,cAAC+L,KAAS,CACR7T,KAAK,kBACLiR,KAAK,OACL+C,MAAM,yBACNkB,aAAcvJ,EAAKC,aAAaikB,gBAChC9G,gBAAiB,CAAEC,QAAQ,GAC3BhhB,GAAI,CACFwD,UAAW,OACXwiB,GAAI,SAGRlmB,cAAC+L,KAAS,CACR7T,KAAK,kBACLiR,KAAK,OACL+C,MAAM,qBACNkB,aAAcvJ,EAAKC,aAAakkB,gBAChC/G,gBAAiB,CAAEC,QAAQ,GAC3BhhB,GAAI,CACFwD,UAAW,OACXwiB,GAAI,SAGRlmB,cAAC+L,KAAS,CACR7T,KAAK,OACLiR,KAAK,OACL+C,MAAM,OACNkB,aAAcvJ,EAAKC,aAAamkB,KAChChH,gBAAiB,CAAEC,QAAQ,GAC3BhhB,GAAI,CAAEwD,UAAW,MAAOwiB,GAAI,SAE9BlmB,cAAC+L,KAAS,CACR7T,KAAK,KACLiR,KAAK,OACL+C,MAAM,KACNkB,aAAcvJ,EAAKC,aAAa6I,GAChCsU,gBAAiB,CAAEC,QAAQ,GAC3BhhB,GAAI,CAAEwD,UAAW,MAAOwiB,GAAI,SAE9BlmB,cAACqM,KAAgB,CAEfC,QACEtM,cAACuM,KAAQ,CACPrU,KAAK,YACLipB,eAAgBtd,EAAKC,aAAaokB,YAGtChc,MAAM,aAPD5I,QA9ESA,MA2FzBygB,EAAajB,EAAO1f,QACnB0f,EAAOiB,GAAY7lB,aAAa0E,KAAI,SAACiB,EAAMP,GAAK,OAC9C7C,eAAC2hB,GAAe,CAAA7hB,SAAA,CACdP,cAACsiB,GAAmB,CAClBpS,QAAO,gCAAA/Q,OACH2jB,EAAOiB,GAAYhmB,WAAWwG,MAChC,SAACC,GAAK,OAAKA,EAAMlG,KAAOuF,EAAKY,WAC7Bkd,aAAY,6BAAAxiB,OAEV2jB,EAAOiB,GAAYhmB,WAAWwG,MAC9B,SAACC,GAAK,OAAKA,EAAMlG,KAAOuF,EAAKY,WAC7BR,MAAK,6BAAA9E,OAEL2jB,EAAOiB,GAAYhmB,WAAWwG,MAC9B,SAACC,GAAK,OAAKA,EAAMlG,KAAOuF,EAAKY,WAC7B3I,MAAK,6BAAAqD,OAEL2jB,EAAOiB,GAAYhmB,WAAWwG,MAC9B,SAACC,GAAK,OAAKA,EAAMlG,KAAOuF,EAAKY,WAC7BC,QAAO,6BAAAvF,OAEP2jB,EAAOiB,GAAYhmB,WAAWwG,MAC9B,SAACC,GAAK,OAAKA,EAAMlG,KAAOuF,EAAKY,WAC7BE,SAAQ,6BAAAxF,OAER2jB,EAAOiB,GAAYhmB,WAAWwG,MAC9B,SAACC,GAAK,OAAKA,EAAMlG,KAAOuF,EAAKY,WAC7BG,UAEJijB,UACEhkB,EAAKgB,WACHpE,eAAA,QAAAF,SAAA,IAAApB,OACM0E,EAAKiB,YAAW,mCAAA3F,OAChB0E,EAAKqB,SAAQ,mCAAA/F,OACb0E,EAAKkB,UAAS,KAAA5F,OAAI0E,EAAKmB,SAAQ,KAAA7F,OAAI0E,EAAKoB,aAAY,mCAAA9F,OACpD0E,EAAKsB,kBAAiB,MAAAhG,OAAK0E,EAAKuB,gBAAe,mCAAAjG,OAC/C0E,EAAKwB,aAAY,KAAAlG,OAAI0E,EAAK0B,YAAW,KACzCvF,cAAA,KAAGwJ,KAAM3F,EAAKskB,aAAc1R,OAAO,SAAS2R,IAAI,aAAY7nB,SAAC,cAK/D,oBAINP,cAACwiB,GAAkB,CACjBle,UAAS,GAAAnF,OAAK0E,EAAKS,UAAS,QAC5Bme,OAAM,WAAAtjB,OAAa0E,EAAKE,KACxBM,eAAc,GAAAlF,OAAK0E,EAAKQ,kBAE1BrE,cAACwM,KAAM,CACLnD,QAAQ,YACRnJ,GAAI,CAAEgK,GAAI,OACVQ,UAAWgC,IACX+J,OAAO,SACP9J,GAAE,qBAAAxN,OAAuB0E,EAAKvF,IAAKiC,SACpC,kBAGAuiB,EAAOiB,GAAYrhB,MAClBjC,eAAC6V,KAAK,CACJwR,IAAK,SAACA,GAAG,OAAKpD,GAAe1O,QAAQnJ,KAAKib,IAC1Cpd,UAAU,OACVxK,GAAI,CACFwD,UAAW,OACXyG,QAAS,OACT2V,SAAU,OACV3kB,WAAY,SACZmS,eAAgB,gBAChBtG,UAAW,OACXpK,QAAS,QACT2D,SAAA,CAEFP,cAAA,SAAO9H,KAAK,KAAKiR,KAAK,SAASlQ,MAAO4K,EAAKvF,KAC3C0B,cAAC+L,KAAS,CACR7T,KAAK,kBACLiR,KAAK,OACL+C,MAAM,yBACNkB,aAAcvJ,EAAKkkB,gBACnB9G,gBAAiB,CAAEC,QAAQ,GAC3BhhB,GAAI,CACFwD,UAAW,OACXwiB,GAAI,SAGRlmB,cAAC+L,KAAS,CACR7T,KAAK,kBACLiR,KAAK,OACL+C,MAAM,qBACNkB,aAAcvJ,EAAKmkB,gBACnB/G,gBAAiB,CAAEC,QAAQ,GAC3BhhB,GAAI,CACFwD,UAAW,OACXwiB,GAAI,SAGRlmB,cAAC+L,KAAS,CACR7T,KAAK,OACLiR,KAAK,OACL+C,MAAM,OACNkB,aAAcvJ,EAAKokB,KACnBhH,gBAAiB,CAAEC,QAAQ,GAC3BhhB,GAAI,CAAEwD,UAAW,MAAOwiB,GAAI,SAE9BlmB,cAAC+L,KAAS,CACR7T,KAAK,KACLiR,KAAK,OACL+C,MAAM,KACNkB,aAAcvJ,EAAK8I,GACnBsU,gBAAiB,CAAEC,QAAQ,GAC3BhhB,GAAI,CAAEwD,UAAW,MAAOwiB,GAAI,SAE9BlmB,cAACqM,KAAgB,CAEfC,QACEtM,cAACuM,KAAQ,CACPrU,KAAK,YACLipB,eAAgBtd,EAAKqkB,YAGzBhc,MAAM,aAPD5I,QAhHSA,MA6HzBygB,EAAajB,EAAO1f,QACnB0f,EAAOiB,GAAY/lB,gBAAgB4E,KAAI,SAACiB,EAAMP,GAAK,OACjD7C,eAAC2hB,GAAe,CAAA7hB,SAAA,CACdP,cAACsiB,GAAmB,CAClBpS,QAAO,cAAA/Q,OAAgB0E,EAAK3L,MAC5B2vB,UAAS,GAAA1oB,OAAK0E,EAAKO,UAErBpE,cAACwiB,GAAkB,CACjBle,UAAS,GAAAnF,OAAK0E,EAAK2B,iBAAiBlB,UAAS,QAC7Cme,OAAM,WAAAtjB,OAAa0E,EAAK2B,iBAAiBzB,KACzCM,eAAc,GAAAlF,OAAK0E,EAAK2B,iBAAiBnB,kBAE3CrE,cAACwM,KAAM,CACLnD,QAAQ,YACRnJ,GAAI,CAAEgK,GAAI,OACVQ,UAAWgC,IACX+J,OAAO,SACP9J,GAAE,0BAAAxN,OAA4B0E,EAAK2B,iBAAiBlH,IAAKiC,SAC1D,kBAGAuiB,EAAOiB,GAAYrhB,MAClBjC,eAAC6V,KAAK,CACJwR,IAAK,SAACA,GAAG,OAAKnD,GAAoB3O,QAAQnJ,KAAKib,IAC/Cpd,UAAU,OACVxK,GAAI,CACFwD,UAAW,OACXyG,QAAS,OACT2V,SAAU,OACV3kB,WAAY,SACZmS,eAAgB,gBAChBtG,UAAW,OACXpK,QAAS,QACT2D,SAAA,CAEFP,cAAA,SACE9H,KAAK,KACLiR,KAAK,SACLlQ,MAAO4K,EAAK2B,iBAAiBlH,KAE/B0B,cAAC+L,KAAS,CACR7T,KAAK,kBACLiR,KAAK,OACL+C,MAAM,yBACNkB,aAAcvJ,EAAK2B,iBAAiBuiB,gBACpC9G,gBAAiB,CAAEC,QAAQ,GAC3BhhB,GAAI,CACFwD,UAAW,OACXwiB,GAAI,SAGRlmB,cAAC+L,KAAS,CACR7T,KAAK,kBACLiR,KAAK,OACL+C,MAAM,oBACNkB,aAAcvJ,EAAK2B,iBAAiBwiB,gBACpC/G,gBAAiB,CAAEC,QAAQ,GAC3BhhB,GAAI,CACFwD,UAAW,OACXwiB,GAAI,SAGRlmB,cAAC+L,KAAS,CACR7T,KAAK,OACLiR,KAAK,OACL+C,MAAM,OACNkB,aAAcvJ,EAAK2B,iBAAiByiB,KACpChH,gBAAiB,CAAEC,QAAQ,GAC3BhhB,GAAI,CAAEwD,UAAW,MAAOwiB,GAAI,SAE9BlmB,cAAC+L,KAAS,CACR7T,KAAK,KACLiR,KAAK,OACL+C,MAAM,KACNkB,aAAcvJ,EAAK2B,iBAAiBmH,GACpCsU,gBAAiB,CAAEC,QAAQ,GAC3BhhB,GAAI,CAAEwD,UAAW,MAAOwiB,GAAI,SAE9BlmB,cAACqM,KAAgB,CAEfC,QACEtM,cAACuM,KAAQ,CACPrU,KAAK,YACLipB,eAAgBtd,EAAK2B,iBAAiB0iB,YAG1Chc,MAAM,aAPD5I,QA7ESA,WA4F9B7C,eAACoZ,KAAa,CAAAtZ,SAAA,CACZP,cAACwM,KAAM,CACLsB,QAAS,SAAClD,GACRA,EAAMC,iBACN6Y,GAAc,IACdnjB,SACH,WAGDP,cAACwM,KAAM,CACLsB,QAAS,SAAClD,GACRA,EAAMC,iBACN,IAAMwd,EAAgB5D,GAAgBzO,QAAQpT,KAAI,SAACiB,GAAI,MAAM,CAC3DvF,GAAIuF,EAAKvF,GAAGrF,MACZ8uB,gBAAiBlkB,EAAKkkB,gBAAgB9uB,OAAS,KAC/C+uB,gBAAiBnkB,EAAKmkB,gBAAgB/uB,OAAS,KAC/CgvB,KAAMpkB,EAAKokB,KAAKhvB,OAAS,KACzB0T,GAAI9I,EAAK8I,GAAG1T,OAAS,KACrBivB,UAAWrkB,EAAKqkB,UAAUtV,YAEtB0V,EAAe5D,GAAe1O,QAAQpT,KAAI,SAACiB,GAAI,MAAM,CACzDvF,GAAIuF,EAAKvF,GAAGrF,MACZ8uB,gBAAiBlkB,EAAKkkB,gBAAgB9uB,OAAS,KAC/C+uB,gBAAiBnkB,EAAKmkB,gBAAgB/uB,OAAS,KAC/CgvB,KAAMpkB,EAAKokB,KAAKhvB,OAAS,KACzB0T,GAAI9I,EAAK8I,GAAG1T,OAAS,KACrBivB,UAAWrkB,EAAKqkB,UAAUtV,YAEtB2V,EAAoB5D,GAAoB3O,QAAQpT,KACpD,SAACiB,GAAI,MAAM,CACTvF,GAAIuF,EAAKvF,GAAGrF,MACZ8uB,gBAAiBlkB,EAAKkkB,gBAAgB9uB,OAAS,KAC/C+uB,gBAAiBnkB,EAAKmkB,gBAAgB/uB,OAAS,KAC/CgvB,KAAMpkB,EAAKokB,KAAKhvB,OAAS,KACzB0T,GAAI9I,EAAK8I,GAAG1T,OAAS,KACrBivB,UAAWrkB,EAAKqkB,UAAUtV,YAG9BlU,IACGmL,KAAK,kBAAmB,CACvBwe,gBACAC,eACAC,sBAED9oB,MAAK,WAEJmlB,QAED9kB,OAAM,SAAUC,GAEfJ,QAAQC,IAAIG,MAEbN,MAAK,WAEJikB,GAAc,OAElBnjB,SACH,mB,gfC9hCLioB,GAAW,SAACnrB,GAChB,IAAQkD,EAAqClD,EAArCkD,SAAUtH,EAA2BoE,EAA3BpE,MAAOqK,EAAoBjG,EAApBiG,MAAUmlB,EAAKxlB,YAAK5F,EAAK6F,IAElD,OACElD,cAAA,MAAAmD,wBAAA,CACE6T,KAAK,WACL0R,OAAQzvB,IAAUqK,EAClBhF,GAAE,mBAAAa,OAAqBmE,GACvB,gCAAAnE,OAA+BmE,IAC3BmlB,GAAK,IAAAloB,SAERtH,IAAUqK,GAAStD,cAACgK,KAAG,CAAC9J,GAAI,CAAEgT,EAAG,oBAAqB3S,SAAEA,QAgB/D,IAAMooB,GAAe,CACnB,CACErqB,GAAI,OAEN,CACEA,GAAI,YACJ4B,GAAI,CAAEpF,MAAO,KACbkY,SAAS,GAEX,CACE1U,GAAI,QACJ4N,MAAO,SAET,CACE5N,GAAI,QACJ4N,MAAO,SAET,CACE5N,GAAI,YACJ4N,MAAO,SAET,CACE5N,GAAI,UACJ4N,MAAO,WAET,CACE5N,GAAI,MACJ4N,MAAO,OAET,CACE5N,GAAI,aACJ4N,MAAO,eAET,CACE5N,GAAI,YACJ4N,MAAO,cAET,CACE5N,GAAI,YACJ4N,MAAO,cAET,CACE5N,GAAI,eACJ4N,MAAO,iBAET,CACE5N,GAAI,eACJ4N,MAAO,iBAET,CACE5N,GAAI,eACJ4N,MAAO,YAET,CACE5N,GAAI,gBACJ4N,MAAO,uBAET,CACE5N,GAAI,SACJ4N,MAAO,gBAET,CACE5N,GAAI,eACJ4N,MAAO,YAET,CACE5N,GAAI,cACJ4N,MAAO,YAIL0c,GAAmB,CACvB,cACA,aACA,aACA,gBACA,gBACA,WACA,sBACA,eACA,WACA,WAGIC,GAAc,CAClB,CACEvqB,GAAI,OAEN,CACEA,GAAI,YACJ4B,GAAI,CAAEpF,MAAO,KACbkY,SAAS,GAEX,CACE1U,GAAI,eACJ4N,MAAO,YAET,CACE5N,GAAI,QACJ4N,MAAO,SAET,CACE5N,GAAI,YACJ4N,MAAO,SAET,CACE5N,GAAI,UACJ4N,MAAO,WAET,CACE5N,GAAI,MACJ4N,MAAO,OAET,CACE5N,GAAI,QACJ4N,MAAO,SAET,CACE5N,GAAI,UACJ4N,MAAO,YAET,CACE5N,GAAI,WACJ4N,MAAO,aAET,CACE5N,GAAI,WACJ4N,MAAO,aAET,CACE5N,GAAI,SACJ4N,MAAO,gBAET,CACE5N,GAAI,eACJ4N,MAAO,YAET,CACE5N,GAAI,cACJ4N,MAAO,YAIL4c,GAAkB,CACtB,QACA,WACA,YACA,YACA,eACA,WACA,WAGIC,GAAmB,CACvB,CACEzqB,GAAI,OAEN,CACEA,GAAI,YACJ4B,GAAI,CAAEpF,MAAO,KACbkY,SAAS,GAEX,CACE1U,GAAI,OACJ4N,MAAO,QAET,CACE5N,GAAI,WACJ4N,MAAO,YAET,CACE5N,GAAI,YACJ4N,MAAO,SAET,CACE5N,GAAI,UACJ4N,MAAO,WAET,CACE5N,GAAI,MACJ4N,MAAO,OAET,CACE5N,GAAI,SACJ4N,MAAO,gBAET,CACE5N,GAAI,eACJ4N,MAAO,YAET,CACE5N,GAAI,cACJ4N,MAAO,YAIL8c,GAAkB,CACtB,WACA,WACA,wBACA,wBACA,UACA,QACA,SACA,0BACA,kBAGa5rB,gBArNf,SAAyB3E,GAEvB,MAAO,CAAET,KADQS,EAATT,QAoNKoF,EAAyB,SAACC,GACvC,IAAM+C,EAAQgb,eACN6N,EAA+D5rB,EAA/D4rB,cAAeC,EAAgD7rB,EAAhD6rB,cAAeC,EAAiC9rB,EAAjC8rB,YAAaC,EAAoB/rB,EAApB+rB,gBACnD9rB,EAAwCC,mBAAS,GAAEC,EAAAC,YAAAH,EAAA,GAA5C+H,EAAY7H,EAAA,GAAE6rB,EAAe7rB,EAAA,GACpCI,EAA8CL,mBAAS,QAAOY,EAAAV,YAAAG,EAAA,GAAvD0H,EAAenH,EAAA,GAAEmrB,EAAkBnrB,EAAA,GAC1C2W,EAAsCvX,mBAAS,WAAUwX,EAAAtX,YAAAqX,EAAA,GAAlDvP,EAAWwP,EAAA,GAAEwU,EAAcxU,EAAA,GAClCG,EAAsC3X,mBAAS,YAAW4X,EAAA1X,YAAAyX,EAAA,GAAnDpQ,EAAWqQ,EAAA,GAAEqU,EAAcrU,EAAA,GAClCG,EAAgC/X,mBAAS,IAAGgY,EAAA9X,YAAA6X,EAAA,GAArCpQ,EAAQqQ,EAAA,GAAEkU,EAAWlU,EAAA,GAC5BG,EAAkCnY,mBAAS,KAAIoY,EAAAlY,YAAAiY,EAAA,GAAxC3Q,EAAS4Q,EAAA,GAAE+T,EAAY/T,EAAA,GAC9BkG,EAAgCte,mBAAS,KAAIue,EAAAre,YAAAoe,EAAA,GAAtC7W,EAAQ8W,EAAA,GAAE6N,EAAW7N,EAAA,GAC5BE,EAAwCze,mBAAS,IAAG0e,EAAAxe,YAAAue,EAAA,GAA7C/W,EAAYgX,EAAA,GAAE2N,EAAe3N,EAAA,GACpCG,EAAkD7e,mBAAS,GAAE8e,EAAA5e,YAAA2e,EAAA,GAAtDjX,EAAiBkX,EAAA,GAAEwN,EAAoBxN,EAAA,GAC9CG,EAA8Cjf,mBAAS,IAAGkf,EAAAhf,YAAA+e,EAAA,GAAnDpX,EAAeqX,EAAA,GAAEqN,EAAkBrN,EAAA,GAC1CG,GAAkCrf,mBAAS,IAAGsf,GAAApf,YAAAmf,GAAA,GAAvCmN,GAASlN,GAAA,GAAEmN,GAAYnN,GAAA,GAC9BG,GAA4Bzf,mBAAS,IAAG0f,GAAAxf,YAAAuf,GAAA,GAOlCiN,IAPOhN,GAAA,GAAWA,GAAA,GAOLlH,iBAAO,OAC1B0L,GAAsClkB,mBAAS,GAAEmkB,GAAAjkB,YAAAgkB,GAAA,GAA1CyI,GAAWxI,GAAA,GAAEyI,GAAczI,GAAA,GAElC2C,GAA8B9mB,oBAAS,GAAM+mB,GAAA7mB,YAAA4mB,GAAA,GAAtC+F,GAAO9F,GAAA,GAAE+F,GAAU/F,GAAA,GAC1BgG,GAAsC/sB,oBAAS,GAAMgtB,GAAA9sB,YAAA6sB,GAAA,GAA9CE,GAAWD,GAAA,GAAEE,GAAcF,GAAA,GAElCG,GAAoCntB,oBAAS,GAAMotB,GAAAltB,YAAAitB,GAAA,GAA5C7lB,GAAU8lB,GAAA,GAAEC,GAAaD,GAAA,GAEhCE,GAAsCttB,mBAAS,SAAQutB,GAAArtB,YAAAotB,GAAA,GAAhDE,GAAWD,GAAA,GAAEE,GAAcF,GAAA,GAClCG,GAAkC1tB,mBAAS,IAAG2tB,GAAAztB,YAAAwtB,GAAA,GAAvCE,GAASD,GAAA,GAAEE,GAAYF,GAAA,GAC9BG,GAA0C9tB,mBAAS,IAAG+tB,GAAA7tB,YAAA4tB,GAAA,GAA/CE,GAAaD,GAAA,GAAEE,GAAgBF,GAAA,GACtCG,GAAwCluB,mBAAS,KAAKmuB,GAAAjuB,YAAAguB,GAAA,GAA/CE,GAAYD,GAAA,GAAEE,GAAeF,GAAA,GACpCG,GAA0CtuB,mBAAS,GAAEuuB,GAAAruB,YAAAouB,GAAA,GAA9CE,GAAaD,GAAA,GAAEE,GAAgBF,GAAA,GACtCG,GAA0C1uB,mBAAS,IAAG2uB,GAAAzuB,YAAAwuB,GAAA,GAA/CE,GAAaD,GAAA,GAAEE,GAAgBF,GAAA,GAEtCG,GAAgD9uB,oBAAS,GAAM+uB,GAAA7uB,YAAA4uB,GAAA,GAAxDE,GAAgBD,GAAA,GAAEE,GAAmBF,GAAA,GAC5CG,GAAgDlvB,oBAAS,GAAMmvB,GAAAjvB,YAAAgvB,GAAA,GAAxDE,GAAgBD,GAAA,GAAEE,GAAmBF,GAAA,GAC5CG,GAAgDtvB,oBAAS,GAAMuvB,GAAArvB,YAAAovB,GAAA,GAAxDE,GAAgBD,GAAA,GAAEE,GAAmBF,GAAA,GAC5CG,GAAgD1vB,oBAAS,GAAM2vB,GAAAzvB,YAAAwvB,GAAA,GAAxDE,GAAgBD,GAAA,GAAEE,GAAmBF,GAAA,GAE5CG,GAAwB9vB,mBAAS4rB,GAAYmE,GAAA7vB,YAAA4vB,GAAA,GAAtCE,GAAID,GAAA,GAAEE,GAAOF,GAAA,GACpBG,GAA4ClwB,mBAAS,OAAMmwB,GAAAjwB,YAAAgwB,GAAA,GAApDE,GAAcD,GAAA,GAAEE,GAAiBF,GAAA,GAExCG,GAAwBtwB,mBAAS2rB,EAAcxmB,MAAKorB,GAAArwB,YAAAowB,GAAA,GAA7CnrB,GAAIorB,GAAA,GAAEC,GAAOD,GAAA,GAEpBE,GAAsCzwB,mBAAS,IAAG0wB,GAAAxwB,YAAAuwB,GAAA,GAA3CE,GAAWD,GAAA,GAAEE,GAAcF,GAAA,GAClCG,GAAoC7wB,mBAAS,IAAG8wB,GAAA5wB,YAAA2wB,GAAA,GAAzCE,GAAUD,GAAA,GAAEE,GAAaF,GAAA,GAChCG,GAA8CjxB,mBAAS,IAAGkxB,GAAAhxB,YAAA+wB,GAAA,GAAnDE,GAAeD,GAAA,GAAEE,GAAkBF,GAAA,GAC1CG,GAAsDrxB,mBAAS,IAAGsxB,GAAApxB,YAAAmxB,GAAA,GAA3DE,GAAmBD,GAAA,GAAEE,GAAsBF,GAAA,GAClDG,GAAsCzxB,mBAAS,GAAE0xB,GAAAxxB,YAAAuxB,GAAA,GAA1CE,GAAWD,GAAA,GAAEE,GAAcF,GAAA,GAElCG,GAA0C7xB,mBAAS,IAAG8xB,GAAA5xB,YAAA2xB,GAAA,GAA/CE,GAAaD,GAAA,GAAEE,GAAgBF,GAAA,GACtCG,GAAwCjyB,mBAAS,IAAGkyB,GAAAhyB,YAAA+xB,GAAA,GAA7CE,GAAYD,GAAA,GAAEE,GAAeF,GAAA,GAGpCG,GAAgDryB,mBAAS,MAAKsyB,GAAApyB,YAAAmyB,GAAA,GAAvDE,GAAgBD,GAAA,GAAEE,GAAmBF,GAAA,GAC5CG,GAAgDzyB,mBAAS,MAAK0yB,GAAAxyB,YAAAuyB,GAAA,GAAvDE,GAAgBD,GAAA,GAAEE,GAAmBF,GAAA,GAC5CG,GAAoD7yB,mBAAS,MAAK8yB,GAAA5yB,YAAA2yB,GAAA,GAA3DE,GAAkBD,GAAA,GAAEE,GAAqBF,GAAA,GAChDG,GAA8CjzB,mBAAS,MAAKkzB,GAAAhzB,YAAA+yB,GAAA,GAArDE,GAAeD,GAAA,GAAEE,GAAkBF,GAAA,GAC1CG,GAA8CrzB,mBAAS,MAAKszB,GAAApzB,YAAAmzB,GAAA,GAArDE,GAAeD,GAAA,GAAEE,GAAkBF,GAAA,GAC1CG,GAA8DzzB,mBAAS,OAAM0zB,GAAAxzB,YAAAuzB,GAAA,GAAtEE,GAAuBD,GAAA,GAAEE,GAA0BF,GAAA,GAEtDG,GAAehI,EACfA,EAAgBxmB,KAAI,SAACyuB,GAAO,OAC5BC,OAAOC,OAAOF,EAAS,CAAEtG,YAAa,YAEtC,GACJyG,GAAgCj0B,mBAAS6zB,IAAaK,GAAAh0B,YAAA+zB,GAAA,GAA/CE,GAAQD,GAAA,GAAEE,GAAWF,GAAA,GAE5BG,GAAgEr0B,mBAAS,IAAGs0B,GAAAp0B,YAAAm0B,GAAA,GAArEE,GAAwBD,GAAA,GAAEE,GAA2BF,GAAA,GAC5DG,GAA8Dz0B,mBAAS,IAAG00B,GAAAx0B,YAAAu0B,GAAA,GAAnEE,GAAuBD,GAAA,GAAEE,GAA0BF,GAAA,GAmG1DzzB,qBAAU,WACR,IAlGwBK,EAkGlBJ,EAASC,IAAMC,YAAYF,SAOjC,OAzGwBI,EAmGPJ,EAAOnG,MAlGxBoG,IACGc,IAAI,uBAAwB,CAAEX,gBAC9BY,MAAK,SAACC,GAEL6vB,GAAiB7vB,EAASG,SAE3BC,OAAM,SAAUC,GAEfJ,QAAQC,IAAIG,MAEbN,MAAK,eAKc,SAACZ,GACvBH,IACGc,IAAI,sBAAuB,CAAEX,gBAC7BY,MAAK,SAACC,GAELiwB,GAAgBjwB,EAASG,SAE1BC,OAAM,SAAUC,GAEfJ,QAAQC,IAAIG,MAEbN,MAAK,eAyER2yB,CAAgB3zB,EAAOnG,OApEI,SAACuG,GAC5BH,IACGc,IAAI,2BAA4B,CAAEX,gBAClCY,MAAK,SAACC,OAINI,OAAM,SAAUC,GAEfJ,QAAQC,IAAIG,MAEbN,MAAK,eA0DR4yB,CAAqB5zB,EAAOnG,OArDP,SAACuG,GACtBH,IACGc,IAAI,cAAe,CAAEX,gBACrBY,MAAK,SAACC,GAELyuB,GAAezuB,EAASG,SAEzBC,OAAM,SAAUC,GAEfJ,QAAQC,IAAIG,MAEbN,MAAK,eA2CR6yB,CAAe7zB,EAAOnG,OAtCF,SAACuG,GACrBH,IACGc,IAAI,aAAc,CAAEX,gBACpBY,MAAK,SAACC,GAEL6uB,GAAc7uB,EAASG,SAExBC,OAAM,SAAUC,GAEfJ,QAAQC,IAAIG,MAEbN,MAAK,eA4BR8yB,CAAc9zB,EAAOnG,OAvBI,SAACuG,GAC1BH,IACGc,IAAI,kBAAmB,CAAEX,gBACzBY,MAAK,SAACC,GAELivB,GAAmBjvB,EAASG,MAC5BkvB,GAAuBrvB,EAASG,SAEjCC,OAAM,SAAUC,GAEfJ,QAAQC,IAAIG,MAEbN,MAAK,eAYR+yB,CAAmB/zB,EAAOnG,OACnB,kBAAMmG,EAAOK,OAAO,oCAC1B,IAgHH,OACE2B,eAACuJ,KAAG,CACF9J,GAAI,CACFqH,OAAQ,OACRgH,SAAU,OACV3R,QAAS,uBACT2D,SAAA,CAEFP,cAACyyB,KAAO,CAACC,WAAYxI,GAAahqB,GAAI,CAAE4f,SAAU,QAASvf,SA3RjD,CACZ,oBACA,kBACA,yBAyRWqC,KAAI,SAACsJ,EAAO5I,GACjB,IAxHcqvB,EAwHRC,EAAa,GAWnB,OAnIcD,EAyHGrvB,GAxHI,OAAvB2mB,GAAWjU,SAAoBkU,GAAc,GAAc,IAATyI,GAC5C1I,GAAWjU,QAAQ6c,gBAEX,IAAhBtF,GAAKnqB,QACe,IAApBsuB,GAAStuB,QACT8mB,GAAc,GACL,IAATyI,KAmHMC,EAAWE,SACT9yB,cAACiI,IAAU,CAACoB,QAAQ,UAAUvN,MAAM,QAAOyE,SACxC,CAAC,gBAAiB,4BAA4B+C,KAInDsvB,EAAW7yB,OAAQ,GAInBC,cAAC+yB,KAAI,CAAa7yB,GAAI,CAAEgmB,GAAI,QAAS3lB,SACnCP,cAACgzB,KAAS7vB,wBAAA,GAAKyvB,GAAU,IAAAryB,SAAG2L,MADnBA,QAMjBzL,eAACuJ,KAAG,CACF9J,GAAI,CAAE+J,GAAI,OAAQC,GAAI,QACtB4d,IAAKmC,GACLvB,OAAwB,IAAhBwB,GACRxf,UAAU,OACV/G,SAAS,KACTsI,WAAS,EACTtB,SAAU,SAAC0G,GACTA,EAAExG,iBACFsf,GAAe,IACf5pB,SAAA,CAEFE,eAAC6V,KAAK,CACJpW,GAAI,CACFgT,EAAG,OACH/I,QAAS,OACT2V,SAAU,OACVxS,eAAgB,iBAChB/M,SAAA,CAEFP,cAACiI,IAAU,CAACoB,QAAQ,KAAKnJ,GAAI,CAAEwD,UAAW,OAAQiL,SAAU,QAASpO,SAAC,gBAGrE,CACC,CAAErI,KAAM,OAAQgU,MAAO,OAAQ/C,KAAM,OAAQrO,MAAO,OAAQsS,aAAc8b,EAAchxB,KAAM8T,UAAU,GACxG,CAAE9T,KAAM,QAASgU,MAAO,QAAS/C,KAAM,OAAQlQ,MAAOiwB,EAAchnB,MAAO2Q,SAAUqW,EAAc9F,SAAUtoB,MAAO,OACpH,CAAE5C,KAAM,QAASgU,MAAO,QAAS/C,KAAM,QAASiE,aAAc8b,EAAcrtB,MAAOf,MAAO,OAC1F,CAAE5C,KAAM,WAAYgU,MAAO,WAAY/C,KAAM,OAAQiE,aAAc8b,EAAcjnB,SAAUnH,MAAO,OAClG,CAAE5C,KAAM,SAAUgU,MAAO,SAAU/C,KAAM,OAAQiE,aAAc8b,EAAclnB,OAAQlH,MAAO,OAC5F,CAAE5C,KAAM,QAASgU,MAAO,QAAS/C,KAAM,OAAQiE,aAAc8b,EAAcnnB,MAAOjH,MAAO,OACzF,CAAE5C,KAAM,QAASgU,MAAO,QAAS/C,KAAM,OAAQiE,aAAc8b,EAAcpnB,MAAOhH,MAAO,OACzF,CAAE5C,KAAM,OAAQgU,MAAO,OAAQ/C,KAAM,OAAQiE,aAAc8b,EAAcrnB,KAAM/G,MAAO,QACtF8H,KAAI,SAAArD,EAAoC+D,GAAzB/D,EAAR0zB,SAAsC,IAA5Bn4B,EAAKyE,EAALzE,MAAUmY,EAAShQ,YAAA1D,EAAAkE,IAAA,MAChB,UAApBwP,EAAU/G,MACRlM,cAAConB,KAAcjkB,YAAA,CAEbkG,QAAQ,WACRge,cAAe,CAAC,MAChBC,eAAgB,KAChBpnB,GAAI,CAAEwD,UAAW5I,EAAO6T,SAAU7T,GAClCmB,OAAO,QACPgR,KAAK,SACDgG,GAPC3P,GAUPtD,cAAC+L,KAAS5I,YAAA,CAERjD,GAAI,CAAEwD,UAAW5I,EAAO6T,SAAU7T,IAC9BmY,GAFC3P,MAMXtD,cAAC+L,KAAS,CACR7L,GAAI,CAAEwD,UAAW,CAAC,OAAQ,OAAQiL,SAAU,CAAC,OAAQ,QACrDzW,KAAK,WACLgU,MAAM,WACN/C,KAAK,SACL2J,WAAY,CAAEogB,IAAK,GACnB9lB,aAAc8b,EAAc1mB,UAAY,IAE1C/B,eAAC0yB,KAAU,CACThd,KAAG,EACHje,KAAK,iBACLkV,aAAa,MACblN,GAAI,CACFwD,UAAW,CAAC,OAAQ,OACpBiL,SAAU,CAAC,OAAQ,OACnBrB,eAAgB,YAChB/M,SAAA,CAEFP,cAACqM,KAAgB,CAACpT,MAAM,MAAMqT,QAAStM,cAACozB,KAAK,IAAKlnB,MAAM,SACxDlM,cAACqM,KAAgB,CAACpT,MAAM,OAAOqT,QAAStM,cAACozB,KAAK,IAAKlnB,MAAM,aAE3DlM,cAAC+L,KAAS,CACR7L,GAAI,CAAEwD,UAAW,CAAC,OAAQ,QAASiL,SAAU,CAAC,OAAQ,SACtDzW,KAAK,SAASgU,MAAM,kBAAkB/C,KAAK,OAC3CiE,aAAc8b,EAAc9kB,QAAU,QAG1CpE,cAACwM,KAAM,CAACrD,KAAK,SAASjJ,GAAI,CAAE8G,UAAW,OAAQiT,MAAO,SAAU1Z,SAAC,YAIlD,IAAhB2pB,IACCzpB,eAAAsJ,WAAA,CAAAxJ,SAAA,CACGgtB,GAAKnqB,OAAS,GACbpD,cAACsW,KAAK,CAAA/V,SACJP,cAACkiB,GAAW,CAAChiB,GAAI,CAAEmzB,GAAI,QAAS9yB,SAC7BgtB,GAAK3qB,KAAI,SAACiB,EAAMP,GAAK,OACpB7C,eAAC2hB,GAAe,CAEdvS,gBACEpP,eAACC,WAAQ,CAAAH,SAAA,CACPP,cAAC4N,KAAU,CACTE,QAAS,SAAClD,GACRA,EAAMC,iBAjKN,SAAChH,GACzB+pB,GAAkB,QAClB5C,GAAennB,EAAKknB,aACpBK,GAAavnB,EAAKvF,IAClBktB,GAAiB3nB,EAAK0nB,eACtBa,GAAiBvoB,EAAKO,QACtBwnB,GAAgB/nB,EAAK8nB,cACrBK,GAAiBnoB,EAAKkoB,eACtB,IAAMuH,EAAkBx5B,KAAKC,MAAM8J,EAAK0vB,uBAEpCD,EAAgBld,SAAS,sBAC3BoW,IAAoB,GAClB8G,EAAgBld,SAAS,uCAC3BwW,IAAoB,GAClB0G,EAAgBld,SAAS,0BAC3B4W,IAAoB,GAClBsG,EAAgBld,SAAS,qBAAqBgX,IAAoB,GAE7C,UAArBvpB,EAAKknB,aAAgD,cAArBlnB,EAAKknB,YACvCV,IAAW,GACmB,SAArBxmB,EAAKknB,cACdH,GAAc/mB,EAAKgB,YACnB4kB,EAAY5lB,EAAKqB,UACjB4kB,EAAmBjmB,EAAKuB,iBACxBikB,EAAgBxlB,EAAKwB,cACrBikB,EAAmBzlB,EAAKyB,iBACxBikB,EAAe1lB,EAAK0B,aACpBmkB,EAAa7lB,EAAKkB,WAClBykB,EAAe3lB,EAAKiB,aACpB+kB,EAAqBhmB,EAAKsB,mBAC1BykB,EAAgB/lB,EAAKoB,cACrB0kB,EAAY9lB,EAAKmB,UACjBglB,GAAanmB,EAAKskB,cAElBsC,IAAe,IAgIO+I,CAAkB3vB,IAClBtD,SAEFP,cAACkU,KAAQ,MAEXlU,cAAC4N,KAAU,CACTE,QAAS,SAAClD,GACRA,EAAMC,iBACN2iB,GACED,GAAKrX,QACH,SAACud,EAASC,GAAY,OACpBA,IAAiBpwB,OAGvB/C,SAEFP,cAACmU,KAAU,SAGhB5T,SAAA,CAEqB,UAArBsD,EAAKknB,aACJ/qB,cAACsiB,GAAmB,CAClBpS,QAAO,UAAA/Q,OAAY0E,EAAK0nB,cAAcvnB,MAAK,MAAA7E,OAAK0E,EAAK0nB,cAActnB,MAAK,MAAA9E,OAAK0E,EAAKO,QAClFyjB,UAAS,GAAA1oB,OAAK0E,EAAK0nB,cAAcrnB,aAAe,aAAe,IAAE/E,OAC5D0E,EAAK0nB,cAAcpnB,cAAgB,UAAY,MAGlC,SAArBN,EAAKknB,aACJ/qB,cAACsiB,GAAmB,CAClBpS,QAAO,SAAA/Q,OAAW0E,EAAK0nB,cAAc5J,aAAY,MAAAxiB,OAAK0E,EAAK0nB,cAActnB,MAAK,MAAA9E,OAAK0E,EAAK0nB,cAAczvB,MAAK,MAAAqD,OAAK0E,EAAK0nB,cAAc7mB,QAAO,MAAAvF,OAAK0E,EAAK0nB,cAAc5mB,SAAQ,MAAAxF,OAAK0E,EAAK0nB,cAAc3mB,UAClMijB,UACEhkB,EAAKgB,WAAU,GAAA1F,OACR0E,EAAKiB,YAAW,MAAA3F,OAAK0E,EAAKqB,SAAQ,MAAA/F,OAAK0E,EAAKkB,UAAS,KAAA5F,OAAI0E,EAAKmB,SAAQ,KAAA7F,OAAI0E,EAAKoB,aAAY,MAAA9F,OAAK0E,EAAKsB,kBAAiB,MAAAhG,OAAK0E,EAAKuB,gBAAe,MAAAjG,OAAK0E,EAAKwB,aAAY,KAAAlG,OAAI0E,EAAK0B,aACjL,oBAIY,cAArB1B,EAAKknB,aACJ/qB,cAACsiB,GAAmB,CAClBpS,QAAO,cAAA/Q,OAAgB0E,EAAK0nB,cAAc9lB,UAC1CoiB,UAAS,GAAA1oB,OAAK0E,EAAKO,UAGvBpE,cAACwiB,GAAkB,CACjBle,UAAS,GAAAnF,OAAK0E,EAAK8nB,aAAY,QAC/BlJ,OAAM,WAAAtjB,OAAa0E,EAAKkoB,eACxB1nB,eAAc,GAAAlF,OAAK0E,EAAK0vB,2BArDrBjwB,UA4Df7C,eAAC6V,KAAK,CAACpW,GAAI,CAAEgmB,GAAI,QAAS3lB,SAAA,CACxBP,cAACgK,KAAG,CAAC9J,GAAI,CAAE1D,aAAc,EAAGm3B,YAAa,WAAYpzB,SACnDE,eAACmzB,KAAI,CACH36B,MAAOi2B,GACPrc,SAAU,SAACjI,EAAO3R,GAChB2R,EAAMC,iBACNskB,GAAel2B,IAEjB,aAAW,qBAAoBsH,SAAA,CAE/BP,cAAC6zB,KAAG,CAAC3nB,MAAM,WACXlM,cAAC6zB,KAAG,CAAC3nB,MAAM,UACXlM,cAAC6zB,KAAG,CAAC3nB,MAAM,gBACXlM,cAAC6zB,KAAG,CAAC3nB,MAAM,eAGfzL,eAAC+nB,GAAQ,CAACvvB,MAAOi2B,GAAa5rB,MAAO,EAAE/C,SAAA,CACrCP,cAACsW,KAAK,CACJpW,GAAI,CACF8G,UAAW,OACXpK,QAAS,WACTuN,QAAS,OACT2V,SAAU,OACVxS,eAAgB,gBAChB/M,SAED,CACC,CACE2L,MAAO,QACPjT,MAAO62B,GACPjd,SAAU,SAACjI,EAAO3R,GAChB2R,EAAMC,iBACNklB,GAAoB92B,GACpBk3B,GAAoB,OAEtBvV,QAAS0U,GACN1sB,KAAI,SAACiB,GAAI,OAAKA,EAAKG,SACnBkS,QAAO,SAAC6J,EAAGzc,EAAO0c,GAAK,OAAKA,EAAMjJ,QAAQgJ,KAAOzc,MAEtD,CACE4I,MAAO,QACPjT,MAAOi3B,GACPrd,SAAU,SAACjI,EAAO3R,GAChB2R,EAAMC,iBACNslB,GAAoBl3B,IAEtB2hB,QAAS0U,GACNpZ,QACC,SAACrS,GAAI,OACFisB,IAAoBjsB,EAAKG,QAAU8rB,MAEvCltB,KAAI,SAACiB,GAAI,OAAKA,EAAKI,SACnBiS,QAAO,SAAC6J,EAAGzc,EAAO0c,GAAK,OAAKA,EAAMjJ,QAAQgJ,KAAOzc,OAEtDV,KAAI,SAAAC,EAAsBS,GAAK,IAAxB4I,EAAKrJ,EAALqJ,MAAU7O,EAAK4F,YAAAJ,EAAA4D,IAAA,OACtBzG,cAACigB,KAAY9c,YAAA,CAEXjD,GAAI,CAAEwD,UAAW,QAASC,SAAU,SACpCuc,YAAa,SAACC,GAAM,OAClBngB,cAAC+L,KAAS5I,wBAAA,GAAKgd,GAAM,IAAEjU,MAAOA,OAE5B7O,GALCiG,QASXtD,cAAC2a,GAAoB,CACnBC,QAASgO,GACT/V,SAnSmB,SAACuN,GAChC2R,GAA4B3R,IAmShBpL,SAAU8c,KAEZ9xB,cAAC2U,GAAQ,CACPtC,WAAW,EACXjX,MAAM,eACNwZ,KAAMsZ,GACHtrB,KACC,SAAAS,EASEC,GAAK,IAPH4a,EAAY7a,EAAZ6a,aACAha,EAAYb,EAAZa,aACAC,EAAad,EAAbc,cACAuZ,EAAYra,EAAZqa,aACAC,EAAWta,EAAXsa,YACG1K,EAAShQ,YAAAI,EAAAsD,IAAA,OAAAxD,YAAA,CAIdkd,UACErgB,cAAA,KACEwJ,KAAK,IACLsE,QAAS,SAACuD,GACRA,EAAExG,iBACFM,KAAKC,KAAK,CACRE,KAAK,kCAADnM,OAAoC+e,EAAY,QACpDoC,iBAAiB,EACjBC,mBAAmB,EACnB9U,mBAAmB,KAErBlL,SAEFP,cAAA,OACEqK,IAAI,GACJvP,MAAM,OACNmC,IAAKihB,EACLhd,MAAO,CAAE8F,UAAW,WAI1B9C,aAAcA,EAAe,MAAQ,KACrCC,cAAeA,EAAgB,MAAQ,KACvC2vB,IACE9zB,cAAC4N,KAAU,CACTE,QAAS,SAAClD,GACRA,EAAMC,iBAEJ0iB,GAAKhpB,MACH,SAACV,GAAI,MACkB,UAArBA,EAAKknB,aACLlnB,EAAK0nB,cAAcjtB,KACnB4vB,GAAY5qB,GAAOhF,MAGvB6M,KAAKC,KAAK,CACRC,KAAM,UACNjQ,MAAO,UACPe,KAAM,iCACNsP,mBAAmB,KAIvBuf,GAAe,SACfI,GAAa,IACbI,GAAiB0C,GAAY5qB,IAqB7BsoB,GAAgBsC,GAAY5qB,GAAOgB,WACnC0nB,GAAiB,GACjB3B,IAAW,KACX9pB,SAEFP,cAACsf,KAAO,MAGZ5B,aAAe,WACb,GAAqB,OAAjBA,EAAuB,MAAO,KAClC,IAAM+H,EAAc,IAAIvmB,KAAKwe,GAK7B,OAJA+H,EAAYC,WACVD,EAAYE,aACZF,EAAYG,qBAEPH,EAAYI,cAAcC,MAAM,KAAK,GAP/B,GASfnI,YAAc,WACZ,GAAoB,OAAhBA,EAAsB,MAAO,KACjC,IAAM8H,EAAc,IAAIvmB,KAAKye,GAK7B,OAJA8H,EAAYC,WACVD,EAAYE,aACZF,EAAYG,qBAEPH,EAAYI,cAAcC,MAAM,KAAK,GAPhC,IASX7S,MAGNiD,QACC,SAACrS,GAAI,QACDisB,IAAoBjsB,EAAKG,QAAU8rB,OACnCI,IAAoBrsB,EAAKI,QAAUisB,OAE3Che,QAASyW,GACN/lB,KAAI,SAAC4d,EAAQC,GACZ,OAAIA,EAAI,GAEJqR,GAAyBvtB,MACvB,SAACmc,GAAU,OAAKA,IAAeF,EAAOtU,SAGjCsU,KAIZtK,QAAO,SAACsK,GAAM,YAAgBG,IAAXH,UAG1B/f,eAAC+nB,GAAQ,CAACvvB,MAAOi2B,GAAa5rB,MAAO,EAAE/C,SAAA,CACrCP,cAACsW,KAAK,CACJpW,GAAI,CACF8G,UAAW,OACXpK,QAAS,WACTuN,QAAS,OACT2V,SAAU,OACVxS,eAAgB,gBAChB/M,SAED,CACC,CACE2L,MAAO,WACPjT,MAAOq3B,GACPzd,SAAU,SAACjI,EAAO3R,GAChB2R,EAAMC,iBACN0lB,GAAsBt3B,GACtB03B,GAAmB,MACnBI,GAAmB,OAErBnW,QAAS8U,GACN9sB,KAAI,SAACiB,GAAI,OAAKA,EAAK8d,gBACnBzL,QAAO,SAAC6J,EAAGzc,EAAO0c,GAAK,OAAKA,EAAMjJ,QAAQgJ,KAAOzc,MAEtD,CACE4I,MAAO,QACPjT,MAAOy3B,GACP7d,SAAU,SAACjI,EAAO3R,GAChB2R,EAAMC,iBACN8lB,GAAmB13B,GACnB83B,GAAmB,OAErBnW,QAAS8U,GACNxZ,QACC,SAACrS,GAAI,OACFysB,IACDzsB,EAAK8d,eAAiB2O,MAEzB1tB,KAAI,SAACiB,GAAI,OAAKA,EAAKI,SACnBiS,QAAO,SAAC6J,EAAGzc,EAAO0c,GAAK,OAAKA,EAAMjJ,QAAQgJ,KAAOzc,MAEtD,CACE4I,MAAO,QACPjT,MAAO63B,GACPje,SAAU,SAACjI,EAAO3R,GAChB2R,EAAMC,iBACNkmB,GAAmB93B,IAErB2hB,QAAS8U,GACNxZ,QACC,SAACrS,GAAI,OACF6sB,IAAmB7sB,EAAKI,QAAUysB,MAEtC9tB,KAAI,SAACiB,GAAI,OAAKA,EAAK/H,SACnBoa,QAAO,SAAC6J,EAAGzc,EAAO0c,GAAK,OAAKA,EAAMjJ,QAAQgJ,KAAOzc,OAEtDV,KAAI,SAAA4D,EAAsBlD,GAAK,IAAxB4I,EAAK1F,EAAL0F,MAAU7O,EAAK4F,YAAAuD,EAAAiB,IAAA,OACtBzH,cAACigB,KAAY9c,YAAA,CAEXjD,GAAI,CAAEwD,UAAW,QAASC,SAAU,SACpCuc,YAAa,SAACC,GAAM,OAClBngB,cAAC+L,KAAS5I,wBAAA,GAAKgd,GAAM,IAAEjU,MAAOA,OAE5B7O,GALCiG,QASXtD,cAAC2a,GAAoB,CACnBC,QAASkO,GACTjW,SA1ekB,SAACuN,GAC/B+R,GAA2B/R,IA0efpL,SAAUkd,KAEZlyB,cAAC2U,GAAQ,CACPtC,WAAW,EACXjX,MAAM,kBACNwZ,KAAM0Z,GACH1rB,KACC,SAAA8D,EAEEpD,GAAK,IADH4a,EAAYxX,EAAZwX,aAAcR,EAAYhX,EAAZgX,aAAcC,EAAWjX,EAAXiX,YAAgB1K,EAAShQ,YAAAyD,EAAAiB,IAAA,OAAAxE,YAAA,CAGvDkd,UACErgB,cAAA,KACEwJ,KAAK,IACLsE,QAAS,SAACuD,GACRA,EAAExG,iBACFM,KAAKC,KAAK,CACRE,KAAK,kCAADnM,OAAoC+e,EAAY,QACpDoC,iBAAiB,EACjBC,mBAAmB,EACnB9U,mBAAmB,KAErBlL,SAEFP,cAAA,OACEqK,IAAI,GACJvP,MAAM,OACNmC,IAAKihB,EACLhd,MAAO,CAAE8F,UAAW,WAI1B8sB,IACE9zB,cAAC4N,KAAU,CACTE,QAAS,SAAClD,GACRogB,GAAe,QACfI,GAAa,IACbI,GAAiB8C,GAAWhrB,IAC5BsoB,GAAgB0C,GAAWhrB,GAAOgB,WAClC0nB,GAAiB,GACjBpB,IAAc,GACdH,IAAe,IACflqB,SAEFP,cAACsf,KAAO,MAGZ5B,aAAe,WACb,GAAqB,OAAjBA,EAAuB,MAAO,KAClC,IAAM+H,EAAc,IAAIvmB,KAAKwe,GAK7B,OAJA+H,EAAYC,WACVD,EAAYE,aACZF,EAAYG,qBAEPH,EAAYI,cAAcC,MAAM,KAAK,GAP/B,GASfnI,YAAc,WACZ,GAAoB,OAAhBA,EAAsB,MAAO,KACjC,IAAM8H,EAAc,IAAIvmB,KAAKye,GAK7B,OAJA8H,EAAYC,WACVD,EAAYE,aACZF,EAAYG,qBAEPH,EAAYI,cAAcC,MAAM,KAAK,GAPhC,IASX7S,MAGNiD,QACC,SAACrS,GAAI,QACDysB,IACAzsB,EAAK8d,eAAiB2O,OACtBI,IAAmB7sB,EAAKI,QAAUysB,OAClCI,IAAmBjtB,EAAK/H,QAAUg1B,OAE1C5e,QAAS2W,GACNjmB,KAAI,SAAC4d,EAAQC,GACZ,OAAIA,EAAI,GAEJyR,GAAwB3tB,MACtB,SAACmc,GAAU,OAAKA,IAAeF,EAAOtU,SAGjCsU,KAIZtK,QAAO,SAACsK,GAAM,YAAgBG,IAAXH,UAG1B/f,eAAC+nB,GAAQ,CAACvvB,MAAOi2B,GAAa5rB,MAAO,EAAE/C,SAAA,CACrCP,cAACsW,KAAK,CACJpW,GAAI,CACF8G,UAAW,OACXpK,QAAS,WACTuN,QAAS,OACT2V,SAAU,OACVxS,eAAgB,gBAChB/M,SAEFE,eAACsM,KAAW,CACVE,KAAK,QACL/M,GAAI,CAAEwD,UAAW,QAASC,SAAU,SAAUpD,SAAA,CAE9CP,cAACgN,KAAU,CAAC1O,GAAG,kBAAiBiC,SAAC,aACjCE,eAACyM,KAAM,CACLC,QAAQ,kBACRjB,MAAM,WACNjT,MAAOi4B,GACPre,SA/oBoB,SAACxB,GACrC,IAAI4Q,EAAoB5Q,EAAEoF,OAAOxd,MACjCk4B,GAA2BlP,GAEzB0M,GADwB,QAAtB1M,EACiB6M,GAGjBA,GAAoB5Y,QAClB,SAAC1R,GAAK,OAAKA,EAAMiB,WAAawc,OAuoBoB1hB,SAAA,CAExCP,cAACqN,KAAQ,CAACpU,MAAM,MAAKsH,SAAC,QACtBP,cAACqN,KAAQ,CAACpU,MAAM,mBAAkBsH,SAAC,qBAGnCP,cAACqN,KAAQ,CAACpU,MAAM,oBAAmBsH,SAAC,sBAGpCP,cAACqN,KAAQ,CAACpU,MAAM,eAAcsH,SAAC,iBAC/BP,cAACqN,KAAQ,CAACpU,MAAM,eAAcsH,SAAC,iBAC/BP,cAACqN,KAAQ,CAACpU,MAAM,UAASsH,SAAC,YAC1BP,cAACqN,KAAQ,CAACpU,MAAM,SAAQsH,SAAC,mBAI/BP,cAAC2U,GAAQ,CACPtC,WAAW,EACXjX,MAAM,mBACNwZ,KAAM8Z,GAAgB9rB,KACpB,SAAAsE,EAEE5D,GAAK,IADH4a,EAAYhX,EAAZgX,aAAcR,EAAYxW,EAAZwW,aAAcC,EAAWzW,EAAXyW,YAAgB1K,EAAShQ,YAAAiE,EAAAW,IAAA,OAAA1E,YAAA,CAGvDkd,UACErgB,cAAA,KACEwJ,KAAK,IACLsE,QAAS,SAACuD,GACRA,EAAExG,iBACFM,KAAKC,KAAK,CACRE,KAAK,kCAADnM,OAAoC+e,EAAY,QACpDoC,iBAAiB,EACjBC,mBAAmB,EACnB9U,mBAAmB,KAErBlL,SAEFP,cAAA,OACEqK,IAAI,GACJvP,MAAM,OACNmC,IAAKihB,EACLhd,MAAO,CAAE8F,UAAW,WAI1B8sB,IACE9zB,cAAC4N,KAAU,CACTE,QAAS,SAAClD,GACRA,EAAMC,iBACNmgB,GAAe,aACfI,GAAa,IACbI,GAAiBkD,GAAgBprB,IACjC8oB,GAAiBsC,GAAgBprB,GAAOc,QACxCwnB,GAAgB8C,GAAgBprB,GAAOgB,WACvC0nB,GAAiB,GAEfuB,GAAKhpB,MACH,SAACV,GAAI,MACkB,cAArBA,EAAKknB,aACLlnB,EAAK0nB,cAAcjtB,KACnBowB,GAAgBprB,GAAOhF,MAG3B6M,KAAKC,KAAK,CACRC,KAAM,UACNjQ,MAAO,UACPe,KAAM,iCACNsP,mBAAmB,IAIvB4e,IAAW,IACX9pB,SAEFP,cAACsf,KAAO,MAGZ5B,aAAe,WACb,GAAqB,OAAjBA,EAAuB,MAAO,KAClC,IAAM+H,EAAc,IAAIvmB,KAAKwe,GAK7B,OAJA+H,EAAYC,WACVD,EAAYE,aACZF,EAAYG,qBAEPH,EAAYI,cAAcC,MAAM,KAAK,GAP/B,GASfnI,YAAc,WACZ,GAAoB,OAAhBA,EAAsB,MAAO,KACjC,IAAM8H,EAAc,IAAIvmB,KAAKye,GAK7B,OAJA8H,EAAYC,WACVD,EAAYE,aACZF,EAAYG,qBAEPH,EAAYI,cAAcC,MAAM,KAAK,GAPhC,IASX7S,MAGPf,QAAS6W,QAGb/oB,cAACwoB,GAAQ,CAACvvB,MAAOi2B,GAAa5rB,MAAO,EAAE/C,SACrCE,eAACuJ,KAAG,CAAC9J,GAAI,CAAEqK,EAAG,GAAIhK,SAAA,CAChBP,cAACwM,KAAM,CACLnD,QAAQ,YACRnJ,GAAI,CAAEuM,GAAI,GACVqB,QA3uBK,WACnB,IAAMimB,EAAa,CACjBz1B,GAAI01B,eACJtuB,YAAa,GACbC,MAAO,EACPolB,YAAa,QAEf4G,GAAY,GAADxyB,OAAAyE,YAAK8tB,IAAQ,CAAEqC,MAouBUxzB,SACvB,kBAGDP,cAAC2L,KAAI,CAACC,WAAS,EAACC,QAAS,EAAEtL,SACxBmxB,GAAS9uB,KAAI,SAACyuB,GAAO,OACpBrxB,cAAC2L,KAAI,CAAC9H,MAAI,EAACiI,GAAI,EAAEvL,SACfE,eAACwzB,KAAI,CAAC/zB,GAAI,CAAEmzB,GAAI,EAAGa,GAAI,GAAI3zB,SAAA,CACzBP,cAACgK,KAAG,CACF9J,GAAI,CAAEiK,QAAS,OAAQmD,eAAgB,YAAa/M,SAEpDP,cAAC4N,KAAU,CACT,aAAW,WACXX,KAAK,QACLa,QAAS,kBA/uBX,SAACqmB,GACvB,IAAMC,EAAc1C,GAASxb,QAAO,SAACmb,GAAO,OAAKA,EAAQ/yB,KAAO61B,KAChExC,GAAYyC,GA6uB2BC,CAAgBhD,EAAQ/yB,KAAIiC,SAE3CP,cAACs0B,KAAS,CAACv5B,SAAS,cAGxBiF,cAAC+L,KAAS,CACRG,MAAM,cACNuR,WAAS,EACT7I,KAAM,EACN1U,GAAI,CAAEwD,UAAW,OAAQiL,SAAU,QACnC1V,MAAOo4B,EAAQ3rB,YACfmN,SAAU,SAACxB,GAAC,OArvBT,SAACA,EAAG8iB,GAC7B,IAAMC,EAAc1C,GAAS9uB,KAAI,SAACyuB,GAChC,OAAIA,EAAQ/yB,KAAO61B,EACV7C,OAAOC,OAAO,GAAIF,EAAS,CAAE3rB,YAAa2L,EAAEoF,OAAOxd,QAErDo4B,KAETM,GAAYyC,GA8uB2BG,CAAmBljB,EAAGggB,EAAQ/yB,OAEjD0B,cAAC+L,KAAS,CACR5C,KAAK,SACLjJ,GAAI,CAAEwD,UAAW,OAAQiL,SAAU,QACnCzC,MAAM,QACNjT,MAAOo4B,EAAQ1rB,MACfkN,SAAU,SAACxB,GAAC,OAlvBP,SAACA,EAAG8iB,GAC/B,IAAMC,EAAc1C,GAAS9uB,KAAI,SAACyuB,GAChC,OAAIA,EAAQ/yB,KAAO61B,EACV7C,OAAOC,OAAO,GAAIF,EAAS,CAChC1rB,MAAO6uB,WAAWnjB,EAAEoF,OAAOxd,SAGxBo4B,KAETM,GAAYyC,GAyuB2BK,CAAqBpjB,EAAGggB,EAAQ/yB,WA1BhC+yB,EAAQ/yB,iBAmCzC0B,cAACwM,KAAM,CACLsB,QAAS,SAACuD,GACRA,EAAExG,iBACFsf,GAAe,IACf5pB,SACH,aAGDP,cAACwM,KAAM,CACLtM,GAAI,CAAE+Z,MAAO,SACbnM,QAAS,SAACuD,GACRA,EAAExG,iBACkB,IAAhB0iB,GAAKnqB,QAAoC,IAApBsuB,GAAStuB,OASlC+mB,GAAe,GARbhf,KAAKC,KAAK,CACRC,KAAM,UACNjQ,MAAO,UACPe,KAAM,6CACNsP,mBAAmB,KAKvBlL,SACH,YAKLE,eAACuJ,KAAG,CACF9J,GAAI,CAAE+J,GAAI,OAAQC,GAAI,QACtBwe,OAAwB,IAAhBwB,GACRxf,UAAU,OACV/G,SAAS,KACTsI,WAAS,EACTtB,SAAU,SAAC0G,GACTA,EAAExG,iBACF,IAAM6pB,EAAa,IAAI1pB,SAASif,GAAWjU,SACrC2e,EAAc,IAAI3pB,SAASqG,EAAEtG,eACb,WAAlBke,EACFvqB,IACGmL,KAAK,gBAAiB,CACrB3R,KAAMw8B,EAAWl1B,IAAI,QACrB0C,MAAOwyB,EAAWl1B,IAAI,SACtB3D,MAAO64B,EAAWl1B,IAAI,SACtByC,SAAUyyB,EAAWl1B,IAAI,YACzBwC,OAAQ0yB,EAAWl1B,IAAI,UACvBuC,MAAO2yB,EAAWl1B,IAAI,SACtBsC,MAAO4yB,EAAWl1B,IAAI,SACtBqC,KAAM6yB,EAAWl1B,IAAI,QACrBgD,SACEqD,KAAKC,IAAI4uB,EAAWl1B,IAAI,YAAa,IACC,QAArCk1B,EAAWl1B,IAAI,kBAA8B,EAAI,GACpD4E,OAAQswB,EAAWl1B,IAAI,UACvBymB,SAAUsH,GACP3qB,KAAI,SAAA4E,GAAA,IAAAotB,EAAGrJ,EAAa/jB,EAAb+jB,cAAkBtY,EAAShQ,YAAAuE,EAAAO,IAAA,OAAA5E,YAAA,CACjCgoB,UAAWI,EAAcjtB,GACzBu2B,gBAAuC,QAAxBD,EAAErJ,EAAc9lB,gBAAQ,IAAAmvB,IAAI,IACxC3hB,MAEJ9T,OAAOuyB,IACVjvB,aAAckyB,EAAYn1B,IAAI,gBAC9BkD,KAAMic,QAAQgW,EAAYn1B,IAAI,SAC9BmD,QAASgyB,EAAYn1B,IAAI,YAAc,KACvC4G,SAAUP,KAAKC,IACb6uB,EAAYn1B,IAAI,gBAAkB,EAC9Bm1B,EAAYn1B,IAAI,YAChBqG,KAAKqtB,IAAIyB,EAAYn1B,IAAI,YAAa,KAC1C,GAEF2G,aAAcwuB,EAAYn1B,IAAI,gBAC9B+G,UAAWV,KAAKC,IACd6uB,EAAYn1B,IAAI,iBAAmB,EAC/Bm1B,EAAYn1B,IAAI,aAChBqG,KAAKqtB,IAAIyB,EAAYn1B,IAAI,aAAc,KAC3C,GAEF8G,cAAequB,EAAYn1B,IAAI,mBAEhCC,MAAK,WAEJpC,EAAMuP,QAAQC,KAAK,mBAEpB/M,OAAM,SAAUC,GAEfoL,KAAKC,KAAK,CACRC,KAAM,QACNjQ,MAAO,QACPe,KAAM4D,EAAML,SAASG,KAAK0L,QAC1BE,mBAAmB,IAClBhM,MAAK,eACRE,QAAQC,IAAIG,MAEbN,MAAK,eAIRf,IACGya,IAAI,UAADha,OAAW+pB,EAAc5qB,IAAM,CACjCpG,KAAMw8B,EAAWl1B,IAAI,QACrB0C,MAAOwyB,EAAWl1B,IAAI,SACtB3D,MAAO64B,EAAWl1B,IAAI,SACtByC,SAAUyyB,EAAWl1B,IAAI,YACzBwC,OAAQ0yB,EAAWl1B,IAAI,UACvBuC,MAAO2yB,EAAWl1B,IAAI,SACtBsC,MAAO4yB,EAAWl1B,IAAI,SACtBqC,KAAM6yB,EAAWl1B,IAAI,QACrBgD,SACEkyB,EAAWl1B,IAAI,aACuB,QAArCk1B,EAAWl1B,IAAI,kBAA8B,EAAI,GACpD4E,OAAQswB,EAAWl1B,IAAI,UACvBymB,SAAUsH,GACP3qB,KAAI,SAAA8E,GAAA,IAAAotB,EAAGvJ,EAAa7jB,EAAb6jB,cAAkBtY,EAAShQ,YAAAyE,EAAAqtB,IAAA,OAAA5xB,YAAA,CACjCgoB,UAAWI,EAAcjtB,GACzBu2B,gBAAuC,QAAxBC,EAAEvJ,EAAc9lB,gBAAQ,IAAAqvB,IAAI,IACxC7hB,MAEJ9T,OAAOuyB,IACVjvB,aAAckyB,EAAYn1B,IAAI,gBAC9BkD,KAAMic,QAAQgW,EAAYn1B,IAAI,SAC9BmD,QAASgyB,EAAYn1B,IAAI,YAAc,KACvC4G,SAAUP,KAAKC,IACb6uB,EAAYn1B,IAAI,gBAAkB,EAC9Bm1B,EAAYn1B,IAAI,YAChBqG,KAAKqtB,IAAIyB,EAAYn1B,IAAI,YAAa,KAC1C,GAEF2G,aAAcwuB,EAAYn1B,IAAI,gBAC9B+G,UAAWV,KAAKC,IACd6uB,EAAYn1B,IAAI,iBAAmB,EAC/Bm1B,EAAYn1B,IAAI,aAChBqG,KAAKqtB,IAAIyB,EAAYn1B,IAAI,aAAc,KAC3C,GAEF8G,cAAequB,EAAYn1B,IAAI,mBAEhCC,MAAK,WAEJpC,EAAMuP,QAAQC,KAAK,mBAEpB/M,OAAM,SAAUC,GAEfoL,KAAKC,KAAK,CACRC,KAAM,QACNjQ,MAAO,QACPe,KAAM,8BACNsP,mBAAmB,IAClBhM,MAAK,eACRE,QAAQC,IAAIG,MAEbN,MAAK,gBAIVc,SAAA,CAEFE,eAAC6V,KAAK,CACJpW,GAAI,CACFgT,EAAG,OACH/I,QAAS,OACT2V,SAAU,OACVxS,eAAgB,iBAChB/M,SAAA,CAEFP,cAACiI,IAAU,CAACoB,QAAQ,KAAKnJ,GAAI,CAAEwD,UAAW,OAAQiL,SAAU,QAASpO,SAAC,oBAGtEE,eAACwH,IAAU,CAACoB,QAAQ,KAAKnJ,GAAI,CAAEwD,UAAW,OAAQiL,SAAU,QAASpO,SAAA,CAAC,aACzD,IACVgtB,GAAKvnB,QACJ,SAACkN,EAAG6M,GAAC,OAAK7M,EAAI6M,EAAEgM,cAAgByI,WAAWzU,EAAE4L,gBAC7C,GACE+F,GAAS1rB,QAAO,SAACkN,EAAG6M,GAAC,OAAK7M,EAAI6M,EAAEpa,QAAO,MAE7C3F,cAAC+L,KAAS,CACR7T,KAAK,eACL+U,KAAK,QACL/M,GAAI,CAAEwD,UAAW,OAAQiL,SAAU,QACnCvB,aAAc8b,EAAczmB,aAC5ByJ,MAAM,kBAERlM,cAACqM,KAAgB,CACfnM,GAAI,CACFwD,UAAW,MACXiL,SAAU,MACVqL,YAAa,GAEf1N,QACEtM,cAACuM,KAAQ,CACPrU,KAAK,OACL0a,QAASlQ,GACTmQ,SAAU,SAACxB,GACT0c,GAAQ1c,EAAEoF,OAAO7D,YAIvB1G,MAAM,SAERlM,cAAC+L,KAAS,CACR5C,KAAK,OACL6rB,SAAUtyB,GACVxK,KAAK,UACLgU,MAAM,WACNhM,GAAI,CACFwD,UAAW,MACXiL,SAAU,OAEZvB,aAAc8b,EAAcvmB,QAC5Bse,gBAAiB,CAAEC,QAAQ,KAE7BlhB,cAAC+L,KAAS,CACR7L,GAAI,CACFwD,UAAW,CAAC,MAAO,OACnBiL,SAAU,CAAC,MAAO,OAClBxT,WAAY,WACZoP,EAAG,GAEL2B,MAAM,WACN/C,KAAK,SACLjR,KAAK,WACL4a,WAAY,CACVogB,IAAK,GAEP9lB,aAAc8b,EAAc9iB,SAC5B6F,WAAS,IAEXxL,eAACyM,KAAM,CACLhN,GAAI,CACFwD,UAAW,CAAC,MAAO,OACnBiL,SAAU,CAAC,MAAO,OAClBxT,WAAY,WACZoP,EAAG,GAELrS,KAAK,eACLkV,aAAc8b,EAAc/iB,aAAa5F,SAAA,CAEzCP,cAACqN,KAAQ,CAACpU,MAAO,EAAEsH,SAAC,MACpBP,cAACqN,KAAQ,CAACpU,MAAO,EAAEsH,SAAC,WAEtBP,cAAC+L,KAAS,CACR7L,GAAI,CACFwD,UAAW,CAAC,MAAO,OACnBiL,SAAU,CAAC,MAAO,OAClBxT,WAAY,WACZ+O,GAAI,OACJuC,GAAI,GAENP,MAAM,YACN/C,KAAK,SACLjR,KAAK,YACL4a,WAAY,CACVogB,IAAK,GAEP9lB,aAAc8b,EAAc3iB,UAC5B0F,WAAS,IAEXxL,eAACyM,KAAM,CACLhN,GAAI,CACFwD,UAAW,CAAC,MAAO,OACnBiL,SAAU,CAAC,MAAO,OAClBxT,WAAY,WACZ+O,GAAI,OACJuC,GAAI,GAENvU,KAAK,gBACLkV,aAAc8b,EAAc5iB,cAAc/F,SAAA,CAE1CP,cAACqN,KAAQ,CAACpU,MAAO,EAAEsH,SAAC,MACpBP,cAACqN,KAAQ,CAACpU,MAAO,EAAEsH,SAAC,cAGxBP,cAACwM,KAAM,CACLtM,GAAI,CAAE8G,UAAW,QACjB8G,QAAS,SAACuD,GACRA,EAAExG,iBACFsf,GAAe,IACf5pB,SACH,aAGDP,cAACwM,KAAM,CAACtM,GAAI,CAAE+Z,MAAO,QAASjT,UAAW,QAAUmC,KAAK,SAAQ5I,SAAC,cAInEE,eAAC+Y,KAAM,CACLlZ,KAAM8pB,GACNzmB,SAAS,KACTsI,WAAS,EACT2U,WAAYC,aAAczgB,EAAM0gB,YAAYC,KAAK,OACjD3P,WAAY,CACV1G,UAAW,OACXC,SAAU,SAAC0G,GACTA,EAAExG,iBACF,IAAMhL,EAAO,IAAImL,SAASqG,EAAEtG,eAQ5B,GANAyhB,IAAoB,GACpBI,IAAoB,GACpBI,IAAoB,GACpBI,IAAoB,GAEpB/C,IAAW,GACY,QAAnBsD,GAA0B,CAC5B,GACEJ,GAAKhpB,MACH,SAACV,GAAI,OACHA,EAAKknB,cAAgBA,IACrBlnB,EAAK0nB,cAAcjtB,KAAOitB,GAAcjtB,MAS5C,YANA6M,KAAKC,KAAK,CACRC,KAAM,UACNjQ,MAAO,UACPe,KAAM,iCACNsP,mBAAmB,IAIvB+hB,GACED,GAAKpuB,OAAO,CACV4rB,eACAQ,iBACAQ,iBACAwH,sBAAuBz5B,KAAKM,UAC1B,CACE,oBACA,qCACA,wBACA,oBACA8b,QAAO,SAACrS,EAAMP,GAAK,OACnBqb,QAAQ9e,EAAKL,IAAI,kBAADL,OAAmBmE,SAGvCqoB,aAActa,EAAEtG,cAAczG,UAAUrL,MACxCmL,OAAQ+nB,WAGP,GAAuB,SAAnBwB,GAA2B,CACpC,IAAMsH,EAAU1H,GAAK3qB,KAAI,SAACiB,GACxB,OACEA,EAAKknB,cAAgBA,IACrBlnB,EAAK0nB,cAAcjtB,KAAOitB,GAAcjtB,GAEjC,CACLysB,eACAQ,iBACAQ,iBACAwH,sBAAuBz5B,KAAKM,UAC1B,CACE,oBACA,qCACA,wBACA,oBACA8b,QAAO,SAACrS,EAAMP,GAAK,OACnBqb,QAAQ9e,EAAKL,IAAI,kBAADL,OAAmBmE,SAGvCqoB,aAActa,EAAEtG,cAAczG,UAAUrL,MACxCmL,OAAQ+nB,IAEAtoB,KAEd2pB,GAAQyH,MAGZ10B,SAAA,CAEFP,cAACyZ,KAAW,CAAAlZ,SAAC,qBACbE,eAACiZ,KAAa,CAACxZ,GAAI,CAAE9D,UAAW,UAAWmE,SAAA,CACzCP,cAAC+L,KAAS,CACRG,MAAM,aACN/C,KAAK,SACLjR,KAAK,YACLe,MAAO0yB,GACPzrB,GAAI,CAAEpF,MAAO,KACbysB,WAAY,CACVC,UAAU,EACV0N,aAAcl1B,cAACm1B,KAAc,CAACvuB,SAAS,MAAKrG,SAAC,WAGjDE,eAACuJ,KAAG,CACF9J,GAAI,CACFiK,QAAS,OACThP,WAAY,SACZL,MAAO,QACPwB,OAAQ,sBACRkS,aAAc,MACd0X,GAAI,OACJjc,GAAI,OACJiJ,EAAG,WACH3S,SAAA,CAEFP,cAACiI,IAAU,CAACoB,QAAQ,OAAOnJ,GAAI,CAAE6G,SAAU,GAAIxG,SAAC,WAGhDP,cAAC4N,KAAU,CACTE,QAAS,SAACuD,GACRA,EAAExG,iBACFmhB,GAAiBnmB,KAAKC,IAAIimB,GAAgB,EAAG,KAC7CxrB,SAEFP,cAACohB,KAAU,MAEbphB,cAACiI,IAAU,CAACoB,QAAQ,OAAOnJ,GAAI,CAAE2f,GAAI,QAAStf,SAC3CwrB,KAEH/rB,cAAC4N,KAAU,CACTE,QAAS,SAACuD,GACRA,EAAExG,iBACFmhB,GAAiBnmB,KAAKqtB,IAAInH,GAAgB,EAAG,MAC7CxrB,SAEFP,cAACsf,KAAO,SAGZtf,cAACgK,KAAG,CACF9J,GAAI,CACF/E,WAAY,SACZL,MAAO,QACPorB,GAAI,OACJjc,GAAI,OACJiJ,EAAG,WACH3S,SAEFP,cAAC+L,KAAS,CACRG,MAAM,gBACNhU,KAAK,SACLe,MAAOkzB,GACPjsB,GAAI,CAAEpF,MAAO,IAAKmP,GAAI,OACtB4I,SAAU,SAACxB,GAAC,OAAK+a,GAAiB/a,EAAEoF,OAAOxd,YAG/C+G,cAACqM,KAAgB,CACfnM,GAAI,CAAEiK,QAAS,QAAS/N,UAAW,OAAQZ,WAAY,SACvD8Q,QACEtM,cAACuM,KAAQ,CACPrU,KAAK,mBACL0a,QAAS2Z,GACT1Z,SAAU,SAACxB,GAAC,OAAKmb,GAAoBnb,EAAEoF,OAAO7D,YAGlD1G,MAAM,sBAERlM,cAACqM,KAAgB,CACfnM,GAAI,CAAEiK,QAAS,QAAS/N,UAAW,OAAQZ,WAAY,SACvD8Q,QACEtM,cAACuM,KAAQ,CACPrU,KAAK,mBACL0a,QAAS+Z,GACT9Z,SAAU,SAACxB,GAAC,OAAKub,GAAoBvb,EAAEoF,OAAO7D,YAGlD1G,MAAM,uCAERlM,cAACqM,KAAgB,CACfnM,GAAI,CAAEiK,QAAS,QAAS/N,UAAW,OAAQZ,WAAY,SACvD8Q,QACEtM,cAACuM,KAAQ,CACPrU,KAAK,mBACL0a,QAASma,GACTla,SAAU,SAACxB,GAAC,OAAK2b,GAAoB3b,EAAEoF,OAAO7D,YAGlD1G,MAAM,0BAERlM,cAACqM,KAAgB,CACfnM,GAAI,CAAEiK,QAAS,QAAS/N,UAAW,OAAQZ,WAAY,SACvD8Q,QACEtM,cAACuM,KAAQ,CACPrU,KAAK,mBACL0a,QAASua,GACTta,SAAU,SAACxB,GAAC,OAAK+b,GAAoB/b,EAAEoF,OAAO7D,YAGlD1G,MAAM,wBAGVzL,eAACoZ,KAAa,CAAAtZ,SAAA,CACZP,cAACwM,KAAM,CACLsB,QAAS,SAACuD,GACRmb,IAAoB,GACpBI,IAAoB,GACpBI,IAAoB,GACpBI,IAAoB,GACpB/C,IAAW,IACX9pB,SACH,WAGDP,cAACwM,KAAM,CAACrD,KAAK,SAAQ5I,SAAC,aAG1BE,eAAC+Y,KAAM,CACLlZ,KAAMkqB,GACN7mB,SAAS,KACTsI,WAAS,EACT2U,WAAYC,aAAczgB,EAAM0gB,YAAYC,KAAK,OACjD3P,WAAY,CACV1G,UAAW,OACXC,SAAS,WAAD,IAAAyqB,EAAAtX,aAAAC,KAAAC,MAAE,SAAAC,EAAO5M,GAAC,IAAAxR,EAAAsoB,EAAAhK,EAAAze,EAAA21B,EAAAC,EAAAC,EAAAN,EAAA,OAAAlX,KAAA5c,MAAA,SAAAid,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,OAsB2B,GArB3CjN,EAAExG,iBAEFwe,EAAgB,GAChBC,EAAmB,QACnBC,EAAe,WACfC,EAAe,YACfC,EAAY,IACZC,EAAa,KACbC,EAAY,KACZC,EAAgB,IAChBC,EAAqB,GACrBC,EAAmB,IACnBE,GAAa,IAEbwC,IAAoB,GACpBI,IAAoB,GACpBI,IAAoB,GACpBI,IAAoB,GAEpB3C,IAAe,GAET5qB,EAAO,IAAImL,SAASqG,EAAEtG,eAEL,QAAnB4iB,GAAwB,CAAAvP,EAAAE,KAAA,YAEvBzZ,KACD0oB,GAAKhpB,MACH,SAACV,GAAI,MACkB,SAArBA,EAAKknB,aACLlnB,EAAK0nB,cAAcjtB,KAAOitB,GAAcjtB,KACvCuF,EAAKgB,cACT,CAAAuZ,EAAAE,KAAA,SAOE,OALHnT,KAAKC,KAAK,CACRC,KAAM,UACNjQ,MAAO,UACPe,KAAM,iCACNsP,mBAAmB,IAClB2S,EAAAoX,OAAA,kBAIiB,GAAlBrN,EAAe,IACftoB,EAAKL,IAAI,kBAAmBK,EAAKL,IAAI,gBAAgBtH,KAAI,CAAAkmB,EAAAE,KAAA,SAEP,OAD9CH,EAAa,IAAInT,UACZuT,OAAO,OAAQ1e,EAAKL,IAAI,iBAAiB4e,EAAAC,KAAA,GAAAD,EAAAE,KAAA,GAE3B5f,IAAMmL,KAAK,UAAWsU,EAAY,CACvDlV,QAAS,CACP,eAAgB,uCAEjB,KAAD,GAJIvJ,EAAQ0e,EAAAI,KAKd2J,EAAezoB,EAASG,KAAK4e,IAAIL,EAAAE,KAAA,iBAAAF,EAAAC,KAAA,GAAAD,EAAAM,GAAAN,EAAA,kBAIrCoP,GACED,GAAKpuB,OAAO,CACV4rB,eACAQ,iBACAQ,iBACAwH,sBAAuBz5B,KAAKM,UAC1B,CACE,oBACA,qCACA,wBACA,oBACA8b,QAAO,SAACrS,EAAMP,GAAK,OACnBqb,QAAQ9e,EAAKL,IAAI,kBAADL,OAAmBmE,SAGvCqoB,aAAchN,QAAQ9e,EAAKL,IAAI,eAC3Bof,OAAO/e,EAAKL,IAAI,mBAChBof,OAAO/e,EAAKL,IAAI,iBACpBqF,WAAY8Z,QAAQ9e,EAAKL,IAAI,iBAAkB,EAC/CsF,YAAajF,EAAKL,IAAI,gBAAkB,GACxC0F,SAAUrF,EAAKL,IAAI,aAAe,GAClCuF,UAAWlF,EAAKL,IAAI,cAAgB,EACpCwF,SAAUnF,EAAKL,IAAI,aAAe,EAClCyF,aAAcpF,EAAKL,IAAI,iBAAmB,EAC1C2F,kBAAmBtF,EAAKL,IAAI,sBAAwB,EACpD4F,gBAAiBvF,EAAKL,IAAI,oBAAsB,GAChD6F,aAAcxF,EAAKL,IAAI,iBAAmB,EAC1C+F,YAAa1F,EAAKL,IAAI,gBAAkB,GACxC8F,gBAAiBA,GAAmB,GACpClB,OAAQvE,EAAKL,IAAI,WAAa,GAC9B2oB,aAAcA,KAEhB/J,EAAAE,KAAA,oBAC0B,SAAnBqP,GAAyB,CAAAvP,EAAAE,KAAA,SACL,GAAzB6J,EAAe4B,IACflqB,EAAKL,IAAI,kBAAmBK,EAAKL,IAAI,gBAAgBtH,KAAI,CAAAkmB,EAAAE,KAAA,SAEP,OAD9CH,EAAa,IAAInT,UACZuT,OAAO,OAAQ1e,EAAKL,IAAI,iBAAiB4e,EAAAC,KAAA,GAAAD,EAAAE,KAAA,GAE3B5f,IAAMmL,KAAK,UAAWsU,EAAY,CACvDlV,QAAS,CACP,eAAgB,uCAEjB,KAAD,GAJIvJ,EAAQ0e,EAAAI,KAKd2J,EAAezoB,EAASG,KAAK4e,IAAIL,EAAAE,KAAA,iBAAAF,EAAAC,KAAA,GAAAD,EAAAqX,GAAArX,EAAA,kBAG/B6W,EAAU1H,GAAK3qB,KAAI,SAACiB,GACxB,MACuB,SAArBA,EAAKknB,aACLlnB,EAAKvF,KAAO6sB,GAELtnB,EAEF,CACLknB,eACAQ,iBACAQ,iBACAwH,sBAAuBz5B,KAAKM,UAC1B,CACE,oBACA,qCACA,wBACA,oBACA8b,QAAO,SAACrS,EAAMP,GAAK,OACnBqb,QAAQ9e,EAAKL,IAAI,kBAADL,OAAmBmE,SAGvCqoB,aAAchN,QAAQ9e,EAAKL,IAAI,eAC3Bof,OAAO/e,EAAKL,IAAI,mBAChBof,OAAO/e,EAAKL,IAAI,iBACpBqF,WAAY8Z,QAAQ9e,EAAKL,IAAI,iBAAkB,EAC/CsF,YAAajF,EAAKL,IAAI,gBAAkB,GACxC0F,SAAUrF,EAAKL,IAAI,aAAe,GAClCuF,UAAWlF,EAAKL,IAAI,cAAgB,EACpCwF,SAAUnF,EAAKL,IAAI,aAAe,EAClCyF,aAAcpF,EAAKL,IAAI,iBAAmB,EAC1C2F,kBAAmBtF,EAAKL,IAAI,sBAAwB,EACpD4F,gBAAiBvF,EAAKL,IAAI,oBAAsB,GAChD6F,aAAcxF,EAAKL,IAAI,iBAAmB,EAC1C+F,YAAa1F,EAAKL,IAAI,gBAAkB,GACxC8F,gBAAiBA,GAAmB,GACpClB,OAAQvE,EAAKL,IAAI,WAAa,GAC9B2oB,aAAcA,MAGlBqF,GAAQyH,GAAS,yBAAA7W,EAAAS,UAAAZ,EAAA,4BAEpB,gBAAAa,GAAA,OAAAsW,EAAArW,MAAA,KAAAC,YAjJQ,IAkJTze,SAAA,CAEFP,cAACyZ,KAAW,CAAAlZ,SAAC,qBACbE,eAACiZ,KAAa,CAACxZ,GAAI,CAAE9D,UAAW,UAAWmE,SAAA,CACzCP,cAAC+L,KAAS,CACRG,MAAM,iBACN/C,KAAK,SACLjR,KAAK,eACLe,MAAO0yB,GACPzrB,GAAI,CAAEpF,MAAO,IAAK46B,WAAY7wB,GAAa,SAAW,WACtD0iB,WAAY,CACVC,UAAU,EACV0N,aAAcl1B,cAACm1B,KAAc,CAACvuB,SAAS,MAAKrG,SAAC,WAGjDP,cAAC4Q,KAAO,CAAC1Q,GAAI,CAAEgmB,GAAI,UACnBzlB,eAACuJ,KAAG,CAACG,QAAQ,OAAO2V,SAAS,OAAOxS,eAAe,gBAAe/M,SAAA,CAChEP,cAACqM,KAAgB,CACfC,QACEtM,cAACuM,KAAQ,CACPrU,KAAK,aACL0a,QAAS/N,GACTgO,SAAU,SAACxB,GACTuZ,GAAcvZ,EAAEtG,cAAc6H,YAIpC1G,MAAM,iBACNhM,GAAI,CAAEwD,UAAW,OAAQiL,SAAU,UAEpC,CACC,CACEzW,KAAM,cACNgU,MAAO,WACP/C,KAAM,eACNlQ,MAAO6L,EACP+N,SAAU,SAACxB,EAAGskB,GACZtkB,EAAExG,iBACF2e,EAAemM,IAEjB/a,QAASoO,GACTluB,MAAO,OAET,CACE5C,KAAM,WACNgU,MAAO,QACP/C,KAAM,OACNrO,MAAO,MACP7B,MAAOiM,EACP2N,SAAU,SAACxB,GACTA,EAAExG,iBACF4e,EAAYpY,EAAEoF,OAAOxd,SAGzB,CACEf,KAAM,YACNgU,MAAO,SACP/C,KAAM,eACNysB,OAAQ,KACR9iB,WAAY,CAAEogB,IAAK,GACnBp4B,MAAO,MACP7B,MAAO8L,EACP8N,SAAU,SAACxB,GACTA,EAAExG,iBACF6e,EAAarY,EAAEoF,OAAOxd,SAG1B,CACEf,KAAM,WACNgU,MAAO,QACP/C,KAAM,eACNysB,OAAQ,KACR9iB,WAAY,CAAEogB,IAAK,GACnBp4B,MAAO,MACP7B,MAAO+L,EACP6N,SAAU,SAACxB,GACTA,EAAExG,iBACF8e,EAAYtY,EAAEoF,OAAOxd,SAGzB,CACEf,KAAM,eACNgU,MAAO,YACP/C,KAAM,eACNysB,OAAQ,KACR9iB,WAAY,CAAEogB,IAAK,GACnBp4B,MAAO,MACP7B,MAAOgM,EACP4N,SAAU,SAACxB,GACTA,EAAExG,iBACF+e,EAAgBvY,EAAEoF,OAAOxd,SAG7B,CACEf,KAAM,oBACNgU,MAAO,kBACP/C,KAAM,SACNyR,QAAS,CAAC,EAAG,EAAG,EAAG,EAAG,GACtB9f,MAAO,MACP7B,MAAOkM,EACP0N,SAAU,SAACxB,GACTA,EAAExG,iBACFgf,EAAqBxY,EAAEoF,OAAOxd,SAGlC,CACEf,KAAM,kBACNgU,MAAO,gBACP/C,KAAM,SACN2J,WAAY,CAAEogB,IAAK,GACnBp4B,MAAO,MACP7B,MAAOmM,EACPyN,SAAU,SAACxB,GACTA,EAAExG,iBACFif,EAAmBzY,EAAEoF,OAAOxd,SAGhC,CACEf,KAAM,eACNgU,MAAO,kBACP/C,KAAM,SACNlQ,MAAOoM,EACPwN,SAAU,SAACxB,GACTA,EAAExG,iBACFwe,EAAgBhY,EAAEoF,OAAOxd,OACF,IAAnBoY,EAAEoF,OAAOxd,MAAaqwB,EAAmB,QACjB,IAAnBjY,EAAEoF,OAAOxd,MAChBqwB,EAAmB,cACO,IAAnBjY,EAAEoF,OAAOxd,OAChBqwB,EAAmB,sBAEvB1O,QAAS,CAAC,EAAG,EAAG,EAAG,GACnB9f,MAAO,OAET,CACE5C,KAAM,cACNgU,MAAO,gBACP/C,KAAM,SACNlQ,MAAOsM,EACPsN,SAAU,SAACxB,GACTA,EAAExG,iBACF0e,EAAelY,EAAEoF,OAAOxd,QAE1B2hB,QAAS,CAAC,UAAW,eACrB9f,MAAO,OAET,CACE5C,KAAM,kBACNgU,MAAO,gBACP/C,KAAM,SACNlQ,MAAOqM,EACPuN,SAAU,SAACxB,GACTA,EAAExG,iBACFye,EAAmBjY,EAAEoF,OAAOxd,QAE9B2hB,QACmB,IAAjBvV,EACI,CAAC,OAAQ,QAAS,UAClB,CACA,OACA,QACA,SACA,aACA,qBAEN2vB,SAA2B,IAAjB3vB,EACVwwB,QAAS,OACT/6B,MAAO,OAET,CACE5C,KAAM,SACNgU,MAAO,gBACP/C,KAAM,OACNrO,MAAO,OACP7B,MAAOkzB,GACPtZ,SAAU,SAACxB,GACTA,EAAExG,iBACFuhB,GAAiB/a,EAAEoF,OAAOxd,SAG9B,CACEf,KAAM,eACNgU,MAAO,0BACP/C,KAAM,OACN2J,WAAY,CACVyM,OAAQ,oCAEV0B,gBAAiB,CAAEC,QAAQ,GAC3BpmB,MAAO,SAET8H,KAAI,SAAAgF,EAAiCtE,GAAW,IAAzC6F,EAAIvB,EAAJuB,KAAMrO,EAAK8M,EAAL9M,MAAUkmB,EAAU/d,YAAA2E,EAAAkuB,IACjC,GAAa,iBAAT3sB,EAAyB,CAC3B,IAAQjR,EAAkC8oB,EAAlC9oB,KAAMgU,EAA4B8U,EAA5B9U,MAAU0V,EAAa3e,YAAK+d,EAAU+U,IACpD,OACE/1B,cAACigB,KAAY9c,YAAA,CAEXjD,GAAI,CAAEwD,UAAW5I,EAAO6T,SAAU7T,GAClColB,YAAa,SAACC,GAAM,OAClBngB,cAAC+L,KAAS5I,wBAAA,GAAKgd,GAAM,IAAEjoB,KAAMA,EAAMgU,MAAOA,MAE5C8oB,UAAWnwB,IACP+c,GANCte,GASJ,GAAa,iBAAT6F,EAAyB,CAClC,IAAQysB,EAA2B5U,EAA3B4U,OAAWI,EAAW/yB,YAAK+d,EAAUiV,IAC7C,OACEj2B,cAACqM,KAAgB,CAEfnM,GAAI,CACFwD,UAAW5I,EACX6T,SAAU7T,EACVK,WAAY,WACZ8O,GAAI,GAENqC,QACEtM,cAAC+L,KAAS5I,YAAA,CACR8I,WAAS,EACT/L,GAAI,CAAEqK,EAAG,gBACTpB,KAAK,SACL6rB,UAAWnwB,IACPmxB,IAGR9pB,MAAO0pB,GAhBFtyB,GAmBJ,GAAa,WAAT6F,EAAmB,CAC5B,IAAQjR,EAA0C8oB,EAA1C9oB,KAAMgU,EAAoC8U,EAApC9U,MAAO0O,EAA6BoG,EAA7BpG,QAAYsb,EAAYjzB,YAAK+d,EAAUmV,IAC5D,MAAa,oBAATj+B,EACEg+B,EAAaL,QAEbp1B,eAACsM,KAAW,CAEV7M,GAAI,CAAEwD,UAAW5I,EAAO6T,SAAU7T,GAAQyF,SAAA,CAE1CP,cAACgN,KAAU,CAAC1O,GAAE,YAAAa,OAAcjH,EAAI,iBAAgBqI,SAC7C2L,IAEHlM,cAACkN,KAAM/J,wBAAA,CACLgK,QAAO,YAAAhO,OAAcjH,EAAI,iBACzBoG,GAAE,YAAAa,OAAcjH,EAAI,WACpBA,KAAMA,EACNgU,MAAOA,EACPe,KAAK,QACL+nB,UAAWnwB,IACPqxB,GAAY,IAAA31B,SAEfqa,EAAQhY,KAAI,SAACwzB,EAAcC,GAAiB,OAC3Cr2B,cAACqN,KAAQ,CAEPpU,MAAOm9B,EAAa71B,SAEnB61B,GAHIC,WAjBN/yB,GA0BC,GAGV7C,eAACsM,KAAW,CAEV7M,GAAI,CAAEwD,UAAW5I,EAAO6T,SAAU7T,GAAQyF,SAAA,CAE1CP,cAACgN,KAAU,CAAC1O,GAAE,YAAAa,OAAcjH,EAAI,iBAAgBqI,SAC7C2L,IAEHlM,cAACkN,KAAM/J,wBAAA,CACLgK,QAAO,YAAAhO,OAAcjH,EAAI,iBACzBoG,GAAE,YAAAa,OAAcjH,EAAI,WACpBA,KAAMA,EACNgU,MAAOA,EACPe,KAAK,QACL+nB,UAAWnwB,IACPqxB,GAAY,IAAA31B,SAEfqa,EAAQhY,KAAI,SAACwzB,EAAcC,GAAiB,OAC3Cr2B,cAACqN,KAAQ,CAEPpU,MAAOm9B,EAAa71B,SAEnB61B,GAHIC,WAjBN/yB,GA2BX,OACEtD,cAAC+L,KAAS5I,YAAA,CAERgG,KAAMA,EACNjJ,GAAI,CAAEwD,UAAW5I,EAAO6T,SAAU7T,GAClCk6B,UAAWnwB,IACPmc,GAJC1d,MAQbtD,cAAC+L,KAAS,CACRG,MAAM,mBACN/C,KAAK,SACLjR,KAAK,iBACLkV,aAAcue,GACdzrB,GAAI,CAAEwD,UAAW,IAAKiL,SAAU,IAAK1E,GAAI,QACzC+qB,UAAWnwB,GACX0iB,WAAY,CACV2N,aACEl1B,cAACm1B,KAAc,CAACvuB,SAAS,MAAKrG,SAAC,cAKvCP,cAAC4Q,KAAO,CAAC1Q,GAAI,CAAEgmB,GAAI,UACnBzlB,eAACuJ,KAAG,CACF9J,GAAI,CACFiK,QAAS,OACThP,WAAY,OACZL,MAAO,QACPwB,OAAQ,sBACRkS,aAAc,MACdtE,GAAI,OACJD,GAAI,OACJiJ,EAAG,WACH3S,SAAA,CAEFP,cAACiI,IAAU,CAACoB,QAAQ,OAAOnJ,GAAI,CAAE6G,SAAU,EAAGC,UAAW,OAAOzG,SAAC,WAGjEP,cAAC4N,KAAU,CACTE,QAAS,SAACuD,GACRA,EAAExG,iBACFmhB,GAAiBnmB,KAAKC,IAAIimB,GAAgB,EAAG,KAC7CxrB,SAEFP,cAACohB,KAAU,MAEbphB,cAACiI,IAAU,CAACoB,QAAQ,OAAOnJ,GAAI,CAAE2f,GAAI,OAAQ7Y,UAAW,OAAQzG,SAC7DwrB,KAEH/rB,cAAC4N,KAAU,CACTE,QAAS,SAACuD,GACRA,EAAExG,iBACFmhB,GAAiBnmB,KAAKqtB,IAAInH,GAAgB,EAAG,MAC7CxrB,SAEFP,cAACsf,KAAO,SAGZtf,cAACqM,KAAgB,CACfnM,GAAI,CAAEiK,QAAS,QAAS/N,UAAW,OAAQZ,WAAY,SACvD8Q,QACEtM,cAACuM,KAAQ,CACPrU,KAAK,mBACL0a,QAAS2Z,GACT1Z,SAAU,SAACxB,GAAC,OAAKmb,GAAoBnb,EAAEoF,OAAO7D,UAC9C1S,GAAI,CAAE9D,UAAW,UAGrB8P,MAAM,sBAERlM,cAACqM,KAAgB,CACfnM,GAAI,CAAEiK,QAAS,QAAS/N,UAAW,OAAQZ,WAAY,SACvD8Q,QACEtM,cAACuM,KAAQ,CACPrU,KAAK,mBACL0a,QAAS+Z,GACT9Z,SAAU,SAACxB,GAAC,OAAKub,GAAoBvb,EAAEoF,OAAO7D,YAGlD1G,MAAM,uCAERlM,cAACqM,KAAgB,CACfnM,GAAI,CAAEiK,QAAS,QAAS/N,UAAW,OAAQZ,WAAY,SACvD8Q,QACEtM,cAACuM,KAAQ,CACPrU,KAAK,mBACL0a,QAASma,GACTla,SAAU,SAACxB,GAAC,OAAK2b,GAAoB3b,EAAEoF,OAAO7D,YAGlD1G,MAAM,0BAERlM,cAACqM,KAAgB,CACfnM,GAAI,CAAEiK,QAAS,QAAS/N,UAAW,OAAQZ,WAAY,SACvD8Q,QACEtM,cAACuM,KAAQ,CACPrU,KAAK,mBACL0a,QAASua,GACTta,SAAU,SAACxB,GAAC,OAAK+b,GAAoB/b,EAAEoF,OAAO7D,YAGlD1G,MAAM,wBAGVzL,eAACoZ,KAAa,CAAAtZ,SAAA,CACZP,cAACwM,KAAM,CACLsB,QAAS,SAACuD,GACRA,EAAExG,iBACFwe,EAAgB,GAChBC,EAAmB,QACnBC,EAAe,WACfC,EAAe,YACfC,EAAY,IACZC,EAAa,KACbC,EAAY,KACZC,EAAgB,IAChBC,EAAqB,GACrBC,EAAmB,IACnBE,GAAa,IAEbwC,IAAoB,GACpBI,IAAoB,GACpBI,IAAoB,GACpBI,IAAoB,GAEpB3C,IAAe,IACflqB,SACH,WAGDP,cAACwM,KAAM,CAACrD,KAAK,SAAQ5I,SAAC,mBCzxEjB+1B,GApBA,SAACj5B,GACd,IAAAC,EAA0BC,mBAAS,IAAGC,EAAAC,YAAAH,EAAA,GAA/B4E,EAAK1E,EAAA,GAAE4lB,EAAQ5lB,EAAA,GACtB,OACEwC,cAACu2B,GAAMpzB,YAAA,CACL8lB,cAAc,SACdC,cAAe,CACbhnB,QACAkhB,WACA1gB,MAAM,EACNyD,aAAc,EACdG,cAAe,EACf3D,QAAS,GACTyB,OAAQ,IAEV+kB,YAAa,IACT9rB,K,8MCkEKm5B,GAhFF,SAACn5B,GACZ,IACQe,GADSq4B,cACUh+B,OAAS,IAA5B2F,MACRyE,EAUIzE,GAAS,GATXN,EAAW+E,EAAX/E,YACAC,EAAU8E,EAAV9E,WACAC,EAAe6E,EAAf7E,gBACAE,EAAY2E,EAAZ3E,aACAD,EAAe4E,EAAf5E,gBAGAmG,GAFMvB,EAANhF,OACQgF,EAAR6zB,SACM7zB,EAANuB,QACGuyB,EAAM1zB,YAAAJ,EAAAK,IAGX5F,EAA0BC,mBAASo5B,EAAOz0B,OAAM1E,EAAAC,YAAAH,EAAA,GAAzC4E,EAAK1E,EAAA,GAAE4lB,EAAQ5lB,EAAA,GAEtB,OAAOY,EACL4B,cAACu2B,GAAMpzB,YAAA,CACL8lB,cAAc,OACdC,cAAa/lB,wBAAA,GACRwzB,GAAM,IACTz0B,QACAkhB,WACAhf,WAEF+kB,YAAarrB,EAAY8E,KAAI,SAAAS,GAAA,IAAGS,EAAYT,EAAZS,aAAiBmP,EAAShQ,YAAAI,EAAAI,IAAA,MAAQ,CAChEsnB,YAAa,QACbQ,cAAapoB,YAAA,GACR8P,GAEL7O,OAAQN,EAAaM,OACrBunB,aAAc7nB,EAAaQ,UAC3BynB,cAAejoB,EAAaC,IAC5BwvB,sBAAuBzvB,EAAaO,mBAEnClF,OACCjB,EAAa0E,KAAI,SAACyD,GAChB,IACE5B,EAKE4B,EALF5B,QACAH,EAIE+B,EAJF/B,UACAP,EAGEsC,EAHFtC,IACAM,EAEEgC,EAFFhC,eACGuyB,EAAY3zB,YACboD,EAAWI,IAETjC,EAAQzG,EAAWwG,MAAK,SAASsyB,GACrC,OAAOA,EAAIv4B,KAAOmG,KAGpB,OAAAtB,YAAA,CACE4nB,YAAa,OACbQ,cAAe/mB,EACfmnB,aAAcrnB,EACdynB,cAAehoB,EACfwvB,sBAAuBlvB,GACpBuyB,OAIRz3B,OACCnB,EAAgB4E,KAAI,SAAA4D,GAAA,IAAGhB,EAAgBgB,EAAhBhB,iBAAqByN,EAAShQ,YAAAuD,EAAAG,IAAA,MAAQ,CAC3DokB,YAAa,YACbQ,cAAapoB,YAAA,GACR8P,GAEL7O,OAAQoB,EAAiBpB,OACzBunB,aAAcnmB,EAAiBlB,UAC/BynB,cAAevmB,EAAiBzB,IAChCwvB,sBAAuB/tB,EAAiBnB,oBAG9C+kB,gBAAoBnrB,GAChBZ,IAGN2C,cAAC82B,IAAQ,CAACnqB,GAAG,kB,mVCrCXuF,GAAU,CACd,CACE5T,GAAI,eACJ4N,MAAO,aAET,CACE5N,GAAI,OACJ4N,MAAO,UAET,CACE5N,GAAI,SACJ4N,MAAO,UAET,CACE5N,GAAI,gBACJ4N,MAAO,aAET,CACE5N,GAAI,gBACJ4N,MAAO,WAET,CACE5N,GAAI,WACJ4N,MAAO,YAET,CACE5N,GAAI,SACJ4N,MAAO,UAET,CACE5N,GAAI,WACJ4N,MAAO,YAET,CACE5N,GAAI,YACJ4N,MAAO,aAET,CACE5N,GAAI,WACJ4N,MAAO,YAET,CACE5N,GAAI,OACJ4N,MAAO,QAET,CACE5N,GAAI,YACJ0U,SAAS,EACT9G,MAAO,MACP5C,MAAO,QACPpJ,GAAI,CAAEyD,SAAU,GAAI7I,MAAO,KAE7B,CACEwD,GAAI,eACJ0U,SAAS,EACT9G,MAAO,OACP5C,MAAO,OACPpJ,GAAI,CAAEyD,SAAU,GAAI7I,MAAO,GAAI+nB,YAAa,IAE9C,CACEvkB,GAAI,YACJ0U,SAAS,EACT9G,MAAO,aACPhM,GAAI,CAAEyD,SAAU,KAElB,CACErF,GAAI,OACJ0U,SAAS,EACT9S,GAAI,CAAEyD,SAAU,GAAI7I,MAAO,KAE7B,CACEkY,SAAS,EACT1U,GAAI,SACJ4B,GAAI,CAAEyD,SAAU,GAAI7I,MAAO,MAGzBogB,GAAc,CAClB,UACA,WACA,SACA,WACA,YACA,WACA,OACA,MACA,QAQa9d,oBALf,SAAyB3E,GAEvB,MAAO,CAAET,KADQS,EAATT,QAIKoF,EAAyB,SAACC,GACvC,IAAM+C,EAAQgb,eAEd9d,EAAoCC,mBAAS,IAAGC,EAAAC,YAAAH,EAAA,GAAzCy5B,EAAUv5B,EAAA,GAAEw5B,EAAax5B,EAAA,GAChCI,EAAwBL,mBAAS,IAAGY,EAAAV,YAAAG,EAAA,GAA7B1F,EAAIiG,EAAA,GAAE+kB,EAAO/kB,EAAA,GACpB2W,EAA0BvX,mBAAS,IAAGwX,EAAAtX,YAAAqX,EAAA,GAA/BjZ,EAAKkZ,EAAA,GAAEoO,EAAQpO,EAAA,GACtBG,EAA0B3X,mBAAS,IAAG4X,EAAA1X,YAAAyX,EAAA,GAA/BhT,EAAKiT,EAAA,GAAEiO,EAAQjO,EAAA,GACtBG,EAAwC/X,oBAAS,GAAMgY,EAAA9X,YAAA6X,EAAA,GAAhD+N,EAAY9N,EAAA,GAAE+N,EAAe/N,EAAA,GACpCG,EAAkCnY,oBAAS,GAAMoY,EAAAlY,YAAAiY,EAAA,GAA1C6N,EAAS5N,EAAA,GAAE6N,EAAY7N,EAAA,GAC9BkG,EAAoCte,oBAAS,GAAMue,EAAAre,YAAAoe,EAAA,GAA5C4H,EAAU3H,EAAA,GAAE4H,EAAa5H,EAAA,GAC1B6H,EAAkB5N,iBAAO,MACzB6N,EAAe7N,iBAAO,MAC5BiG,EAAwCze,mBAAS,MAAK0e,EAAAxe,YAAAue,EAAA,GAA/C6H,EAAY5H,EAAA,GAAE6H,EAAe7H,EAAA,GAEpCG,EAA4C7e,mBAAS,GAAE8e,EAAA5e,YAAA2e,EAAA,GAAhD6a,EAAc5a,EAAA,GAAE6a,EAAiB7a,EAAA,GAExCG,EAAsDjf,mBAAS,IAAGkf,EAAAhf,YAAA+e,EAAA,GAA3DU,EAAmBT,EAAA,GAAEU,EAAsBV,EAAA,GAmE5ChE,EAAoB,SAACnV,GACrBA,EAAQyzB,EAAW3zB,QAAUE,GAAS,GACxC6H,KAAKC,KAAK,CACRhQ,MAAO,gBACPe,KAAM,yDACNkP,KAAM,WACNqN,kBAAkB,EAClBC,kBAAmB,eACnBC,iBAAkB,eAClBnN,mBAAmB,IAClBhM,MAAK,SAACoZ,GACHA,EAAOC,aACTpa,IACGqa,OAAO,cAAD5Z,OAAe43B,EAAWzzB,GAAOhF,KACvCmB,MAAK,SAACC,GAELy3B,OAEDr3B,OAAM,SAAUC,GAEfoL,KAAKC,KAAK,CACRC,KAAM,QACNjQ,MAAO,QACPe,KAAM4D,EAAML,SAASG,KAAK0L,QAC1BE,mBAAmB,IAErB9L,QAAQC,IAAIG,MAEbN,MAAK,mBAiKV03B,EAAgB,SAACt4B,GACrBH,IACGc,IAAI,aAAc,CAAEX,gBACpBY,MAAK,SAACC,GAELs3B,EAAct3B,EAASG,SAExBC,OAAM,SAAUC,GAEfJ,QAAQC,IAAIG,MAEbN,MAAK,gBAeV,OANAjB,qBAAU,WACR,IAAMC,EAASC,IAAMC,YAAYF,SAEjC,OADA04B,EAAc14B,EAAOnG,OACd,kBAAMmG,EAAOK,OAAO,oCAC1B,IAGD2B,eAACuJ,KAAG,CACF9J,GAAI,CACFqH,OAAQ,OACRgH,SAAU,OACV3R,QAAS,aACT2D,SAAA,CAEFP,cAACwM,KAAM,CACL9B,UAAWgC,IACXC,GAAG,0BACH0S,UAAWrf,cAACsf,KAAO,IAAI/e,SACxB,kBAGDP,cAAA,OAAAO,SACEP,cAAC2a,GAAoB,CACnBC,QAASM,GACTrI,SA5BoB,SAACuN,GAC3BjD,EAAuBiD,IA4BjBpL,SAAUkI,MAGdld,cAAC2U,GAAQ,CACPvZ,MAAM,mBACNwZ,KAAMmiB,EAAWn0B,KACf,SAAA8D,EAsBEpD,GAAK,IApBHhF,EAAEoI,EAAFpI,GACAoK,EAAYhC,EAAZgC,aACAzG,EAAQyE,EAARzE,SACAD,EAAM0E,EAAN1E,OACAD,EAAK2E,EAAL3E,MACAD,EAAK4E,EAAL5E,MACAD,EAAI6E,EAAJ7E,KACAhE,EAAM6I,EAAN7I,OACAuI,EAAQM,EAARN,SACAD,EAAYO,EAAZP,aACAI,EAASG,EAATH,UACAD,EAAaI,EAAbJ,cACAhF,EAASoF,EAATpF,UACAkB,EAAQkE,EAARlE,SACAE,EAAIgE,EAAJhE,KACA5E,EAAW4I,EAAX5I,YACAC,EAAU2I,EAAV3I,WACAC,EAAe0I,EAAf1I,gBACGiV,EAAShQ,YAAAyD,EAAAe,IAAA,OAAAtE,YAAA,CAId7E,KACAgF,QACAiiB,QAAS1nB,EAAOyE,WAAa,IAAInD,OAAO,IAAKtB,EAAO0E,UAAY,IAChEC,SACEA,EAAW,IAAM,EAAC,GAAArD,OACXqD,EAAQ,QAAArD,OAAoB,IAAbqD,EAAiB,GAAK,KAAG,GAAArD,OACxCqD,EAAW,EAAC,SAAArD,OAAQqD,EAAW,IAAM,EAAI,GAAK,KACvD40B,cAAgB,WACd,IAAM3R,EAAc,IAAIvmB,KAAKoC,GAI7B,OAHAmkB,EAAYC,WACVD,EAAYE,aAAeF,EAAYG,qBAElCH,EAAYI,cAAcC,MAAM,KAAK,GAL9B,GAOhB1f,SAAS,GAADjH,OAAKiH,GAAQjH,OAAGgH,EAAe,OAAS,KAChDI,UAAU,GAADpH,OAAKoH,GAASpH,OAAGmH,EAAgB,OAAS,KACnDyf,cAAe,CAAC9jB,EAAUD,EAAQD,EAAOD,EAAOD,GAAMoU,KAAK,MAC3DgQ,SACEjmB,cAAC4N,KAAU,CACT1N,GAAI,CAAEgmB,GAAI,OACVpY,QAAS,SAAClD,GACRA,EAAMC,iBACNqsB,EAAkB5zB,GAClBogB,GAAc,IACdnjB,SAEFP,cAACmmB,KAAK,CACJC,aACEtoB,EAAYsF,OACZrF,EAAWqF,OACXpF,EAAgBoF,OAElBtH,MAAM,QAAOyE,SAEbP,cAACqmB,KAAQ,QAIf3jB,KACE1C,cAACuM,KAAQ,CACPqG,QAASlQ,EACToL,QAAS,SAAClD,GACRA,EAAMsO,kBACNtO,EAAMC,iBACNnM,IACGya,IAAI,2BAADha,OAA4Bb,GAAM,CACpCoE,MAAOA,IAERjD,MAAK,WACJ03B,OAEDr3B,OAAM,SAAUC,GAEfoL,KAAKC,KAAK,CACRC,KAAM,QACNjQ,MAAO,QACPe,KAAM4D,EAAML,SAASG,KAAK0L,QAC1BE,mBAAmB,OAGtBhM,MAAK,kBAMdiJ,aACE1I,cAAC0M,IAAU,CAACC,GAAE,cAAAxN,OAAgBb,GAAMmY,OAAO,SAAQlW,SAChDmI,IAGL8d,UACExmB,cAAC4N,KAAU,CACTE,QAAS,WACPoV,EAAQjQ,EAAU/a,MAClBirB,EAASlQ,EAAUpX,OACnB2nB,GAAa,IACbjjB,SAEFP,cAACymB,KAAS,MAGdC,aACE1mB,cAAC4N,KAAU,CACTE,QAAS,WACPpP,IACGc,IAAI,sBACJC,MAAK,WACJyjB,EAAQjQ,EAAU/a,MAClBkrB,EAASnQ,EAAU/Q,OACnBohB,GAAgB,MAEjBxjB,OAAM,SAAUC,GAEfrB,IACGc,IAAI,kBACJC,MAAK,SAACC,GACLyL,KAAKC,KAAK,CACRC,KAAM,OACNjQ,MACE,6DACFkQ,KAAMqb,KAAeC,qBACnB5mB,cAAC6mB,KAAM,CACL5tB,MAAK,GAAAkG,OAAKO,EAASG,KAAKinB,QACxBC,MAAM,OAGVtb,mBAAmB,OAGtB3L,OAAM,SAAUknB,GAEf7b,KAAKC,KAAK,CACRC,KAAM,QACNjQ,MAAO,QACPe,KAAM,oCACNsP,mBAAmB,OAGtBhM,MAAK,kBAITA,MAAK,gBAGRc,SAEFP,cAACinB,KAAY,MAGjBoQ,UACEr3B,cAAC4N,KAAU,CACTE,QAAS,SAAClD,GACRA,EAAMC,iBAtUO,SAACvH,GACxBA,EAAQyzB,EAAW3zB,QAAUE,GAAS,GACxC6H,KAAKC,KAAK,CACRhQ,MAAO,gBACPe,KAAM,yDACNkP,KAAM,WACNqN,kBAAkB,EAClBC,kBAAmB,gBACnBC,iBAAkB,cAClBnN,mBAAmB,IAClBhM,MAAK,SAACoZ,GACP,GAAIA,EAAOC,YAAa,CACtB,IAAMxQ,EAAYyuB,EAAWzzB,GAEvBiqB,EAAOjlB,EAAUxK,YAAY8E,KACjC,SAAArD,GAAA,IAAGqJ,EAAgBrJ,EAAhBqJ,iBAA8B,MAAQ,CACvCmiB,YAAa,QACbQ,cAF+BtoB,YAAA1D,EAAA2D,IAG/BkB,OAAQwE,EAAiBxE,OACzBunB,aAAc/iB,EAAiBtE,UAC/BynB,cAAenjB,EAAiB7E,IAChCwvB,sBAAuB3qB,EAAiBvE,mBAGzClF,OACCmJ,EAAUD,iBAAiBzF,KAAI,SAACkG,GAC9B,IACErE,EAKEqE,EALFrE,QACAH,EAIEwE,EAJFxE,UACAP,EAGE+E,EAHF/E,IACAM,EAEEyE,EAFFzE,eACGuyB,EAAY3zB,YACb6F,EAAerF,IAEbe,EAAQ8D,EAAUvK,WAAWwG,MAAK,SAAUsyB,GAChD,OAAOA,EAAIv4B,KAAOmG,KAGpB,OAAAtB,YAAA,CACE4nB,YAAa,OACbQ,cAAe/mB,EACfmnB,aAAcrnB,EACdynB,cAAehoB,EACfwvB,sBAAuBlvB,GACpBuyB,OAIRz3B,OACCmJ,EAAUtK,gBAAgB4E,KACxB,SAAAC,GAAA,IAAGgG,EAAoBhG,EAApBgG,qBAAkC,MAAQ,CAC3CkiB,YAAa,YACbQ,cAFmCtoB,YAAAJ,EAAA4D,IAGnCrC,OAAQyE,EAAqBzE,OAC7BunB,aAAc9iB,EAAqBvE,UACnCynB,cAAeljB,EAAqB9E,IACpCwvB,sBAAuB1qB,EAAqBxE,oBAGhDlF,OACAmJ,EAAUF,oBAAoBxF,KAC5B,SAAAS,GAAA,IAAGqC,EAAWrC,EAAXqC,YAAsB,MAAQ,CAC/BqlB,YAAa,OACbzsB,GAFgB+E,EAAF/E,GAGdqH,MAHuBtC,EAALsC,MAIlBD,YAAaA,OAIrBhH,IACGmL,KAAK,gBAAiB,CACrB3R,KAAMoQ,EAAUpQ,KAChBgK,MAAOoG,EAAUpG,MACjBrG,MAAOyM,EAAUzM,MACjBoG,SAAUqG,EAAUrG,SACpBD,OAAQsG,EAAUtG,OAClBD,MAAOuG,EAAUvG,MACjBD,MAAOwG,EAAUxG,MACjBD,KAAMyG,EAAUzG,KAChBW,SAAU8F,EAAU9F,SACpB4B,OAAQkE,EAAUlE,OAClB6hB,SAAUsH,EACP3qB,KAAI,SAAA4D,GAAA,IAAG+kB,EAAa/kB,EAAb+kB,cAAkBtY,EAAShQ,YAAAuD,EAAAG,IAAA,OAAAxD,YAAA,CACjCgoB,UAAwB,OAAbI,QAAa,IAAbA,OAAa,EAAbA,EAAejtB,IACvB2U,MAEJ9T,OAAOmJ,EAAUF,qBACpB3F,aAAc6F,EAAU7F,aACxBC,MAAM,EACNC,QAAS,KACTyD,SAAUkC,EAAUlC,SACpBD,aAAcmC,EAAUnC,aACxBI,UAAW+B,EAAU/B,UACrBD,cAAegC,EAAUhC,gBAE1B7G,MAAK,WAEJpC,EAAMuP,QAAQC,KAAK,mBAEpB/M,OAAM,SAAUC,GAEfoL,KAAKC,KAAK,CACRC,KAAM,QACNjQ,MAAO,QACPe,KAAM4D,EAAML,SAASG,KAAK0L,QAC1BE,mBAAmB,IAClBhM,MAAK,eACRE,QAAQC,IAAIG,MAEbN,MAAK,mBA0NA63B,CAAqBh0B,IACrB/C,SAEFP,cAACu3B,KAAqB,MAG1Bne,KACEpZ,cAAC4N,KAAU,CACTlD,UAAWgC,IACXC,GAAI,CACFua,SAAU,wBACVzuB,MAAO,CAAE6P,UAAWyuB,EAAWzzB,KAC/B/C,SAEFP,cAACkU,KAAQ,MAGb6E,OACE/Y,cAAC4N,KAAU,CACTE,QAAS,SAAClD,GACRA,EAAMC,iBACN4N,EAAkBnV,IAClB/C,SAEFP,cAACmU,KAAU,OAGZlB,MAGPf,QAASA,GACNtP,KAAI,SAAC4d,EAAQC,GACZ,OAAIA,EAAI,GAAKA,EAAI,GACXvD,EAAoB3Y,MAAK,SAACmc,GAAU,OAAKA,IAAeF,EAAOtU,SAC1DsU,OAEP,EAEGA,KAERtK,QAAO,SAACsK,GAAM,YAAgBG,IAAXH,KACtBnH,YA7bkB,SAAC/V,GACXyzB,EAAW3zB,QA6bnBkW,cAAeb,EACf9E,kBAtZwB,SAACqB,GAC7B7J,KAAKC,KAAK,CACRhQ,MAAO,gBACPe,KAAM,2DACNkP,KAAM,WACNqN,kBAAkB,EAClBC,kBAAmB,eACnBC,iBAAkB,iBAClBnN,mBAAmB,IAClBhM,MAAK,SAACoZ,GACHA,EAAOC,aACTpa,IACGqa,OAAO,aAAc,CACpBlZ,KAAM,CAAE0Z,IAAKvE,KAEdvV,MAAK,SAACC,GAELy3B,OAEDr3B,OAAM,SAAUC,GAEfoL,KAAKC,KAAK,CACRC,KAAM,QACNjQ,MAAO,QACPe,KAAM4D,EAAML,SAASG,KAAK0L,QAC1BE,mBAAmB,IAErB9L,QAAQC,IAAIG,MAEbN,MAAK,mBA0XR0nB,cA5foB,SAAC9V,GACzBA,EAAExG,iBACyBiZ,EAAN,OAAjBD,EAAuCxS,EAAEtG,cACxB,SA2fnBtK,eAAC+Y,KAAM,CACLvN,WAAS,EACT2U,WAAYC,aAAczgB,EAAM0gB,YAAYC,KAAK,OACjDpd,SAAS,KACTrD,KAAM+iB,EAAa9iB,SAAA,CAEnBP,cAACyZ,KAAW,CAAAlZ,SAAC,wCACbP,cAAC0Z,KAAa,CAAAnZ,SACZE,eAACkZ,KAAK,CAAC9N,QAAS,EAAEtL,SAAA,CAChBP,cAAConB,KAAc,CACb/d,QAAQ,WACR6C,MAAM,eACNmb,cAAe,CAAC,MAChBC,eAAgB,KAChBruB,MAAOiJ,EACPqlB,WAAY,CACVC,UAAU,KAIdxnB,cAAC+L,KAAS,CACR0b,SAAU9D,EACVzX,MAAM,UACND,WAAS,EACTmB,aAAY,SAAAjO,OAAWjH,EAAI,KAC3BulB,WAAS,EACTiK,QAAS,EACTC,QAAS,UAOflnB,eAACoZ,KAAa,CAAAtZ,SAAA,CACZP,cAACwM,KAAM,CACLsB,QAAS,SAAClD,GACRA,EAAMC,iBACNyY,GAAgB,IAChB/iB,SACH,WAGDP,cAACwM,KAAM,CAACsB,QAniBW,SAAClD,GAC1BA,EAAMC,iBACNnM,IACGmL,KAAK,gBAAiB,CACrB3H,MAAOA,EACPqJ,QAASoY,EAAgB3N,QAAQ/c,QAElCwG,MAAK,WACJ6jB,GAAgB,MAEjBxjB,OAAM,SAAUC,GAEfujB,GAAgB,GAChBnY,KAAKC,KAAK,CACRC,KAAM,QACNjQ,MAAO,QACPe,KAAM4D,EAAML,SAASG,KAAK0L,QAC1BE,mBAAmB,IAClBhM,MAAK,WACN6jB,GAAgB,SAGnB7jB,MAAK,gBA6gBkCc,SAAC,eAGzCE,eAAC+Y,KAAM,CACLvN,WAAS,EACT2U,WAAYC,aAAczgB,EAAM0gB,YAAYC,KAAK,OACjDpd,SAAS,KACTrD,KAAMijB,EAAUhjB,SAAA,CAEhBP,cAACyZ,KAAW,CAAAlZ,SAAC,6BACbP,cAAC0Z,KAAa,CAAAnZ,SACZE,eAACkZ,KAAK,CAAC9N,QAAS,EAAEtL,SAAA,CAChBP,cAAC+L,KAAS,CACRG,MAAM,QACN/C,KAAK,QACLlQ,MAAO4C,EACP0rB,WAAY,CACVC,UAAU,KAIdxnB,cAAC+L,KAAS,CACR0b,SAAU7D,EACV1X,MAAM,UACND,WAAS,EACTmB,aAAY,SAAAjO,OAAWjH,EAAI,KAC3BulB,WAAS,EACTiK,QAAS,EACTC,QAAS,UAIflnB,eAACoZ,KAAa,CAAAtZ,SAAA,CACZP,cAACwM,KAAM,CACLsB,QAAS,SAAClD,GACRA,EAAMC,iBACN2Y,GAAa,IACbjjB,SACH,WAGDP,cAACwM,KAAM,CAACsB,QAjjBQ,SAAClD,GACvBA,EAAMC,iBACNnM,IACGmL,KAAK,aAAc,CAClBhO,MAAOA,EACP0P,QAASqY,EAAa5N,QAAQ/c,QAE/BwG,MAAK,WACJ+jB,GAAa,MAEd1jB,OAAM,SAAUC,GAEfyjB,GAAa,GACbrY,KAAKC,KAAK,CACRC,KAAM,QACNjQ,MAAO,QACPe,KAAM4D,EAAML,SAASG,KAAK0L,QAC1BE,mBAAmB,IAClBhM,MAAK,WACN+jB,GAAa,SAGhB/jB,MAAK,gBA2hB+Bc,SAAC,eAGtCE,eAAC+Y,KAAM,CACL7V,SAAS,KACTsI,WAAS,EACT3L,KAAMmjB,EACNxS,QAAS,SAACrG,GACRA,EAAMC,iBACN6Y,GAAc,IACdnjB,SAAA,CAEFP,cAACyZ,KAAW,CAAAlZ,SAAC,qBACbP,cAAC0Z,KAAa,CAAAnZ,SACZE,eAACyhB,GAAW,CAAA3hB,SAAA,CACT02B,EAAiBF,EAAW3zB,QAC3B2zB,EAAWE,GAAgBn5B,YAAY8E,KAAI,SAACiB,EAAMP,GAAK,OACrD7C,eAAC2hB,GAAe,CAAA7hB,SAAA,CACdP,cAACsiB,GAAmB,CAClBpS,QAAO,UAAA/Q,OAAY0E,EAAKG,MAAK,MAAA7E,OAAK0E,EAAKI,MAAK,MAAA9E,OAAK0E,EAAKuZ,WAAU,MAAAje,OAAK0E,EAAKwZ,UAAS,MAAAle,OAAK0E,EAAKyZ,WAC7FuK,UAAS,GAAA1oB,OAAK0E,EAAKK,aAAe,aAAe,IAAE/E,OAAG0E,EAAKM,cAAgB,UAAY,MAGzFnE,cAACwiB,GAAkB,CACjBle,UAAS,GAAAnF,OAAK0E,EAAK+E,iBAAiBtE,UAAS,QAC7Cme,OAAM,WAAAtjB,OAAa0E,EAAK+E,iBAAiB7E,KACzCM,eAAc,GAAAlF,OAAK0E,EAAK+E,iBAAiBvE,oBATvBf,MAazB2zB,EAAiBF,EAAW3zB,QAC3B2zB,EAAWE,GAAgB5uB,iBAAiBzF,KAAI,SAACiB,EAAMP,GAAK,OAC1D7C,eAAC2hB,GAAe,CAAA7hB,SAAA,CACdP,cAACsiB,GAAmB,CAClBpS,QAAO,gCAAA/Q,OACH43B,EAAWE,GAAgBl5B,WAAWwG,MACxC,SAACC,GAAK,OAAKA,EAAMlG,KAAOuF,EAAKY,WAC7Bkd,aAAY,6BAAAxiB,OAEV43B,EAAWE,GAAgBl5B,WAAWwG,MACtC,SAACC,GAAK,OAAKA,EAAMlG,KAAOuF,EAAKY,WAC7BR,MAAK,6BAAA9E,OAEL43B,EAAWE,GAAgBl5B,WAAWwG,MACtC,SAACC,GAAK,OAAKA,EAAMlG,KAAOuF,EAAKY,WAC7B3I,MAAK,6BAAAqD,OAEL43B,EAAWE,GAAgBl5B,WAAWwG,MACtC,SAACC,GAAK,OAAKA,EAAMlG,KAAOuF,EAAKY,WAC7BC,QAAO,6BAAAvF,OAEP43B,EAAWE,GAAgBl5B,WAAWwG,MACtC,SAACC,GAAK,OAAKA,EAAMlG,KAAOuF,EAAKY,WAC7BE,SAAQ,6BAAAxF,OAER43B,EAAWE,GAAgBl5B,WAAWwG,MACtC,SAACC,GAAK,OAAKA,EAAMlG,KAAOuF,EAAKY,WAC7BG,UAEJijB,UACEhkB,EAAKgB,WACHpE,eAAA,QAAAF,SAAA,IAAApB,OACM0E,EAAKiB,YAAW,mCAAA3F,OAChB0E,EAAKqB,SAAQ,mCAAA/F,OACb0E,EAAKkB,UAAS,KAAA5F,OAAI0E,EAAKmB,SAAQ,KAAA7F,OAAI0E,EAAKoB,aAAY,mCAAA9F,OACpD0E,EAAKsB,kBAAiB,MAAAhG,OAAK0E,EAAKuB,gBAAe,mCAAAjG,OAC/C0E,EAAKwB,aAAY,KAAAlG,OAAI0E,EAAK0B,YAAW,KACzCvF,cAAA,KAAGwJ,KAAM3F,EAAKskB,aAAc1R,OAAO,SAAS2R,IAAI,aAAY7nB,SAAC,cAK/D,oBAINP,cAACwiB,GAAkB,CACjBle,UAAS,GAAAnF,OAAK0E,EAAKS,UAAS,QAC5Bme,OAAM,WAAAtjB,OAAa0E,EAAKE,KACxBM,eAAc,GAAAlF,OAAK0E,EAAKQ,oBA/CNf,MAmDzB2zB,EAAiBF,EAAW3zB,QAC3B2zB,EAAWE,GAAgBj5B,gBAAgB4E,KAAI,SAACiB,EAAMP,GAAK,OACzD7C,eAAC2hB,GAAe,CAAA7hB,SAAA,CACdP,cAACsiB,GAAmB,CAClBpS,QAAO,cAAA/Q,OAAgB0E,EAAK3L,MAC5B2vB,UAAS,GAAA1oB,OAAK0E,EAAKO,UAErBpE,cAACwiB,GAAkB,CACjBle,UAAS,GAAAnF,OAAK0E,EAAKgF,qBAAqBvE,UAAS,QACjDme,OAAM,WAAAtjB,OAAa0E,EAAKgF,qBAAqB9E,KAC7CM,eAAc,GAAAlF,OAAK0E,EAAKgF,qBAAqBxE,oBAR3Bf,WAc9BtD,cAAC6Z,KAAa,CAAAtZ,SACZP,cAACwM,KAAM,CACLsB,QAAS,SAAClD,GACRA,EAAMC,iBACN6Y,GAAc,IACdnjB,SACH,kB,kYC7xBLioB,GAAW,SAACnrB,GAChB,IAAQkD,EAAqClD,EAArCkD,SAAUtH,EAA2BoE,EAA3BpE,MAAOqK,EAAoBjG,EAApBiG,MAAUmlB,EAAKxlB,YAAK5F,EAAK6F,IAElD,OACElD,cAAA,MAAAmD,wBAAA,CACE6T,KAAK,WACL0R,OAAQzvB,IAAUqK,EAClBhF,GAAE,mBAAAa,OAAqBmE,GACvB,gCAAAnE,OAA+BmE,IAC3BmlB,GAAK,IAAAloB,SAERtH,IAAUqK,GAAStD,cAACgK,KAAG,CAAC9J,GAAI,CAAEgT,EAAG,oBAAqB3S,SAAEA,QAgB/D,IAAMooB,GAAe,CACnB,CACErqB,GAAI,OAEN,CACEA,GAAI,YACJ4B,GAAI,CAAEpF,MAAO,KACbkY,SAAS,GAEX,CACE1U,GAAI,QACJ4N,MAAO,SAET,CACE5N,GAAI,QACJ4N,MAAO,SAET,CACE5N,GAAI,YACJ4N,MAAO,SAET,CACE5N,GAAI,UACJ4N,MAAO,WAET,CACE5N,GAAI,MACJ4N,MAAO,OAET,CACE5N,GAAI,aACJ4N,MAAO,eAET,CACE5N,GAAI,YACJ4N,MAAO,cAET,CACE5N,GAAI,YACJ4N,MAAO,cAET,CACE5N,GAAI,eACJ4N,MAAO,iBAET,CACE5N,GAAI,eACJ4N,MAAO,iBAET,CACE5N,GAAI,eACJ4N,MAAO,YAET,CACE5N,GAAI,gBACJ4N,MAAO,uBAET,CACE5N,GAAI,SACJ4N,MAAO,gBAET,CACE5N,GAAI,eACJ4N,MAAO,YAET,CACE5N,GAAI,cACJ4N,MAAO,YAIL0c,GAAmB,CACvB,cACA,aACA,aACA,gBACA,gBACA,WACA,sBACA,eACA,WACA,WAGIC,GAAc,CAClB,CACEvqB,GAAI,OAEN,CACEA,GAAI,YACJ4B,GAAI,CAAEpF,MAAO,KACbkY,SAAS,GAEX,CACE1U,GAAI,eACJ4N,MAAO,YAET,CACE5N,GAAI,QACJ4N,MAAO,SAET,CACE5N,GAAI,YACJ4N,MAAO,SAET,CACE5N,GAAI,UACJ4N,MAAO,WAET,CACE5N,GAAI,MACJ4N,MAAO,OAET,CACE5N,GAAI,QACJ4N,MAAO,SAET,CACE5N,GAAI,UACJ4N,MAAO,YAET,CACE5N,GAAI,WACJ4N,MAAO,aAET,CACE5N,GAAI,WACJ4N,MAAO,aAET,CACE5N,GAAI,SACJ4N,MAAO,gBAET,CACE5N,GAAI,eACJ4N,MAAO,YAET,CACE5N,GAAI,cACJ4N,MAAO,YAIL4c,GAAkB,CACtB,QACA,WACA,YACA,YACA,eACA,WACA,WAGIC,GAAmB,CACvB,CACEzqB,GAAI,OAEN,CACEA,GAAI,YACJ4B,GAAI,CAAEpF,MAAO,KACbkY,SAAS,GAEX,CACE1U,GAAI,OACJ4N,MAAO,QAET,CACE5N,GAAI,WACJ4N,MAAO,YAET,CACE5N,GAAI,YACJ4N,MAAO,SAET,CACE5N,GAAI,UACJ4N,MAAO,WAET,CACE5N,GAAI,MACJ4N,MAAO,OAET,CACE5N,GAAI,SACJ4N,MAAO,gBAET,CACE5N,GAAI,eACJ4N,MAAO,YAET,CACE5N,GAAI,cACJ4N,MAAO,YAIL8c,GAAkB,CACtB,WACA,WACA,wBACA,wBACA,UACA,QACA,SACA,0BACA,kBAGa5rB,gBArNf,SAAyB3E,GAEvB,MAAO,CAAET,KADQS,EAATT,QAoNKoF,EAAyB,SAACC,GACvC,IAAM+C,EAAQgb,eACN6N,EAA+D5rB,EAA/D4rB,cAAeC,EAAgD7rB,EAAhD6rB,cAAeC,EAAiC9rB,EAAjC8rB,YAAaC,EAAoB/rB,EAApB+rB,gBAEnD9rB,EAAwCC,mBAAS,GAAEC,EAAAC,YAAAH,EAAA,GAA5C+H,EAAY7H,EAAA,GAAE6rB,EAAe7rB,EAAA,GACpCI,EAA8CL,mBAAS,QAAOY,EAAAV,YAAAG,EAAA,GAAvD0H,EAAenH,EAAA,GAAEmrB,EAAkBnrB,EAAA,GAC1C2W,EAAsCvX,mBAAS,WAAUwX,EAAAtX,YAAAqX,EAAA,GAAlDvP,EAAWwP,EAAA,GAAEwU,EAAcxU,EAAA,GAClCG,EAAsC3X,mBAAS,YAAW4X,EAAA1X,YAAAyX,EAAA,GAAnDpQ,EAAWqQ,EAAA,GAAEqU,EAAcrU,EAAA,GAClCG,EAAgC/X,mBAAS,IAAGgY,EAAA9X,YAAA6X,EAAA,GAArCpQ,EAAQqQ,EAAA,GAAEkU,EAAWlU,EAAA,GAC5BG,EAAkCnY,mBAAS,KAAIoY,EAAAlY,YAAAiY,EAAA,GAAxC3Q,EAAS4Q,EAAA,GAAE+T,EAAY/T,EAAA,GAC9BkG,EAAgCte,mBAAS,KAAIue,EAAAre,YAAAoe,EAAA,GAAtC7W,EAAQ8W,EAAA,GAAE6N,EAAW7N,EAAA,GAC5BE,EAAwCze,mBAAS,IAAG0e,EAAAxe,YAAAue,EAAA,GAA7C/W,EAAYgX,EAAA,GAAE2N,EAAe3N,EAAA,GACpCG,EAAkD7e,mBAAS,GAAE8e,EAAA5e,YAAA2e,EAAA,GAAtDjX,EAAiBkX,EAAA,GAAEwN,EAAoBxN,EAAA,GAC9CG,EAA8Cjf,mBAAS,IAAGkf,EAAAhf,YAAA+e,EAAA,GAAnDpX,EAAeqX,EAAA,GAAEqN,EAAkBrN,EAAA,GAC1CG,GAAkCrf,mBAAS,IAAGsf,GAAApf,YAAAmf,GAAA,GAAvCmN,GAASlN,GAAA,GAAEmN,GAAYnN,GAAA,GAOxBoN,GAAalU,iBAAO,MAC1BiH,GAAsCzf,mBAAS,GAAE0f,GAAAxf,YAAAuf,GAAA,GAA1CkN,GAAWjN,GAAA,GAAEkN,GAAclN,GAAA,GAClCwE,GAA8BlkB,oBAAS,GAAMmkB,GAAAjkB,YAAAgkB,GAAA,GAAtC2I,GAAO1I,GAAA,GAAE2I,GAAU3I,GAAA,GAC1B2C,GAAsC9mB,oBAAS,GAAM+mB,GAAA7mB,YAAA4mB,GAAA,GAA9CmG,GAAWlG,GAAA,GAAEmG,GAAcnG,GAAA,GAClCgG,GAAoC/sB,oBAAS,GAAMgtB,GAAA9sB,YAAA6sB,GAAA,GAA5CzlB,GAAU0lB,GAAA,GAAEK,GAAaL,GAAA,GAChCG,GAAsCntB,mBAAS,SAAQotB,GAAAltB,YAAAitB,GAAA,GAAhDK,GAAWJ,GAAA,GAAEK,GAAcL,GAAA,GAClCE,GAA0CttB,mBAAS,IAAGutB,GAAArtB,YAAAotB,GAAA,GAA/CU,GAAaT,GAAA,GAAEU,GAAgBV,GAAA,GACtCG,GAAwC1tB,mBAAS,KAAK2tB,GAAAztB,YAAAwtB,GAAA,GAA/CU,GAAYT,GAAA,GAAEU,GAAeV,GAAA,GACpCG,GAA0C9tB,mBAAS,GAAE+tB,GAAA7tB,YAAA4tB,GAAA,GAA9CU,GAAaT,GAAA,GAAEU,GAAgBV,GAAA,GACtCG,GAA0CluB,mBAAS,IAAGmuB,GAAAjuB,YAAAguB,GAAA,GAA/CU,GAAaT,GAAA,GAAEU,GAAgBV,GAAA,GAEtCG,GAAgDtuB,oBAAS,GAAMuuB,GAAAruB,YAAAouB,GAAA,GAAxDU,GAAgBT,GAAA,GAAEU,GAAmBV,GAAA,GAC5CG,GAAgD1uB,oBAAS,GAAM2uB,GAAAzuB,YAAAwuB,GAAA,GAAxDU,GAAgBT,GAAA,GAAEU,GAAmBV,GAAA,GAC5CG,GAAgD9uB,oBAAS,GAAM+uB,GAAA7uB,YAAA4uB,GAAA,GAAxDU,GAAgBT,GAAA,GAAEU,GAAmBV,GAAA,GAC5CG,GAAgDlvB,oBAAS,GAAMmvB,GAAAjvB,YAAAgvB,GAAA,GAAxDU,GAAgBT,GAAA,GAAEU,GAAmBV,GAAA,GAE5CG,GAAwBtvB,mBAAS4rB,GAAY2D,GAAArvB,YAAAovB,GAAA,GAAtCU,GAAIT,GAAA,GAAEU,GAAOV,GAAA,GACpBG,GAA4C1vB,mBAAS,OAAM2vB,GAAAzvB,YAAAwvB,GAAA,GAApDU,GAAcT,GAAA,GAAEU,GAAiBV,GAAA,GAExCG,GAAsC9vB,mBAAS,IAAG+vB,GAAA7vB,YAAA4vB,GAAA,GAA3Ca,GAAWZ,GAAA,GAAEa,GAAcb,GAAA,GAClCG,GAAoClwB,mBAAS,IAAGmwB,GAAAjwB,YAAAgwB,GAAA,GAAzCa,GAAUZ,GAAA,GAAEa,GAAab,GAAA,GAChCG,GAA8CtwB,mBAAS,IAAGuwB,GAAArwB,YAAAowB,GAAA,GAAnDa,GAAeZ,GAAA,GAAEa,GAAkBb,GAAA,GAC1CE,GAAsDzwB,mBAAS,IAAG0wB,GAAAxwB,YAAAuwB,GAAA,GAA3Dc,GAAmBb,GAAA,GAAEc,GAAsBd,GAAA,GAClDG,GAAsC7wB,mBAAS,GAAE8wB,GAAA5wB,YAAA2wB,GAAA,GAA1Cc,GAAWb,GAAA,GAAEc,GAAcd,GAAA,GAElCG,GAA0CjxB,mBAAS,IAAGkxB,GAAAhxB,YAAA+wB,GAAA,GAA/Cc,GAAab,GAAA,GAAEc,GAAgBd,GAAA,GACtCG,GAAwCrxB,mBAAS,IAAGsxB,GAAApxB,YAAAmxB,GAAA,GAA7Cc,GAAYb,GAAA,GAAEc,GAAed,GAAA,GAGpCG,GAAgDzxB,mBAAS,MAAK0xB,GAAAxxB,YAAAuxB,GAAA,GAAvDc,GAAgBb,GAAA,GAAEc,GAAmBd,GAAA,GAC5CG,GAAgD7xB,mBAAS,MAAK8xB,GAAA5xB,YAAA2xB,GAAA,GAAvDc,GAAgBb,GAAA,GAAEc,GAAmBd,GAAA,GAC5CG,GAAoDjyB,mBAAS,MAAKkyB,GAAAhyB,YAAA+xB,GAAA,GAA3Dc,GAAkBb,GAAA,GAAEc,GAAqBd,GAAA,GAChDG,GAA8CryB,mBAAS,MAAKsyB,GAAApyB,YAAAmyB,GAAA,GAArDc,GAAeb,GAAA,GAAEc,GAAkBd,GAAA,GAC1CG,GAA8CzyB,mBAAS,MAAK0yB,GAAAxyB,YAAAuyB,GAAA,GAArDc,GAAeb,GAAA,GAAEc,GAAkBd,GAAA,GAC1CG,GAA8D7yB,mBAAS,OAAM8yB,GAAA5yB,YAAA2yB,GAAA,GAAtEc,GAAuBb,GAAA,GAAEc,GAA0Bd,GAAA,GAEtDe,GAAehI,EACfA,EAAgBxmB,KAAI,SAACyuB,GAAO,OAC1BC,OAAOC,OAAOF,EAAS,CAAEtG,YAAa,YAExC,GACJyF,GAAgCjzB,mBAAS6zB,IAAaX,GAAAhzB,YAAA+yB,GAAA,GAA/CkB,GAAQjB,GAAA,GAAEkB,GAAWlB,GAAA,GAE5BG,GAAgErzB,mBAAS,IAAGszB,GAAApzB,YAAAmzB,GAAA,GAArEkB,GAAwBjB,GAAA,GAAEkB,GAA2BlB,GAAA,GAC5DG,GAA8DzzB,mBAAS,IAAG0zB,GAAAxzB,YAAAuzB,GAAA,GAAnEkB,GAAuBjB,GAAA,GAAEkB,GAA0BlB,GAAA,GAmG1DzyB,qBAAU,WACR,IAlGwBK,EAkGlBJ,EAASC,IAAMC,YAAYF,SAOjC,OAzGwBI,EAmGPJ,EAAOnG,MAlGxBoG,IACGc,IAAI,uBAAwB,CAAEX,gBAC9BY,MAAK,SAACC,GAEL6vB,GAAiB7vB,EAASG,SAE3BC,OAAM,SAAUC,GAEfJ,QAAQC,IAAIG,MAEbN,MAAK,eAKc,SAACZ,GACvBH,IACGc,IAAI,sBAAuB,CAAEX,gBAC7BY,MAAK,SAACC,GAELiwB,GAAgBjwB,EAASG,SAE1BC,OAAM,SAAUC,GAEfJ,QAAQC,IAAIG,MAEbN,MAAK,eAyER2yB,CAAgB3zB,EAAOnG,OApEI,SAACuG,GAC5BH,IACGc,IAAI,2BAA4B,CAAEX,gBAClCY,MAAK,SAACC,OAINI,OAAM,SAAUC,GAEfJ,QAAQC,IAAIG,MAEbN,MAAK,eA0DR4yB,CAAqB5zB,EAAOnG,OArDP,SAACuG,GACtBH,IACGc,IAAI,cAAe,CAAEX,gBACrBY,MAAK,SAACC,GAELyuB,GAAezuB,EAASG,SAEzBC,OAAM,SAAUC,GAEfJ,QAAQC,IAAIG,MAEbN,MAAK,eA2CR6yB,CAAe7zB,EAAOnG,OAtCF,SAACuG,GACrBH,IACGc,IAAI,aAAc,CAAEX,gBACpBY,MAAK,SAACC,GAEL6uB,GAAc7uB,EAASG,SAExBC,OAAM,SAAUC,GAEfJ,QAAQC,IAAIG,MAEbN,MAAK,eA4BR8yB,CAAc9zB,EAAOnG,OAvBI,SAACuG,GAC1BH,IACGc,IAAI,kBAAmB,CAAEX,gBACzBY,MAAK,SAACC,GAELivB,GAAmBjvB,EAASG,MAC5BkvB,GAAuBrvB,EAASG,SAEjCC,OAAM,SAAUC,GAEfJ,QAAQC,IAAIG,MAEbN,MAAK,eAYR+yB,CAAmB/zB,EAAOnG,OACnB,kBAAMmG,EAAOK,OAAO,oCAC1B,IAqHH,OAFAa,QAAQC,IAAI,WAAY2tB,IAGtB9sB,eAACuJ,KAAG,CACF9J,GAAI,CACFqH,OAAQ,OACRgH,SAAU,OACV3R,QAAS,uBACT2D,SAAA,CAEFP,cAACyyB,KAAO,CAACC,WAAYxI,GAAahqB,GAAI,CAAE4f,SAAU,QAASvf,SA1RjD,CACZ,oBACA,kBACA,yBAwRWqC,KAAI,SAACsJ,EAAO5I,GACjB,IA7HcqvB,EA6HRC,EAAa,GAWnB,OAxIcD,EA8HGrvB,GA7HI,OAAvB2mB,GAAWjU,SAAoBkU,GAAc,GAAc,IAATyI,GAC5C1I,GAAWjU,QAAQ6c,gBAEX,IAAhBtF,GAAKnqB,QACe,IAApBsuB,GAAStuB,QACT8mB,GAAc,GACL,IAATyI,KAwHMC,EAAWE,SACT9yB,cAACiI,IAAU,CAACoB,QAAQ,UAAUvN,MAAM,QAAOyE,SACxC,CAAC,gBAAiB,4BAA4B+C,KAInDsvB,EAAW7yB,OAAQ,GAInBC,cAAC+yB,KAAI,CAAa7yB,GAAI,CAAEgmB,GAAI,QAAS3lB,SACnCP,cAACgzB,KAAS7vB,wBAAA,GAAKyvB,GAAU,IAAAryB,SAAG2L,MADnBA,QAMjBzL,eAACuJ,KAAG,CACF9J,GAAI,CAAE+J,GAAI,OAAQC,GAAI,QACtB4d,IAAKmC,GACLvB,OAAwB,IAAhBwB,GACRxf,UAAU,OACV/G,SAAS,KACTsI,WAAS,EACTtB,SAAU,SAAC0G,GACTA,EAAExG,iBACFsf,GAAe,IACf5pB,SAAA,CAEFE,eAAC6V,KAAK,CACJpW,GAAI,CACFgT,EAAG,OACH/I,QAAS,OACT2V,SAAU,OACVxS,eAAgB,iBAChB/M,SAAA,CAEFP,cAACiI,IAAU,CAACoB,QAAQ,KAAKnJ,GAAI,CAAEwD,UAAW,OAAQiL,SAAU,QAASpO,SAAC,gBAGrE,CACC,CAAErI,KAAM,OAAQgU,MAAO,OAAQ/C,KAAM,OAAQiE,aAAc8b,EAAchxB,KAAM4C,MAAO,OAAQkR,UAAU,GACxG,CAAE9T,KAAM,QAASgU,MAAO,QAAS/C,KAAM,OAAQlQ,MAAOiwB,EAAchnB,MAAO2Q,SAAUqW,EAAc9F,SAAUtoB,MAAO,OACpH,CAAE5C,KAAM,QAASgU,MAAO,QAAS/C,KAAM,QAASiE,aAAc8b,EAAcrtB,MAAOf,MAAO,OAC1F,CAAE5C,KAAM,WAAYgU,MAAO,WAAY/C,KAAM,OAAQiE,aAAc8b,EAAcjnB,SAAUnH,MAAO,OAClG,CAAE5C,KAAM,SAAUgU,MAAO,SAAU/C,KAAM,OAAQiE,aAAc8b,EAAclnB,OAAQlH,MAAO,OAC5F,CAAE5C,KAAM,QAASgU,MAAO,QAAS/C,KAAM,OAAQiE,aAAc8b,EAAcnnB,MAAOjH,MAAO,OACzF,CAAE5C,KAAM,QAASgU,MAAO,QAAS/C,KAAM,OAAQiE,aAAc8b,EAAcpnB,MAAOhH,MAAO,OACzF,CAAE5C,KAAM,OAAQgU,MAAO,OAAQ/C,KAAM,OAAQiE,aAAc8b,EAAcrnB,KAAM/G,MAAO,QACtF8H,KAAI,SAAArD,EAAoC+D,GAAzB/D,EAAR0zB,SAAsC,IAA5Bn4B,EAAKyE,EAALzE,MAAUmY,EAAShQ,YAAA1D,EAAAkE,IAAA,MAChB,UAApBwP,EAAU/G,MACRlM,cAAConB,KAAcjkB,YAAA,CAEbkG,QAAQ,WACRge,cAAe,CAAC,MAChBC,eAAgB,KAChBpnB,GAAI,CAAEwD,UAAW5I,EAAO6T,SAAU7T,GAClCmB,OAAO,QACPgR,KAAK,SACDgG,GAPC3P,GAUPtD,cAAC+L,KAAS5I,YAAA,CAERjD,GAAI,CAAEwD,UAAW5I,EAAO6T,SAAU7T,IAC9BmY,GAFC3P,MAMXtD,cAAC+L,KAAS,CACR7L,GAAI,CAAEwD,UAAW,CAAC,OAAQ,OAAQiL,SAAU,CAAC,OAAQ,QACrDzW,KAAK,WACLgU,MAAM,WACN/C,KAAK,SACL2J,WAAY,CAAEogB,IAAK,GACnB9lB,aAAc8b,EAAc1mB,UAAY,IAE1C/B,eAAC0yB,KAAU,CACThd,KAAG,EACHje,KAAK,iBACLkV,aAAa,MACblN,GAAI,CACFwD,UAAW,CAAC,OAAQ,OACpBiL,SAAU,CAAC,OAAQ,OACnBrB,eAAgB,YAChB/M,SAAA,CAEFP,cAACqM,KAAgB,CAACpT,MAAM,MAAMqT,QAAStM,cAACozB,KAAK,IAAKlnB,MAAM,SACxDlM,cAACqM,KAAgB,CAACpT,MAAM,OAAOqT,QAAStM,cAACozB,KAAK,IAAKlnB,MAAM,aAE3DlM,cAAC+L,KAAS,CACR7L,GAAI,CAAEwD,UAAW,CAAC,OAAQ,QAASiL,SAAU,CAAC,OAAQ,SACtDzW,KAAK,SAASgU,MAAM,kBAAkB/C,KAAK,OAC3CiE,aAAc8b,EAAc9kB,QAAU,QAG1CpE,cAACwM,KAAM,CAACrD,KAAK,SAASjJ,GAAI,CAAE8G,UAAW,OAAQiT,MAAO,SAAU1Z,SAAC,YAIlD,IAAhB2pB,IACCzpB,eAAAsJ,WAAA,CAAAxJ,SAAA,CACGgtB,GAAKnqB,OAAS,GACbpD,cAACsW,KAAK,CAAA/V,SACJP,cAACkiB,GAAW,CAAChiB,GAAI,CAAEmzB,GAAI,QAAS9yB,SAC7BgtB,GAAK3qB,KAAI,SAACiB,EAAMP,GAAK,OACpB7C,eAAC2hB,GAAe,CAEdvS,gBACEpP,eAACC,WAAQ,CAAAH,SAAA,CACPP,cAAC4N,KAAU,CACTE,QAAS,SAAClD,GACRA,EAAMC,iBAlKN,SAAChH,GACzB+pB,GAAkB,QAClB5C,GAAennB,EAAKknB,aACpBS,GAAiB3nB,EAAK0nB,eACtBa,GAAiBvoB,EAAKO,QACtBwnB,GAAgB/nB,EAAK8nB,cACrBK,GAAiBnoB,EAAKkoB,eACtB,IAAMuH,EAAkBx5B,KAAKC,MAAM8J,EAAK0vB,uBAEpCD,EAAgBld,SAAS,sBAC3BoW,IAAoB,GAClB8G,EAAgBld,SAAS,uCAC3BwW,IAAoB,GAClB0G,EAAgBld,SAAS,0BAC3B4W,IAAoB,GAClBsG,EAAgBld,SAAS,qBAAqBgX,IAAoB,GAE7C,UAArBvpB,EAAKknB,aAAgD,cAArBlnB,EAAKknB,YACvCV,IAAW,GACmB,SAArBxmB,EAAKknB,cACdH,GAAc/mB,EAAKgB,YACnB4kB,EAAY5lB,EAAKqB,UACjB4kB,EAAmBjmB,EAAKuB,iBACxBikB,EAAgBxlB,EAAKwB,cACrBikB,EAAmBzlB,EAAKyB,iBACxBikB,EAAe1lB,EAAK0B,aACpBmkB,EAAa7lB,EAAKkB,WAClBykB,EAAe3lB,EAAKiB,aACpB+kB,EAAqBhmB,EAAKsB,mBAC1BykB,EAAgB/lB,EAAKoB,cACrB0kB,EAAY9lB,EAAKmB,UACjBglB,GAAanmB,EAAKskB,cAElBsC,IAAe,IAkIO+I,CAAkB3vB,IAClBtD,SAEFP,cAACkU,KAAQ,MAEXlU,cAAC4N,KAAU,CACTE,QAAS,SAAClD,GACRA,EAAMC,iBACN2iB,GACED,GAAKrX,QACH,SAACud,EAASC,GAAY,OACpBA,IAAiBpwB,OAGvB/C,SAEFP,cAACmU,KAAU,SAGhB5T,SAAA,CAEqB,UAArBsD,EAAKknB,aACJ/qB,cAACsiB,GAAmB,CAClBpS,QAAO,UAAA/Q,OAAY0E,EAAK0nB,cAAcvnB,MAAK,MAAA7E,OAAK0E,EAAK0nB,cAActnB,MAAK,MAAA9E,OAAK0E,EAAKO,QAClFyjB,UAAS,GAAA1oB,OACP0E,EAAK0nB,cAAcrnB,aAAe,aAAe,IAAE/E,OAClD0E,EAAK0nB,cAAcpnB,cAAgB,UAAY,MAGhC,SAArBN,EAAKknB,aACJ/qB,cAACsiB,GAAmB,CAClBpS,QAAO,SAAA/Q,OAAW0E,EAAK0nB,cAAc5J,aAAY,MAAAxiB,OAAK0E,EAAK0nB,cAActnB,MAAK,MAAA9E,OAAK0E,EAAK0nB,cAAczvB,MAAK,MAAAqD,OAAK0E,EAAK0nB,cAAc7mB,QAAO,MAAAvF,OAAK0E,EAAK0nB,cAAc5mB,SAAQ,MAAAxF,OAAK0E,EAAK0nB,cAAc3mB,UAClMijB,UACEhkB,EAAKgB,WAAU,GAAA1F,OACR0E,EAAKiB,YAAW,MAAA3F,OAAK0E,EAAKqB,SAAQ,MAAA/F,OAAK0E,EAAKkB,UAAS,KAAA5F,OAAI0E,EAAKmB,SAAQ,KAAA7F,OAAI0E,EAAKoB,aAAY,MAAA9F,OAAK0E,EAAKsB,kBAAiB,MAAAhG,OAAK0E,EAAKuB,gBAAe,MAAAjG,OAAK0E,EAAKwB,aAAY,KAAAlG,OAAI0E,EAAK0B,aACjL,oBAIY,cAArB1B,EAAKknB,aACJ/qB,cAACsiB,GAAmB,CAClBpS,QAAO,cAAA/Q,OAAgB0E,EAAK0nB,cAAc9lB,UAC1CoiB,UAAS,GAAA1oB,OAAK0E,EAAKO,UAGvBpE,cAACwiB,GAAkB,CACjBle,UAAS,GAAAnF,OAAK0E,EAAK8nB,aAAY,QAC/BlJ,OAAM,WAAAtjB,OAAa0E,EAAKkoB,eACxB1nB,eAAc,GAAAlF,OAAK0E,EAAK0vB,2BAtDrBjwB,UA6Df7C,eAAC6V,KAAK,CAACpW,GAAI,CAAEgmB,GAAI,QAAS3lB,SAAA,CACxBP,cAACgK,KAAG,CAAC9J,GAAI,CAAE1D,aAAc,EAAGm3B,YAAa,WAAYpzB,SACnDE,eAACmzB,KAAI,CACH36B,MAAOi2B,GACPrc,SAAU,SAACjI,EAAO3R,GAChB2R,EAAMC,iBACNskB,GAAel2B,IAEjB,aAAW,qBAAoBsH,SAAA,CAE/BP,cAAC6zB,KAAG,CAAC3nB,MAAM,WACXlM,cAAC6zB,KAAG,CAAC3nB,MAAM,UACXlM,cAAC6zB,KAAG,CAAC3nB,MAAM,gBACXlM,cAAC6zB,KAAG,CAAC3nB,MAAM,eAGfzL,eAAC+nB,GAAQ,CAACvvB,MAAOi2B,GAAa5rB,MAAO,EAAE/C,SAAA,CACrCP,cAACsW,KAAK,CACJpW,GAAI,CACF8G,UAAW,OACXpK,QAAS,WACTuN,QAAS,OACT2V,SAAU,OACVxS,eAAgB,gBAChB/M,SAED,CACC,CACE2L,MAAO,QACPjT,MAAO62B,GACPjd,SAAU,SAACjI,EAAO3R,GAChB2R,EAAMC,iBACNklB,GAAoB92B,GACpBk3B,GAAoB,OAEtBvV,QAAS0U,GACN1sB,KAAI,SAACiB,GAAI,OAAKA,EAAKG,SACnBkS,QAAO,SAAC6J,EAAGzc,EAAO0c,GAAK,OAAKA,EAAMjJ,QAAQgJ,KAAOzc,MAEtD,CACE4I,MAAO,QACPjT,MAAOi3B,GACPrd,SAAU,SAACjI,EAAO3R,GAChB2R,EAAMC,iBACNslB,GAAoBl3B,IAEtB2hB,QAAS0U,GACNpZ,QACC,SAACrS,GAAI,OACFisB,IAAoBjsB,EAAKG,QAAU8rB,MAEvCltB,KAAI,SAACiB,GAAI,OAAKA,EAAKI,SACnBiS,QAAO,SAAC6J,EAAGzc,EAAO0c,GAAK,OAAKA,EAAMjJ,QAAQgJ,KAAOzc,OAEtDV,KAAI,SAAAC,EAAsBS,GAAK,IAAxB4I,EAAKrJ,EAALqJ,MAAU7O,EAAK4F,YAAAJ,EAAA4D,IAAA,OACtBzG,cAACigB,KAAY9c,YAAA,CAEXjD,GAAI,CAAEwD,UAAW,QAASC,SAAU,SACpCuc,YAAa,SAACC,GAAM,OAClBngB,cAAC+L,KAAS5I,wBAAA,GAAKgd,GAAM,IAAEjU,MAAOA,OAE5B7O,GALCiG,QASXtD,cAAC2a,GAAoB,CACnBC,QAASgO,GACT/V,SArSmB,SAACuN,GAChC2R,GAA4B3R,IAqShBpL,SAAU8c,KAEZ9xB,cAAC2U,GAAQ,CACPtC,WAAW,EACXjX,MAAM,eACNwZ,KAAMsZ,GACHtrB,KACC,SAAAS,EASEC,GAAK,IAPH4a,EAAY7a,EAAZ6a,aACAha,EAAYb,EAAZa,aACAC,EAAad,EAAbc,cACAuZ,EAAYra,EAAZqa,aACAC,EAAWta,EAAXsa,YACG1K,EAAShQ,YAAAI,EAAAsD,IAAA,OAAAxD,YAAA,CAIdkd,UACErgB,cAAA,KACEwJ,KAAK,IACLsE,QAAS,SAACuD,GACRA,EAAExG,iBACFM,KAAKC,KAAK,CACRE,KAAK,kCAADnM,OAAoC+e,EAAY,QACpDoC,iBAAiB,EACjBC,mBAAmB,EACnB9U,mBAAmB,KAErBlL,SAEFP,cAAA,OACEqK,IAAI,GACJvP,MAAM,OACNmC,IAAKihB,EACLhd,MAAO,CAAE8F,UAAW,WAI1B9C,aAAcA,EAAe,MAAQ,KACrCC,cAAeA,EAAgB,MAAQ,KACvC2vB,IACE9zB,cAAC4N,KAAU,CACTE,QAAS,SAAClD,GAER,GADAA,EAAMC,iBAEJ0iB,GAAKhpB,MACH,SAACV,GAAI,MACkB,UAArBA,EAAKknB,aACLlnB,EAAK0nB,cAAcjtB,KACjB4vB,GAAY5qB,GAAOhF,MAGzB6M,KAAKC,KAAK,CACRC,KAAM,UACNjQ,MAAO,UACPe,KAAM,iCACNsP,mBAAmB,QAZvB,CAgBAuf,GAAe,SACfQ,GAAiB0C,GAAY5qB,IAC7B,IAAI8Z,EACgC,KAAlC8Q,GAAY5qB,GAAO8Z,WACf,MACA8Q,GAAY5qB,GAAO8Z,WACrBE,EAC+B,KAAjC4Q,GAAY5qB,GAAOga,UACf,MACA4Q,GAAY5qB,GAAOga,UACrBD,EAC+B,KAAjC6Q,GAAY5qB,GAAO+Z,UACf,MACA6Q,GAAY5qB,GAAO+Z,UAQzB+O,GANE,cACAhP,EACA,eACAE,EACA,eACAD,GAEFuO,GAAgBsC,GAAY5qB,GAAOgB,WACnC0nB,GAAiB,GACjB3B,IAAW,KACX9pB,SAEFP,cAACsf,KAAO,MAGZ5B,aAAe,WACb,GAAqB,OAAjBA,EAAuB,MAAO,KAClC,IAAM+H,EAAc,IAAIvmB,KAAKwe,GAK7B,OAJA+H,EAAYC,WACVD,EAAYE,aACVF,EAAYG,qBAETH,EAAYI,cAAcC,MAAM,KAAK,GAP/B,GASfnI,YAAc,WACZ,GAAoB,OAAhBA,EAAsB,MAAO,KACjC,IAAM8H,EAAc,IAAIvmB,KAAKye,GAK7B,OAJA8H,EAAYC,WACVD,EAAYE,aACVF,EAAYG,qBAETH,EAAYI,cAAcC,MAAM,KAAK,GAPhC,IASX7S,MAGNiD,QACC,SAACrS,GAAI,QACDisB,IAAoBjsB,EAAKG,QAAU8rB,OACnCI,IAAoBrsB,EAAKI,QAAUisB,OAE3Che,QAASyW,GACN/lB,KAAI,SAAC4d,EAAQC,GACZ,OAAIA,EAAI,GAEJqR,GAAyBvtB,MACvB,SAACmc,GAAU,OAAKA,IAAeF,EAAOtU,SAGjCsU,KAIZtK,QAAO,SAACsK,GAAM,YAAgBG,IAAXH,UAG1B/f,eAAC+nB,GAAQ,CAACvvB,MAAOi2B,GAAa5rB,MAAO,EAAE/C,SAAA,CACrCP,cAACsW,KAAK,CACJpW,GAAI,CACF8G,UAAW,OACXpK,QAAS,WACTuN,QAAS,OACT2V,SAAU,OACVxS,eAAgB,gBAChB/M,SAED,CACC,CACE2L,MAAO,WACPjT,MAAOq3B,GACPzd,SAAU,SAACjI,EAAO3R,GAChB2R,EAAMC,iBACN0lB,GAAsBt3B,GACtB03B,GAAmB,MACnBI,GAAmB,OAErBnW,QAAS8U,GACN9sB,KAAI,SAACiB,GAAI,OAAKA,EAAK8d,gBACnBzL,QAAO,SAAC6J,EAAGzc,EAAO0c,GAAK,OAAKA,EAAMjJ,QAAQgJ,KAAOzc,MAEtD,CACE4I,MAAO,QACPjT,MAAOy3B,GACP7d,SAAU,SAACjI,EAAO3R,GAChB2R,EAAMC,iBACN8lB,GAAmB13B,GACnB83B,GAAmB,OAErBnW,QAAS8U,GACNxZ,QACC,SAACrS,GAAI,OACFysB,IACDzsB,EAAK8d,eAAiB2O,MAEzB1tB,KAAI,SAACiB,GAAI,OAAKA,EAAKI,SACnBiS,QAAO,SAAC6J,EAAGzc,EAAO0c,GAAK,OAAKA,EAAMjJ,QAAQgJ,KAAOzc,MAEtD,CACE4I,MAAO,QACPjT,MAAO63B,GACPje,SAAU,SAACjI,EAAO3R,GAChB2R,EAAMC,iBACNkmB,GAAmB93B,IAErB2hB,QAAS8U,GACNxZ,QACC,SAACrS,GAAI,OACF6sB,IAAmB7sB,EAAKI,QAAUysB,MAEtC9tB,KAAI,SAACiB,GAAI,OAAKA,EAAK/H,SACnBoa,QAAO,SAAC6J,EAAGzc,EAAO0c,GAAK,OAAKA,EAAMjJ,QAAQgJ,KAAOzc,OAEtDV,KAAI,SAAA4D,EAAsBlD,GAAK,IAAxB4I,EAAK1F,EAAL0F,MAAU7O,EAAK4F,YAAAuD,EAAAiB,IAAA,OACtBzH,cAACigB,KAAY9c,YAAA,CAEXjD,GAAI,CAAEwD,UAAW,QAASC,SAAU,SACpCuc,YAAa,SAACC,GAAM,OAClBngB,cAAC+L,KAAS5I,wBAAA,GAAKgd,GAAM,IAAEjU,MAAOA,OAE5B7O,GALCiG,QASXtD,cAAC2a,GAAoB,CACnBC,QAASkO,GACTjW,SA3ekB,SAACuN,GAC/B+R,GAA2B/R,IA2efpL,SAAUkd,KAEZlyB,cAAC2U,GAAQ,CACPtC,WAAW,EACXjX,MAAM,kBACNwZ,KAAM0Z,GACH1rB,KACC,SAAA8D,EAEEpD,GAAK,IADH4a,EAAYxX,EAAZwX,aAAcR,EAAYhX,EAAZgX,aAAcC,EAAWjX,EAAXiX,YAAgB1K,EAAShQ,YAAAyD,EAAAiB,IAAA,OAAAxE,YAAA,CAGvDkd,UACErgB,cAAA,KACEwJ,KAAK,IACLsE,QAAS,SAACuD,GACRA,EAAExG,iBACFM,KAAKC,KAAK,CACRE,KAAK,kCAADnM,OAAoC+e,EAAY,QACpDoC,iBAAiB,EACjBC,mBAAmB,EACnB9U,mBAAmB,KAErBlL,SAEFP,cAAA,OACEqK,IAAI,GACJvP,MAAM,OACNmC,IAAKihB,EACLhd,MAAO,CAAE8F,UAAW,WAI1B8sB,IACE9zB,cAAC4N,KAAU,CACTE,QAAS,SAAClD,GACRogB,GAAe,QACfQ,GAAiB8C,GAAWhrB,IAC5BsoB,GAAgB0C,GAAWhrB,GAAOgB,WAClC0nB,GAAiB,GACjBpB,IAAc,GACdH,IAAe,IACflqB,SAEFP,cAACsf,KAAO,MAGZ5B,aAAe,WACb,GAAqB,OAAjBA,EAAuB,MAAO,KAClC,IAAM+H,EAAc,IAAIvmB,KAAKwe,GAK7B,OAJA+H,EAAYC,WACVD,EAAYE,aACVF,EAAYG,qBAETH,EAAYI,cAAcC,MAAM,KAAK,GAP/B,GASfnI,YAAc,WACZ,GAAoB,OAAhBA,EAAsB,MAAO,KACjC,IAAM8H,EAAc,IAAIvmB,KAAKye,GAK7B,OAJA8H,EAAYC,WACVD,EAAYE,aACVF,EAAYG,qBAETH,EAAYI,cAAcC,MAAM,KAAK,GAPhC,IASX7S,MAGNiD,QACC,SAACrS,GAAI,QACDysB,IACAzsB,EAAK8d,eAAiB2O,OACtBI,IAAmB7sB,EAAKI,QAAUysB,OAClCI,IAAmBjtB,EAAK/H,QAAUg1B,OAE1C5e,QAAS2W,GACNjmB,KAAI,SAAC4d,EAAQC,GACZ,OAAIA,EAAI,GAEJyR,GAAwB3tB,MACtB,SAACmc,GAAU,OAAKA,IAAeF,EAAOtU,SAGjCsU,KAIZtK,QAAO,SAACsK,GAAM,YAAgBG,IAAXH,UAG1B/f,eAAC+nB,GAAQ,CAACvvB,MAAOi2B,GAAa5rB,MAAO,EAAE/C,SAAA,CACrCP,cAACsW,KAAK,CACJpW,GAAI,CACF8G,UAAW,OACXpK,QAAS,WACTuN,QAAS,OACT2V,SAAU,OACVxS,eAAgB,gBAChB/M,SAEFE,eAACsM,KAAW,CACVE,KAAK,QACL/M,GAAI,CAAEwD,UAAW,QAASC,SAAU,SAAUpD,SAAA,CAE9CP,cAACgN,KAAU,CAAC1O,GAAG,kBAAiBiC,SAAC,aACjCE,eAACyM,KAAM,CACLC,QAAQ,kBACRjB,MAAM,WACNjT,MAAOi4B,GACPre,SA/oBoB,SAACxB,GACrC,IAAI4Q,EAAoB5Q,EAAEoF,OAAOxd,MACjCk4B,GAA2BlP,GAEzB0M,GADwB,QAAtB1M,EACiB6M,GAGjBA,GAAoB5Y,QAClB,SAAC1R,GAAK,OAAKA,EAAMiB,WAAawc,OAuoBoB1hB,SAAA,CAExCP,cAACqN,KAAQ,CAACpU,MAAM,MAAKsH,SAAC,QACtBP,cAACqN,KAAQ,CAACpU,MAAM,mBAAkBsH,SAAC,qBAGnCP,cAACqN,KAAQ,CAACpU,MAAM,oBAAmBsH,SAAC,sBAGpCP,cAACqN,KAAQ,CAACpU,MAAM,eAAcsH,SAAC,iBAC/BP,cAACqN,KAAQ,CAACpU,MAAM,eAAcsH,SAAC,iBAC/BP,cAACqN,KAAQ,CAACpU,MAAM,UAASsH,SAAC,YAC1BP,cAACqN,KAAQ,CAACpU,MAAM,SAAQsH,SAAC,mBAI/BP,cAAC2U,GAAQ,CACPtC,WAAW,EACXjX,MAAM,mBACNwZ,KAAM8Z,GAAgB9rB,KACpB,SAAAsE,EAEE5D,GAAK,IADH4a,EAAYhX,EAAZgX,aAAcR,EAAYxW,EAAZwW,aAAcC,EAAWzW,EAAXyW,YAAgB1K,EAAShQ,YAAAiE,EAAAW,IAAA,OAAA1E,YAAA,CAGvDkd,UACErgB,cAAA,KACEwJ,KAAK,IACLsE,QAAS,SAACuD,GACRA,EAAExG,iBACFM,KAAKC,KAAK,CACRE,KAAK,kCAADnM,OAAoC+e,EAAY,QACpDoC,iBAAiB,EACjBC,mBAAmB,EACnB9U,mBAAmB,KAErBlL,SAEFP,cAAA,OACEqK,IAAI,GACJvP,MAAM,OACNmC,IAAKihB,EACLhd,MAAO,CAAE8F,UAAW,WAI1B8sB,IACE9zB,cAAC4N,KAAU,CACTE,QAAS,SAAClD,GACRA,EAAMC,iBACNmgB,GAAe,aACfQ,GAAiBkD,GAAgBprB,IACjC8oB,GAAiBsC,GAAgBprB,GAAOc,QACxCwnB,GAAgB8C,GAAgBprB,GAAOgB,WACvC0nB,GAAiB,GAEfuB,GAAKhpB,MACH,SAACV,GAAI,MACkB,cAArBA,EAAKknB,aACLlnB,EAAK0nB,cAAcjtB,KACjBowB,GAAgBprB,GAAOhF,MAG7B6M,KAAKC,KAAK,CACRC,KAAM,UACNjQ,MAAO,UACPe,KAAM,iCACNsP,mBAAmB,IAIvB4e,IAAW,IACX9pB,SAEFP,cAACsf,KAAO,MAGZ5B,aAAe,WACb,GAAqB,OAAjBA,EAAuB,MAAO,KAClC,IAAM+H,EAAc,IAAIvmB,KAAKwe,GAK7B,OAJA+H,EAAYC,WACVD,EAAYE,aACVF,EAAYG,qBAETH,EAAYI,cAAcC,MAAM,KAAK,GAP/B,GASfnI,YAAc,WACZ,GAAoB,OAAhBA,EAAsB,MAAO,KACjC,IAAM8H,EAAc,IAAIvmB,KAAKye,GAK7B,OAJA8H,EAAYC,WACVD,EAAYE,aACVF,EAAYG,qBAETH,EAAYI,cAAcC,MAAM,KAAK,GAPhC,IASX7S,MAGPf,QAAS6W,QAGb/oB,cAACwoB,GAAQ,CAACvvB,MAAOi2B,GAAa5rB,MAAO,EAAE/C,SACrCE,eAACuJ,KAAG,CAAC9J,GAAI,CAAEqK,EAAG,GAAIhK,SAAA,CAChBP,cAACwM,KAAM,CACLnD,QAAQ,YACRnJ,GAAI,CAAEuM,GAAI,GACVqB,QA1uBK,WACnB,IAAMimB,EAAa,CACjBz1B,GAAI01B,eACJtuB,YAAa,GACbC,MAAO,EACPolB,YAAa,QAEf4G,GAAY,GAADxyB,OAAAyE,YAAK8tB,IAAQ,CAAEqC,MAmuBUxzB,SACvB,kBAGDP,cAAC2L,KAAI,CAACC,WAAS,EAACC,QAAS,EAAEtL,SACxBmxB,GAAS9uB,KAAI,SAACyuB,GAAO,OACpBrxB,cAAC2L,KAAI,CAAC9H,MAAI,EAACiI,GAAI,EAAEvL,SACfE,eAACwzB,KAAI,CAAC/zB,GAAI,CAAEmzB,GAAI,EAAGa,GAAI,GAAI3zB,SAAA,CACzBP,cAACgK,KAAG,CACF9J,GAAI,CAAEiK,QAAS,OAAQmD,eAAgB,YAAa/M,SAEpDP,cAAC4N,KAAU,CACT,aAAW,WACXX,KAAK,QACLa,QAAS,kBA9uBX,SAACqmB,GACvB,IAAMC,EAAc1C,GAASxb,QAAO,SAACmb,GAAO,OAAKA,EAAQ/yB,KAAO61B,KAChExC,GAAYyC,GA4uB2BC,CAAgBhD,EAAQ/yB,KAAIiC,SAE3CP,cAACs0B,KAAS,CAACv5B,SAAS,cAGxBiF,cAAC+L,KAAS,CACRG,MAAM,cACNuR,WAAS,EACT7I,KAAM,EACN1U,GAAI,CAAEwD,UAAW,OAAQiL,SAAU,QACnC1V,MAAOo4B,EAAQ3rB,YACfmN,SAAU,SAACxB,GAAC,OApvBT,SAACA,EAAG8iB,GAC7B,IAAMC,EAAc1C,GAAS9uB,KAAI,SAACyuB,GAChC,OAAIA,EAAQ/yB,KAAO61B,EACV7C,OAAOC,OAAO,GAAIF,EAAS,CAAE3rB,YAAa2L,EAAEoF,OAAOxd,QAErDo4B,KAETM,GAAYyC,GA6uB2BG,CAAmBljB,EAAGggB,EAAQ/yB,OAEjD0B,cAAC+L,KAAS,CACR5C,KAAK,SACLjJ,GAAI,CAAEwD,UAAW,OAAQiL,SAAU,QACnCzC,MAAM,QACNjT,MAAOo4B,EAAQ1rB,MACfkN,SAAU,SAACxB,GAAC,OAjvBP,SAACA,EAAG8iB,GAC/B,IAAMC,EAAc1C,GAAS9uB,KAAI,SAACyuB,GAChC,OAAIA,EAAQ/yB,KAAO61B,EACV7C,OAAOC,OAAO,GAAIF,EAAS,CAChC1rB,MAAO6uB,WAAWnjB,EAAEoF,OAAOxd,SAGxBo4B,KAETM,GAAYyC,GAwuB2BK,CAAqBpjB,EAAGggB,EAAQ/yB,WA1BhC+yB,EAAQ/yB,iBAmCzC0B,cAACwM,KAAM,CACLsB,QAAS,SAACuD,GACRA,EAAExG,iBACFsf,GAAe,IACf5pB,SACH,aAGDP,cAACwM,KAAM,CACLtM,GAAI,CAAE+Z,MAAO,SACbnM,QAAS,SAACuD,GACRA,EAAExG,iBACkB,IAAhB0iB,GAAKnqB,QAAoC,IAApBsuB,GAAStuB,OASlC+mB,GAAe,GARbhf,KAAKC,KAAK,CACRC,KAAM,UACNjQ,MAAO,UACPe,KAAM,6CACNsP,mBAAmB,KAKvBlL,SACH,YAKLE,eAACuJ,KAAG,CACF9J,GAAI,CAAE+J,GAAI,OAAQC,GAAI,QACtBwe,OAAwB,IAAhBwB,GACRxf,UAAU,OACV/G,SAAS,KACTsI,WAAS,EACTtB,SAAU,SAAC0G,GACTA,EAAExG,iBACF,IAAM6pB,EAAa,IAAI1pB,SAASif,GAAWjU,SACrC2e,EAAc,IAAI3pB,SAASqG,EAAEtG,eACb,WAAlBke,EACFvqB,IACGmL,KAAK,oBAAqB,CACzB3R,KAAMw8B,EAAWl1B,IAAI,QACrB0C,MAAOwyB,EAAWl1B,IAAI,SACtB3D,MAAO64B,EAAWl1B,IAAI,SACtByC,SAAUyyB,EAAWl1B,IAAI,YACzBwC,OAAQ0yB,EAAWl1B,IAAI,UACvBuC,MAAO2yB,EAAWl1B,IAAI,SACtBsC,MAAO4yB,EAAWl1B,IAAI,SACtBqC,KAAM6yB,EAAWl1B,IAAI,QACrBgD,SACEqD,KAAKC,IAAI4uB,EAAWl1B,IAAI,YAAa,IACC,QAArCk1B,EAAWl1B,IAAI,kBAA8B,EAAI,GACpD4E,OAAQswB,EAAWl1B,IAAI,UACvBymB,SAAUsH,GACP3qB,KAAI,SAAA4E,GAAA,IAAAotB,EAAGrJ,EAAa/jB,EAAb+jB,cAAkBtY,EAAShQ,YAAAuE,EAAAO,IAAA,OAAA5E,YAAA,CACjCgoB,UAAWI,EAAcjtB,GACzBu2B,gBAAuC,QAAxBD,EAAErJ,EAAc9lB,gBAAQ,IAAAmvB,IAAI,IACxC3hB,MAEJ9T,OAAOuyB,IACVjvB,aAAckyB,EAAYn1B,IAAI,gBAC9BkD,KAAMic,QAAQgW,EAAYn1B,IAAI,SAC9BmJ,SAAUgsB,EAAYn1B,IAAI,aAAe,KACzC4G,SAAUP,KAAKC,IACb6uB,EAAYn1B,IAAI,gBAAkB,EAC9Bm1B,EAAYn1B,IAAI,YAChBqG,KAAKqtB,IAAIyB,EAAYn1B,IAAI,YAAa,KAC1C,GAEF2G,aAAcwuB,EAAYn1B,IAAI,gBAC9B+G,UAAWV,KAAKC,IACd6uB,EAAYn1B,IAAI,iBAAmB,EAC/Bm1B,EAAYn1B,IAAI,aAChBqG,KAAKqtB,IAAIyB,EAAYn1B,IAAI,aAAc,KAC3C,GAEF8G,cAAequB,EAAYn1B,IAAI,mBAEhCC,MAAK,WAEJpC,EAAMuP,QAAQC,KAAK,uBAEpB/M,OAAM,SAAUC,GAEfoL,KAAKC,KAAK,CACRC,KAAM,QACNjQ,MAAO,QACPe,KAAM4D,EAAML,SAASG,KAAK0L,QAC1BE,mBAAmB,IAClBhM,MAAK,eACRE,QAAQC,IAAIG,MAEbN,MAAK,eAIRf,IACGya,IAAI,cAADha,OAAe+pB,EAAc5qB,IAAM,CACrCpG,KAAMw8B,EAAWl1B,IAAI,QACrB0C,MAAOwyB,EAAWl1B,IAAI,SACtB3D,MAAO64B,EAAWl1B,IAAI,SACtByC,SAAUyyB,EAAWl1B,IAAI,YACzBwC,OAAQ0yB,EAAWl1B,IAAI,UACvBuC,MAAO2yB,EAAWl1B,IAAI,SACtBsC,MAAO4yB,EAAWl1B,IAAI,SACtBqC,KAAM6yB,EAAWl1B,IAAI,QACrBgD,SACEkyB,EAAWl1B,IAAI,aACuB,QAArCk1B,EAAWl1B,IAAI,kBAA8B,EAAI,GACpD4E,OAAQswB,EAAWl1B,IAAI,UACvBymB,SAAUsH,GACP3qB,KAAI,SAAA8E,GAAA,IAAAotB,EAAGvJ,EAAa7jB,EAAb6jB,cAAkBtY,EAAShQ,YAAAyE,EAAAqtB,IAAA,OAAA5xB,YAAA,CACjCgoB,UAAWI,EAAcjtB,GACzBu2B,gBAAuC,QAAxBC,EAAEvJ,EAAc9lB,gBAAQ,IAAAqvB,IAAI,IACxC7hB,MAEJ9T,OAAOuyB,IACVjvB,aAAckyB,EAAYn1B,IAAI,gBAC9BkD,KAAMic,QAAQgW,EAAYn1B,IAAI,SAC9BmJ,SAAUgsB,EAAYn1B,IAAI,aAAe,KACzC4G,SAAUP,KAAKC,IACb6uB,EAAYn1B,IAAI,gBAAkB,EAC9Bm1B,EAAYn1B,IAAI,YAChBqG,KAAKqtB,IAAIyB,EAAYn1B,IAAI,YAAa,KAC1C,GAEF2G,aAAcwuB,EAAYn1B,IAAI,gBAC9B+G,UAAWV,KAAKC,IACd6uB,EAAYn1B,IAAI,iBAAmB,EAC/Bm1B,EAAYn1B,IAAI,aAChBqG,KAAKqtB,IAAIyB,EAAYn1B,IAAI,aAAc,KAC3C,GAEF8G,cAAequB,EAAYn1B,IAAI,mBAEhCC,MAAK,WAEJpC,EAAMuP,QAAQC,KAAK,uBAEpB/M,OAAM,SAAUC,GAEfoL,KAAKC,KAAK,CACRC,KAAM,QACNjQ,MAAO,QACPe,KAAM4D,EAAML,SAASG,KAAK0L,QAC1BE,mBAAmB,IAClBhM,MAAK,eACRE,QAAQC,IAAIG,MAEbN,MAAK,gBAIVc,SAAA,CAEFE,eAAC6V,KAAK,CACJpW,GAAI,CACFgT,EAAG,OACH/I,QAAS,OACT2V,SAAU,OACVxS,eAAgB,iBAChB/M,SAAA,CAEFP,cAACiI,IAAU,CAACoB,QAAQ,KAAKnJ,GAAI,CAAEwD,UAAW,OAAQiL,SAAU,QAASpO,SAAC,oBAGtEE,eAACwH,IAAU,CAACoB,QAAQ,KAAKnJ,GAAI,CAAEwD,UAAW,OAAQiL,SAAU,QAASpO,SAAA,CAAC,aACzD,IACVgtB,GAAKvnB,QACJ,SAACkN,EAAG6M,GAAC,OAAK7M,EAAI6M,EAAEgM,cAAgByI,WAAWzU,EAAE4L,gBAC7C,GACE+F,GAAS1rB,QAAO,SAACkN,EAAG6M,GAAC,OAAK7M,EAAI6M,EAAEpa,QAAO,MAE7C3F,cAAC+L,KAAS,CACR7T,KAAK,eACL+U,KAAK,QACL/M,GAAI,CAAEwD,UAAW,OAAQiL,SAAU,QACnCvB,aAAc8b,EAAczmB,aAC5ByJ,MAAM,kBAERlM,cAACqM,KAAgB,CACfnM,GAAI,CACFwD,UAAW,OACXiL,SAAU,OACVxT,WAAY,WACZoP,EAAG,GAEL+B,QACEtM,cAAC+L,KAAS,CACR5C,KAAK,SACLjR,KAAK,WACLgU,MAAM,YACN4G,WAAY,CACVhN,IAAK,GACLotB,IAAK,GAEP9lB,aAAc8b,EAAcvgB,SAC5BsY,gBAAiB,CAAEC,QAAQ,GAC3BjV,WAAS,EACT/L,GAAI,CAAEqK,EAAG,qBAGb2B,MAAM,aAERlM,cAAC+L,KAAS,CACR7L,GAAI,CACFwD,UAAW,CAAC,MAAO,OACnBiL,SAAU,CAAC,MAAO,OAClBxT,WAAY,WACZoP,EAAG,GAEL2B,MAAM,WACN/C,KAAK,SACLjR,KAAK,WACL4a,WAAY,CACVogB,IAAK,GAEP9lB,aAAc8b,EAAc9iB,SAC5B6F,WAAS,IAEXxL,eAACyM,KAAM,CACLhN,GAAI,CACFwD,UAAW,CAAC,MAAO,OACnBiL,SAAU,CAAC,MAAO,OAClBxT,WAAY,WACZoP,EAAG,GAELrS,KAAK,eACLkV,aAAc8b,EAAc/iB,aAAa5F,SAAA,CAEzCP,cAACqN,KAAQ,CAACpU,MAAO,EAAEsH,SAAC,MACpBP,cAACqN,KAAQ,CAACpU,MAAO,EAAEsH,SAAC,WAEtBP,cAAC+L,KAAS,CACR7L,GAAI,CACFwD,UAAW,CAAC,MAAO,OACnBiL,SAAU,CAAC,MAAO,OAClBxT,WAAY,WACZ+O,GAAI,OACJuC,GAAI,GAENP,MAAM,YACN/C,KAAK,SACLjR,KAAK,YACL4a,WAAY,CACVogB,IAAK,GAEP9lB,aAAc8b,EAAc3iB,UAC5B0F,WAAS,IAEXxL,eAACyM,KAAM,CACLhN,GAAI,CACFwD,UAAW,CAAC,MAAO,OACnBiL,SAAU,CAAC,MAAO,OAClBxT,WAAY,WACZ+O,GAAI,OACJuC,GAAI,GAENvU,KAAK,gBACLkV,aAAc8b,EAAc5iB,cAAc/F,SAAA,CAE1CP,cAACqN,KAAQ,CAACpU,MAAO,EAAEsH,SAAC,MACpBP,cAACqN,KAAQ,CAACpU,MAAO,EAAEsH,SAAC,cAGxBP,cAACwM,KAAM,CACLtM,GAAI,CAAE8G,UAAW,QACjB8G,QAAS,SAACuD,GACRA,EAAExG,iBACFsf,GAAe,IACf5pB,SACH,aAGDP,cAACwM,KAAM,CAACtM,GAAI,CAAE+Z,MAAO,QAASjT,UAAW,QAAUmC,KAAK,SAAQ5I,SAAC,cAInEE,eAAC+Y,KAAM,CACLlZ,KAAM8pB,GACNzmB,SAAS,KACTsI,WAAS,EACT2U,WAAYC,aAAczgB,EAAM0gB,YAAYC,KAAK,OACjD3P,WAAY,CACV1G,UAAW,OACXC,SAAU,SAAC0G,GACTA,EAAExG,iBACF,IAAMhL,EAAO,IAAImL,SAASqG,EAAEtG,eAQ5B,GANAyhB,IAAoB,GACpBI,IAAoB,GACpBI,IAAoB,GACpBI,IAAoB,GAEpB/C,IAAW,GACY,QAAnBsD,GAA0B,CAC5B,GACEJ,GAAKhpB,MACH,SAACV,GAAI,OACHA,EAAKknB,cAAgBA,IACrBlnB,EAAK0nB,cAAcjtB,KAAOitB,GAAcjtB,MAS5C,YANA6M,KAAKC,KAAK,CACRC,KAAM,UACNjQ,MAAO,UACPe,KAAM,iCACNsP,mBAAmB,IAIvB+hB,GACED,GAAKpuB,OAAO,CACV4rB,eACAQ,iBACAQ,iBACAwH,sBAAuBz5B,KAAKM,UAC1B,CACE,oBACA,qCACA,wBACA,oBACA8b,QAAO,SAACrS,EAAMP,GAAK,OACnBqb,QAAQ9e,EAAKL,IAAI,kBAADL,OAAmBmE,SAGvCqoB,aAActa,EAAEtG,cAAczG,UAAUrL,MACxCmL,OAAQ+nB,WAGP,GAAuB,SAAnBwB,GAA2B,CACpC,IAAMsH,EAAU1H,GAAK3qB,KAAI,SAACiB,GACxB,OACEA,EAAKknB,cAAgBA,IACrBlnB,EAAK0nB,cAAcjtB,KAAOitB,GAAcjtB,GAEjC,CACLysB,eACAQ,iBACAQ,iBACAwH,sBAAuBz5B,KAAKM,UAC1B,CACE,oBACA,qCACA,wBACA,oBACA8b,QAAO,SAACrS,EAAMP,GAAK,OACnBqb,QAAQ9e,EAAKL,IAAI,kBAADL,OAAmBmE,SAGvCqoB,aAActa,EAAEtG,cAAczG,UAAUrL,MACxCmL,OAAQ+nB,IAEAtoB,KAEd2pB,GAAQyH,MAGZ10B,SAAA,CAEFP,cAACyZ,KAAW,CAAAlZ,SAAC,qBACbE,eAACiZ,KAAa,CAACxZ,GAAI,CAAE9D,UAAW,UAAWmE,SAAA,CACzCP,cAAC+L,KAAS,CACRG,MAAM,aACN/C,KAAK,SACLjR,KAAK,YAELe,MAAO0yB,GACPzrB,GAAI,CAAEpF,MAAO,SACbysB,WAAY,CACVC,UAAU,EACV0N,aAAcl1B,cAACm1B,KAAc,CAACvuB,SAAS,MAAKrG,SAAC,WAGjDE,eAACuJ,KAAG,CACF9J,GAAI,CACFiK,QAAS,OACThP,WAAY,SACZL,MAAO,QACPwB,OAAQ,sBACRkS,aAAc,MACd0X,GAAI,OACJjc,GAAI,OACJiJ,EAAG,WACH3S,SAAA,CAEFP,cAACiI,IAAU,CAACoB,QAAQ,OAAOnJ,GAAI,CAAE6G,SAAU,GAAIxG,SAAC,WAGhDP,cAAC4N,KAAU,CACTE,QAAS,SAACuD,GACRA,EAAExG,iBACFmhB,GAAiBnmB,KAAKC,IAAIimB,GAAgB,EAAG,KAC7CxrB,SAEFP,cAACohB,KAAU,MAEbphB,cAACiI,IAAU,CAACoB,QAAQ,OAAOnJ,GAAI,CAAE2f,GAAI,QAAStf,SAC3CwrB,KAEH/rB,cAAC4N,KAAU,CACTE,QAAS,SAACuD,GACRA,EAAExG,iBACFmhB,GAAiBnmB,KAAKqtB,IAAInH,GAAgB,EAAG,MAC7CxrB,SAEFP,cAACsf,KAAO,SAGZtf,cAACgK,KAAG,CACF9J,GAAI,CACF/E,WAAY,SACZmS,eAAgB,SAChB4Y,GAAI,OACJjc,GAAI,OACJiJ,EAAG,WACH3S,SAEFP,cAAC+L,KAAS,CACRG,MAAM,gBACNhU,KAAK,SACLe,MAAOkzB,GACPjsB,GAAI,CAAEpF,MAAO,IAAKmP,GAAI,OACtB4I,SA5sCgB,SAACxB,GAC3B+a,GAAiB/a,EAAEoF,OAAOxd,YA8sCpB+G,cAACqM,KAAgB,CACfnM,GAAI,CAAEiK,QAAS,QAAS/N,UAAW,OAAQZ,WAAY,SACvD8Q,QACEtM,cAACuM,KAAQ,CACPrU,KAAK,mBACL0a,QAAS2Z,GACT1Z,SAAU,SAACxB,GAAC,OAAKmb,GAAoBnb,EAAEoF,OAAO7D,UAC9C1S,GAAI,CAAE9D,UAAW,UAGrB8P,MAAM,sBAERlM,cAACqM,KAAgB,CACfnM,GAAI,CAAEiK,QAAS,QAAS/N,UAAW,OAAQZ,WAAY,SACvD8Q,QACEtM,cAACuM,KAAQ,CACPrU,KAAK,mBACL0a,QAAS+Z,GACT9Z,SAAU,SAACxB,GAAC,OAAKub,GAAoBvb,EAAEoF,OAAO7D,YAGlD1G,MAAM,uCAERlM,cAACqM,KAAgB,CACfnM,GAAI,CAAEiK,QAAS,QAAS/N,UAAW,OAAQZ,WAAY,SACvD8Q,QACEtM,cAACuM,KAAQ,CACPrU,KAAK,mBACL0a,QAASma,GACTla,SAAU,SAACxB,GAAC,OAAK2b,GAAoB3b,EAAEoF,OAAO7D,YAGlD1G,MAAM,0BAERlM,cAACqM,KAAgB,CACfnM,GAAI,CAAEiK,QAAS,QAAS/N,UAAW,OAAQZ,WAAY,SACvD8Q,QACEtM,cAACuM,KAAQ,CACPrU,KAAK,mBACL0a,QAASua,GACTta,SAAU,SAACxB,GAAC,OAAK+b,GAAoB/b,EAAEoF,OAAO7D,YAGlD1G,MAAM,wBAGVzL,eAACoZ,KAAa,CAAAtZ,SAAA,CACZP,cAACwM,KAAM,CACLsB,QAAS,SAACuD,GACRmb,IAAoB,GACpBI,IAAoB,GACpBI,IAAoB,GACpBI,IAAoB,GACpB/C,IAAW,IACX9pB,SACH,WAGDP,cAACwM,KAAM,CAACrD,KAAK,SAAQ5I,SAAC,aAG1BE,eAAC+Y,KAAM,CACLlZ,KAAMkqB,GACN7mB,SAAS,KACTsI,WAAS,EACT2U,WAAYC,aAAczgB,EAAM0gB,YAAYC,KAAK,OACjD3P,WAAY,CACV1G,UAAW,OACXC,SAAS,WAAD,IAAAyqB,EAAAtX,aAAAC,KAAAC,MAAE,SAAAC,EAAO5M,GAAC,IAAAxR,EAAAsoB,EAAAhK,EAAAze,EAAA21B,EAAAC,EAAAC,EAAAN,EAAA,OAAAlX,KAAA5c,MAAA,SAAAid,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,OAsB2B,GArB3CjN,EAAExG,iBAEFwe,EAAgB,GAChBC,EAAmB,QACnBC,EAAe,WACfC,EAAe,YACfC,EAAY,IACZC,EAAa,KACbC,EAAY,KACZC,EAAgB,IAChBC,EAAqB,GACrBC,EAAmB,IACnBE,GAAa,IAEbwC,IAAoB,GACpBI,IAAoB,GACpBI,IAAoB,GACpBI,IAAoB,GAEpB3C,IAAe,GAET5qB,EAAO,IAAImL,SAASqG,EAAEtG,eAEL,QAAnB4iB,GAAwB,CAAAvP,EAAAE,KAAA,YAEvBzZ,KACD0oB,GAAKhpB,MACH,SAACV,GAAI,MACkB,SAArBA,EAAKknB,aACLlnB,EAAK0nB,cAAcjtB,KAAOitB,GAAcjtB,KACvCuF,EAAKgB,cACT,CAAAuZ,EAAAE,KAAA,SAOE,OALHnT,KAAKC,KAAK,CACRC,KAAM,UACNjQ,MAAO,UACPe,KAAM,iCACNsP,mBAAmB,IAClB2S,EAAAoX,OAAA,kBAIiB,GAAlBrN,EAAe,IACftoB,EAAKL,IAAI,kBAAmBK,EAAKL,IAAI,gBAAgBtH,KAAI,CAAAkmB,EAAAE,KAAA,SAEP,OAD9CH,EAAa,IAAInT,UACZuT,OAAO,OAAQ1e,EAAKL,IAAI,iBAAiB4e,EAAAC,KAAA,GAAAD,EAAAE,KAAA,GAE3B5f,IAAMmL,KAAK,UAAWsU,EAAY,CACvDlV,QAAS,CACP,eAAgB,uCAEjB,KAAD,GAJIvJ,EAAQ0e,EAAAI,KAKd2J,EAAezoB,EAASG,KAAK4e,IAAIL,EAAAE,KAAA,iBAAAF,EAAAC,KAAA,GAAAD,EAAAM,GAAAN,EAAA,kBAIrCoP,GACED,GAAKpuB,OAAO,CACV4rB,eACAQ,iBACAQ,iBACAwH,sBAAuBz5B,KAAKM,UAC1B,CACE,oBACA,qCACA,wBACA,oBACA8b,QAAO,SAACrS,EAAMP,GAAK,OACnBqb,QAAQ9e,EAAKL,IAAI,kBAADL,OAAmBmE,SAGvCqoB,aAAchN,QAAQ9e,EAAKL,IAAI,eAC3Bof,OAAO/e,EAAKL,IAAI,mBAChBof,OAAO/e,EAAKL,IAAI,iBACpBqF,WAAY8Z,QAAQ9e,EAAKL,IAAI,iBAAkB,EAC/CsF,YAAajF,EAAKL,IAAI,gBAAkB,GACxC0F,SAAUrF,EAAKL,IAAI,aAAe,GAClCuF,UAAWlF,EAAKL,IAAI,cAAgB,EACpCwF,SAAUnF,EAAKL,IAAI,aAAe,EAClCyF,aAAcpF,EAAKL,IAAI,iBAAmB,EAC1C2F,kBAAmBtF,EAAKL,IAAI,sBAAwB,EACpD4F,gBAAiBvF,EAAKL,IAAI,oBAAsB,GAChD6F,aAAcxF,EAAKL,IAAI,iBAAmB,EAC1C+F,YAAa1F,EAAKL,IAAI,gBAAkB,GACxC8F,gBAAiBA,GAAmB,GACpClB,OAAQvE,EAAKL,IAAI,WAAa,GAC9B2oB,aAAcA,KAEhB/J,EAAAE,KAAA,oBAC0B,SAAnBqP,GAAyB,CAAAvP,EAAAE,KAAA,SACL,GAAzB6J,EAAe4B,IACflqB,EAAKL,IAAI,kBAAmBK,EAAKL,IAAI,gBAAgBtH,KAAI,CAAAkmB,EAAAE,KAAA,SAEP,OAD9CH,EAAa,IAAInT,UACZuT,OAAO,OAAQ1e,EAAKL,IAAI,iBAAiB4e,EAAAC,KAAA,GAAAD,EAAAE,KAAA,GAE3B5f,IAAMmL,KAAK,UAAWsU,EAAY,CACvDlV,QAAS,CACP,eAAgB,uCAEjB,KAAD,GAJIvJ,EAAQ0e,EAAAI,KAKd2J,EAAezoB,EAASG,KAAK4e,IAAIL,EAAAE,KAAA,iBAAAF,EAAAC,KAAA,GAAAD,EAAAqX,GAAArX,EAAA,kBAG/B6W,EAAU1H,GAAK3qB,KAAI,SAACiB,GACxB,MACuB,SAArBA,EAAKknB,aACLlnB,EAAK0nB,cAAcjtB,KAAOitB,GAAcjtB,GAEjC,CACLysB,eACAQ,iBACAQ,iBACAwH,sBAAuBz5B,KAAKM,UAC1B,CACE,oBACA,qCACA,wBACA,oBACA8b,QAAO,SAACrS,EAAMP,GAAK,OACnBqb,QAAQ9e,EAAKL,IAAI,kBAADL,OAAmBmE,SAGvCqoB,aAAchN,QAAQ9e,EAAKL,IAAI,eAC3Bof,OAAO/e,EAAKL,IAAI,mBAChBof,OAAO/e,EAAKL,IAAI,iBACpBqF,WAAY8Z,QAAQ9e,EAAKL,IAAI,iBAAkB,EAC/CsF,YAAajF,EAAKL,IAAI,gBAAkB,GACxC0F,SAAUrF,EAAKL,IAAI,aAAe,GAClCuF,UAAWlF,EAAKL,IAAI,cAAgB,EACpCwF,SAAUnF,EAAKL,IAAI,aAAe,EAClCyF,aAAcpF,EAAKL,IAAI,iBAAmB,EAC1C2F,kBAAmBtF,EAAKL,IAAI,sBAAwB,EACpD4F,gBAAiBvF,EAAKL,IAAI,oBAAsB,GAChD6F,aAAcxF,EAAKL,IAAI,iBAAmB,EAC1C+F,YAAa1F,EAAKL,IAAI,gBAAkB,GACxC8F,gBAAiBA,GAAmB,GACpClB,OAAQvE,EAAKL,IAAI,WAAa,GAC9B2oB,aAAcA,GAENtkB,KAEd2pB,GAAQyH,GAAS,yBAAA7W,EAAAS,UAAAZ,EAAA,4BAEpB,gBAAAa,GAAA,OAAAsW,EAAArW,MAAA,KAAAC,YAhJQ,IAiJTze,SAAA,CAEFP,cAACyZ,KAAW,CAAAlZ,SAAC,qBACbE,eAACiZ,KAAa,CAACxZ,GAAI,CAAE9D,UAAW,UAAWmE,SAAA,CACzCP,cAAC+L,KAAS,CACRG,MAAM,iBACN/C,KAAK,SACLjR,KAAK,eACLe,MAAO0yB,GACPzrB,GAAI,CAAEpF,MAAO,IAAK46B,WAAY7wB,GAAa,SAAW,WACtD0iB,WAAY,CACVC,UAAU,EACV0N,aAAcl1B,cAACm1B,KAAc,CAACvuB,SAAS,MAAKrG,SAAC,WAGjDP,cAAC4Q,KAAO,CAAC1Q,GAAI,CAAEgmB,GAAI,UACnBzlB,eAACuJ,KAAG,CAACG,QAAQ,OAAO2V,SAAS,OAAOxS,eAAe,gBAAe/M,SAAA,CAChEP,cAACqM,KAAgB,CACfC,QACEtM,cAACuM,KAAQ,CACPrU,KAAK,aACL0a,QAAS/N,GACTgO,SAAU,SAACxB,GACTuZ,GAAcvZ,EAAEtG,cAAc6H,YAIpC1G,MAAM,iBACNhM,GAAI,CAAEwD,UAAW,OAAQiL,SAAU,UAEpC,CACC,CACEzW,KAAM,cACNgU,MAAO,WACP/C,KAAM,eACNlQ,MAAO6L,EACP+N,SAAU,SAACxB,EAAGskB,GACZtkB,EAAExG,iBACF2e,EAAemM,IAEjB/a,QAASoO,GACTluB,MAAO,OAET,CACE5C,KAAM,WACNgU,MAAO,QACP/C,KAAM,OACNrO,MAAO,MACP7B,MAAOiM,EACP2N,SAAU,SAACxB,GACTA,EAAExG,iBACF4e,EAAYpY,EAAEoF,OAAOxd,SAGzB,CACEf,KAAM,YACNgU,MAAO,SACP/C,KAAM,eACNysB,OAAQ,KACR9iB,WAAY,CAAEogB,IAAK,GACnBp4B,MAAO,MACP7B,MAAO8L,EACP8N,SAAU,SAACxB,GACTA,EAAExG,iBACF6e,EAAarY,EAAEoF,OAAOxd,SAG1B,CACEf,KAAM,WACNgU,MAAO,QACP/C,KAAM,eACNysB,OAAQ,KACR9iB,WAAY,CAAEogB,IAAK,GACnBp4B,MAAO,MACP7B,MAAO+L,EACP6N,SAAU,SAACxB,GACTA,EAAExG,iBACF8e,EAAYtY,EAAEoF,OAAOxd,SAGzB,CACEf,KAAM,eACNgU,MAAO,YACP/C,KAAM,eACNysB,OAAQ,KACR9iB,WAAY,CAAEogB,IAAK,GACnBp4B,MAAO,MACP7B,MAAOgM,EACP4N,SAAU,SAACxB,GACTA,EAAExG,iBACF+e,EAAgBvY,EAAEoF,OAAOxd,SAG7B,CACEf,KAAM,oBACNgU,MAAO,kBACP/C,KAAM,SACNyR,QAAS,CAAC,EAAG,EAAG,EAAG,EAAG,GACtB9f,MAAO,MACP7B,MAAOkM,EACP0N,SAAU,SAACxB,GACTA,EAAExG,iBACFgf,EAAqBxY,EAAEoF,OAAOxd,SAGlC,CACEf,KAAM,kBACNgU,MAAO,gBACP/C,KAAM,SACN2J,WAAY,CAAEogB,IAAK,GACnBp4B,MAAO,MACP7B,MAAOmM,EACPyN,SAAU,SAACxB,GACTA,EAAExG,iBACFif,EAAmBzY,EAAEoF,OAAOxd,SAGhC,CACEf,KAAM,eACNgU,MAAO,kBACP/C,KAAM,SACNlQ,MAAOoM,EACPwN,SAAU,SAACxB,GACTA,EAAExG,iBACFwe,EAAgBhY,EAAEoF,OAAOxd,OACF,IAAnBoY,EAAEoF,OAAOxd,MAAaqwB,EAAmB,QACjB,IAAnBjY,EAAEoF,OAAOxd,MAChBqwB,EAAmB,cACO,IAAnBjY,EAAEoF,OAAOxd,OAChBqwB,EAAmB,sBAEvB1O,QAAS,CAAC,EAAG,EAAG,EAAG,GACnB9f,MAAO,OAET,CACE5C,KAAM,cACNgU,MAAO,gBACP/C,KAAM,SACNlQ,MAAOsM,EACPsN,SAAU,SAACxB,GACTA,EAAExG,iBACF0e,EAAelY,EAAEoF,OAAOxd,QAE1B2hB,QAAS,CAAC,UAAW,eACrB9f,MAAO,OAET,CACE5C,KAAM,kBACNgU,MAAO,gBACP/C,KAAM,SACNlQ,MAAOqM,EACPuN,SAAU,SAACxB,GACTA,EAAExG,iBACFye,EAAmBjY,EAAEoF,OAAOxd,QAE9B2hB,QACmB,IAAjBvV,EACI,CAAC,OAAQ,QAAS,UAClB,CACE,OACA,QACA,SACA,aACA,qBAER2vB,SAA2B,IAAjB3vB,EACVwwB,QAAS,OACT/6B,MAAO,OAET,CACE5C,KAAM,SACNgU,MAAO,gBACP/C,KAAM,OACNrO,MAAO,OACP7B,MAAOkzB,GACPtZ,SAAU,SAACxB,GACTA,EAAExG,iBACFuhB,GAAiB/a,EAAEoF,OAAOxd,SAG9B,CACEf,KAAM,eACNgU,MAAO,0BACP/C,KAAM,OACN2J,WAAY,CACVyM,OAAQ,oCAEV0B,gBAAiB,CAAEC,QAAQ,GAC3BpmB,MAAO,SAET8H,KAAI,SAAAgF,EAAiCtE,GAAW,IAAzC6F,EAAIvB,EAAJuB,KAAMrO,EAAK8M,EAAL9M,MAAUkmB,EAAU/d,YAAA2E,EAAAkuB,IACjC,GAAa,iBAAT3sB,EAAyB,CAC3B,IAAQjR,EAAkC8oB,EAAlC9oB,KAAMgU,EAA4B8U,EAA5B9U,MAAU0V,EAAa3e,YAAK+d,EAAU+U,IACpD,OACE/1B,cAACigB,KAAY9c,YAAA,CAEXjD,GAAI,CAAEwD,UAAW5I,EAAO6T,SAAU7T,GAClColB,YAAa,SAACC,GAAM,OAClBngB,cAAC+L,KAAS5I,wBAAA,GAAKgd,GAAM,IAAEjoB,KAAMA,EAAMgU,MAAOA,MAE5C8oB,UAAWnwB,IACP+c,GANCte,GASJ,GAAa,iBAAT6F,EAAyB,CAClC,IAAQysB,EAA2B5U,EAA3B4U,OAAWI,EAAW/yB,YAAK+d,EAAUiV,IAC7C,OACEj2B,cAACqM,KAAgB,CAEfnM,GAAI,CACFwD,UAAW5I,EACX6T,SAAU7T,EACVK,WAAY,WACZ8O,GAAI,GAENqC,QACEtM,cAAC+L,KAAS5I,YAAA,CACR8I,WAAS,EACT/L,GAAI,CAAEqK,EAAG,gBACTpB,KAAK,SACL6rB,UAAWnwB,IACPmxB,IAGR9pB,MAAO0pB,GAhBFtyB,GAmBJ,GAAa,WAAT6F,EAAmB,CAC5B,IAAQjR,EAA0C8oB,EAA1C9oB,KAAMgU,EAAoC8U,EAApC9U,MAAO0O,EAA6BoG,EAA7BpG,QAAYsb,EAAYjzB,YAAK+d,EAAUmV,IAC5D,MAAa,oBAATj+B,EACEg+B,EAAaL,QAEbp1B,eAACsM,KAAW,CAEV7M,GAAI,CAAEwD,UAAW5I,EAAO6T,SAAU7T,GAAQyF,SAAA,CAE1CP,cAACgN,KAAU,CAAC1O,GAAE,YAAAa,OAAcjH,EAAI,iBAAgBqI,SAC7C2L,IAEHlM,cAACkN,KAAM/J,wBAAA,CACLgK,QAAO,YAAAhO,OAAcjH,EAAI,iBACzBoG,GAAE,YAAAa,OAAcjH,EAAI,WACpBA,KAAMA,EACNgU,MAAOA,EACPe,KAAK,QACL+nB,UAAWnwB,IACPqxB,GAAY,IAAA31B,SAEfqa,EAAQhY,KAAI,SAACwzB,EAAcC,GAAiB,OAC3Cr2B,cAACqN,KAAQ,CAEPpU,MAAOm9B,EAAa71B,SAEnB61B,GAHIC,WAjBN/yB,GA0BC,GAGV7C,eAACsM,KAAW,CAEV7M,GAAI,CAAEwD,UAAW5I,EAAO6T,SAAU7T,GAAQyF,SAAA,CAE1CP,cAACgN,KAAU,CAAC1O,GAAE,YAAAa,OAAcjH,EAAI,iBAAgBqI,SAC7C2L,IAEHlM,cAACkN,KAAM/J,wBAAA,CACLgK,QAAO,YAAAhO,OAAcjH,EAAI,iBACzBoG,GAAE,YAAAa,OAAcjH,EAAI,WACpBA,KAAMA,EACNgU,MAAOA,EACPe,KAAK,QACL+nB,UAAWnwB,IACPqxB,GAAY,IAAA31B,SAEfqa,EAAQhY,KAAI,SAACwzB,EAAcC,GAAiB,OAC3Cr2B,cAACqN,KAAQ,CAEPpU,MAAOm9B,EAAa71B,SAEnB61B,GAHIC,WAjBN/yB,GA2BX,OACEtD,cAAC+L,KAAS5I,YAAA,CAERgG,KAAMA,EACNjJ,GAAI,CAAEwD,UAAW5I,EAAO6T,SAAU7T,GAClCk6B,UAAWnwB,IACPmc,GAJC1d,MAQbtD,cAAC+L,KAAS,CACRG,MAAM,mBACN/C,KAAK,SACLjR,KAAK,iBACLkV,aAAcue,GACdzrB,GAAI,CAAEwD,UAAW,IAAKiL,SAAU,IAAK1E,GAAI,QACzC+qB,UAAWnwB,GACX0iB,WAAY,CACV2N,aACEl1B,cAACm1B,KAAc,CAACvuB,SAAS,MAAKrG,SAAC,cAKvCP,cAAC4Q,KAAO,CAAC1Q,GAAI,CAAEgmB,GAAI,UACnBzlB,eAACuJ,KAAG,CACF9J,GAAI,CACFiK,QAAS,OACThP,WAAY,SACZL,MAAO,QACPwB,OAAQ,sBACRkS,aAAc,MACdtE,GAAI,OACJD,GAAI,OACJiJ,EAAG,WACH3S,SAAA,CAEFP,cAACiI,IAAU,CAACoB,QAAQ,OAAOnJ,GAAI,CAAE6G,SAAU,GAAIxG,SAAC,WAGhDP,cAAC4N,KAAU,CACTE,QAAS,SAACuD,GACRA,EAAExG,iBACFmhB,GAAiBnmB,KAAKC,IAAIimB,GAAgB,EAAG,KAC7CxrB,SAEFP,cAACohB,KAAU,MAEbphB,cAACiI,IAAU,CAACoB,QAAQ,OAAOY,GAAG,OAAM1J,SACjCwrB,KAEH/rB,cAAC4N,KAAU,CACTE,QAAS,SAACuD,GACRA,EAAExG,iBACFmhB,GAAiBnmB,KAAKqtB,IAAInH,GAAgB,EAAG,MAC7CxrB,SAEFP,cAACsf,KAAO,SAGZtf,cAACqM,KAAgB,CACfnM,GAAI,CAAEiK,QAAS,SACfmC,QACEtM,cAACuM,KAAQ,CACPrU,KAAK,mBACL0a,QAAS2Z,GACT1Z,SAAU,SAACxB,GAAC,OAAKmb,GAAoBnb,EAAEoF,OAAO7D,UAC9C1S,GAAI,CAAE9D,UAAW,UAGrB8P,MAAM,sBAERlM,cAACqM,KAAgB,CACfnM,GAAI,CAAEiK,QAAS,SACfmC,QACEtM,cAACuM,KAAQ,CACPrU,KAAK,mBACL0a,QAAS+Z,GACT9Z,SAAU,SAACxB,GAAC,OAAKub,GAAoBvb,EAAEoF,OAAO7D,YAGlD1G,MAAM,uCAERlM,cAACqM,KAAgB,CACfnM,GAAI,CAAEiK,QAAS,SACfmC,QACEtM,cAACuM,KAAQ,CACPrU,KAAK,mBACL0a,QAASma,GACTla,SAAU,SAACxB,GAAC,OAAK2b,GAAoB3b,EAAEoF,OAAO7D,YAGlD1G,MAAM,0BAERlM,cAACqM,KAAgB,CACfnM,GAAI,CAAEiK,QAAS,SACfmC,QACEtM,cAACuM,KAAQ,CACPrU,KAAK,mBACL0a,QAASua,GACTta,SAAU,SAACxB,GAAC,OAAK+b,GAAoB/b,EAAEoF,OAAO7D,YAGlD1G,MAAM,wBAGVzL,eAACoZ,KAAa,CAAAtZ,SAAA,CACZP,cAACwM,KAAM,CACLsB,QAAS,SAACuD,GACRA,EAAExG,iBACFwe,EAAgB,GAChBC,EAAmB,QACnBC,EAAe,WACfC,EAAe,YACfC,EAAY,IACZC,EAAa,KACbC,EAAY,KACZC,EAAgB,IAChBC,EAAqB,GACrBC,EAAmB,IACnBE,GAAa,IAEbwC,IAAoB,GACpBI,IAAoB,GACpBI,IAAoB,GACpBI,IAAoB,GAEpB3C,IAAe,IACflqB,SACH,WAGDP,cAACwM,KAAM,CAACrD,KAAK,SAAQ5I,SAAC,mBClxEjB+1B,GApBA,SAACj5B,GACd,IAAAC,EAA0BC,mBAAS,IAAGC,EAAAC,YAAAH,EAAA,GAA/B4E,EAAK1E,EAAA,GAAE4lB,EAAQ5lB,EAAA,GACtB,OACEwC,cAACu2B,GAAMpzB,YAAA,CACL8lB,cAAc,SACdC,cAAe,CACbhnB,QACAkhB,WACA1gB,MAAM,EACNyD,aAAc,EACdG,cAAe,EACfqC,SAAU,EACVvE,OAAQ,IAEV+kB,YAAa,IACT9rB,K,qNC4DKm5B,GA1EF,SAACn5B,GACZ,IACQiL,GADSmuB,cACch+B,OAAS,IAAhC6P,UACRzF,EASIyF,GAAa,GARfxK,EAAW+E,EAAX/E,YACAC,EAAU8E,EAAV9E,WACAsK,EAAgBxF,EAAhBwF,iBACArK,EAAe6E,EAAf7E,gBACAoK,EAAmBvF,EAAnBuF,oBAGGuuB,GAFG9zB,EAANhF,OACQgF,EAAR6zB,SACSzzB,YAAAJ,EAAAK,KAGX5F,EAA0BC,mBAASo5B,EAAOz0B,OAAM1E,EAAAC,YAAAH,EAAA,GAAzC4E,EAAK1E,EAAA,GAAE4lB,EAAQ5lB,EAAA,GAEtB,OAAO8K,EACLtI,cAACu2B,GAAMpzB,YAAA,CACL8lB,cAAc,OACdC,cAAa/lB,wBAAA,GACRwzB,GAAM,IACTz0B,QACAkhB,aAEF+F,YAAarrB,EAAY8E,KAAI,SAAAS,GAAA,IAAGuF,EAAgBvF,EAAhBuF,iBAA8B,MAAQ,CACpEmiB,YAAa,QACbQ,cAF4DtoB,YAAAI,EAAAI,IAG5DW,OAAQwE,EAAiBxE,OACzBunB,aAAc/iB,EAAiBtE,UAC/BynB,cAAenjB,EAAiB7E,IAChCwvB,sBAAuB3qB,EAAiBvE,mBAEvClF,OACCkJ,EAAiBzF,KAAI,SAACkG,GACpB,IACErE,EAKEqE,EALFrE,QACAH,EAIEwE,EAJFxE,UACAP,EAGE+E,EAHF/E,IACAM,EAEEyE,EAFFzE,eACGuyB,EAAY3zB,YACb6F,EAAerC,IAEbjC,EAAQzG,EAAWwG,MAAK,SAASsyB,GACrC,OAAOA,EAAIv4B,KAAOmG,KAGpB,OAAAtB,YAAA,CACE4nB,YAAa,OACbQ,cAAe/mB,EACfmnB,aAAcrnB,EACdynB,cAAehoB,EACfwvB,sBAAuBlvB,GACpBuyB,OAIRz3B,OACCnB,EAAgB4E,KAAI,SAAA4D,GAAA,IAAGqC,EAAoBrC,EAApBqC,qBAAkC,MAAQ,CAC/DkiB,YAAa,YACbQ,cAFuDtoB,YAAAuD,EAAAG,IAGvDvC,OAAQyE,EAAqBzE,OAC7BunB,aAAc9iB,EAAqBvE,UACnCynB,cAAeljB,EAAqB9E,IACpCwvB,sBAAuB1qB,EAAqBxE,oBAGlD+kB,gBAAmBhhB,GACf/K,IAGN2C,cAAC82B,IAAQ,CAACnqB,GAAG,sB,iDCpDXuF,GAAU,CACd,CACE5T,GAAI,kBACJ4N,MAAO,yBACPhM,GAAI,CAAE2iB,YAAa,OAAQlU,SAAU,MAEvC,CAAErQ,GAAI,YAAa4N,MAAO,aAAchM,GAAI,CAAEyO,SAAU,MACxD,CAAErQ,GAAI,aAAc4N,MAAO,YAAahM,GAAI,CAAEyO,SAAU,MACxD,CAAErQ,GAAI,QAAS4N,MAAO,OAAQhM,GAAI,CAAEyO,SAAU,MAC9C,CAAErQ,GAAI,WAAY4N,MAAO,oBACzB,CAAE5N,GAAI,OAAQ4N,MAAO,QACrB,CAAE5N,GAAI,QAAS4N,MAAO,SACtB,CAAE5N,GAAI,QAAS4N,MAAO,SACtB,CAAE5N,GAAI,QAAS4N,MAAO,SACtB,CAAE5N,GAAI,aAAc4N,MAAO,UAC3B,CAAE5N,GAAI,YAAa4N,MAAO,UAC1B,CAAE5N,GAAI,YAAa4N,MAAO,UAC1B,CAAE5N,GAAI,eAAgB4N,MAAO,YAC7B,CAAE5N,GAAI,gBAAiB4N,MAAO,WAC9B,CAAE5N,GAAI,SAAU4N,MAAO,UACvB,CAAE5N,GAAI,cAAe4N,MAAO,OAAQhM,GAAI,CAAEvE,aAAc,SACxD,CAAE2C,GAAI,SAQOlB,oBALf,SAAyB3E,GAEvB,MAAO,CAAET,KADQS,EAATT,QAIKoF,EAAyB,SAACC,GACvC,IAAM+C,EAAQgb,eAEd9d,EAAoCC,mBAAS,IAAGC,EAAAC,YAAAH,EAAA,GAAzCk6B,EAAUh6B,EAAA,GAAEi6B,EAAaj6B,EAAA,GAChCI,EAAsBL,mBAAS,IAAGY,EAAAV,YAAAG,EAAA,GAA3B2b,EAAGpb,EAAA,GAAEu5B,EAAMv5B,EAAA,GAClB2W,EAAgCvX,oBAAS,GAAMwX,EAAAtX,YAAAqX,EAAA,GAAxC2G,EAAQ1G,EAAA,GAAE2G,EAAW3G,EAAA,GAC5BG,EAAkC3X,mBAAS,IAAG4X,EAAA1X,YAAAyX,EAAA,GAAvCmD,EAASlD,EAAA,GAAEmD,EAAYnD,EAAA,GA8DxBwiB,EAAgB,SAACt6B,GACrBqB,IACGc,IAAI,qBAAsBnC,GAC1BoC,MAAK,SAACC,GAEL,IAAM83B,EAAa93B,EAASG,KAAKqW,QAAO,SAAArS,GAAI,OAA2B,IAAvBA,EAAK+zB,WAAWl1B,QAChE+0B,EAAcD,MAEf13B,OAAM,SAAUC,GAEfJ,QAAQC,IAAIG,MAEbN,MAAK,gBA0BV,OArBAjB,qBAAU,WACR,IAAMC,EAASC,IAAMC,YAAYF,SAiBjC,OAhBAk5B,EAAc,CACZ94B,YAAaJ,EAAOnG,QAef,kBAAMmG,EAAOK,OAAO,oCAC1B,IAGD2B,eAACuJ,KAAG,CACF9J,GAAI,CACFqH,OAAQ,OACRgH,SAAU,OACV3R,QAAS,aACT2D,SAAA,CA+DFP,cAAC2U,GAAQ,CACPvZ,MAAM,iBACNwZ,KAAM4iB,EAAW50B,KACf,SAAArD,EAA+C+D,GAAK,IAAjDhF,EAAEiB,EAAFjB,GAAIs5B,EAAUr4B,EAAVq4B,WAAYC,EAAUt4B,EAAVs4B,WAAe5kB,EAAShQ,YAAA1D,EAAA2D,IAAA,OAAAC,YAAA,CACzC7E,KACAknB,UAAY,WACV,IAAMC,EAAc,IAAIvmB,KAAK04B,EAAWt2B,WAIxC,OAHAmkB,EAAYC,WACVD,EAAYE,aAAeF,EAAYG,qBAElCH,EAAYI,cAAcC,MAAM,KAAK,GALlC,GAOZtkB,WAAW,KAADrC,OAAOy4B,EAAW/5B,OAAO0D,QAAMpC,OAAG,IAAID,KAC9C04B,EAAWt2B,WACXhC,cAAa,KAAAH,QAAK,MAAQy4B,EAAWp2B,YAAYC,QAAQ,IAC3DQ,SAAU21B,EAAW31B,SACrB/J,KAAM0/B,EAAW1/B,KACjBgK,MAAO01B,EAAW11B,MAClBrG,MAAO+7B,EAAW/7B,MAClBmI,MAAsB,OAAf6zB,EAAsB,GAAKA,EAAW7zB,MAC7CC,MAAsB,OAAf4zB,EAAsB,GAAKA,EAAW5zB,MAC7CmZ,WAA2B,OAAfya,EAAsB,GAAKA,EAAWza,WAClDC,UAA0B,OAAfwa,EAAsB,GAAKA,EAAWxa,UACjDC,UAA0B,OAAfua,EAAsB,GAAKA,EAAWva,UACjDpZ,aAA6B,OAAf2zB,EAAsB,KAAOA,EAAW3zB,aAAe,MAAQ,KAC7EC,cAA8B,OAAf0zB,EAAsB,KAAOA,EAAW1zB,cAAgB,MAAQ,KAC/EC,OAAuB,OAAfyzB,EAAsB,GAAKA,EAAWC,OAC9CC,YACE/3B,cAACwM,KAAM,CACLnD,QAAQ,YACRnJ,GAAI,CAAEgmB,GAAI,MAAOprB,MAAO,IAAKC,SAAU,IACvC2P,UAAWgC,IACX+J,OAAO,SACP9J,GAAE,sBAAAxN,OAAwBb,GAAKiC,SAChC,kBAIH6Y,KACEpZ,cAAC4N,KAAU,CACTE,QAAS,SAAClD,GACRA,EAAMC,iBAhNE,SAACvH,GACnBA,EAAQk0B,EAAWp0B,QAAUE,GAAS,IACxCo0B,EAAO,CAACF,EAAWl0B,GAAOhF,KAC1Bga,EAAa,CACX,CACEpgB,KAAM,QACNgU,MAAO,OACP/C,KAAM,OACNiE,aAAcoqB,EAAWl0B,GAAO00B,MAChCl9B,MAAO,WAIb4gB,GAAY,GAoMElD,CAAgBlV,IAChB/C,SAEFP,cAACkU,KAAQ,OAGVjB,MAGPf,QAASA,GACTwB,gBA3MsB,SAACsB,GAC3B0iB,EAAO1iB,GACPsD,EAAa,CACX,CACEpgB,KAAM,QACNgU,MAAO,OACP/C,KAAM,OACNrO,MAAO,UAGX4gB,GAAY,MAmMVjb,eAAC+Y,KAAM,CACLvN,WAAS,EACT2U,WAAYC,aAAczgB,EAAM0gB,YAAYC,KAAK,OACjDpd,SAAS,KACTrD,KAAMmb,EACNrK,WAAY,CACV1G,UAAW,OACXC,SAvMW,SAACC,GAClBA,EAAMC,iBACN,IAAMhL,EAAO,IAAImL,SAASJ,EAAMG,eAChCrM,IACGya,IAAI,kBAAmB,CACtBI,MACAye,MAAOn4B,EAAKL,IAAI,WAEjBC,MAAK,SAACC,GAELgc,GAAY,GACZic,OAED73B,OAAM,SAAUC,GAEf2b,GAAY,GACZvQ,KAAKC,KAAK,CACRC,KAAM,QACNjQ,MAAO,QACPkQ,KAAMvL,EAAML,SAASG,KAAK0L,QAAQC,QAAQ,KAAM,UAChDC,mBAAmB,IAClBhM,MAAK,WACNic,GAAY,MAEd/b,QAAQC,IAAIG,MAEbN,MAAK,iBA8KFc,SAAA,CAEFP,cAACyZ,KAAW,CAAAlZ,SAAC,cACbP,cAAC0Z,KAAa,CAAAnZ,SACZP,cAACsW,KAAK,CACJpW,GAAI,CACFgK,GAAI,MACJgJ,EAAG,OACH/I,QAAS,OACT2V,SAAU,OACVxS,eAAgB,iBAChB/M,SAED8X,EAAUzV,KAAI,SAAAC,EAA2BS,GAAK,IAA7BxI,EAAK+H,EAAL/H,MAAUkmB,EAAU/d,YAAAJ,EAAAY,IAAA,OACpCzD,cAAC+L,KAAS5I,YAAA,CAERjD,GAAI,CAAEwD,UAAW5I,EAAO6T,SAAU7T,IAC9BkmB,GAFC1d,UAOb7C,eAACoZ,KAAa,CAAAtZ,SAAA,CACZP,cAACwM,KAAM,CACLsB,QAAS,WACP4N,GAAY,IACZnb,SACH,WAGDP,cAACwM,KAAM,CAACrD,KAAK,SAAQ5I,SAAC,qB,gDCxS1B2R,GAAU,CACd,CACE5T,GAAI,kBACJ4N,MAAO,yBACPhM,GAAI,CAAE2iB,YAAa,OAAQlU,SAAU,MAEvC,CAAErQ,GAAI,YAAa4N,MAAO,aAAchM,GAAI,CAAEyO,SAAU,MACxD,CAAErQ,GAAI,aAAc4N,MAAO,YAAahM,GAAI,CAAEyO,SAAU,MACxD,CAAErQ,GAAI,QAAS4N,MAAO,OAAQhM,GAAI,CAAEyO,SAAU,MAC9C,CAAErQ,GAAI,YAAa4N,MAAO,WAAYhM,GAAI,CAAEyO,SAAU,MACtD,CAAErQ,GAAI,WAAY4N,MAAO,oBACzB,CAAE5N,GAAI,OAAQ4N,MAAO,QACrB,CAAE5N,GAAI,QAAS4N,MAAO,SACtB,CAAE5N,GAAI,QAAS4N,MAAO,SACtB,CAAE5N,GAAI,QAAS4N,MAAO,SACtB,CAAE5N,GAAI,UAAW4N,MAAO,YACxB,CAAE5N,GAAI,WAAY4N,MAAO,aACzB,CAAE5N,GAAI,WAAY4N,MAAO,aACzB,CAAE5N,GAAI,UAAW4N,MAAO,aACxB,CAAE5N,GAAI,SAAU4N,MAAO,UACvB,CAAE5N,GAAI,cAAe4N,MAAO,OAAQhM,GAAI,CAAEvE,aAAc,SACxD,CAAE2C,GAAI,SAQOlB,oBALf,SAAyB3E,GAEvB,MAAO,CAAET,KADQS,EAATT,QAIKoF,EAAyB,SAACC,GACvC,IAAM+C,EAAQgb,eAEd9d,EAAoCC,mBAAS,IAAGC,EAAAC,YAAAH,EAAA,GAAzCk6B,EAAUh6B,EAAA,GAAEi6B,EAAaj6B,EAAA,GAChCI,EAAsBL,mBAAS,IAAGY,EAAAV,YAAAG,EAAA,GAA3B2b,EAAGpb,EAAA,GAAEu5B,EAAMv5B,EAAA,GAClB2W,EAAgCvX,oBAAS,GAAMwX,EAAAtX,YAAAqX,EAAA,GAAxC2G,EAAQ1G,EAAA,GAAE2G,EAAW3G,EAAA,GAC5BG,EAAkC3X,mBAAS,IAAG4X,EAAA1X,YAAAyX,EAAA,GAAvCmD,EAASlD,EAAA,GAAEmD,EAAYnD,EAAA,GA4ExBwiB,EAAgB,SAACt6B,GACrBqB,IACGc,IAAI,oBAAqBnC,GACzBoC,MAAK,SAACC,GAEL,IAAM83B,EAAa93B,EAASG,KAAKqW,QAAO,SAAArS,GAAI,OAA2B,IAAvBA,EAAK+zB,WAAWl1B,QAChE+0B,EAAcD,MAEf13B,OAAM,SAAUC,GAEfJ,QAAQC,IAAIG,MAEbN,MAAK,gBAaV,OARAjB,qBAAU,WACR,IAAMC,EAASC,IAAMC,YAAYF,SAIjC,OAHAk5B,EAAc,CACZ94B,YAAaJ,EAAOnG,QAEf,kBAAMmG,EAAOK,OAAO,oCAC1B,IAGD2B,eAACuJ,KAAG,CACF9J,GAAI,CACFqH,OAAQ,OACRgH,SAAU,OACV3R,QAAS,aACT2D,SAAA,CA+DFP,cAAC2U,GAAQ,CACPvZ,MAAM,gBACNwZ,KAAM4iB,EAAW50B,KACf,SAAArD,EAA8C+D,GAAK,IAAhDhF,EAAEiB,EAAFjB,GAAIs5B,EAAUr4B,EAAVq4B,WAAYK,EAAS14B,EAAT04B,UAAchlB,EAAShQ,YAAA1D,EAAA2D,IAAA,OAAAC,YAAA,CACxC7E,KACAknB,UAAY,WACV,IAAMC,EAAc,IAAIvmB,KAAK04B,EAAWt2B,WAIxC,OAHAmkB,EAAYC,WACVD,EAAYE,aAAeF,EAAYG,qBAElCH,EAAYI,cAAcC,MAAM,KAAK,GALlC,GAOZtkB,WAAW,KAADrC,OAAOy4B,EAAW/5B,OAAO0D,QAAMpC,OAAG,IAAID,KAC9C04B,EAAWt2B,WACXhC,cAAa,KAAAH,QAAK,MAAQy4B,EAAWp2B,YAAYC,QAAQ,IAC3DQ,SAAU21B,EAAW31B,SACrB/J,KAAM0/B,EAAW1/B,KACjBgK,MAAO01B,EAAW11B,MAClB+B,MAAqB,OAAdg0B,EAAqB,GAAKA,EAAUh0B,MAC3CnI,MAAqB,OAAdm8B,EAAqB,GAAKA,EAAUn8B,MAC3C4I,QAAuB,OAAduzB,EAAqB,GAAKA,EAAUvzB,QAC7CC,SAAwB,OAAdszB,EAAqB,GAAKA,EAAUtzB,SAC9CC,SAAwB,OAAdqzB,EAAqB,GAAKA,EAAUrzB,SAC9CszB,QAAQ,GAAD/4B,OACL8T,EAAUpO,WAAU,GAAA1F,OACb8T,EAAUnO,YAAW,MAAA3F,OAAK8T,EAAU/N,SAAQ,MAAA/F,OAAK8T,EAAUlO,UAAS,KAAA5F,OAAI8T,EAAUjO,SAAQ,KAAA7F,OAAI8T,EAAUhO,aAAY,MAAA9F,OAAK8T,EAAU9N,kBAAiB,MAAAhG,OAAK8T,EAAU7N,gBAAe,MAAAjG,OAAK8T,EAAU5N,aAAY,KAAAlG,OAAI8T,EAAU1N,aAC9N,mBAENnB,OAAsB,OAAd6zB,EAAqB,GAAKA,EAAUH,OAC5CC,YACE/3B,cAACwM,KAAM,CACLnD,QAAQ,YACRnJ,GAAI,CAAEgmB,GAAI,MAAOprB,MAAO,IAAKC,SAAU,IACvC2P,UAAWgC,IACX+J,OAAO,SACP9J,GAAE,qBAAAxN,OAAuBb,GAAKiC,SAC/B,kBAIH6Y,KACEpZ,cAAC4N,KAAU,CACTE,QAAS,SAAClD,GACRA,EAAMC,iBAnNE,SAACvH,GACnBA,EAAQk0B,EAAWp0B,QAAUE,GAAS,IACxCo0B,EAAO,CAACF,EAAWl0B,GAAOhF,KAC1Bga,EAAa,CACX,CACEpgB,KAAM,QACNgU,MAAO,OACP/C,KAAM,OACNiE,aAAcoqB,EAAWl0B,GAAO60B,MAChCr9B,MAAO,QAET,CACE5C,KAAM,YACNgU,MAAO,WACP/C,KAAM,OACNiE,aAAcoqB,EAAWl0B,GAAO80B,UAChCt9B,MAAO,WAIb4gB,GAAY,GAgMElD,CAAgBlV,IAChB/C,SAEFP,cAACkU,KAAQ,OAGVjB,MAGPf,QAASA,GACTwB,gBAvMsB,SAACsB,GAC3B0iB,EAAO1iB,GACPsD,EAAa,CACX,CACEpgB,KAAM,QACNgU,MAAO,OACP/C,KAAM,OACNrO,MAAO,QAET,CACE5C,KAAM,YACNgU,MAAO,WACP/C,KAAM,OACNrO,MAAO,UAGX4gB,GAAY,MAyLVjb,eAAC+Y,KAAM,CACLvN,WAAS,EACT2U,WAAYC,aAAczgB,EAAM0gB,YAAYC,KAAK,OACjDpd,SAAS,KACTrD,KAAMmb,EACNrK,WAAY,CACV1G,UAAW,OACXC,SA7LW,SAACC,GAClBA,EAAMC,iBACN,IAAMhL,EAAO,IAAImL,SAASJ,EAAMG,eAChCrM,IACGya,IAAI,iBAAkB,CACrBI,MACA4e,MAAOt4B,EAAKL,IAAI,SAChB44B,UAAWv4B,EAAKL,IAAI,eAErBC,MAAK,SAACC,GAELgc,GAAY,GACZic,OAED73B,OAAM,SAAUC,GAEf2b,GAAY,GACZvQ,KAAKC,KAAK,CACRC,KAAM,QACNjQ,MAAO,QACPkQ,KAAMvL,EAAML,SAASG,KAAK0L,QAAQC,QAAQ,KAAM,UAChDC,mBAAmB,IAClBhM,MAAK,WACNic,GAAY,MAEd/b,QAAQC,IAAIG,MAEbN,MAAK,iBAmKFc,SAAA,CAEFP,cAACyZ,KAAW,CAAAlZ,SAAC,yBACbP,cAAC0Z,KAAa,CAAAnZ,SACZP,cAACsW,KAAK,CACJpW,GAAI,CACFgK,GAAI,MACJgJ,EAAG,OACH/I,QAAS,OACT2V,SAAU,OACVxS,eAAgB,iBAChB/M,SAED8X,EAAUzV,KAAI,SAAAC,EAA2BS,GAAK,IAA7BxI,EAAK+H,EAAL/H,MAAUkmB,EAAU/d,YAAAJ,EAAAY,IAAA,OACpCzD,cAAC+L,KAAS5I,YAAA,CAERjD,GAAI,CAAEwD,UAAW5I,EAAO6T,SAAU7T,IAC9BkmB,GAFC1d,UAOb7C,eAACoZ,KAAa,CAAAtZ,SAAA,CACZP,cAACwM,KAAM,CACLsB,QAAS,WACP4N,GAAY,IACZnb,SACH,WAGDP,cAACwM,KAAM,CAACrD,KAAK,SAAQ5I,SAAC,qB,qDC3S1B2R,GAAU,CACd,CACE5T,GAAI,kBACJ4N,MAAO,yBACPhM,GAAI,CAAE2iB,YAAa,OAAQlU,SAAU,MAEvC,CAAErQ,GAAI,YAAa4N,MAAO,aAAchM,GAAI,CAAEyO,SAAU,MACxD,CAAErQ,GAAI,aAAc4N,MAAO,YAAahM,GAAI,CAAEyO,SAAU,MACxD,CAAErQ,GAAI,QAAS4N,MAAO,OAAQhM,GAAI,CAAEyO,SAAU,MAC9C,CAAErQ,GAAI,WAAY4N,MAAO,oBACzB,CAAE5N,GAAI,OAAQ4N,MAAO,QACrB,CAAE5N,GAAI,QAAS4N,MAAO,SACtB,CAAE5N,GAAI,WAAY4N,MAAO,YACzB,CAAE5N,GAAI,SAAU4N,MAAO,UACvB,CAAE5N,GAAI,cAAe4N,MAAO,OAAQhM,GAAI,CAAEvE,aAAc,SACxD,CAAE2C,GAAI,SAQOlB,aALf,SAAyB3E,GAEvB,MAAO,CAAET,KADQS,EAATT,QAIKoF,EAAyB,SAACC,GACvC,IAAM+C,EAAQgb,eAEd9d,EAAoCC,mBAAS,IAAGC,EAAAC,YAAAH,EAAA,GAAzCk6B,EAAUh6B,EAAA,GAAEi6B,EAAaj6B,EAAA,GAChCI,EAAsBL,mBAAS,IAAGY,EAAAV,YAAAG,EAAA,GAA3B2b,EAAGpb,EAAA,GAAEu5B,EAAMv5B,EAAA,GAClB2W,EAAgCvX,oBAAS,GAAMwX,EAAAtX,YAAAqX,EAAA,GAAxC2G,EAAQ1G,EAAA,GAAE2G,EAAW3G,EAAA,GAC5BG,EAAkC3X,mBAAS,IAAG4X,EAAA1X,YAAAyX,EAAA,GAAvCmD,EAASlD,EAAA,GAAEmD,EAAYnD,EAAA,GA8DxBwiB,EAAgB,SAACt6B,GACrBqB,IACGc,IAAI,yBAA0BnC,GAC9BoC,MAAK,SAACC,GAEL,IAAM83B,EAAa93B,EAASG,KAAKqW,QAAO,SAAArS,GAAI,OAA2B,IAAvBA,EAAK+zB,WAAWl1B,QAChE+0B,EAAcD,MAEf13B,OAAM,SAAUC,GAEfJ,QAAQC,IAAIG,MAEbN,MAAK,gBA0BV,OArBAjB,qBAAU,WACR,IAAMC,EAASC,IAAMC,YAAYF,SAiBjC,OAhBAk5B,EAAc,CACZ94B,YAAaJ,EAAOnG,QAef,kBAAMmG,EAAOK,OAAO,oCAC1B,IAGD2B,eAACuJ,KAAG,CACF9J,GAAI,CACFqH,OAAQ,OACRgH,SAAU,OACV3R,QAAS,aACT2D,SAAA,CA+DFP,cAAC2U,GAAQ,CACPvZ,MAAM,qBACNwZ,KAAM4iB,EAAW50B,KACf,SAAArD,EAAmD+D,GAAK,IAArDhF,EAAEiB,EAAFjB,GAAIs5B,EAAUr4B,EAAVq4B,WAAYS,EAAc94B,EAAd84B,eAAmBplB,EAAShQ,YAAA1D,EAAA2D,IAAA,OAAAC,YAAA,CAC7C7E,KACAknB,UAAY,WACV,IAAMC,EAAc,IAAIvmB,KAAK04B,EAAWt2B,WAIxC,OAHAmkB,EAAYC,WACVD,EAAYE,aAAeF,EAAYG,qBAElCH,EAAYI,cAAcC,MAAM,KAAK,GALlC,GAOZtkB,WAAW,KAADrC,OAAOy4B,EAAW/5B,OAAO0D,QAAMpC,OAAG,IAAID,KAC9C04B,EAAWt2B,WACXhC,cAAa,KAAAH,QAAK,MAAQy4B,EAAWp2B,YAAYC,QAAQ,IAC3DQ,SAAU21B,EAAW31B,SACrB/J,KAAM0/B,EAAW1/B,KACjBgK,MAAO01B,EAAW11B,MAClBrG,MAAO+7B,EAAW/7B,MAClB4J,SAA6B,OAAnB4yB,EAA0B,GAAKA,EAAe5yB,SACxDrB,OAA2B,OAAnBi0B,EAA0B,GAAKA,EAAeP,OACtDC,YACE/3B,cAACwM,KAAM,CACLnD,QAAQ,YACRnJ,GAAI,CAAEgmB,GAAI,MAAOprB,MAAO,IAAKC,SAAU,IACvC2P,UAAWgC,IACX+J,OAAO,SACP9J,GAAE,0BAAAxN,OAA4Bb,GAAKiC,SACpC,kBAIH6Y,KACEpZ,cAAC4N,KAAU,CACTE,QAAS,SAAClD,GACRA,EAAMC,iBA1ME,SAACvH,GACnBA,EAAQk0B,EAAWp0B,QAAUE,GAAS,IACxCo0B,EAAO,CAACF,EAAWl0B,GAAOhF,KAC1Bga,EAAa,CACX,CACEpgB,KAAM,QACNgU,MAAO,OACP/C,KAAM,OACNiE,aAAcoqB,EAAWl0B,GAAO00B,MAChCl9B,MAAO,WAIb4gB,GAAY,GA8LElD,CAAgBlV,IAChB/C,SAEFP,cAACkU,KAAQ,OAGVjB,MAGPf,QAASA,GACTwB,gBArMsB,SAACsB,GAC3B0iB,EAAO1iB,GACPsD,EAAa,CACX,CACEpgB,KAAM,QACNgU,MAAO,OACP/C,KAAM,OACNrO,MAAO,UAGX4gB,GAAY,MA6LVjb,eAAC+Y,KAAM,CACLvN,WAAS,EACT2U,WAAYC,aAAczgB,EAAM0gB,YAAYC,KAAK,OACjDpd,SAAS,KACTrD,KAAMmb,EACNrK,WAAY,CACV1G,UAAW,OACXC,SAjMW,SAACC,GAClBA,EAAMC,iBACN,IAAMhL,EAAO,IAAImL,SAASJ,EAAMG,eAChCrM,IACGya,IAAI,sBAAuB,CAC1BI,MACAye,MAAOn4B,EAAKL,IAAI,WAEjBC,MAAK,SAACC,GAELgc,GAAY,GACZic,OAED73B,OAAM,SAAUC,GAEf2b,GAAY,GACZvQ,KAAKC,KAAK,CACRC,KAAM,QACNjQ,MAAO,QACPkQ,KAAMvL,EAAML,SAASG,KAAK0L,QAAQC,QAAQ,KAAM,UAChDC,mBAAmB,IAClBhM,MAAK,WACNic,GAAY,MAEd/b,QAAQC,IAAIG,MAEbN,MAAK,iBAwKFc,SAAA,CAEFP,cAACyZ,KAAW,CAAAlZ,SAAC,cACbP,cAAC0Z,KAAa,CAAAnZ,SACZP,cAACsW,KAAK,CACJpW,GAAI,CACFgK,GAAI,MACJgJ,EAAG,OACH/I,QAAS,OACT2V,SAAU,OACVxS,eAAgB,iBAChB/M,SAED8X,EAAUzV,KAAI,SAAAC,EAA2BS,GAAK,IAA7BxI,EAAK+H,EAAL/H,MAAUkmB,EAAU/d,YAAAJ,EAAAY,IAAA,OACpCzD,cAAC+L,KAAS5I,YAAA,CAERjD,GAAI,CAAEwD,UAAW5I,EAAO6T,SAAU7T,IAC9BkmB,GAFC1d,UAOb7C,eAACoZ,KAAa,CAAAtZ,SAAA,CACZP,cAACwM,KAAM,CACLsB,QAAS,WACP4N,GAAY,IACZnb,SACH,WAGDP,cAACwM,KAAM,CAACrD,KAAK,SAAQ5I,SAAC,qBArQjBnD,ICnCAgE,GARF,WACT,OACIpB,cAAA,WCMOs2B,GARA,WACX,OACIt2B,cAAA,WCMOw2B,GARF,WACT,OACIx2B,cAAA,W,2GCiBFkS,GAAU,CACZ,CAAE5T,GAAI,QAAS4N,MAAO,eACtB,CAAE5N,GAAI,YAAa4N,MAAO,cAC1B,CAAE5N,GAAI,OAAQ4N,MAAO,eACrB,CAAE5N,GAAI,MAAO4N,MAAO,OACpB,CAAE5N,GAAI,aAAc4N,MAAO,eAC3B,CAAE5N,GAAI,UAAW4N,MAAO,YACxB,CAAE5N,GAAI,WAAY4N,MAAO,aACzB,CAAE5N,GAAI,WAAY4N,MAAO,YACzB,CAAE5N,GAAI,WAAY4N,MAAO,YACzB,CAAE5N,GAAI,OAAQ4N,MAAO,QACrB,CAAE5N,GAAI,QAAS4N,MAAO,OACtB,CAAE5N,GAAI,YAAa4N,MAAO,WAC1B,CAAE5N,GAAI,SAAU4N,MAAO,UACvB,CAAE5N,GAAI,OAAQ0U,SAAS,EAAM9S,GAAI,CAAEyD,SAAU,GAAI7I,MAAO,KACxD,CAAEwD,GAAI,SAAU0U,SAAS,EAAM9S,GAAI,CAAEyD,SAAU,GAAI7I,MAAO,MAGxDw9B,GAAuB,CACzB,UACA,YACA,WACA,WACA,OACA,MACA,UACA,UAQWl7B,oBALf,SAAyB3E,GAEvB,MAAO,CAAET,KADQS,EAATT,QAIKoF,EAAyB,SAACC,GAGrC,IAAAC,EAAkCC,mBAAS,IAAGC,EAAAC,YAAAH,EAAA,GAAvCi7B,EAAS/6B,EAAA,GAAEg7B,EAAYh7B,EAAA,GAC9BI,EAA0CL,mBAAS,IAAGY,EAAAV,YAAAG,EAAA,GAA/C66B,EAAat6B,EAAA,GAAEu6B,EAAgBv6B,EAAA,GACtC2W,EAA0CvX,mBAAS,IAAGwX,EAAAtX,YAAAqX,EAAA,GAA/C6jB,EAAa5jB,EAAA,GAAE6jB,EAAgB7jB,EAAA,GACtCG,EAA4C3X,mBAAS,IAAG4X,EAAA1X,YAAAyX,EAAA,GAAjD2jB,EAAc1jB,EAAA,GAAE2jB,EAAiB3jB,EAAA,GACxCG,EAAwC/X,mBAAS,MAAKgY,EAAA9X,YAAA6X,EAAA,GAA/CuO,EAAYtO,EAAA,GAAEuO,EAAevO,EAAA,GAY9BkD,EAAoB,SAACnV,GACvBA,EAAQi1B,EAAUn1B,QAAUE,GAAS,GACrC6H,KAAKC,KAAK,CACVhQ,MAAO,gBACPe,KAAM,wDACNkP,KAAM,WACNqN,kBAAkB,EAClBC,kBAAmB,eACnBC,iBAAkB,eAClBnN,mBAAmB,IAChBhM,MAAK,SAACoZ,GACLA,EAAOC,aACPpa,IACCqa,OAAO,aAAD5Z,OAAco5B,EAAUj1B,GAAOhF,KACrCmB,MAAK,SAACC,GAEHq5B,OAEHj5B,OAAM,SAAUC,GAEboL,KAAKC,KAAK,CACVC,KAAM,QACNjQ,MAAO,QACPe,KAAM4D,EAAML,SAASG,KAAK0L,QAC1BE,mBAAmB,WAwCzBstB,EAAe,SAACl6B,GAClBH,IAAMc,IAAI,YAAa,CAAEX,gBACxBY,MAAK,SAACC,GACH,IAAI64B,EAAY,GAChB74B,EAASG,KAAK+C,KAAI,SAAAiB,GACd,IAAIm1B,EAAWn1B,EAUf,OADA00B,EAAU1rB,KAAKmsB,GACRA,KAGXR,EAAaD,GACbG,EAAiBH,MAEpBz4B,OAAM,SAAUC,GAEbJ,QAAQC,IAAIG,MAEfN,MAAK,gBAwBV,OANAjB,qBAAU,WACN,IAAMC,EAASC,IAAMC,YAAYF,SAEjC,OADAs6B,EAAat6B,EAAOnG,OACb,kBAAMmG,EAAOK,OAAO,oCAC5B,IAGC2B,eAACuJ,KAAG,CACA9J,GAAI,CACJqH,OAAQ,OACRgH,SAAU,OACV3R,QAAS,aACP2D,SAAA,CAEFP,cAACwM,KAAM,CACH9B,UAAWgC,IACXC,GAAG,yBACH0S,UAAWrf,cAACsf,KAAO,IAAI/e,SACtB,iBAGLP,cAACsW,KAAK,CACFpW,GAAI,CACA8G,UAAW,OACXpK,QAAS,WACTuN,QAAS,OACT2V,SAAU,OACVxS,eAAgB,gBAClB/M,SAENP,cAAC+L,KAAS,CACNG,MAAM,cACN7C,QAAQ,WACRgc,WA9CS,SAAChU,GAClB,GAAc,UAAVA,EAAE6T,IAAiB,CACnB,IAAM+T,EAAoBR,EACzBviB,QAAO,SAAC8iB,GAAQ,OACbA,EAAShB,MACJkB,WACA9T,cACAhP,SAASyiB,EAAezT,kBAEjCoT,EAAaS,KAsCThgC,MAAO4/B,EACPhmB,SAAU,SAACxB,GAAC,OAAKynB,EAAkBznB,EAAEoF,OAAOxd,YAGhD+G,cAAC2a,GAAoB,CACjBC,QAAS0d,GACTzlB,SA7JgB,SAACuN,GACzBwY,EAAiBxY,IA6JTpL,SAAU2jB,IAEd34B,cAAC2U,GAAQ,CACLvZ,MAAM,YACNwZ,KAAM2jB,EAAU31B,KAAI,SAAArD,EAeZ+D,GAAK,IAbDhF,EAAEiB,EAAFjB,GACA05B,EAAKz4B,EAALy4B,MACAmB,EAAG55B,EAAH45B,IACAp1B,EAAGxE,EAAHwE,IACAq1B,EAAQ75B,EAAR65B,SACA5T,EAASjmB,EAATimB,UACA6T,EAAU95B,EAAV85B,WACAC,EAAQ/5B,EAAR+5B,SACAC,EAAQh6B,EAARg6B,SACAC,EAAOj6B,EAAPi6B,QACAp1B,EAAM7E,EAAN6E,OACG6O,EAAShQ,YAAA1D,EAAA2D,IAAA,OAAAC,YAAA,CAIhB7E,KACAgF,QACA00B,MAAOA,EACPyB,KAAMN,EACNp1B,IAAKA,EACLq1B,SAAUA,EACV5T,UAAWA,EACX6T,WAAYA,EACZC,SAAUA,EACVC,SAAUA,EACVC,QAASA,EACTp1B,OAAQA,EACRgV,KACIpZ,cAAC4N,KAAU,CACPlD,UAAWgC,IACXC,GAAI,CACAua,SAAU,uBACVzuB,MAAO,CAAEugC,SAAUT,EAAUj1B,KAC/B/C,SAEFP,cAACkU,KAAQ,MAGjB6E,OACI/Y,cAAC4N,KAAU,CACPE,QAAS,SAAClD,GACNA,EAAMC,iBACN4N,EAAkBnV,IACpB/C,SAEFP,cAACmU,KAAU,OAGhBlB,MAGXf,QAASA,GAAQtP,KAAI,SAAC4d,EAAQC,GACtB,OAAIA,EAAI,GAAKA,EAAI,GACTkY,EAAcp0B,MAAK,SAACm1B,GAAG,OAAKA,IAAQlZ,EAAOtU,SACpCsU,OAEP,EAEDA,KAEVtK,QAAO,SAACsK,GAAM,YAAgBG,IAAXH,KAExBlH,cAAeb,EACf9E,kBAzLkB,SAACqB,GAC3B7J,KAAKC,KAAK,CACNhQ,MAAO,gBACPe,KAAM,0DACNkP,KAAM,WACNqN,kBAAkB,EAClBC,kBAAmB,eACnBC,iBAAkB,iBAClBnN,mBAAmB,IACpBhM,MAAK,SAACoZ,GACDA,EAAOC,aACXpa,IACKqa,OAAO,aAAc,CACtBlZ,KAAM,CAAE0Z,IAAKvE,KAEZvV,MAAK,SAACC,GACPq5B,OAECj5B,OAAM,SAAUC,GAEjBoL,KAAKC,KAAK,CACNC,KAAM,QACNjQ,MAAO,QACPe,KAAM4D,EAAML,SAASG,KAAK0L,QAC1BE,mBAAmB,IAEvB9L,QAAQC,IAAIG,UAgKZonB,cAhOc,SAAC9V,GACvBA,EAAExG,iBACyBiZ,EAAN,OAAjBD,EAAuCxS,EAAEtG,cACxB,eChEhBmX,GAAcC,aAAO5S,KAAP4S,EAAa,SAAA5iB,GAAQA,EAALa,MAAK,MAAQ,CACtDiC,gBAAiBoS,KAAK,KACtB7X,QAAS,WAGEwlB,GAAkBD,aAAOxS,KAAPwS,EAAiB,SAAAtf,GAAQA,EAALzC,MAAK,MAAQ,CAC9DiC,gBAAiBoS,KAAK,KACtB4N,UAAU,oCACVpmB,OAAQ,SACR6jB,SAAU,WAGCwC,GAAsBH,aAAOlS,KAAPkS,EAAqB,SAAA9e,GAAQA,EAALjD,MAAK,MAAQ,CACtEtE,MAAOymB,KAAO,SAGHC,GAAqB,SAAHhc,GAAeA,EAATlC,UAAyC,IAA9Bme,EAAMjc,EAANic,OAAQpe,EAAcmC,EAAdnC,eACtD,OACErE,cAACgK,KAAG,CAACtG,UAAU,OAAOyG,QAAQ,OAAO2V,SAAS,OAAO3kB,WAAW,SAAQoF,SACrE,CAACkiB,EAAQpe,GAAgBzB,KAAI,SAACiB,EAAMP,GAAK,OACxCtD,cAACiI,IAAU,CAEToB,QAAQ,OACRnJ,GAAI,CACFpE,MAAO,QACPhB,MAAiB,IAAVwI,EAAc,IAAM,GAC3Bof,WAAY,SACZnU,SAAU,SACVoU,aAAc,WACdvmB,UAAW,SACXiG,gBAAiBkgB,KAAO,KACxBxnB,SAAU,CAAC,OAAQ,QACnB6B,QAAS,QACTX,OAAQ,iBACR2mB,WAAY,EACZpU,aAAc,OACdjO,SAEDsD,GAjBIP,S,4UC0BTklB,GAAW,SAACnrB,GAChB,IAAQkD,EAAqClD,EAArCkD,SAAUtH,EAA2BoE,EAA3BpE,MAAOqK,EAAoBjG,EAApBiG,MAAUmlB,EAAKxlB,YAAK5F,EAAK6F,IAElD,OACElD,cAAA,MAAAmD,wBAAA,CACE6T,KAAK,WACL0R,OAAQzvB,IAAUqK,EAClBhF,GAAE,mBAAAa,OAAqBmE,GACvB,gCAAAnE,OAA+BmE,IAC3BmlB,GAAK,IAAAloB,SAERtH,IAAUqK,GAAStD,cAACgK,KAAG,CAAC9J,GAAI,CAAEgT,EAAG,oBAAqB3S,SAAEA,QAgB/D,IAAMooB,GAAe,CACnB,CACErqB,GAAI,OAEN,CACEA,GAAI,YACJ4B,GAAI,CAAEpF,MAAO,KACbkY,SAAS,GAEX,CACE1U,GAAI,QACJ4N,MAAO,SAET,CACE5N,GAAI,QACJ4N,MAAO,SAET,CACE5N,GAAI,YACJ4N,MAAO,SAET,CACE5N,GAAI,UACJ4N,MAAO,WAET,CACE5N,GAAI,MACJ4N,MAAO,OAET,CACE5N,GAAI,aACJ4N,MAAO,eAET,CACE5N,GAAI,YACJ4N,MAAO,cAET,CACE5N,GAAI,YACJ4N,MAAO,cAET,CACE5N,GAAI,eACJ4N,MAAO,iBAET,CACE5N,GAAI,eACJ4N,MAAO,iBAET,CACE5N,GAAI,eACJ4N,MAAO,YAET,CACE5N,GAAI,gBACJ4N,MAAO,uBAET,CACE5N,GAAI,SACJ4N,MAAO,gBAET,CACE5N,GAAI,eACJ4N,MAAO,YAET,CACE5N,GAAI,cACJ4N,MAAO,YAIL0c,GAAmB,CACvB,cACA,aACA,aACA,gBACA,gBACA,WACA,sBACA,eACA,WACA,WAGIC,GAAc,CAClB,CACEvqB,GAAI,OAEN,CACEA,GAAI,YACJ4B,GAAI,CAAEpF,MAAO,KACbkY,SAAS,GAEX,CACE1U,GAAI,eACJ4N,MAAO,YAET,CACE5N,GAAI,QACJ4N,MAAO,SAET,CACE5N,GAAI,YACJ4N,MAAO,SAET,CACE5N,GAAI,UACJ4N,MAAO,WAET,CACE5N,GAAI,MACJ4N,MAAO,OAET,CACE5N,GAAI,QACJ4N,MAAO,SAET,CACE5N,GAAI,UACJ4N,MAAO,YAET,CACE5N,GAAI,WACJ4N,MAAO,aAET,CACE5N,GAAI,WACJ4N,MAAO,aAET,CACE5N,GAAI,SACJ4N,MAAO,gBAET,CACE5N,GAAI,eACJ4N,MAAO,YAET,CACE5N,GAAI,cACJ4N,MAAO,YAIL4c,GAAkB,CACtB,QACA,WACA,YACA,YACA,eACA,WACA,WAGIC,GAAmB,CACvB,CACEzqB,GAAI,OAEN,CACEA,GAAI,YACJ4B,GAAI,CAAEpF,MAAO,KACbkY,SAAS,GAEX,CACE1U,GAAI,OACJ4N,MAAO,QAET,CACE5N,GAAI,WACJ4N,MAAO,YAET,CACE5N,GAAI,YACJ4N,MAAO,SAET,CACE5N,GAAI,UACJ4N,MAAO,WAET,CACE5N,GAAI,MACJ4N,MAAO,OAET,CACE5N,GAAI,SACJ4N,MAAO,gBAET,CACE5N,GAAI,eACJ4N,MAAO,YAET,CACE5N,GAAI,cACJ4N,MAAO,YAgBI9O,gBArNf,SAAyB3E,GAEvB,MAAO,CAAET,KADQS,EAATT,QAoNKoF,EAAyB,SAACC,GACvC,IAAM+C,EAAQgb,eAEN6N,EAAiD5rB,EAAjD4rB,cAAe0Q,EAAkCt8B,EAAlCs8B,gBAAiBxQ,EAAiB9rB,EAAjB8rB,YAExC7rB,EAAwBC,mBAAS4rB,GAAY3rB,EAAAC,YAAAH,EAAA,GAAtCiwB,EAAI/vB,EAAA,GAAEgwB,EAAOhwB,EAAA,GACpBI,EAA4CL,mBAAS,OAAMY,EAAAV,YAAAG,EAAA,GAApD+vB,EAAcxvB,EAAA,GAAEyvB,EAAiBzvB,EAAA,GACxC2W,EAAsCvX,mBAAS,SAAQwX,EAAAtX,YAAAqX,EAAA,GAAhDiW,EAAWhW,EAAA,GAAEiW,EAAcjW,EAAA,GAClCG,EAAkC3X,mBAAS,IAAG4X,EAAA1X,YAAAyX,EAAA,GAAvCiW,EAAShW,EAAA,GAAEiW,EAAYjW,EAAA,GAC9BG,EAAoC/X,mBAAS,GAAEgY,EAAA9X,YAAA6X,EAAA,GAAxCskB,EAAUrkB,EAAA,GAAEskB,EAAatkB,EAAA,GAChCG,EAAsCnY,mBAAS,IAAGoY,EAAAlY,YAAAiY,EAAA,GAA3CokB,EAAWnkB,EAAA,GAAEokB,EAAcpkB,EAAA,GAGlCkG,EAAwCte,mBAAS,GAAEue,EAAAre,YAAAoe,EAAA,GAA9BwN,GAAFvN,EAAA,GAAiBA,EAAA,IACpCE,EAA8Cze,mBAAS,QAAO0e,EAAAxe,YAAAue,EAAA,GAAtCsN,GAAFrN,EAAA,GAAoBA,EAAA,IAC1CG,EAAsC7e,mBAAS,WAAU8e,EAAA5e,YAAA2e,EAAA,GAArCmN,GAAFlN,EAAA,GAAgBA,EAAA,IAClCG,EAAsCjf,mBAAS,YAAWkf,EAAAhf,YAAA+e,EAAA,GAAtCgN,GAAF/M,EAAA,GAAgBA,EAAA,IAClCG,EAAgCrf,mBAAS,IAAGsf,EAAApf,YAAAmf,EAAA,GAA3B6M,GAAF5M,EAAA,GAAaA,EAAA,IAC5BG,EAAkCzf,mBAAS,KAAI0f,EAAAxf,YAAAuf,EAAA,GAA7B0M,GAAFzM,EAAA,GAAcA,EAAA,IAC9BwE,GAAgClkB,mBAAS,KAAImkB,GAAAjkB,YAAAgkB,GAAA,GAA5BkI,IAAFjI,GAAA,GAAaA,GAAA,IAC5B2C,GAAwC9mB,mBAAS,IAAG+mB,GAAA7mB,YAAA4mB,GAAA,GAA/BuF,IAAFtF,GAAA,GAAiBA,GAAA,IACpCgG,GAAkD/sB,mBAAS,GAAEgtB,GAAA9sB,YAAA6sB,GAAA,GAAnCT,IAAFU,GAAA,GAAsBA,GAAA,IAC9CG,GAA8CntB,mBAAS,IAAGotB,GAAAltB,YAAAitB,GAAA,GAAlCZ,IAAFa,GAAA,GAAoBA,GAAA,IAC1CE,GAAkCttB,mBAAS,IAAGutB,GAAArtB,YAAAotB,GAAA,GAA5Bb,IAAFc,GAAA,GAAcA,GAAA,IAMxBkP,GAAYjkB,iBAAO,MACzBkV,GAAsC1tB,mBAAS,GAAE2tB,GAAAztB,YAAAwtB,GAAA,GAA1Cf,GAAWgB,GAAA,GAAEf,GAAce,GAAA,GAElCG,GAA8B9tB,oBAAS,GAAM+tB,GAAA7tB,YAAA4tB,GAAA,GAAtCjB,GAAOkB,GAAA,GAAEjB,GAAUiB,GAAA,GAC1BG,GAAsCluB,oBAAS,GAAMmuB,GAAAjuB,YAAAguB,GAAA,GAA9CjB,GAAWkB,GAAA,GAAEjB,GAAciB,GAAA,GAElCG,GAAoCtuB,oBAAS,GAAMuuB,GAAAruB,YAAAouB,GAAA,GAA5ChnB,GAAUinB,GAAA,GAAElB,GAAakB,GAAA,GAGhCG,GAAwB1uB,mBAASo8B,EAAgBj3B,MAAKwpB,GAAAzuB,YAAAwuB,GAAA,GAEtDI,IAFWH,GAAA,GAASA,GAAA,GAEkB3uB,mBAAS,KAAG+uB,GAAA7uB,YAAA4uB,GAAA,GAA3C6B,GAAW5B,GAAA,GAAE6B,GAAc7B,GAAA,GAClCG,GAAoClvB,mBAAS,IAAGmvB,GAAAjvB,YAAAgvB,GAAA,GAAzC6B,GAAU5B,GAAA,GAAE6B,GAAa7B,GAAA,GAChCG,GAA8CtvB,mBAAS,IAAGuvB,GAAArvB,YAAAovB,GAAA,GAAnD6B,GAAe5B,GAAA,GAAE6B,GAAkB7B,GAAA,GAC1CG,GAAsD1vB,mBAAS,IAAG2vB,GAAAzvB,YAAAwvB,GAAA,GAA3D6B,GAAmB5B,GAAA,GAAE6B,GAAsB7B,GAAA,GAClDG,GAAsC9vB,mBAAS,GAAE+vB,GAAA7vB,YAAA4vB,GAAA,GAA1C6B,GAAW5B,GAAA,GAAE6B,GAAc7B,GAAA,GAElCG,GAA0ClwB,mBAAS,IAAGmwB,GAAAjwB,YAAAgwB,GAAA,GAA/C6B,GAAa5B,GAAA,GAAE6B,GAAgB7B,GAAA,GACtCG,GAAwCtwB,mBAAS,IAAGuwB,GAAArwB,YAAAowB,GAAA,GAA7C6B,GAAY5B,GAAA,GAAE6B,GAAe7B,GAAA,GAGpCE,GAAgDzwB,mBAAS,MAAK0wB,GAAAxwB,YAAAuwB,GAAA,GAAvD8B,GAAgB7B,GAAA,GAAE8B,GAAmB9B,GAAA,GAC5CG,GAAgD7wB,mBAAS,MAAK8wB,GAAA5wB,YAAA2wB,GAAA,GAAvD8B,GAAgB7B,GAAA,GAAE8B,GAAmB9B,GAAA,GAC5CG,GAAoDjxB,mBAAS,MAAKkxB,GAAAhxB,YAAA+wB,GAAA,GAA3D8B,GAAkB7B,GAAA,GAAE8B,GAAqB9B,GAAA,GAChDG,GAA8CrxB,mBAAS,MAAKsxB,GAAApxB,YAAAmxB,GAAA,GAArD8B,GAAe7B,GAAA,GAAE8B,GAAkB9B,GAAA,GAC1CG,GAA8CzxB,mBAAS,MAAK0xB,GAAAxxB,YAAAuxB,GAAA,GAArD8B,GAAe7B,GAAA,GAAE8B,GAAkB9B,GAAA,GAC1CG,GAA8D7xB,mBAAS,OAAM8xB,GAAA5xB,YAAA2xB,GAAA,GAAtE8B,GAAuB7B,GAAA,GAAE8B,GAA0B9B,GAAA,GAE1DG,GAAgEjyB,mBAAS,IAAGkyB,GAAAhyB,YAAA+xB,GAAA,GAArEsC,GAAwBrC,GAAA,GAAEsC,GAA2BtC,GAAA,GAC5DG,GAA8DryB,mBAAS,IAAGsyB,GAAApyB,YAAAmyB,GAAA,GAAnEsC,GAAuBrC,GAAA,GAAEsC,GAA0BtC,GAAA,GAmI1DrxB,qBAAU,WACR,IAlIwBK,EAkIlBJ,EAASC,IAAMC,YAAYF,SAQjC,OA1IwBI,EAmIPJ,EAAOnG,MAlIxBoG,IACGc,IAAI,uBAAwB,CAAEX,gBAC9BY,MAAK,SAACC,GAEL6vB,GAAiB7vB,EAASG,SAE3BC,OAAM,SAAUC,GAEfJ,QAAQC,IAAIG,MAEbN,MAAK,eAKc,SAACZ,GACvBH,IACGc,IAAI,sBAAuB,CAAEX,gBAC7BY,MAAK,SAACC,GAELiwB,GAAgBjwB,EAASG,SAE1BC,OAAM,SAAUC,GAEfJ,QAAQC,IAAIG,MAEbN,MAAK,eAyGR2yB,CAAgB3zB,EAAOnG,OApGI,SAACuG,GAC5BH,IACGc,IAAI,2BAA4B,CAAEX,gBAClCY,MAAK,SAACC,OAINI,OAAM,SAAUC,GAEfJ,QAAQC,IAAIG,MAEbN,MAAK,eA0FR4yB,CAAqB5zB,EAAOnG,OArFP,SAACuG,GACtBH,IACGc,IAAI,cAAe,CAAEX,gBACrBY,MAAK,SAACC,GAELyuB,GAAezuB,EAASG,SAEzBC,OAAM,SAAUC,GAEfJ,QAAQC,IAAIG,MAEbN,MAAK,eA2ER6yB,CAAe7zB,EAAOnG,OAtEF,SAACuG,GACrBH,IACGc,IAAI,aAAc,CAAEX,gBACpBY,MAAK,SAACC,GAEL6uB,GAAc7uB,EAASG,SAExBC,OAAM,SAAUC,GAEfJ,QAAQC,IAAIG,MAEbN,MAAK,eA4DR8yB,CAAc9zB,EAAOnG,OAvDI,SAACuG,GAC1BH,IACGc,IAAI,kBAAmB,CAAEX,gBACzBY,MAAK,SAACC,GAELivB,GAAmBjvB,EAASG,MAC5BkvB,GAAuBrvB,EAASG,SAEjCC,OAAM,SAAUC,GAEfJ,QAAQC,IAAIG,MAEbN,MAAK,eA4CR+yB,CAAmB/zB,EAAOnG,OAvCR,SAACuG,GACnBH,IACGc,IAAI,aAAem6B,EAAgBr7B,GAAI,CAAEO,gBACzCY,MAAK,SAACC,GACL,IAAAoK,EAAqDpK,EAASG,KAAtDo6B,EAAanwB,EAAbmwB,cAAeC,EAAYpwB,EAAZowB,aAAcC,EAAWrwB,EAAXqwB,YAE/BlU,EAAWgU,EAAcr3B,KAAI,SAAArD,GAAA,IAAG66B,EAAG76B,EAAH66B,IAAKX,EAAIl6B,EAAJk6B,KAAM11B,EAAGxE,EAAHwE,IAAiB,OAAAd,YAAA1D,EAAAkE,IAAQ,CACxEsnB,YAAa,QACbI,UAAWiP,EACXN,YAAaL,EACbG,WAAY71B,MAEX5E,OACC+6B,EAAat3B,KAAI,SAAAC,GAAA,IAAGu3B,EAAGv3B,EAAHu3B,IAAKX,EAAI52B,EAAJ42B,KAAM11B,EAAGlB,EAAHkB,IAAiB,OAAAd,YAAAJ,EAAA4D,IAAQ,CACtDskB,YAAa,OACbI,UAAWiP,EACXN,YAAaL,EACbG,WAAY71B,OAGf5E,OACCg7B,EAAYv3B,KAAI,SAAAS,GAAA,IAAG+2B,EAAG/2B,EAAH+2B,IAAKX,EAAIp2B,EAAJo2B,KAAM11B,EAAGV,EAAHU,IAAiB,OAAAd,YAAAI,EAAAsD,IAAQ,CACrDokB,YAAa,YACbI,UAAWiP,EACXR,WAAY71B,EACZ+1B,YAAaL,OAGnBjM,EAAQvH,MAYZoU,CAAY57B,EAAOnG,OACZ,kBAAMmG,EAAOK,OAAO,oCAC1B,IAEH,IA+JMw7B,GAAa,eAAA9zB,EAAAsX,aAAAC,KAAAC,MAAG,SAAAC,EAAO5M,GAAC,IAAA4jB,EAAA,OAAAlX,KAAA5c,MAAA,SAAAid,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,OAiBe,GAhB3CjN,EAAExG,iBAEFwe,EAAgB,GAChBC,EAAmB,QACnBC,EAAe,WACfC,EAAe,YACfC,EAAY,IACZC,EAAa,KACbC,GAAY,KACZC,GAAgB,IAChBC,GAAqB,GACrBC,GAAmB,IACnBE,GAAa,IAEbS,IAAe,GAEF,IAAIzf,SAASqG,EAAEtG,eAEL,QAAnB4iB,EAAwB,CAAAvP,EAAAE,KAAA,YACrBzZ,KAAc0oB,EAAKhpB,MAAK,SAACV,GAAI,MAA0B,SAArBA,EAAKknB,aAA0BlnB,EAAKsnB,YAAcA,IAActnB,EAAKgB,cAAW,CAAAuZ,EAAAE,KAAA,SACH,OAAlHnT,KAAKC,KAAK,CAACC,KAAM,UAAWjQ,MAAO,UAAWe,KAAM,iCAAkCsP,mBAAmB,IAAS2S,EAAAoX,OAAA,kBAIpHhI,EAAQD,EAAKpuB,OAAO,CAAE4rB,cAAaI,YAAWyO,aAAYE,iBACxD1b,EAAAE,KAAA,iBAC0B,SAAnBqP,IACHsH,EAAU1H,EAAK3qB,KAAI,SAACiB,GACxB,MAAyB,SAArBA,EAAKknB,aAA0BlnB,EAAKsnB,YAAcA,EAC7CtnB,EAEF,CAAEknB,cAAaI,YAAWyO,aAAYE,kBAG/CtM,EAAQyH,IACT,yBAAA7W,EAAAS,UAAAZ,OACF,gBArCkBa,GAAA,OAAAtY,EAAAuY,MAAA,KAAAC,YAAA,GAuCnB,OACEve,eAACuJ,KAAG,CACF9J,GAAI,CACFqH,OAAQ,OACRgH,SAAU,OACV3R,QAAS,uBACT2D,SAAA,CAEFP,cAACyyB,KAAO,CAACC,WAAYxI,GAAahqB,GAAI,CAAE4f,SAAU,QAASvf,SA9XjD,CACZ,sBACA,mBA6XWqC,KAAI,SAACsJ,EAAO5I,GACjB,IAhNcqvB,EAgNRC,EAAa,GAWnB,OA3NcD,EAiNGrvB,GAhNG,OAAtB02B,GAAUhkB,SAAoBkU,GAAc,GAAc,IAATyI,GAC3CqH,GAAUhkB,QAAQ6c,gBAEV,IAAhBtF,EAAKnqB,QACL8mB,GAAc,GACL,IAATyI,KA4MMC,EAAWE,SACT9yB,cAACiI,IAAU,CAACoB,QAAQ,UAAUvN,MAAM,QAAOyE,SACxC,CAAC,gBAAiB,4BAA4B+C,KAInDsvB,EAAW7yB,OAAQ,GAInBC,cAAC+yB,KAAI,CAAa7yB,GAAI,CAAEgmB,GAAI,QAAS3lB,SACnCP,cAACgzB,KAAS7vB,wBAAA,GAAKyvB,GAAU,IAAAryB,SAAG2L,MADnBA,QAMjBzL,eAACuJ,KAAG,CACF9J,GAAI,CAAE+J,GAAI,OAAQC,GAAI,QACtB4d,IAAKkS,GACLtR,OAAwB,IAAhBwB,GACRxf,UAAU,OACV/G,SAAS,KACTsI,WAAS,EACTtB,SAAU,SAAC0G,GACTA,EAAExG,iBACFsf,GAAe,IACf5pB,SAAA,CAEFE,eAAC6V,KAAK,CACJpW,GAAI,CACFgT,EAAG,OACH/I,QAAS,OACT2V,SAAU,OACVxS,eAAgB,iBAChB/M,SAAA,CAEFP,cAACiI,IAAU,CAACoB,QAAQ,KAAKnJ,GAAI,CAAEwD,UAAW,OAAQiL,SAAU,QAASpO,SAAC,kBAGrE,CACC,CAAErI,KAAM,WAAYgU,MAAO,WAAY/C,KAAM,OAASiE,aAAcusB,EAAgBJ,SAAUz+B,MAAO,OAAQkR,UAAU,GACvH,CAAE9T,KAAM,WAAYgU,MAAO,WAAY/C,KAAM,OAASiE,aAAcusB,EAAgBL,SAAUx+B,MAAO,OAAQkR,UAAU,GACvH,CAAE9T,KAAM,SAAUgU,MAAO,SAAU/C,KAAM,OAASiE,aAAcusB,EAAgBv1B,OAAQtJ,MAAO,SAE/F8H,KAAI,SAAA8D,EAAoCpD,GAAzBoD,EAARusB,SAAsC,IAA5Bn4B,EAAK4L,EAAL5L,MAAUmY,EAAShQ,YAAAyD,EAAAe,IAAA,OAElCzH,cAAC+L,KAAS5I,YAAA,CAERjD,GAAI,CAAEwD,UAAW5I,EAAO6T,SAAU7T,GAClCmmB,gBAAiB,CAAEC,QAAQ,IACvBjO,GAHC3P,SAQbtD,cAACwM,KAAM,CAACrD,KAAK,SAASjJ,GAAI,CAAE8G,UAAW,OAAQiT,MAAO,SAAU1Z,SAAC,YAIlD,IAAhB2pB,IACCzpB,eAAAsJ,WAAA,CAAAxJ,SAAA,CACGgtB,EAAKnqB,OAAS,GACbpD,cAACsW,KAAK,CAAA/V,SACJP,cAACkiB,GAAW,CAAChiB,GAAI,CAAEmzB,GAAI,QAAS9yB,SAC7BgtB,EAAK3qB,KAAI,SAACiB,EAAMP,GAAK,OACpB7C,eAAC2hB,GAAe,CAEdvS,gBACEpP,eAACC,WAAQ,CAAAH,SAAA,CACPP,cAAC4N,KAAU,CACTE,QAAS,SAAClD,GACRA,EAAMC,iBAvPN,SAAChH,GACzB+pB,EAAkB,QAClB5C,EAAennB,EAAKknB,aACpBK,EAAavnB,EAAKsnB,WAClB0O,EAAch2B,EAAK+1B,YACnBG,EAAel2B,EAAKi2B,aAEK,UAArBj2B,EAAKknB,aAAgD,cAArBlnB,EAAKknB,YACvCV,IAAW,GACmB,SAArBxmB,EAAKknB,cACdH,GAAc/mB,EAAKgB,YACnB4kB,EAAY5lB,EAAKqB,UACjB4kB,GAAmBjmB,EAAKuB,iBACxBikB,EAAgBxlB,EAAKwB,cACrBikB,EAAmBzlB,EAAKyB,iBACxBikB,EAAe1lB,EAAK0B,aACpBmkB,EAAa7lB,EAAKkB,WAClBykB,EAAe3lB,EAAKiB,aACpB+kB,GAAqBhmB,EAAKsB,mBAC1BykB,GAAgB/lB,EAAKoB,cACrB0kB,GAAY9lB,EAAKmB,UACjBglB,GAAanmB,EAAKskB,cAElBsC,IAAe,IAiOO+I,CAAkB3vB,IAClBtD,SAEFP,cAACkU,KAAQ,MAEXlU,cAAC4N,KAAU,CACTE,QAAS,SAAClD,GACRA,EAAMC,iBACN2iB,EACED,EAAKrX,QACH,SAACud,EAASC,GAAY,OACpBA,IAAiBpwB,OAGvB/C,SAEFP,cAACmU,KAAU,SAGhB5T,SAAA,CAEqB,UAArBsD,EAAKknB,aACJ/qB,cAACsiB,GAAmB,CAClBpS,QAAO,UAAA/Q,OAAY0E,EAAKi2B,aACxBjS,UAAS,GAAA1oB,OAAK0E,EAAKK,aAAe,aAAe,IAAE/E,OAC9C0E,EAAKM,cAAgB,UAAY,MAGpB,SAArBN,EAAKknB,aACJ/qB,cAACsiB,GAAmB,CAClBpS,QAAO,SAAA/Q,OAAW0E,EAAKi2B,YAAW,KAClCjS,UACEhkB,EAAKgB,WAAU,GAAA1F,OACR0E,EAAKiB,YAAW,MAAA3F,OAAK0E,EAAKqB,SAAQ,MAAA/F,OAAK0E,EAAKkB,UAAS,KAAA5F,OAAI0E,EAAKmB,SAAQ,KAAA7F,OAAI0E,EAAKoB,aAAY,MAAA9F,OAAK0E,EAAKsB,kBAAiB,MAAAhG,OAAK0E,EAAKuB,gBAAe,MAAAjG,OAAK0E,EAAKwB,aAAY,KAAAlG,OAAI0E,EAAK0B,aACjL,oBAIY,cAArB1B,EAAKknB,aACJ/qB,cAACsiB,GAAmB,CAClBpS,QAAO,cAAA/Q,OAAgB0E,EAAKi2B,aAC5BjS,UAAS,GAAA1oB,OAAK0E,EAAKO,UAGvBpE,cAACwiB,GAAkB,CACjBC,OAAM,QAAAtjB,OAAU0E,EAAK+1B,YACrBv1B,eAAc,GAAAlF,OAAK0E,EAAK0vB,2BApDrBjwB,UA2Df7C,eAAC6V,KAAK,CAACpW,GAAI,CAAEgmB,GAAI,QAAS3lB,SAAA,CACxBP,cAACgK,KAAG,CAAC9J,GAAI,CAAE1D,aAAc,EAAGm3B,YAAa,WAAYpzB,SACnDE,eAACmzB,KAAI,CACH36B,MAAOi2B,GACPrc,SAAU,SAACjI,EAAO3R,GAChB2R,EAAMC,iBACNskB,GAAel2B,IAEjB,aAAW,qBAAoBsH,SAAA,CAE/BP,cAAC6zB,KAAG,CAAC3nB,MAAM,WACXlM,cAAC6zB,KAAG,CAAC3nB,MAAM,UACXlM,cAAC6zB,KAAG,CAAC3nB,MAAM,qBAGfzL,eAAC+nB,GAAQ,CAACvvB,MAAOi2B,GAAa5rB,MAAO,EAAE/C,SAAA,CACrCP,cAACsW,KAAK,CACJpW,GAAI,CACF8G,UAAW,OACXpK,QAAS,WACTuN,QAAS,OACT2V,SAAU,OACVxS,eAAgB,gBAChB/M,SAED,CACC,CACE2L,MAAO,QACPjT,MAAO62B,GACPjd,SAAU,SAACjI,EAAO3R,GAChB2R,EAAMC,iBACNklB,GAAoB92B,GACpBk3B,GAAoB,OAEtBvV,QAAS0U,GACN1sB,KAAI,SAACiB,GAAI,OAAKA,EAAKG,SACnBkS,QAAO,SAAC6J,EAAGzc,EAAO0c,GAAK,OAAKA,EAAMjJ,QAAQgJ,KAAOzc,MAEtD,CACE4I,MAAO,QACPjT,MAAOi3B,GACPrd,SAAU,SAACjI,EAAO3R,GAChB2R,EAAMC,iBACNslB,GAAoBl3B,IAEtB2hB,QAAS0U,GACNpZ,QACC,SAACrS,GAAI,OACFisB,IAAoBjsB,EAAKG,QAAU8rB,MAEvCltB,KAAI,SAACiB,GAAI,OAAKA,EAAKI,SACnBiS,QAAO,SAAC6J,EAAGzc,EAAO0c,GAAK,OAAKA,EAAMjJ,QAAQgJ,KAAOzc,OAEtDV,KAAI,SAAAsE,EAAsB5D,GAAK,IAAxB4I,EAAKhF,EAALgF,MAAU7O,EAAK4F,YAAAiE,EAAAS,IAAA,OACtB3H,cAACigB,KAAY9c,YAAA,CAEXjD,GAAI,CAAEwD,UAAW,QAASC,SAAU,SACpCuc,YAAa,SAACC,GAAM,OAClBngB,cAAC+L,KAAS5I,wBAAA,GAAKgd,GAAM,IAAEjU,MAAOA,OAE5B7O,GALCiG,QASXtD,cAAC2a,GAAoB,CACnBC,QAASgO,GACT/V,SAvXmB,SAACuN,GAChC2R,GAA4B3R,IAuXhBpL,SAAU8c,KAEZ9xB,cAAC2U,GAAQ,CACPtC,WAAW,EACXjX,MAAM,eACNwZ,KAAMsZ,GACHtrB,KACC,SAAA4E,EASElE,GAAK,IAPH4a,EAAY1W,EAAZ0W,aACAha,EAAYsD,EAAZtD,aACAC,EAAaqD,EAAbrD,cACAuZ,EAAYlW,EAAZkW,aACAC,EAAWnW,EAAXmW,YACG1K,EAAShQ,YAAAuE,EAAAK,IAAA,OAAA1E,YAAA,CAIdkd,UACErgB,cAAA,KACEwJ,KAAK,IACLsE,QAAS,SAACuD,GACRA,EAAExG,iBACFM,KAAKC,KAAK,CACRE,KAAK,kCAADnM,OAAoC+e,EAAY,QACpDoC,iBAAiB,EACjBC,mBAAmB,EACnB9U,mBAAmB,KAErBlL,SAEFP,cAAA,OACEqK,IAAI,GACJvP,MAAM,OACNmC,IAAKihB,EACLhd,MAAO,CAAE8F,UAAW,WAI1B9C,aAAcA,EAAe,MAAQ,KACrCC,cAAeA,EAAgB,MAAQ,KACvC2vB,IACE9zB,cAAC4N,KAAU,CACTE,QAAS,SAAClD,GACRA,EAAMC,iBACF0iB,EAAKhpB,MAAK,SAACV,GAAI,MAA0B,UAArBA,EAAKknB,aAA2BlnB,EAAKsnB,YAAc+C,GAAY5qB,GAAOhF,MAC5F6M,KAAKC,KAAK,CAACC,KAAM,UAAWjQ,MAAO,UAAWe,KAAM,iCAAkCsP,mBAAmB,KAG3Guf,EAAe,SACfI,EAAa8C,GAAY5qB,GAAOhF,IAChCu7B,EAAc,GACdE,EAAe7L,GAAY5qB,GAAOU,MAAQ,MAAQkqB,GAAY5qB,GAAOW,OACrEomB,IAAW,KACX9pB,SAEFP,cAACsf,KAAO,MAGZ5B,aAAe,WACb,GAAqB,OAAjBA,EAAuB,MAAO,KAClC,IAAM+H,EAAc,IAAIvmB,KAAKwe,GAK7B,OAJA+H,EAAYC,WACVD,EAAYE,aACZF,EAAYG,qBAEPH,EAAYI,cAAcC,MAAM,KAAK,GAP/B,GASfnI,YAAc,WACZ,GAAoB,OAAhBA,EAAsB,MAAO,KACjC,IAAM8H,EAAc,IAAIvmB,KAAKye,GAK7B,OAJA8H,EAAYC,WACVD,EAAYE,aACZF,EAAYG,qBAEPH,EAAYI,cAAcC,MAAM,KAAK,GAPhC,IASX7S,MAGNiD,QACC,SAACrS,GAAI,QACDisB,IAAoBjsB,EAAKG,QAAU8rB,OACnCI,IAAoBrsB,EAAKI,QAAUisB,OAE3Che,QAASyW,GACN/lB,KAAI,SAAC4d,EAAQC,GACZ,OAAIA,EAAI,GAEJqR,GAAyBvtB,MACvB,SAACmc,GAAU,OAAKA,IAAeF,EAAOtU,SAGjCsU,KAIZtK,QAAO,SAACsK,GAAM,YAAgBG,IAAXH,UAG1B/f,eAAC+nB,GAAQ,CAACvvB,MAAOi2B,GAAa5rB,MAAO,EAAE/C,SAAA,CACrCP,cAACsW,KAAK,CACJpW,GAAI,CACF8G,UAAW,OACXpK,QAAS,WACTuN,QAAS,OACT2V,SAAU,OACVxS,eAAgB,gBAChB/M,SAED,CACC,CACE2L,MAAO,WACPjT,MAAOq3B,GACPzd,SAAU,SAACjI,EAAO3R,GAChB2R,EAAMC,iBACN0lB,GAAsBt3B,GACtB03B,GAAmB,MACnBI,GAAmB,OAErBnW,QAAS8U,GACN9sB,KAAI,SAACiB,GAAI,OAAKA,EAAK8d,gBACnBzL,QAAO,SAAC6J,EAAGzc,EAAO0c,GAAK,OAAKA,EAAMjJ,QAAQgJ,KAAOzc,MAEtD,CACE4I,MAAO,QACPjT,MAAOy3B,GACP7d,SAAU,SAACjI,EAAO3R,GAChB2R,EAAMC,iBACN8lB,GAAmB13B,GACnB83B,GAAmB,OAErBnW,QAAS8U,GACNxZ,QACC,SAACrS,GAAI,OACFysB,IACDzsB,EAAK8d,eAAiB2O,MAEzB1tB,KAAI,SAACiB,GAAI,OAAKA,EAAKI,SACnBiS,QAAO,SAAC6J,EAAGzc,EAAO0c,GAAK,OAAKA,EAAMjJ,QAAQgJ,KAAOzc,MAEtD,CACE4I,MAAO,QACPjT,MAAO63B,GACPje,SAAU,SAACjI,EAAO3R,GAChB2R,EAAMC,iBACNkmB,GAAmB93B,IAErB2hB,QAAS8U,GACNxZ,QACC,SAACrS,GAAI,OACF6sB,IAAmB7sB,EAAKI,QAAUysB,MAEtC9tB,KAAI,SAACiB,GAAI,OAAKA,EAAK/H,SACnBoa,QAAO,SAAC6J,EAAGzc,EAAO0c,GAAK,OAAKA,EAAMjJ,QAAQgJ,KAAOzc,OAEtDV,KAAI,SAAA8E,EAAsBpE,GAAK,IAAxB4I,EAAKxE,EAALwE,MAAU7O,EAAK4F,YAAAyE,EAAAK,IAAA,OACtB/H,cAACigB,KAAY9c,YAAA,CAEXjD,GAAI,CAAEwD,UAAW,QAASC,SAAU,SACpCuc,YAAa,SAACC,GAAM,OAClBngB,cAAC+L,KAAS5I,wBAAA,GAAKgd,GAAM,IAAEjU,MAAOA,OAE5B7O,GALCiG,QASXtD,cAAC2a,GAAoB,CACnBC,QAASkO,GACTjW,SA7hBkB,SAACuN,GAC/B+R,GAA2B/R,IA6hBfpL,SAAUkd,KAEZlyB,cAAC2U,GAAQ,CACPtC,WAAW,EACXjX,MAAM,kBACNwZ,KAAM0Z,GACH1rB,KACC,SAAAgF,EAEEtE,GAAK,IADH4a,EAAYtW,EAAZsW,aAAcR,EAAY9V,EAAZ8V,aAAcC,EAAW/V,EAAX+V,YAAgB1K,EAAShQ,YAAA2E,EAAAmtB,IAAA,OAAA5xB,YAAA,CAGvDkd,UACErgB,cAAA,KACEwJ,KAAK,IACLsE,QAAS,SAACuD,GACRA,EAAExG,iBACFM,KAAKC,KAAK,CACRE,KAAK,kCAADnM,OAAoC+e,EAAY,QACpDoC,iBAAiB,EACjBC,mBAAmB,EACnB9U,mBAAmB,KAErBlL,SAEFP,cAAA,OACEqK,IAAI,GACJvP,MAAM,OACNmC,IAAKihB,EACLhd,MAAO,CAAE8F,UAAW,WAI1B8sB,IACE9zB,cAAC4N,KAAU,CACTE,QAAS,SAAClD,GACRogB,EAAe,QACfI,EAAakD,GAAWhrB,GAAOhF,IAC/Bu7B,EAAc,GACdE,EAAezL,GAAWhrB,GAAOqe,aAAe,MAAQ2M,GAAWhrB,GAAOW,OAC1E2mB,IAAc,GACdH,IAAe,IACflqB,SAEFP,cAACsf,KAAO,MAGZ5B,aAAe,WACb,GAAqB,OAAjBA,EAAuB,MAAO,KAClC,IAAM+H,EAAc,IAAIvmB,KAAKwe,GAK7B,OAJA+H,EAAYC,WACVD,EAAYE,aACZF,EAAYG,qBAEPH,EAAYI,cAAcC,MAAM,KAAK,GAP/B,GASfnI,YAAc,WACZ,GAAoB,OAAhBA,EAAsB,MAAO,KACjC,IAAM8H,EAAc,IAAIvmB,KAAKye,GAK7B,OAJA8H,EAAYC,WACVD,EAAYE,aACZF,EAAYG,qBAEPH,EAAYI,cAAcC,MAAM,KAAK,GAPhC,IASX7S,MAGNiD,QACC,SAACrS,GAAI,QACDysB,IACAzsB,EAAK8d,eAAiB2O,OACtBI,IAAmB7sB,EAAKI,QAAUysB,OAClCI,IAAmBjtB,EAAK/H,QAAUg1B,OAE1C5e,QAAS2W,GACNjmB,KAAI,SAAC4d,EAAQC,GACZ,OAAIA,EAAI,GAEJyR,GAAwB3tB,MACtB,SAACmc,GAAU,OAAKA,IAAeF,EAAOtU,SAGjCsU,KAIZtK,QAAO,SAACsK,GAAM,YAAgBG,IAAXH,UAG1B/f,eAAC+nB,GAAQ,CAACvvB,MAAOi2B,GAAa5rB,MAAO,EAAE/C,SAAA,CACrCP,cAACsW,KAAK,CACJpW,GAAI,CACF8G,UAAW,OACXpK,QAAS,WACTuN,QAAS,OACT2V,SAAU,OACVxS,eAAgB,gBAChB/M,SAEFE,eAACsM,KAAW,CAACE,KAAK,QAAQ/M,GAAI,CAAEwD,UAAW,QAASC,SAAU,SAAUpD,SAAA,CACtEP,cAACgN,KAAU,CAAC1O,GAAG,kBAAiBiC,SAAC,aACjCE,eAACyM,KAAM,CACLC,QAAQ,kBACRjB,MAAM,WACNjT,MAAOi4B,GACPre,SAzpBoB,SAACxB,GACrC,IAAI4Q,EAAoB5Q,EAAEoF,OAAOxd,MACjCk4B,GAA2BlP,GAEzB0M,GADwB,QAAtB1M,EACiB6M,GAGjBA,GAAoB5Y,QAClB,SAAC1R,GAAK,OAAKA,EAAMiB,WAAawc,OAipBoB1hB,SAAA,CAExCP,cAACqN,KAAQ,CAACpU,MAAM,MAAKsH,SAAC,QACtBP,cAACqN,KAAQ,CAACpU,MAAM,mBAAkBsH,SAAC,qBAGnCP,cAACqN,KAAQ,CAACpU,MAAM,oBAAmBsH,SAAC,sBAGpCP,cAACqN,KAAQ,CAACpU,MAAM,eAAcsH,SAAC,iBAC/BP,cAACqN,KAAQ,CAACpU,MAAM,eAAcsH,SAAC,iBAC/BP,cAACqN,KAAQ,CAACpU,MAAM,UAASsH,SAAC,YAC1BP,cAACqN,KAAQ,CAACpU,MAAM,SAAQsH,SAAC,mBAI/BP,cAAC2U,GAAQ,CACPtC,WAAW,EACXjX,MAAM,mBACNwZ,KAAM8Z,GAAgB9rB,KACpB,SAAAkF,EAEExE,GAAK,IADH4a,EAAYpW,EAAZoW,aAAcR,EAAY5V,EAAZ4V,aAAcC,EAAW7V,EAAX6V,YAAgB1K,EAAShQ,YAAA6E,EAAAguB,IAAA,OAAA3yB,YAAA,CAGvDkd,UACErgB,cAAA,KACEwJ,KAAK,IACLsE,QAAS,SAACuD,GACRA,EAAExG,iBACFM,KAAKC,KAAK,CACRE,KAAK,kCAADnM,OAAoC+e,EAAY,QACpDoC,iBAAiB,EACjBC,mBAAmB,EACnB9U,mBAAmB,KAErBlL,SAEFP,cAAA,OACEqK,IAAI,GACJvP,MAAM,OACNmC,IAAKihB,EACLhd,MAAO,CAAE8F,UAAW,WAI1B8sB,IACE9zB,cAAC4N,KAAU,CACTE,QAAS,SAAClD,GACRA,EAAMC,iBACNmgB,EAAe,aACfI,EAAasD,GAAgBprB,GAAOhF,IACpCu7B,EAAc,GACdE,EAAerL,GAAgBprB,GAAOmC,SAAW,MAAQipB,GAAgBprB,GAAOpL,MAG9Eq1B,EAAKhpB,MACH,SAACV,GAAI,MACkB,cAArBA,EAAKknB,aACLlnB,EAAKsnB,YACLuD,GAAgBprB,GAAOhF,MAG3B6M,KAAKC,KAAK,CACRC,KAAM,UACNjQ,MAAO,UACPe,KAAM,iCACNsP,mBAAmB,IAIvB4e,IAAW,IACX9pB,SAEFP,cAACsf,KAAO,MAGZ5B,aAAe,WACb,GAAqB,OAAjBA,EAAuB,MAAO,KAClC,IAAM+H,EAAc,IAAIvmB,KAAKwe,GAK7B,OAJA+H,EAAYC,WACVD,EAAYE,aACZF,EAAYG,qBAEPH,EAAYI,cAAcC,MAAM,KAAK,GAP/B,GASfnI,YAAc,WACZ,GAAoB,OAAhBA,EAAsB,MAAO,KACjC,IAAM8H,EAAc,IAAIvmB,KAAKye,GAK7B,OAJA8H,EAAYC,WACVD,EAAYE,aACZF,EAAYG,qBAEPH,EAAYI,cAAcC,MAAM,KAAK,GAPhC,IASX7S,MAGPf,QAAS6W,WAIf/oB,cAACwM,KAAM,CACLsB,QAAS,SAACuD,GACRA,EAAExG,iBACFsf,GAAe,IACf5pB,SACH,aAGDP,cAACwM,KAAM,CACLtM,GAAI,CAAE+Z,MAAO,SACbnM,QAvtBS,SAACuD,GAClBA,EAAExG,iBAEkB,IAAhB0iB,EAAKnqB,OAWT+mB,GAAe,GAVbhf,KAAKC,KAAK,CACRC,KAAM,UACNjQ,MAAO,UACPe,KAAM,gCACNsP,mBAAmB,KA+sBOlL,SACvB,YAKLE,eAACuJ,KAAG,CACF9J,GAAI,CAAE+J,GAAI,OAAQC,GAAI,QACtBwe,OAAwB,IAAhBwB,GACRxf,UAAU,OACV/G,SAAS,KACTsI,WAAS,EACTtB,SAltBe,SAAC0G,GACpBA,EAAExG,iBAEF,IAAM0vB,EAAY,IAAIvvB,SAASgvB,GAAUhkB,SACnB,WAAlBiT,EACFvqB,IACGmL,KAAK,mBAAoB,CACxB0vB,SAAUgB,EAAU/6B,IAAI,YACxB85B,SAAUiB,EAAU/6B,IAAI,YACxB4E,OAAQm2B,EAAU/6B,IAAI,UACtBymB,SAAUsH,IAEX9tB,MAAK,WAEJpC,EAAMuP,QAAQC,KAAK,sBAEpB/M,OAAM,SAAUC,GAEfoL,KAAKC,KAAK,CACRC,KAAM,QACNjQ,MAAO,QACPe,KAAM4D,EAAML,SAASG,KAAK0L,QAC1BE,mBAAmB,IAClBhM,MAAK,eACRE,QAAQC,IAAIG,MAEbN,MAAK,eAKRf,IACGya,IAAI,aAADha,OAAcw6B,EAAgBr7B,IAAM,CACtCi7B,SAAUgB,EAAU/6B,IAAI,YACxB85B,SAAUiB,EAAU/6B,IAAI,YACxB4E,OAAQm2B,EAAU/6B,IAAI,UACtBymB,SAAUsH,IAEX9tB,MAAK,WAEJpC,EAAMuP,QAAQC,KAAK,sBAEpB/M,OAAM,SAAUC,GAEfoL,KAAKC,KAAK,CACRC,KAAM,QACNjQ,MAAO,QACPe,KAAM4D,EAAML,SAASG,KAAK0L,QAC1BE,mBAAmB,IAClBhM,MAAK,eACRE,QAAQC,IAAIG,MAEbN,MAAK,gBA8pBmBc,SAAA,CAEzBP,cAACwM,KAAM,CACLtM,GAAI,CAAE8G,UAAW,QACjB8G,QAAS,SAACuD,GACRA,EAAExG,iBACFsf,GAAe,IACf5pB,SACH,aAGDP,cAACwM,KAAM,CAACtM,GAAI,CAAE+Z,MAAO,QAASjT,UAAW,QAAUmC,KAAK,SAAQ5I,SAAC,cAInEE,eAAC+Y,KAAM,CACLlZ,KAAM8pB,GACNzmB,SAAS,KACTsI,WAAS,EACT2U,WAAYC,aAAczgB,EAAM0gB,YAAYC,KAAK,OACjD3P,WAAY,CACV1G,UAAW,OACXC,SAAU,SAAC0G,IA9qBG,SAACA,GAOrB,GANAA,EAAExG,iBACW,IAAIG,SAASqG,EAAEtG,eAE5Bsf,IAAW,GAGY,QAAnBsD,EAA0B,CAC5B,GAAIJ,EAAKhpB,MAAK,SAACV,GAAI,OAAKA,EAAKknB,cAAgBA,GAAelnB,EAAKsnB,YAAcA,KAE7E,YADAhgB,KAAKC,KAAK,CAACC,KAAM,UAAWjQ,MAAO,UAAWe,KAAM,iCAAkCsP,mBAAmB,IAG3G+hB,EAAQD,EAAKpuB,OAAO,CAAE4rB,cAAaI,YAAWyO,aAAYE,sBACrD,GAAuB,SAAnBnM,EAA2B,CACpC,IAAMsH,EAAU1H,EAAK3qB,KAAI,SAACiB,GACxB,OAAIA,EAAKknB,cAAgBA,GAAelnB,EAAKsnB,YAAcA,EAClD,CAAEA,YAAWJ,cAAa6O,aAAYE,eACnCj2B,KAEd2pB,EAAQyH,IA4pBFuF,CAAcnpB,KAEhB9Q,SAAA,CAEFP,cAACyZ,KAAW,CAAAlZ,SAAC,qBACbE,eAACiZ,KAAa,CAACxZ,GAAI,CAAE9D,UAAW,UAAWmE,SAAA,CACzCP,cAAC+L,KAAS,CACRG,MAAM,cACNhU,KAAK,cACLe,MAAO6gC,EACP55B,GAAI,CAAEpF,MAAO,KACbysB,WAAY,CACVC,UAAU,EACV0N,aAAcl1B,cAACm1B,KAAc,CAACvuB,SAAS,MAAKrG,SAAC,WAGjDE,eAACuJ,KAAG,CACF9J,GAAI,CACFiK,QAAS,OACThP,WAAY,SACZL,MAAO,QACPwB,OAAQ,sBACRkS,aAAc,MACd0X,GAAI,OACJjc,GAAI,OACJiJ,EAAG,WACH3S,SAAA,CAEFP,cAACiI,IAAU,CAACoB,QAAQ,OAAOnJ,GAAI,CAAE6G,SAAU,GAAIxG,SAAC,aAGhDP,cAAC4N,KAAU,CACTE,QAAS,SAACuD,GACRA,EAAExG,iBACFgvB,EAAch0B,KAAKC,IAAI8zB,EAAa,EAAG,KACvCr5B,SAEFP,cAACohB,KAAU,MAEbphB,cAACiI,IAAU,CAACoB,QAAQ,OAAOnJ,GAAI,CAAE2f,GAAI,QAAStf,SAC3Cq5B,IAEH55B,cAAC4N,KAAU,CACTE,QAAS,SAACuD,GACRA,EAAExG,iBACFgvB,EAAch0B,KAAKqtB,IAAI0G,EAAa,EAAG,MACvCr5B,SAEFP,cAACsf,KAAO,YAKd7e,eAACoZ,KAAa,CAAAtZ,SAAA,CACZP,cAACwM,KAAM,CACLsB,QAAS,SAACuD,GACRgZ,IAAW,IACX9pB,SACH,WAGDP,cAACwM,KAAM,CAACrD,KAAK,SAAQ5I,SAAC,aAG1BE,eAAC+Y,KAAM,CACLlZ,KAAMkqB,GACN7mB,SAAS,KACTsI,WAAS,EACT2U,WAAYC,aAAczgB,EAAM0gB,YAAYC,KAAK,OACjD3P,WAAY,CACV1G,UAAW,OACXC,SAAS,WAAD,IAAAyqB,EAAAtX,aAAAC,KAAAC,MAAE,SAAAkB,EAAO7N,GAAC,OAAA0M,KAAA5c,MAAA,SAAAge,GAAA,cAAAA,EAAAd,KAAAc,EAAAb,MAAA,OAChBgc,GAAcjpB,GAAE,wBAAA8N,EAAAN,UAAAK,OACjB,gBAAAE,GAAA,OAAAgW,EAAArW,MAAA,KAAAC,YAFQ,IAGTze,SAAA,CAEFP,cAACyZ,KAAW,CAAAlZ,SAAC,qBACbE,eAACiZ,KAAa,CAACxZ,GAAI,CAAE9D,UAAW,UAAWmE,SAAA,CACzCP,cAAC+L,KAAS,CACRG,MAAM,cACNhU,KAAK,cACLe,MAAO6gC,EACP55B,GAAI,CAAEpF,MAAO,IAAK46B,WAAY7wB,GAAa,SAAW,WACtD0iB,WAAY,CACVC,UAAU,EACV0N,aAAcl1B,cAACm1B,KAAc,CAACvuB,SAAS,MAAKrG,SAAC,WAGjDP,cAAC4Q,KAAO,CAAC1Q,GAAI,CAAEgmB,GAAI,UACnBzlB,eAACuJ,KAAG,CAACG,QAAQ,OAAO2V,SAAS,OAAOxS,eAAe,gBAAe/M,SAAA,CAChEP,cAACqM,KAAgB,CACfC,QACEtM,cAACuM,KAAQ,CACPrU,KAAK,aACL0a,QAAS/N,GACTgO,SAAU,SAACxB,GACTuZ,GAAcvZ,EAAEtG,cAAc6H,YAIpC1G,MAAM,iBACNhM,GAAI,CAAEwD,UAAW,OAAQiL,SAAU,UAErC3O,cAAC+L,KAAS,CACRG,MAAM,cACNhU,KAAK,cACLkV,aAAc0sB,EACd55B,GAAI,CAAEwD,UAAW,IAAKiL,SAAU,IAAK1E,GAAI,QACzC+qB,UAAWnwB,GACX0iB,WAAY,CACV2N,aACEl1B,cAACm1B,KAAc,CAACvuB,SAAS,MAAKrG,SAAC,cAKvCP,cAAC4Q,KAAO,CAAC1Q,GAAI,CAAEgmB,GAAI,UACnBzlB,eAACuJ,KAAG,CACF9J,GAAI,CACFiK,QAAS,OACThP,WAAY,OACZL,MAAO,QACPwB,OAAQ,sBACRkS,aAAc,MACdtE,GAAI,OACJD,GAAI,OACJiJ,EAAG,WACH3S,SAAA,CAEFP,cAACiI,IAAU,CAACoB,QAAQ,OAAOnJ,GAAI,CAAE6G,SAAU,EAAGC,UAAW,OAAQzG,SAAC,aAGlEP,cAAC4N,KAAU,CACTE,QAAS,SAACuD,GACRA,EAAExG,iBACFgvB,EAAch0B,KAAKC,IAAI8zB,EAAa,EAAG,KACvCr5B,SAEFP,cAACohB,KAAU,MAEbphB,cAACiI,IAAU,CAACoB,QAAQ,OAAOnJ,GAAI,CAAE2f,GAAI,OAAQ7Y,UAAW,OAAQzG,SAC7Dq5B,IAEH55B,cAAC4N,KAAU,CACTE,QAAS,SAACuD,GACRA,EAAExG,iBACFgvB,EAAch0B,KAAKqtB,IAAI0G,EAAa,EAAG,MACvCr5B,SAEFP,cAACsf,KAAO,YAKd7e,eAACoZ,KAAa,CAAAtZ,SAAA,CACZP,cAACwM,KAAM,CACLsB,QAAS,SAACuD,GACRA,EAAExG,iBACFwe,EAAgB,GAChBC,EAAmB,QACnBC,EAAe,WACfC,EAAe,YACfC,EAAY,IACZC,EAAa,KACbC,GAAY,KACZC,GAAgB,IAChBC,GAAqB,GACrBC,GAAmB,IACnBE,GAAa,IAEbS,IAAe,IACflqB,SACH,WAGDP,cAACwM,KAAM,CAACrD,KAAK,SAAQ5I,SAAC,mBC97CjB+1B,GAfA,SAACj5B,GACd,OACE2C,cAACu2B,GAAMpzB,YAAA,CACL8lB,cAAc,SACd0Q,gBAAiB,CACfJ,SAAU,GACVD,SAAU,GACVl1B,OAAQ,IAEV+kB,YAAa,IACT9rB,KCmBKm5B,GA3BF,SAACn5B,GACZ,IACQ27B,GADIvC,cACah+B,OAAS,IAA1BugC,SACRn2B,EAKIm2B,GAAY,GAJd16B,EAAEuE,EAAFvE,GACAi7B,EAAQ12B,EAAR02B,SACAD,EAAQz2B,EAARy2B,SACAl1B,EAAMvB,EAANuB,OAGF,OAAO40B,EACLh5B,cAACu2B,GAAMpzB,YAAA,CACL8lB,cAAc,OACd0Q,gBAAiB,CACfr7B,GAAIA,EACJi7B,SAAUA,EACVD,SAAUA,EACVl1B,OAAQA,GAEV+kB,YAAa,IACT9rB,IAGN2C,cAAC82B,IAAQ,CAACnqB,GAAG,8BCkBjB,IAGM8tB,GAAY,CAChB,CACEh1B,SAAU,QACVrD,QAAS,CACP,CAAEuK,GAAI,qBAAsBtB,KAAMrL,cAAC06B,KAAc,IAAKxuB,MAAO,WAGjE,CACEzG,SAAU,OACVrD,QAAS,CACP,CAAEuK,GAAI,oBAAqBtB,KAAMrL,cAAC06B,KAAc,IAAKxuB,MAAO,WAGhE,CACEzG,SAAU,YACVrD,QAAS,CACP,CACEuK,GAAI,yBACJtB,KAAMrL,cAAC06B,KAAc,IACrBxuB,MAAO,WAIb,CACEzG,SAAU,QACVrD,QAAS,CACP,CAAEuK,GAAI,eAAgBtB,KAAMrL,cAAC26B,KAAc,IAAKzuB,MAAO,SACvD,CAAES,GAAI,mBAAoBtB,KAAMrL,cAAC26B,KAAc,IAAKzuB,MAAO,eAG/D,CACEzG,SAAU,WACVrD,QAAS,CACP,CAAEuK,GAAI,kBAAmBtB,KAAMrL,cAAC26B,KAAc,IAAKzuB,MAAO,SAC1D,CAAES,GAAI,kBAAmBtB,KAAMrL,cAAC26B,KAAc,IAAKzuB,MAAO,cAG9D,CACEzG,SAAU,WACVrD,QAAS,CACP,CACEuK,GAAI,wBACJtB,KAAMrL,cAAC46B,KAAkB,IACzB1uB,MAAO,SAET,CACES,GAAI,uBACJtB,KAAMrL,cAAC46B,KAAkB,IACzB1uB,MAAO,QAET,CACES,GAAI,4BACJtB,KAAMrL,cAAC46B,KAAkB,IACzB1uB,MAAO,eAIb,CACEzG,SAAU,OACVrD,QAAS,CAAC,CAAEuK,GAAI,cAAetB,KAAMrL,cAAC66B,KAAa,IAAK3uB,MAAO,YAgGpD9O,gBAnKf,SAAyB3E,GAEvB,MAAO,CAAET,KADQS,EAATT,QAkK8B,CAAEa,WAA3BuE,EA5FD,SAACC,GACb,IAAAC,EAAoCC,oBAAS,GAAMC,EAAAC,YAAAH,EAAA,GAA5CyT,EAAUvT,EAAA,GAAEs9B,EAAat9B,EAAA,GACxBiT,EAASsqB,cAATtqB,KAYF5B,EAAe,SAACwC,GACpBA,EAAExG,iBACFM,KAAKC,KAAK,CACRhQ,MAAO,gBACPe,KAAM,4DACNkP,KAAM,WACNqN,kBAAkB,EAClBC,kBAAmB,eACnBC,iBAAkB,iBAClBnN,mBAAmB,IAClBhM,MAAK,SAACoZ,GACHA,EAAOC,aACTzb,EAAMxE,aAMZ,OACE4H,eAAAsJ,WAAA,CAAAxJ,SAAA,CACEP,cAACg7B,GAAS,CACRztB,aApGa,GAqGbC,mBAhCmB,SAAC6D,GACxBA,EAAExG,iBACFiwB,GAAc,IA+BV1/B,MAAQ,kBAEVqF,eAACuJ,KAAG,CACFtG,UAAS,eAAAvE,OAzGI,GAyG2B,OACxCuO,UAAS,eAAAvO,OA1GI,GA0G2B,OACxCyH,SAAW,WACXuD,QAAU,OACV9H,gBAAkB,UAAS9B,SAAA,CAE3BP,cAACi7B,GAAgB,CACflqB,WAAcA,EACdD,kBAvCkB,SAACO,GACzBA,EAAExG,iBACFiwB,GAAc,IAsCRxsB,YAnHU,IAoHVO,aAAgBA,EAChBC,MAAS2rB,KAEXz6B,cAAC4O,GAAY,CACXN,YAxHU,IAyHVO,aAAgBA,EAChBC,MAAS2rB,KAEXz6B,cAACgK,KAAG,CACFU,UAAY,OACZxK,GAAM,CACJ6G,SAAU,EACVjM,MAAO,CAAEgS,GAAG,eAAD3N,OAhIH,IAgI+B,QACvCwE,SAAU,QACVpD,SAEFE,eAACy6B,IAAM,CAAA36B,SAAA,CACLP,cAACm7B,IAAK,CAAC1qB,KAAI,GAAAtR,OAAKsR,EAAI,SAAS/F,UAAW0wB,KACxCp7B,cAACm7B,IAAK,CAAC1qB,KAAI,GAAAtR,OAAKsR,EAAI,gBAAgBC,OAAK,EAAChG,UAAWmtB,KACrD73B,cAACm7B,IAAK,CAAC1qB,KAAI,GAAAtR,OAAKsR,EAAI,eAAeC,OAAK,EAAChG,UAAWutB,KACpDj4B,cAACm7B,IAAK,CAAC1qB,KAAI,GAAAtR,OAAKsR,EAAI,oBAAoBC,OAAK,EAAChG,UAAW2tB,KACzDr4B,cAACm7B,IAAK,CAAC1qB,KAAI,GAAAtR,OAAKsR,EAAI,UAAUC,OAAK,EAAChG,UAAW2wB,KAC/Cr7B,cAACm7B,IAAK,CAAC1qB,KAAI,GAAAtR,OAAKsR,EAAI,iBAAiBC,OAAK,EAAChG,UAAW4wB,KACtDt7B,cAACm7B,IAAK,CAAC1qB,KAAI,GAAAtR,OAAKsR,EAAI,eAAeC,OAAK,EAAChG,UAAW6wB,KACpDv7B,cAACm7B,IAAK,CAAC1qB,KAAI,GAAAtR,OAAKsR,EAAI,cAAcC,OAAK,EAAChG,UAAW8wB,KACnDx7B,cAACm7B,IAAK,CAAC1qB,KAAI,GAAAtR,OAAKsR,EAAI,qBAAqBC,OAAK,EAAChG,UAAW+wB,KAC1Dz7B,cAACm7B,IAAK,CAAC1qB,KAAI,GAAAtR,OAAKsR,EAAI,mBAAmBC,OAAK,EAAChG,UAAWgxB,KACxD17B,cAACm7B,IAAK,CAAC1qB,KAAI,GAAAtR,OAAKsR,EAAI,mBAAmBC,OAAK,EAAChG,UAAWixB,KACxD37B,cAACm7B,IAAK,CAAC1qB,KAAI,GAAAtR,OAAKsR,EAAI,kBAAkBC,OAAK,EAAChG,UAAWkxB,KACvD57B,cAACm7B,IAAK,CAAC1qB,KAAI,GAAAtR,OAAKsR,EAAI,aAAaC,OAAK,EAAChG,UAAYmxB,KACnD77B,cAACm7B,IAAK,CAAC1qB,KAAI,GAAAtR,OAAKsR,EAAI,oBAAoBC,OAAK,EAAChG,UAAYoxB,KAC1D97B,cAACm7B,IAAK,CAAC1qB,KAAI,GAAAtR,OAAKsR,EAAI,kBAAkBC,OAAK,EAAChG,UAAYqxB,KACxD/7B,cAACm7B,IAAK,CAAC1qB,KAAI,GAAAtR,OAAKsR,EAAI,aAAaC,OAAK,EAAChG,UAAYsxB,KACnDh8B,cAACm7B,IAAK,CAAC1qB,KAAI,GAAAtR,OAAKsR,EAAI,oBAAoBC,OAAK,EAAChG,UAAYuxB,KAC1Dj8B,cAACm7B,IAAK,CAAC1qB,KAAI,GAAAtR,OAAKsR,EAAI,kBAAkBC,OAAK,EAAChG,UAAWwxB,mB,6FC3L7DhqB,GAAU,CACd,CACE5T,GAAI,YACJ4B,GAAI,CAAEpF,MAAO,KACbkY,SAAS,GAEX,CACE1U,GAAI,QACJ4N,MAAO,SAET,CACE5N,GAAI,QACJ4N,MAAO,SAET,CACE5N,GAAI,YACJ4N,MAAO,SAET,CACE5N,GAAI,UACJ4N,MAAO,WAET,CACE5N,GAAI,MACJ4N,MAAO,OAET,CACE5N,GAAI,aACJ4N,MAAO,eAET,CACE5N,GAAI,YACJ4N,MAAO,cAET,CACE5N,GAAI,YACJ4N,MAAO,cAET,CACE5N,GAAI,eACJ4N,MAAO,iBAET,CACE5N,GAAI,eACJ4N,MAAO,iBAET,CACE5N,GAAI,eACJ4N,MAAO,YAET,CACE5N,GAAI,gBACJ4N,MAAO,uBAET,CACE5N,GAAI,SACJ4N,MAAO,gBAET,CACE5N,GAAI,eACJ4N,MAAO,YAET,CACE5N,GAAI,cACJ4N,MAAO,YAILgP,GAAc,CAClB,cACA,aACA,aACA,gBACA,gBACA,WACA,sBACA,eACA,WACA,WAQF,IA2LeC,GA3LD/d,aALd,SAAyB3E,GAEvB,MAAO,CAAET,KADQS,EAATT,QAIIoF,EAAyB,SAACC,GACtC,IAAAC,EAA4BC,mBAAS,IAAGC,EAAAC,YAAAH,EAAA,GAAjCie,EAAM/d,EAAA,GAAEge,EAAShe,EAAA,GACxBI,EAAgCL,mBAAS,IAAGY,EAAAV,YAAAG,EAAA,GAArC0e,EAAQne,EAAA,GAAEoe,EAAWpe,EAAA,GAE5B2W,EAAsCvX,mBAAS,MAAKwX,EAAAtX,YAAAqX,EAAA,GAA7C4H,EAAW3H,EAAA,GAAE4H,EAAc5H,EAAA,GAClCG,EAAsC3X,mBAAS,MAAK4X,EAAA1X,YAAAyX,EAAA,GAA7C4H,EAAW3H,EAAA,GAAE4H,EAAc5H,EAAA,GAElCG,EAAsD/X,mBAAS,IAAGgY,EAAA9X,YAAA6X,EAAA,GAA3D4H,EAAmB3H,EAAA,GAAE4H,EAAsB5H,EAAA,GA6ClD,OAPA/W,qBAAU,WACR,IArCmBK,EAqCbJ,EAASC,IAAMC,YAAYF,SAGjC,OAxCmBI,EAsCPJ,EAAOnG,MArCnBoG,IACGc,IAAI,uBAAwB,CAAEX,gBAC9BY,MAAK,SAACC,GAEL6c,EAAY7c,EAASG,SAEtBC,OAAM,SAAUC,GAEfJ,QAAQC,IAAIG,MAEbN,MAAK,eAKQ,SAACZ,GACjBH,IACGc,IAAI,cAAe,CAAEX,gBACrBY,MAAK,SAACC,GAEL8b,EAAU9b,EAASG,SAEpBC,OAAM,SAAUC,GAEfJ,QAAQC,IAAIG,MAEbN,MAAK,eAYRme,CAAUnf,EAAOnG,OACV,kBAAMmG,EAAOK,OAAO,oCAC1B,IAGD2B,eAACuJ,KAAG,CACF9J,GAAI,CACFqH,OAAQ,OACRgH,SAAU,OACV3R,QAAS,aACT2D,SAAA,CAEFP,cAACsW,KAAK,CACJpW,GAAI,CACF8G,UAAW,OACXpK,QAAS,WACTuN,QAAS,OACT2V,SAAU,OACVxS,eAAgB,gBAChB/M,SAED,CACC,CACE2L,MAAO,QACPjT,MAAOyjB,EACP7J,SAAU,SAACjI,EAAO3R,GAChB2R,EAAMC,iBACN8R,EAAe1jB,GACf8jB,EAAe,OAEjBnC,QAAS0B,EACN1Z,KAAI,SAACiB,GAAI,OAAKA,EAAKG,SACnBkS,QAAO,SAAC6J,EAAGzc,EAAO0c,GAAK,OAAKA,EAAMjJ,QAAQgJ,KAAOzc,MAEtD,CACE4I,MAAO,QACPjT,MAAO6jB,EACPjK,SAAU,SAACjI,EAAO3R,GAChB2R,EAAMC,iBACNkS,EAAe9jB,IAEjB2hB,QAAS0B,EACNpG,QAAO,SAACrS,GAAI,OAAM6Y,GAAe7Y,EAAKG,QAAU0Y,KAChD9Z,KAAI,SAACiB,GAAI,OAAKA,EAAKI,SACnBiS,QAAO,SAAC6J,EAAGzc,EAAO0c,GAAK,OAAKA,EAAMjJ,QAAQgJ,KAAOzc,OAEtDV,KAAI,SAAArD,EAAsB+D,GAAK,IAAxB4I,EAAK3M,EAAL2M,MAAU7O,EAAK4F,YAAA1D,EAAA2D,IAAA,OACtBlD,cAACigB,KAAY9c,YAAA,CAEXjD,GAAI,CAAEwD,UAAW,QAASC,SAAU,SACpCuc,YAAa,SAACC,GAAM,OAAKngB,cAAC+L,KAAS5I,wBAAA,GAAKgd,GAAM,IAAEjU,MAAOA,OACnD7O,GAHCiG,QAOXtD,cAAC2a,GAAoB,CACnBC,QAASM,GACTrI,SAhEsB,SAACuN,GAC3BjD,EAAuBiD,IAgEnBpL,SAAUkI,IAEZld,cAAC2U,GAAQ,CACPtC,WAAW,EACXjX,MAAM,eACNwZ,KAAM2G,EACH3Y,KACC,SAAAC,EASES,GAAK,IAPHY,EAAYrB,EAAZqB,aACAC,EAAatB,EAAbsB,cACA+Z,EAAYrb,EAAZqb,aACAR,EAAY7a,EAAZ6a,aACAC,EAAW9a,EAAX8a,YACG1K,EAAShQ,YAAAJ,EAAAY,IAAA,OAAAN,YAAA,CAIdkd,UACErgB,cAAA,KACEwJ,KAAK,IACLsE,QAAS,SAACuD,GACRA,EAAExG,iBACFM,KAAKC,KAAK,CACRE,KAAK,kCAADnM,OAAoC+e,EAAY,QACpDoC,iBAAiB,EACjBC,mBAAmB,EACnB9U,mBAAmB,KAErBlL,SAEFP,cAAA,OACEqK,IAAI,GACJvP,MAAM,OACNmC,IAAKihB,EACLhd,MAAO,CAAE8F,UAAW,WAI1B9C,aAAcA,EAAe,MAAQ,KACrCC,cAAeA,EAAgB,MAAQ,KACvCuZ,aAAe,WACb,GAAqB,OAAjBA,EAAuB,MAAO,KAClC,IAAM+H,EAAc,IAAIvmB,KAAKwe,GAI7B,OAHA+H,EAAYC,WACVD,EAAYE,aAAeF,EAAYG,qBAElCH,EAAYI,cAAcC,MAAM,KAAK,GAN/B,GAQfnI,YAAc,WACZ,GAAoB,OAAhBA,EAAsB,MAAO,KACjC,IAAM8H,EAAc,IAAIvmB,KAAKye,GAI7B,OAHA8H,EAAYC,WACVD,EAAYE,aAAeF,EAAYG,qBAElCH,EAAYI,cAAcC,MAAM,KAAK,GANhC,IAQX7S,MAGNiD,QACC,SAACrS,GAAI,QACD6Y,GAAe7Y,EAAKG,QAAU0Y,MAC9BI,GAAejZ,EAAKI,QAAU6Y,MAEtC5K,QACEA,GAAQtP,KAAI,SAAC4d,EAAQC,GACnB,OAAIA,EAAI,EACFvD,EAAoB3Y,MAAK,SAAAmc,GAAU,OAAEA,IAAeF,EAAOtU,SACtDsU,OAEP,EAEGA,KACNtK,QAAO,SAAAsK,GAAM,YAAaG,IAAXH,a,6FC1QtBtO,GAAU,CACd,CACE5T,GAAI,YACJ4B,GAAI,CAAEpF,MAAO,KACbkY,SAAS,GAEX,CACE1U,GAAI,eACJ4N,MAAO,YAET,CACE5N,GAAI,QACJ4N,MAAO,QACPwc,QAAQ,GAEV,CACEpqB,GAAI,YACJ4N,MAAO,SAET,CACE5N,GAAI,UACJ4N,MAAO,WAET,CACE5N,GAAI,MACJ4N,MAAO,OAET,CACE5N,GAAI,QACJ4N,MAAO,SAET,CACE5N,GAAI,UACJ4N,MAAO,YAET,CACE5N,GAAI,WACJ4N,MAAO,aAET,CACE5N,GAAI,WACJ4N,MAAO,aAET,CACE5N,GAAI,SACJ4N,MAAO,gBAET,CACE5N,GAAI,eACJ4N,MAAO,YAET,CACE5N,GAAI,cACJ4N,MAAO,YAILgP,GAAc,CAClB,QACA,WACA,YACA,YACA,eACA,WACA,WAQF,IAkNeC,GAlND/d,aALd,SAAyB3E,GAEvB,MAAO,CAAET,KADQS,EAATT,QAIIoF,EAAyB,SAACC,GACtC,IAAAC,EAA4BC,mBAAS,IAAGC,EAAAC,YAAAH,EAAA,GAAjCie,EAAM/d,EAAA,GAAEge,EAAShe,EAAA,GACxBI,EAAgCL,mBAAS,IAAGY,EAAAV,YAAAG,EAAA,GAArC0e,EAAQne,EAAA,GAAEoe,EAAWpe,EAAA,GAE5B2W,EAA4CvX,mBAAS,MAAKwX,EAAAtX,YAAAqX,EAAA,GAAnDuM,EAActM,EAAA,GAAEuM,EAAiBvM,EAAA,GACxCG,EAAsC3X,mBAAS,MAAK4X,EAAA1X,YAAAyX,EAAA,GAA7C4H,EAAW3H,EAAA,GAAE4H,EAAc5H,EAAA,GAClCG,EAAsC/X,mBAAS,MAAKgY,EAAA9X,YAAA6X,EAAA,GAA7CiM,EAAWhM,EAAA,GAAEiM,EAAcjM,EAAA,GAElCG,EAAsDnY,mBAAS,IAAGoY,EAAAlY,YAAAiY,EAAA,GAA3DwH,EAAmBvH,EAAA,GAAEwH,EAAsBxH,EAAA,GA6ClD,OAPAnX,qBAAU,WACR,IArCmBK,EAqCbJ,EAASC,IAAMC,YAAYF,SAGjC,OAxCmBI,EAsCPJ,EAAOnG,MArCnBoG,IACGc,IAAI,sBAAuB,CAAEX,gBAC7BY,MAAK,SAACC,GAEL6c,EAAY7c,EAASG,SAEtBC,OAAM,SAAUC,GAEfJ,QAAQC,IAAIG,MAEbN,MAAK,eAKQ,SAACZ,GACjBH,IACGc,IAAI,aAAc,CAAEX,gBACpBY,MAAK,SAACC,GAEL8b,EAAU9b,EAASG,SAEpBC,OAAM,SAAUC,GAEfJ,QAAQC,IAAIG,MAEbN,MAAK,eAYRme,CAAUnf,EAAOnG,OACV,kBAAMmG,EAAOK,OAAO,oCAC1B,IAGD2B,eAACuJ,KAAG,CACF9J,GAAI,CACFqH,OAAQ,OACRgH,SAAU,OACV3R,QAAS,aACT2D,SAAA,CAEFP,cAACsW,KAAK,CACJpW,GAAI,CACF8G,UAAW,OACXpK,QAAS,WACTuN,QAAS,OACT2V,SAAU,OACVxS,eAAgB,gBAChB/M,SAED,CACC,CACE2L,MAAO,WACPjT,MAAOooB,EACPxO,SAAU,SAACjI,EAAO3R,GAChB2R,EAAMC,iBACNyW,EAAkBroB,GAClB8jB,EAAe,MACfyE,EAAe,OAEjB5G,QAAS0B,EACN1Z,KAAI,SAACiB,GAAI,OAAKA,EAAK8d,gBACnBzL,QAAO,SAAC6J,EAAGzc,EAAO0c,GAAK,OAAKA,EAAMjJ,QAAQgJ,KAAOzc,MAEtD,CACE4I,MAAO,QACPjT,MAAO6jB,EACPjK,SAAU,SAACjI,EAAO3R,GAChB2R,EAAMC,iBACNkS,EAAe9jB,GACfuoB,EAAe,OAEjB5G,QAAS0B,EACNpG,QACC,SAACrS,GAAI,OACFwd,GAAkBxd,EAAK8d,eAAiBN,KAE5Cze,KAAI,SAACiB,GAAI,OAAKA,EAAKI,SACnBiS,QAAO,SAAC6J,EAAGzc,EAAO0c,GAAK,OAAKA,EAAMjJ,QAAQgJ,KAAOzc,MAEtD,CACE4I,MAAO,QACPjT,MAAOsoB,EACP1O,SAAU,SAACjI,EAAO3R,GAChB2R,EAAMC,iBACN2W,EAAevoB,IAEjB2hB,QAAS0B,EACNpG,QACC,SAACrS,GAAI,QACDwd,GAAkBxd,EAAK8d,eAAiBN,MACxCvE,GAAejZ,EAAKI,QAAU6Y,MAEnCla,KAAI,SAACiB,GAAI,OAAKA,EAAK/H,SACnBoa,QAAO,SAAC6J,EAAGzc,EAAO0c,GAAK,OAAKA,EAAMjJ,QAAQgJ,KAAOzc,OAEtDV,KAAI,SAAArD,EAAsB+D,GAAK,IAAxB4I,EAAK3M,EAAL2M,MAAU7O,EAAK4F,YAAA1D,EAAA2D,IAAA,OACtBlD,cAACigB,KAAY9c,YAAA,CAEXjD,GAAI,CAAEwD,UAAW,QAASC,SAAU,SACpCuc,YAAa,SAACC,GAAM,OAAKngB,cAAC+L,KAAS5I,wBAAA,GAAKgd,GAAM,IAAEjU,MAAOA,OACnD7O,GAHCiG,QAOXtD,cAAC2a,GAAoB,CACnBC,QAASM,GACTrI,SArFsB,SAACuN,GAC3BjD,EAAuBiD,IAqFnBpL,SAAUkI,IAEZld,cAAC2U,GAAQ,CACPtC,WAAW,EACXjX,MAAM,kBACNwZ,KAAM2G,EACH3Y,KACC,SAAAC,EASES,GAAK,IAPHY,EAAYrB,EAAZqB,aACAC,EAAatB,EAAbsB,cACA+Z,EAAYrb,EAAZqb,aACAR,EAAY7a,EAAZ6a,aACAC,EAAW9a,EAAX8a,YACG1K,EAAShQ,YAAAJ,EAAAY,IAAA,OAAAN,YAAA,CAIdkd,UACErgB,cAAA,KACEwJ,KAAK,IACLsE,QAAS,SAACuD,GACRA,EAAExG,iBACFM,KAAKC,KAAK,CACRE,KAAK,kCAADnM,OAAoC+e,EAAY,QACpDoC,iBAAiB,EACjBC,mBAAmB,EACnB9U,mBAAmB,KAErBlL,SAEFP,cAAA,OACEqK,IAAI,GACJvP,MAAM,OACNmC,IAAKihB,EACLhd,MAAO,CAAE8F,UAAW,WAI1B9C,aAAcA,EAAe,MAAQ,KACrCC,cAAeA,EAAgB,MAAQ,KACvCuZ,aAAe,WACb,GAAqB,OAAjBA,EAAuB,MAAO,KAClC,IAAM+H,EAAc,IAAIvmB,KAAKwe,GAI7B,OAHA+H,EAAYC,WACVD,EAAYE,aAAeF,EAAYG,qBAElCH,EAAYI,cAAcC,MAAM,KAAK,GAN/B,GAQfnI,YAAc,WACZ,GAAoB,OAAhBA,EAAsB,MAAO,KACjC,IAAM8H,EAAc,IAAIvmB,KAAKye,GAI7B,OAHA8H,EAAYC,WACVD,EAAYE,aAAeF,EAAYG,qBAElCH,EAAYI,cAAcC,MAAM,KAAK,GANhC,IAQX7S,MAGNiD,QACC,SAACrS,GAAI,QACDwd,GAAkBxd,EAAK8d,eAAiBN,MACxCvE,GAAejZ,EAAKI,QAAU6Y,MAC9ByE,GAAe1d,EAAK/H,QAAUylB,MAEpCrP,QACEA,GAAQtP,KAAI,SAAC4d,EAAQC,GACnB,OAAIA,EAAI,EACFvD,EAAoB3Y,MAAK,SAAAmc,GAAU,OAAEA,IAAeF,EAAOtU,SACtDsU,OAEP,EAEGA,KACNtK,QAAO,SAAAsK,GAAM,YAAaG,IAAXH,a,iDC7QxBtO,GAAU,CACd,CACE5T,GAAI,YACJ4B,GAAI,CAAEpF,MAAO,KACbkY,SAAS,GAEX,CACE1U,GAAI,OACJ4N,MAAO,QAET,CACE5N,GAAI,WACJ4N,MAAO,YAET,CACE5N,GAAI,SACJ4N,MAAO,gBAET,CACE5N,GAAI,YACJ4N,MAAO,SAET,CACE5N,GAAI,UACJ4N,MAAO,WAET,CACE5N,GAAI,MACJ4N,MAAO,OAET,CACE5N,GAAI,eACJ4N,MAAO,YAET,CACE5N,GAAI,cACJ4N,MAAO,YASX,IAuJeiP,GAvJD/d,aALd,SAAyB3E,GAEvB,MAAO,CAAET,KADQS,EAATT,QAIIoF,EAAyB,SAACC,GACtC,IAAAC,EAA4BC,mBAAS,IAAGC,EAAAC,YAAAH,EAAA,GAAjCie,EAAM/d,EAAA,GAAEge,EAAShe,EAAA,GACxBI,EAAoCL,mBAAS,IAAGY,EAAAV,YAAAG,EAAA,GAAzCikB,EAAU1jB,EAAA,GAAE2jB,EAAa3jB,EAAA,GAGhC2W,EAA4CvX,mBAAS,OAAMwX,EAAAtX,YAAAqX,EAAA,GAApDiN,EAAchN,EAAA,GAAEiN,EAAiBjN,EAAA,GAmCxCvW,qBAAU,WACR,IAlCmBK,EAkCbJ,EAASC,IAAMC,YAAYF,SAGjC,OArCmBI,EAmCPJ,EAAOnG,MAlCnBoG,IACGc,IAAI,2BAA4B,CAAEX,gBAClCY,MAAK,SAACC,OAINI,OAAM,SAAUC,GAEfJ,QAAQC,IAAIG,MAEbN,MAAK,eAKQ,SAACZ,GACjBH,IACGc,IAAI,kBAAmB,CAAEX,gBACzBY,MAAK,SAACC,GAEL8b,EAAU9b,EAASG,MACnBiiB,EAAcpiB,EAASG,SAExBC,OAAM,SAAUC,GAEfJ,QAAQC,IAAIG,MAEbN,MAAK,eAQRme,CAAUnf,EAAOnG,OACV,kBAAMmG,EAAOK,OAAO,oCAC1B,IAcH,OACE2B,eAACuJ,KAAG,CACF9J,GAAI,CACFqH,OAAQ,OACRgH,SAAU,OACV3R,QAAS,aACT2D,SAAA,CAEFP,cAACsW,KAAK,CACJpW,GAAI,CACF8G,UAAW,OACXpK,QAAS,WACTuN,QAAS,OACT2V,SAAU,OACVxS,eAAgB,gBAChB/M,SAEFE,eAACsM,KAAW,CACVE,KAAK,QACL/M,GAAI,CAAEwD,UAAW,QAASC,SAAU,SAAUpD,SAAA,CAE9CP,cAACgN,KAAU,CAAC1O,GAAG,kBAAiBiC,SAAC,aACjCE,eAACyM,KAAM,CACLC,QAAQ,kBACRjB,MAAM,WACNjT,MAAO8oB,EACPlP,SAtCmB,SAACxB,GAC5B,IAAI4Q,EAAoB5Q,EAAEoF,OAAOxd,MACjC+oB,EAAkBC,GAEhBzG,EADwB,QAAtByG,EACQJ,EAGRA,EAAW3L,QAAO,SAAC1R,GAAK,OAAKA,EAAMiB,WAAawc,OA+Bb1hB,SAAA,CAE/BP,cAACqN,KAAQ,CAACpU,MAAM,MAAKsH,SAAC,QACtBP,cAACqN,KAAQ,CAACpU,MAAM,mBAAkBsH,SAAC,qBACnCP,cAACqN,KAAQ,CAACpU,MAAM,oBAAmBsH,SAAC,sBACpCP,cAACqN,KAAQ,CAACpU,MAAM,eAAcsH,SAAC,iBAC/BP,cAACqN,KAAQ,CAACpU,MAAM,eAAcsH,SAAC,iBAC/BP,cAACqN,KAAQ,CAACpU,MAAM,UAASsH,SAAC,YAC1BP,cAACqN,KAAQ,CAACpU,MAAM,SAAQsH,SAAC,mBAI/BP,cAAC2U,GAAQ,CACPtC,WAAW,EACXjX,MAAM,mBACNwZ,KAAM2G,EAAO3Y,KACX,SAAArD,EAEE+D,GAAK,IADH4a,EAAY3e,EAAZ2e,aAAcR,EAAYne,EAAZme,aAAcC,EAAWpe,EAAXoe,YAAgB1K,EAAShQ,YAAA1D,EAAA2D,IAAA,OAAAC,YAAA,CAGvDkd,UACErgB,cAAA,KACEwJ,KAAK,IACLsE,QAAS,SAACuD,GACRA,EAAExG,iBACFM,KAAKC,KAAK,CACRE,KAAK,kCAADnM,OAAoC+e,EAAY,QACpDoC,iBAAiB,EACjBC,mBAAmB,EACnB9U,mBAAmB,KAErBlL,SAEFP,cAAA,OACEqK,IAAI,GACJvP,MAAM,OACNmC,IAAKihB,EACLhd,MAAO,CAAE8F,UAAW,WAI1B0W,aAAe,WACb,GAAqB,OAAjBA,EAAuB,MAAO,KAClC,IAAM+H,EAAc,IAAIvmB,KAAKwe,GAI7B,OAHA+H,EAAYC,WACVD,EAAYE,aAAeF,EAAYG,qBAElCH,EAAYI,cAAcC,MAAM,KAAK,GAN/B,GAQfnI,YAAc,WACZ,GAAoB,OAAhBA,EAAsB,MAAO,KACjC,IAAM8H,EAAc,IAAIvmB,KAAKye,GAI7B,OAHA8H,EAAYC,WACVD,EAAYE,aAAeF,EAAYG,qBAElCH,EAAYI,cAAcC,MAAM,KAAK,GANhC,IAQX7S,MAGPf,QAASA,WCtMJgQ,GAAcC,aAAO5S,KAAP4S,EAAa,SAAA5iB,GAAQA,EAALa,MAAK,MAAQ,CACtDiC,gBAAiBoS,KAAK,KACtB7X,QAAS,WAGEwlB,GAAkBD,aAAOxS,KAAPwS,EAAiB,SAAAtf,GAAQA,EAALzC,MAAK,MAAQ,CAC9DiC,gBAAiBoS,KAAK,KACtB4N,UAAU,oCACVpmB,OAAQ,SACR6jB,SAAU,WAGCwC,GAAsBH,aAAOlS,KAAPkS,EAAqB,SAAA9e,GAAQA,EAALjD,MAAK,MAAQ,CACtEtE,MAAOymB,KAAO,SAGHC,GAAqB,SAAHhc,GAA+B,IAAzBlC,EAASkC,EAATlC,UAAWme,EAAMjc,EAANic,OAC9C,OACEziB,cAACgK,KAAG,CAACtG,UAAU,OAAOyG,QAAQ,OAAO2V,SAAS,OAAO3kB,WAAW,SAAQoF,SACrE,CAAC+D,EAAWme,GAAQ7f,KAAI,SAACiB,EAAMP,GAAK,OACnCtD,cAACiI,IAAU,CAEToB,QAAQ,OACRnJ,GAAI,CACFpE,MAAO,QACPhB,MAAO,GACP4nB,WAAY,SACZnU,SAAU,SACVoU,aAAc,WACdvmB,UAAW,SACXiG,gBAAiBkgB,KAAO,KACxBxnB,SAAU,CAAC,OAAQ,QACnB6B,QAAS,QACTX,OAAQ,iBACR2mB,WAAY,EACZpU,aAAc,OACdjO,SAEDsD,GAjBIP,S,yNCkBT4O,GAAU,CACd,CACE5T,GAAI,aACJ4N,MAAO,WAET,CACE5N,GAAI,OACJ4N,MAAO,UAET,CACE5N,GAAI,SACJ4N,MAAO,UAET,CACE5N,GAAI,YACJ4N,MAAO,SAET,CACE5N,GAAI,gBACJ4N,MAAO,WAET,CACE5N,GAAI,WACJ4N,MAAO,YAET,CACE5N,GAAI,aACJ4N,MAAO,YAET,CACE5N,GAAI,SACJ4N,MAAO,UAET,CACE5N,GAAI,WACJ4N,MAAO,YAET,CACE5N,GAAI,YACJ4N,MAAO,aAET,CACE5N,GAAI,WACJ4N,MAAO,YAET,CACE5N,GAAI,OACJ4N,MAAO,QAET,CACE5N,GAAI,cACJ0U,SAAS,EACT9G,MAAO,UACPhM,GAAI,CAAEyD,SAAU,GAAI7I,MAAO,KAE7B,CACEwD,GAAI,YACJ0U,SAAS,EACT9G,MAAO,QACP5C,MAAO,QACPpJ,GAAI,CAAEyD,SAAU,GAAI7I,MAAO,KAE7B,CACEwD,GAAI,eACJ0U,SAAS,EACT9G,MAAO,QACP5C,MAAO,OACPpJ,GAAI,CAAEyD,SAAU,GAAI7I,MAAO,GAAI+nB,YAAa,IAE9C,CACEvkB,GAAI,OACJ0U,SAAS,EACT9S,GAAI,CAAEyD,SAAU,GAAI7I,MAAO,KAE7B,CACEkY,SAAS,EACT1U,GAAI,SACJ4B,GAAI,CAAEyD,SAAU,GAAI7I,MAAO,MAIzBogB,GAAc,CAClB,UACA,WACA,WACA,SACA,WACA,YACA,WACA,OACA,UACA,QACA,SAQa9d,oBALf,SAAyB3E,GAEvB,MAAO,CAAET,KADQS,EAATT,QAIKoF,EAAyB,SAACC,GACvC,IAAM+C,EAAQgb,eAEd9d,EAA4BC,mBAAS,IAAGC,EAAAC,YAAAH,EAAA,GAAjCwlB,EAAMtlB,EAAA,GAAEulB,EAASvlB,EAAA,GACxBI,EAAoCL,mBAAS,IAAGY,EAAAV,YAAAG,EAAA,GAAzColB,EAAU7kB,EAAA,GAAE8kB,EAAa9kB,EAAA,GAChC2W,EAAwBvX,mBAAS,IAAGwX,EAAAtX,YAAAqX,EAAA,GAA7B5c,EAAI6c,EAAA,GAAEmO,EAAOnO,EAAA,GACpBG,EAA0B3X,mBAAS,IAAG4X,EAAA1X,YAAAyX,EAAA,GAA/BrZ,EAAKsZ,EAAA,GAAEgO,EAAQhO,EAAA,GACtBG,EAA0B/X,mBAAS,IAAGgY,EAAA9X,YAAA6X,EAAA,GAA/BpT,EAAKqT,EAAA,GAAE6N,EAAQ7N,EAAA,GACtBG,EAAwCnY,oBAAS,GAAMoY,EAAAlY,YAAAiY,EAAA,GAAhD2N,EAAY1N,EAAA,GAAE2N,EAAe3N,EAAA,GACpCkG,EAAkCte,oBAAS,GAAMue,EAAAre,YAAAoe,EAAA,GAA1C0H,EAASzH,EAAA,GAAE0H,EAAY1H,EAAA,GAC9BE,EAAoCze,oBAAS,GAAM0e,EAAAxe,YAAAue,EAAA,GAA5CyH,EAAUxH,EAAA,GAAEyH,EAAazH,EAAA,GAC1B0H,EAAkB5N,iBAAO,MACzB6N,EAAe7N,iBAAO,MAC5BqG,EAAwC7e,mBAAS,MAAK8e,EAAA5e,YAAA2e,EAAA,GAA/CyH,EAAYxH,EAAA,GAAEyH,EAAezH,EAAA,GAEpCG,EAAoCjf,mBAAS,GAAEkf,EAAAhf,YAAA+e,EAAA,GAAxCuH,EAAUtH,EAAA,GAAEuH,EAAavH,EAAA,GAEhCG,EAAsCrf,mBAAS,IAAGsf,EAAApf,YAAAmf,EAAA,GAA3CqH,EAAWpH,EAAA,GAAEqH,GAAcrH,EAAA,GAElCG,GAAsDzf,mBAAS,IAAG0f,GAAAxf,YAAAuf,GAAA,GAA3DE,GAAmBD,GAAA,GAAEE,GAAsBF,GAAA,GAElDwE,GAAsDlkB,mBAAS,IAAGmkB,GAAAjkB,YAAAgkB,GAAA,GAA3D0C,GAAmBzC,GAAA,GAAE0C,GAAsB1C,GAAA,GAClD2C,GAAkD9mB,mBAAS,IAAG+mB,GAAA7mB,YAAA4mB,GAAA,GAAvDE,GAAiBD,GAAA,GAAEE,GAAoBF,GAAA,GAExCG,GAAkB1O,iBAAO,IACzB2O,GAAiB3O,iBAAO,IACxB4O,GAAsB5O,iBAAO,IA+D7B0C,GAAoB,SAACnV,GACrBA,EAAQwf,EAAO1f,QAAUE,GAAS,GACpC6H,KAAKC,KAAK,CACRhQ,MAAO,gBACPe,KAAM,qDACNkP,KAAM,WACNqN,kBAAkB,EAClBC,kBAAmB,eACnBC,iBAAkB,eAClBnN,mBAAmB,IAClBhM,MAAK,SAACoZ,GACHA,EAAOC,aACTpa,IACGqa,OAAO,UAAD5Z,OAAW2jB,EAAOxf,GAAOhF,KAC/BmB,MAAK,SAACC,GAELklB,QAED9kB,OAAM,SAAUC,GAEfoL,KAAKC,KAAK,CACRC,KAAM,QACNjQ,MAAO,QACPe,KAAM4D,EAAML,SAASG,KAAK0L,QAC1BE,mBAAmB,IAErB9L,QAAQC,IAAIG,MAEbN,MAAK,mBA4CVmlB,GAAY,SAAC/lB,GACjBH,IACGc,IAAI,iBAAkB,CAAEX,gBACxBY,MAAK,SAACC,GAELqjB,EAAUrjB,EAASG,MACnBojB,EAAcvjB,EAASG,SAExBC,OAAM,SAAUC,GAEfJ,QAAQC,IAAIG,MAEbN,MAAK,gBASJwlB,GAAe,SAAC5T,GACpB,GAAc,UAAVA,EAAE6T,IAAiB,CACrB,IAAMC,EAAiBnC,EACpB9M,QAAO,SAAC9X,GAAK,OACZA,EAAMoD,WACH4jB,cACAhP,SAAS+N,GAAoBiB,kBAEjClP,QAAO,SAAC9X,GAAK,OAAKA,EAAM8D,MAAMkU,SAASmO,OAC1CxB,EAAUoC,KAUd,OANA3mB,qBAAU,WACR,IAAMC,EAASC,IAAMC,YAAYF,SAEjC,OADAmmB,GAAUnmB,EAAOnG,OACV,kBAAMmG,EAAOK,OAAO,oCAC1B,IAGD2B,eAACuJ,KAAG,CACF9J,GAAI,CACFqH,OAAQ,OACRgH,SAAU,OACV3R,QAAS,aACT2D,SAAA,CAEFP,cAACwM,KAAM,CACL9B,UAAWgC,IACXC,GAAG,qBACH0S,UAAWrf,cAACsf,KAAO,IAAI/e,SACxB,cAGDE,eAAC6V,KAAK,CACJpW,GAAI,CACF8G,UAAW,OACXpK,QAAS,WACTuN,QAAS,OACT2V,SAAU,OACVxS,eAAgB,gBAChB/M,SAAA,CAEFP,cAAC+L,KAAS,CACRG,MAAM,iBACN7C,QAAQ,WACRgc,WAAYJ,GACZhsB,MAAOkrB,GACPtR,SAAU,SAACxB,GAAC,OAAK+S,GAAuB/S,EAAEoF,OAAOxd,UAEnD+G,cAAC+L,KAAS,CACRG,MAAM,eACN7C,QAAQ,WACRgc,WAAYJ,GACZhsB,MAAOsrB,GACP1R,SAAU,SAACxB,GAAC,OAAKmT,GAAqBnT,EAAEoF,OAAOxd,aAGnD+G,cAAA,OAAAO,SACEP,cAAC2a,GAAoB,CACnBC,QAASM,GACTrI,SAjEoB,SAACuN,GAC3BjD,GAAuBiD,IAiEjBpL,SAAUkI,OAGdld,cAAC2U,GAAQ,CACPvZ,MAAM,eACNwZ,KAAMkO,EAAOlgB,KACX,SAAArD,EAuBE+D,GAAK,IArBHhF,EAAEiB,EAAFjB,GACAkD,EAAUjC,EAAViC,WACAS,EAAQ1C,EAAR0C,SACAD,EAAMzC,EAANyC,OACAD,EAAKxC,EAALwC,MACAD,EAAKvC,EAALuC,MACAD,EAAItC,EAAJsC,KACAhE,EAAM0B,EAAN1B,OAEAuI,GADU7G,EAAV+lB,WACQ/lB,EAAR6G,UACAD,EAAY5G,EAAZ4G,aACAI,EAAShH,EAATgH,UACAD,EAAa/G,EAAb+G,cACAhF,EAAS/B,EAAT+B,UACAkB,EAAQjD,EAARiD,SACAE,EAAInD,EAAJmD,KACA5E,EAAWyB,EAAXzB,YACAC,EAAUwB,EAAVxB,WACAC,EAAeuB,EAAfvB,gBACGiV,EAAShQ,YAAA1D,EAAA2D,IAAA,OAAAC,YAAA,CAId7E,KACAgF,QACAiiB,QAAS1nB,EAAOyE,WAAa,IAAInD,OAAO,IAAKtB,EAAO0E,UAAY,IAChEC,SACEA,EAAW,IAAM,EAAC,GAAArD,OACXqD,EAAQ,QAAArD,OAAoB,IAAbqD,EAAiB,GAAK,KAAG,GAAArD,OACxCqD,EAAW,EAAC,SAAArD,OAAQqD,EAAW,IAAM,EAAI,GAAK,KACvDgjB,UAAY,WACV,IAAMC,EAAc,IAAIvmB,KAAKoC,GAI7B,OAHAmkB,EAAYC,WACVD,EAAYE,aAAeF,EAAYG,qBAElCH,EAAYI,cAAcC,MAAM,KAAK,GALlC,GAOZ1f,SAAS,GAADjH,OAAKiH,GAAQjH,OAAGgH,EAAe,OAAS,KAChDI,UAAU,GAADpH,OAAKoH,GAASpH,OAAGmH,EAAgB,OAAS,KACnDyf,cAAe,CAAC9jB,EAAUD,EAAQD,EAAOD,EAAOD,GAAMoU,KAAK,MAC3DqP,aACIxC,EAAOxf,GAAOxF,YAAYsF,SACzB0f,EAAOxf,GAAOxF,YAAYkI,QACzB,SAACC,EAAKC,GAAG,OAAKA,EAAIpC,aAAakiB,SAAW/f,QAE5C6c,EAAOxf,GAAOvF,WAAWqF,SACxB0f,EAAOxf,GAAOvF,WAAWiI,QACxB,SAACC,EAAKC,GAAG,OAAKA,EAAIG,YAAY2f,SAAW/f,MAEzC,KACA,MACNggB,SACEjmB,cAAC4N,KAAU,CACT1N,GAAI,CAAEgmB,GAAI,OACVpY,QAAS,SAAClD,GACRA,EAAMC,iBACN4Z,GAAgBzO,QAAU,GAC1B0O,GAAe1O,QAAU,GACzB2O,GAAoB3O,QAAU,GAC9BgO,EAAc1gB,GACdogB,GAAc,IACdnjB,SAEFP,cAACmmB,KAAK,CACJC,aACEtoB,EAAYsF,OACZrF,EAAWqF,OACXpF,EAAgBoF,OAElBtH,MAAM,QAAOyE,SAEbP,cAACqmB,KAAQ,QAIf3jB,KACE1C,cAACuM,KAAQ,CACPqG,QAASlQ,EACToL,QAAS,SAAClD,GACRA,EAAMsO,kBACNtO,EAAMC,iBACNnM,IACGya,IAAI,uBAADha,OAAwBb,GAAM,CAChCoE,MAAOA,IAERjD,MAAK,WACJmlB,QAED9kB,OAAM,SAAUC,GAEfoL,KAAKC,KAAK,CACRC,KAAM,QACNjQ,MAAO,QACPe,KAAM4D,EAAML,SAASG,KAAK0L,QAC1BE,mBAAmB,OAGtBhM,MAAK,kBAMd+B,WACExB,cAAC0M,IAAU,CACTC,GAAE,YAAAxN,OAAcb,GAChBmY,OAAO,SAAQlW,SAEdiB,IAGL8kB,YAAa5jB,GACX1C,cAAC4N,KAAU,CACTlD,UAAWgC,IACXC,GAAE,YAAAxN,OAAcb,GAChBmY,OAAO,SAAQlW,SAEfP,cAACumB,KAAW,MAGhBC,UACExmB,cAAC4N,KAAU,CACTE,QAAS,WACPoV,EAAQjQ,EAAU/a,MAClBirB,EAASlQ,EAAUpX,OACnB2nB,GAAa,IACbjjB,SAEFP,cAACymB,KAAS,MAGdC,aACE1mB,cAAC4N,KAAU,CACTE,QAAS,WACPpP,IACGc,IAAI,sBACJC,MAAK,WACJyjB,EAAQjQ,EAAU/a,MAClBkrB,EAASnQ,EAAU/Q,OACnBohB,GAAgB,MAEjBxjB,OAAM,SAAUC,GAEfrB,IACGc,IAAI,kBACJC,MAAK,SAACC,GACLyL,KAAKC,KAAK,CACRC,KAAM,OACNjQ,MACE,6DACFkQ,KAAMqb,KAAeC,qBACnB5mB,cAAC6mB,KAAM,CACL5tB,MAAK,GAAAkG,OAAKO,EAASG,KAAKinB,QACxBC,MAAM,OAGVtb,mBAAmB,OAGtB3L,OAAM,SAAUknB,GAEf7b,KAAKC,KAAK,CACRC,KAAM,QACNjQ,MAAO,QACPe,KAAM,oCACNsP,mBAAmB,OAGtBhM,MAAK,kBAITA,MAAK,gBAGRc,SAEFP,cAACinB,KAAY,MAGjB7N,KACEpZ,cAAC4N,KAAU,CACTlD,UAAWgC,IACXC,GAAI,CACFua,SAAU,mBACVzuB,MAAO,CAAE2F,MAAO0kB,EAAOxf,KACvB/C,SAEFP,cAACkU,KAAQ,MAGb6E,OACE/Y,cAAC4N,KAAU,CACTE,QAAS,SAAClD,GACRA,EAAMC,iBACN4N,GAAkBnV,IAClB/C,SAEFP,cAACmU,KAAU,OAGZlB,MAGPf,QACEA,GAAQtP,KAAI,SAAC4d,EAAQC,GACnB,OAAIA,EAAI,GAAKA,EAAI,GACXvD,GAAoB3Y,MAAK,SAAAmc,GAAU,OAAEA,IAAeF,EAAOtU,SACtDsU,OAEL,EAECA,KACNtK,QAAO,SAAAsK,GAAM,YAAaG,IAAXH,KAEpBlH,cAAeb,GACf9E,kBAvVwB,SAACqB,GAC7B7J,KAAKC,KAAK,CACRhQ,MAAO,gBACPe,KAAM,uDACNkP,KAAM,WACNqN,kBAAkB,EAClBC,kBAAmB,eACnBC,iBAAkB,iBAClBnN,mBAAmB,IAClBhM,MAAK,SAACoZ,GACHA,EAAOC,aACTpa,IACGqa,OAAO,SAAU,CAChBlZ,KAAM,CAAE0Z,IAAKvE,KAEdvV,MAAK,SAACC,GAELklB,QAED9kB,OAAM,SAAUC,GAEfoL,KAAKC,KAAK,CACRC,KAAM,QACNjQ,MAAO,QACPe,KAAM4D,EAAML,SAASG,KAAK0L,QAC1BE,mBAAmB,IAErB9L,QAAQC,IAAIG,MAEbN,MAAK,mBA2TR0nB,cAzboB,SAAC9V,GACzBA,EAAExG,iBACyBiZ,EAAN,OAAjBD,EAAuCxS,EAAEtG,cACxB,SAwbnBtK,eAAC+Y,KAAM,CACLvN,WAAS,EACT2U,WAAYC,aAAczgB,EAAM0gB,YAAYC,KAAK,OACjDpd,SAAS,KACTrD,KAAM+iB,EAAa9iB,SAAA,CAEnBP,cAACyZ,KAAW,CAAAlZ,SAAC,wCACbP,cAAC0Z,KAAa,CAAAnZ,SACZE,eAACkZ,KAAK,CAAC9N,QAAS,EAAEtL,SAAA,CAChBP,cAAConB,KAAc,CACb/d,QAAQ,WACR6C,MAAM,eACNmb,cAAe,CAAC,MAChBC,eAAgB,KAChBruB,MAAOiJ,EACPqlB,WAAY,CACVC,UAAU,KAIdxnB,cAAC+L,KAAS,CACR0b,SAAU9D,EACVzX,MAAM,UACND,WAAS,EACTmB,aAAY,SAAAjO,OAAWjH,EAAI,gJAC3BulB,WAAS,EACTiK,QAAS,EACTC,QAAS,UAOflnB,eAACoZ,KAAa,CAAAtZ,SAAA,CACZP,cAACwM,KAAM,CACLsB,QAAS,SAAClD,GACRA,EAAMC,iBACNyY,GAAgB,IAChB/iB,SACH,WAGDP,cAACwM,KAAM,CAACsB,QAheW,SAAClD,GAC1BA,EAAMC,iBACNnM,IACGmL,KAAK,gBAAiB,CACrB3H,MAAOA,EACPqJ,QAASoY,EAAgB3N,QAAQ/c,QAElCwG,MAAK,WACJ6jB,GAAgB,MAEjBxjB,OAAM,SAAUC,GAEfujB,GAAgB,GAChBnY,KAAKC,KAAK,CACRC,KAAM,QACNjQ,MAAO,QACPe,KAAM4D,EAAML,SAASG,KAAK0L,QAC1BE,mBAAmB,IAClBhM,MAAK,WACN6jB,GAAgB,SAGnB7jB,MAAK,gBA0ckCc,SAAC,eAGzCE,eAAC+Y,KAAM,CACLvN,WAAS,EACT2U,WAAYC,aAAczgB,EAAM0gB,YAAYC,KAAK,OACjDpd,SAAS,KACTrD,KAAMijB,EAAUhjB,SAAA,CAEhBP,cAACyZ,KAAW,CAAAlZ,SAAC,6BACbP,cAAC0Z,KAAa,CAAAnZ,SACZE,eAACkZ,KAAK,CAAC9N,QAAS,EAAEtL,SAAA,CAChBP,cAAC+L,KAAS,CACRG,MAAM,QACN/C,KAAK,QACLlQ,MAAO4C,EACP0rB,WAAY,CACVC,UAAU,KAIdxnB,cAAC+L,KAAS,CACR0b,SAAU7D,EACV1X,MAAM,UACND,WAAS,EACTmB,aAAY,SAAAjO,OAAWjH,EAAI,gJAC3BulB,WAAS,EACTiK,QAAS,EACTC,QAAS,KAGX3nB,cAAC+L,KAAS,CACRG,MAAM,OACN/C,KAAK,OACLlQ,MAAOgrB,EACPpR,SAAU,SAACxB,GAAC,OAAK6S,GAAe7S,EAAEoF,OAAOxd,eAI/CwH,eAACoZ,KAAa,CAAAtZ,SAAA,CACZP,cAACwM,KAAM,CACLsB,QAAS,SAAClD,GACRA,EAAMC,iBACN2Y,GAAa,IACbjjB,SACH,WAGDP,cAACwM,KAAM,CAACsB,QArfQ,SAAClD,GACvBA,EAAMC,iBACNnM,IACGmL,KAAK,aAAc,CAClBhO,MAAOA,EACP0P,QAASqY,EAAa5N,QAAQ/c,MAC9B2uB,KAAM3D,IAEPxkB,MAAK,WACJ+jB,GAAa,MAEd1jB,OAAM,SAAUC,GAEfyjB,GAAa,GACbrY,KAAKC,KAAK,CACRC,KAAM,QACNjQ,MAAO,QACPe,KAAM4D,EAAML,SAASG,KAAK0L,QAC1BE,mBAAmB,IAClBhM,MAAK,WACN+jB,GAAa,SAGhB/jB,MAAK,gBA8d+Bc,SAAC,eAGtCE,eAAC+Y,KAAM,CACL7V,SAAS,KACTsI,WAAS,EACT2U,WAAYC,aAAczgB,EAAM0gB,YAAYC,KAAK,OACjDzgB,KAAMmjB,EAAWljB,SAAA,CAEjBP,cAACyZ,KAAW,CAAAlZ,SAAC,qBACbP,cAAC0Z,KAAa,CAAAnZ,SACZE,eAACyhB,GAAW,CAAA3hB,SAAA,CACTwjB,EAAajB,EAAO1f,QACnB0f,EAAOiB,GAAYjmB,YAAY8E,KAAI,SAACiB,EAAMP,GAAK,OAC7C7C,eAAC2hB,GAAe,CAAA7hB,SAAA,CACdP,cAACsiB,GAAmB,CAClBpS,QAAO,UAAA/Q,OAAY0E,EAAKG,MAAK,MAAA7E,OAAK0E,EAAKI,MAAK,MAAA9E,OAAK0E,EAAKuZ,WAAU,MAAAje,OAAK0E,EAAKwZ,UAAS,MAAAle,OAAK0E,EAAKyZ,WAC7FuK,UAAS,GAAA1oB,OAAK0E,EAAKK,aAAe,aAAe,IAAE/E,OACjD0E,EAAKM,cAAgB,UAAY,MAGrCnE,cAACwiB,GAAkB,CACjBle,UAAS,GAAAnF,OAAK0E,EAAKC,aAAaQ,UAAS,QACzCme,OAAM,WAAAtjB,OAAa0E,EAAKC,aAAaC,KACrCM,eAAc,GAAAlF,OAAK0E,EAAKC,aAAaO,kBAEvCrE,cAACwM,KAAM,CACLnD,QAAQ,YACRnJ,GAAI,CAAEgK,GAAI,OACVQ,UAAWgC,IACX+J,OAAO,SACP9J,GAAE,sBAAAxN,OAAwB0E,EAAKC,aAAaxF,IAAKiC,SAClD,kBAGAuiB,EAAOiB,GAAYrhB,MAClBjC,eAAC6V,KAAK,CACJwR,IAAK,SAACA,GAAG,OAAKrD,GAAgBzO,QAAQnJ,KAAKib,IAC3Cpd,UAAU,OACVxK,GAAI,CACFwD,UAAW,OACXyG,QAAS,OACT2V,SAAU,OACV3kB,WAAY,SACZmS,eAAgB,gBAChBtG,UAAW,OACXpK,QAAS,QACT2D,SAAA,CAEFP,cAAA,SACE9H,KAAK,KACLiR,KAAK,SACLlQ,MAAO4K,EAAKC,aAAaxF,KAE3B0B,cAAC+L,KAAS,CACR7T,KAAK,kBACLiR,KAAK,OACL+C,MAAM,yBACNkB,aAAcvJ,EAAKC,aAAaikB,gBAChC9G,gBAAiB,CAAEC,QAAQ,GAC3BhhB,GAAI,CACFwD,UAAW,OACXwiB,GAAI,SAGRlmB,cAAC+L,KAAS,CACR7T,KAAK,kBACLiR,KAAK,OACL+C,MAAM,qBACNkB,aAAcvJ,EAAKC,aAAakkB,gBAChC/G,gBAAiB,CAAEC,QAAQ,GAC3BhhB,GAAI,CACFwD,UAAW,OACXwiB,GAAI,SAGRlmB,cAAC+L,KAAS,CACR7T,KAAK,OACLiR,KAAK,OACL+C,MAAM,OACNkB,aAAcvJ,EAAKC,aAAamkB,KAChChH,gBAAiB,CAAEC,QAAQ,GAC3BhhB,GAAI,CAAEwD,UAAW,MAAOwiB,GAAI,SAE9BlmB,cAAC+L,KAAS,CACR7T,KAAK,KACLiR,KAAK,OACL+C,MAAM,KACNkB,aAAcvJ,EAAKC,aAAa6I,GAChCsU,gBAAiB,CAAEC,QAAQ,GAC3BhhB,GAAI,CAAEwD,UAAW,MAAOwiB,GAAI,SAE9BlmB,cAACqM,KAAgB,CAEfC,QACEtM,cAACuM,KAAQ,CACPrU,KAAK,YACLipB,eAAgBtd,EAAKC,aAAaokB,YAGtChc,MAAM,aAPD5I,QA/ESA,MA4FzBygB,EAAajB,EAAO1f,QACnB0f,EAAOiB,GAAY7lB,aAAa0E,KAAI,SAACiB,EAAMP,GAAK,OAC9C7C,eAAC2hB,GAAe,CAAA7hB,SAAA,CACdP,cAACsiB,GAAmB,CAClBpS,QAAO,iCAAA/Q,OACH2jB,EAAOiB,GAAYhmB,WAAWwG,MAAK,SAAAC,GAAK,OAAGA,EAAMlG,KAAKuF,EAAKY,WAASkd,aAAY,8BAAAxiB,OAChF2jB,EAAOiB,GAAYhmB,WAAWwG,MAAK,SAAAC,GAAK,OAAGA,EAAMlG,KAAKuF,EAAKY,WAASR,MAAK,8BAAA9E,OACzE2jB,EAAOiB,GAAYhmB,WAAWwG,MAAK,SAAAC,GAAK,OAAGA,EAAMlG,KAAKuF,EAAKY,WAAS3I,MAAK,8BAAAqD,OACzE2jB,EAAOiB,GAAYhmB,WAAWwG,MAAK,SAAAC,GAAK,OAAGA,EAAMlG,KAAKuF,EAAKY,WAASC,QAAO,8BAAAvF,OAC3E2jB,EAAOiB,GAAYhmB,WAAWwG,MAAK,SAAAC,GAAK,OAAGA,EAAMlG,KAAKuF,EAAKY,WAASE,SAAQ,8BAAAxF,OAC5E2jB,EAAOiB,GAAYhmB,WAAWwG,MAAK,SAAAC,GAAK,OAAGA,EAAMlG,KAAKuF,EAAKY,WAASG,UACxEijB,UACEhkB,EAAKgB,WACHpE,eAAA,QAAAF,SAAA,IAAApB,OACM0E,EAAKiB,YAAW,oCAAA3F,OAChB0E,EAAKqB,SAAQ,oCAAA/F,OACb0E,EAAKkB,UAAS,KAAA5F,OAAI0E,EAAKmB,SAAQ,KAAA7F,OAAI0E,EAAKoB,aAAY,oCAAA9F,OACpD0E,EAAKsB,kBAAiB,MAAAhG,OAAK0E,EAAKuB,gBAAe,oCAAAjG,OAC/C0E,EAAKwB,aAAY,KAAAlG,OAAI0E,EAAK0B,YAAW,KACzCvF,cAAA,KACEwJ,KAAM3F,EAAKskB,aACX1R,OAAO,SACP2R,IAAI,aAAY7nB,SACjB,cAKH,oBAINP,cAACwiB,GAAkB,CACjBle,UAAS,GAAAnF,OAAK0E,EAAKS,UAAS,QAC5Bme,OAAM,WAAAtjB,OAAa0E,EAAKE,KACxBM,eAAc,GAAAlF,OAAK0E,EAAKQ,kBAE1BrE,cAACwM,KAAM,CACLnD,QAAQ,YACRnJ,GAAI,CAAEgK,GAAI,OACVQ,UAAWgC,IACX+J,OAAO,SACP9J,GAAE,qBAAAxN,OAAuB0E,EAAKvF,IAAKiC,SACpC,kBAGAuiB,EAAOiB,GAAYrhB,MAClBjC,eAAC6V,KAAK,CACJwR,IAAK,SAACA,GAAG,OAAKpD,GAAe1O,QAAQnJ,KAAKib,IAC1Cpd,UAAU,OACVxK,GAAI,CACFwD,UAAW,OACXyG,QAAS,OACT2V,SAAU,OACV3kB,WAAY,SACZmS,eAAgB,gBAChBtG,UAAW,OACXpK,QAAS,QACT2D,SAAA,CAEFP,cAAA,SACE9H,KAAK,KACLiR,KAAK,SACLlQ,MAAO4K,EAAKvF,KAEd0B,cAAC+L,KAAS,CACR7T,KAAK,kBACLiR,KAAK,OACL+C,MAAM,yBACNkB,aAAcvJ,EAAKkkB,gBACnB9G,gBAAiB,CAAEC,QAAQ,GAC3BhhB,GAAI,CACFwD,UAAW,OACXwiB,GAAI,SAGRlmB,cAAC+L,KAAS,CACR7T,KAAK,kBACLiR,KAAK,OACL+C,MAAM,qBACNkB,aAAcvJ,EAAKmkB,gBACnB/G,gBAAiB,CAAEC,QAAQ,GAC3BhhB,GAAI,CACFwD,UAAW,OACXwiB,GAAI,SAGRlmB,cAAC+L,KAAS,CACR7T,KAAK,OACLiR,KAAK,OACL+C,MAAM,OACNkB,aAAcvJ,EAAKokB,KACnBhH,gBAAiB,CAAEC,QAAQ,GAC3BhhB,GAAI,CAAEwD,UAAW,MAAOwiB,GAAI,SAE9BlmB,cAAC+L,KAAS,CACR7T,KAAK,KACLiR,KAAK,OACL+C,MAAM,KACNkB,aAAcvJ,EAAK8I,GACnBsU,gBAAiB,CAAEC,QAAQ,GAC3BhhB,GAAI,CAAEwD,UAAW,MAAOwiB,GAAI,SAE9BlmB,cAACqM,KAAgB,CAEfC,QACEtM,cAACuM,KAAQ,CACPrU,KAAK,YACLipB,eAAgBtd,EAAKqkB,YAGzBhc,MAAM,aAPD5I,QAtGSA,MAmHzBygB,EAAajB,EAAO1f,QACnB0f,EAAOiB,GAAY/lB,gBAAgB4E,KAAI,SAACiB,EAAMP,GAAK,OACjD7C,eAAC2hB,GAAe,CAAA7hB,SAAA,CACdP,cAACsiB,GAAmB,CAClBpS,QAAO,cAAA/Q,OAAgB0E,EAAK3L,MAC5B2vB,UAAS,GAAA1oB,OAAK0E,EAAKO,UAErBpE,cAACwiB,GAAkB,CACjBle,UAAS,GAAAnF,OAAK0E,EAAK2B,iBAAiBlB,UAAS,QAC7Cme,OAAM,WAAAtjB,OAAa0E,EAAK2B,iBAAiBzB,KACzCM,eAAc,GAAAlF,OAAK0E,EAAK2B,iBAAiBnB,kBAE3CrE,cAACwM,KAAM,CACLnD,QAAQ,YACRnJ,GAAI,CAAEgK,GAAI,OACVQ,UAAWgC,IACX+J,OAAO,SACP9J,GAAE,0BAAAxN,OAA4B0E,EAAK2B,iBAAiBlH,IAAKiC,SAC1D,kBAGAuiB,EAAOiB,GAAYrhB,MAClBjC,eAAC6V,KAAK,CACJwR,IAAK,SAACA,GAAG,OAAKnD,GAAoB3O,QAAQnJ,KAAKib,IAC/Cpd,UAAU,OACVxK,GAAI,CACFwD,UAAW,OACXyG,QAAS,OACT2V,SAAU,OACV3kB,WAAY,SACZmS,eAAgB,gBAChBtG,UAAW,OACXpK,QAAS,QACT2D,SAAA,CAEFP,cAAA,SACE9H,KAAK,KACLiR,KAAK,SACLlQ,MAAO4K,EAAK2B,iBAAiBlH,KAE/B0B,cAAC+L,KAAS,CACR7T,KAAK,kBACLiR,KAAK,OACL+C,MAAM,yBACNkB,aAAcvJ,EAAK2B,iBAAiBuiB,gBACpC9G,gBAAiB,CAAEC,QAAQ,GAC3BhhB,GAAI,CACFwD,UAAW,OACXwiB,GAAI,SAGRlmB,cAAC+L,KAAS,CACR7T,KAAK,kBACLiR,KAAK,OACL+C,MAAM,oBACNkB,aAAcvJ,EAAK2B,iBAAiBwiB,gBACpC/G,gBAAiB,CAAEC,QAAQ,GAC3BhhB,GAAI,CACFwD,UAAW,OACXwiB,GAAI,SAGRlmB,cAAC+L,KAAS,CACR7T,KAAK,OACLiR,KAAK,OACL+C,MAAM,OACNkB,aAAcvJ,EAAK2B,iBAAiByiB,KACpChH,gBAAiB,CAAEC,QAAQ,GAC3BhhB,GAAI,CAAEwD,UAAW,MAAOwiB,GAAI,SAE9BlmB,cAAC+L,KAAS,CACR7T,KAAK,KACLiR,KAAK,OACL+C,MAAM,KACNkB,aAAcvJ,EAAK2B,iBAAiBmH,GACpCsU,gBAAiB,CAAEC,QAAQ,GAC3BhhB,GAAI,CAAEwD,UAAW,MAAOwiB,GAAI,SAE9BlmB,cAACqM,KAAgB,CAEfC,QACEtM,cAACuM,KAAQ,CACPrU,KAAK,YACLipB,eAAgBtd,EAAK2B,iBAAiB0iB,YAG1Chc,MAAM,aAPD5I,QA7ESA,WA4F9B7C,eAACoZ,KAAa,CAAAtZ,SAAA,CACZP,cAACwM,KAAM,CACLsB,QAAS,SAAClD,GACRA,EAAMC,iBACN6Y,GAAc,IACdnjB,SACH,WAGDP,cAACwM,KAAM,CACLsB,QAAS,SAAClD,GACRA,EAAMC,iBACN,IAAMwd,EAAgB5D,GAAgBzO,QAAQpT,KAAI,SAACiB,GAAI,MAAM,CAC3DvF,GAAIuF,EAAKvF,GAAGrF,MACZ8uB,gBAAiBlkB,EAAKkkB,gBAAgB9uB,OAAS,KAC/C+uB,gBAAiBnkB,EAAKmkB,gBAAgB/uB,OAAS,KAC/CgvB,KAAMpkB,EAAKokB,KAAKhvB,OAAS,KACzB0T,GAAI9I,EAAK8I,GAAG1T,OAAS,KACrBivB,UAAWrkB,EAAKqkB,UAAUtV,YAEtB0V,EAAe5D,GAAe1O,QAAQpT,KAAI,SAACiB,GAAI,MAAM,CACzDvF,GAAIuF,EAAKvF,GAAGrF,MACZ8uB,gBAAiBlkB,EAAKkkB,gBAAgB9uB,OAAS,KAC/C+uB,gBAAiBnkB,EAAKmkB,gBAAgB/uB,OAAS,KAC/CgvB,KAAMpkB,EAAKokB,KAAKhvB,OAAS,KACzB0T,GAAI9I,EAAK8I,GAAG1T,OAAS,KACrBivB,UAAWrkB,EAAKqkB,UAAUtV,YAEtB2V,EAAoB5D,GAAoB3O,QAAQpT,KACpD,SAACiB,GAAI,MAAM,CACTvF,GAAIuF,EAAKvF,GAAGrF,MACZ8uB,gBAAiBlkB,EAAKkkB,gBAAgB9uB,OAAS,KAC/C+uB,gBAAiBnkB,EAAKmkB,gBAAgB/uB,OAAS,KAC/CgvB,KAAMpkB,EAAKokB,KAAKhvB,OAAS,KACzB0T,GAAI9I,EAAK8I,GAAG1T,OAAS,KACrBivB,UAAWrkB,EAAKqkB,UAAUtV,YAG9BlU,IACGmL,KAAK,kBAAmB,CACvBwe,gBACAC,eACAC,sBAED9oB,MAAK,WAEJmlB,QAED9kB,OAAM,SAAUC,GAEfJ,QAAQC,IAAIG,MAEbN,MAAK,WAEJikB,GAAc,OAElBnjB,SACH,mB,kYCjgCLioB,GAAW,SAACnrB,GAChB,IAAQkD,EAAqClD,EAArCkD,SAAUtH,EAA2BoE,EAA3BpE,MAAOqK,EAAoBjG,EAApBiG,MAAUmlB,EAAKxlB,YAAK5F,EAAK6F,IAElD,OACElD,cAAA,MAAAmD,wBAAA,CACE6T,KAAK,WACL0R,OAAQzvB,IAAUqK,EAClBhF,GAAE,mBAAAa,OAAqBmE,GACvB,gCAAAnE,OAA+BmE,IAC3BmlB,GAAK,IAAAloB,SAERtH,IAAUqK,GAAStD,cAACgK,KAAG,CAAC9J,GAAI,CAAEgT,EAAG,oBAAqB3S,SAAEA,QAgB/D,IAAMooB,GAAe,CACnB,CACErqB,GAAI,OAEN,CACEA,GAAI,YACJ4B,GAAI,CAAEpF,MAAO,KACbkY,SAAS,GAEX,CACE1U,GAAI,QACJ4N,MAAO,SAET,CACE5N,GAAI,QACJ4N,MAAO,SAET,CACE5N,GAAI,YACJ4N,MAAO,SAET,CACE5N,GAAI,UACJ4N,MAAO,WAET,CACE5N,GAAI,MACJ4N,MAAO,OAET,CACE5N,GAAI,aACJ4N,MAAO,eAET,CACE5N,GAAI,YACJ4N,MAAO,cAET,CACE5N,GAAI,YACJ4N,MAAO,cAET,CACE5N,GAAI,eACJ4N,MAAO,iBAET,CACE5N,GAAI,eACJ4N,MAAO,iBAET,CACE5N,GAAI,eACJ4N,MAAO,YAET,CACE5N,GAAI,gBACJ4N,MAAO,uBAET,CACE5N,GAAI,SACJ4N,MAAO,gBAET,CACE5N,GAAI,eACJ4N,MAAO,YAET,CACE5N,GAAI,cACJ4N,MAAO,YAIL0c,GAAmB,CACvB,cACA,aACA,aACA,gBACA,gBACA,WACA,sBACA,eACA,WACA,WAGIC,GAAc,CAClB,CACEvqB,GAAI,OAEN,CACEA,GAAI,YACJ4B,GAAI,CAAEpF,MAAO,KACbkY,SAAS,GAEX,CACE1U,GAAI,eACJ4N,MAAO,YAET,CACE5N,GAAI,QACJ4N,MAAO,SAET,CACE5N,GAAI,YACJ4N,MAAO,SAET,CACE5N,GAAI,UACJ4N,MAAO,WAET,CACE5N,GAAI,MACJ4N,MAAO,OAET,CACE5N,GAAI,QACJ4N,MAAO,SAET,CACE5N,GAAI,UACJ4N,MAAO,YAET,CACE5N,GAAI,WACJ4N,MAAO,aAET,CACE5N,GAAI,WACJ4N,MAAO,aAET,CACE5N,GAAI,SACJ4N,MAAO,gBAET,CACE5N,GAAI,eACJ4N,MAAO,YAET,CACE5N,GAAI,cACJ4N,MAAO,YAIL4c,GAAkB,CACtB,QACA,WACA,YACA,YACA,eACA,WACA,WAGIC,GAAmB,CACvB,CACEzqB,GAAI,OAEN,CACEA,GAAI,YACJ4B,GAAI,CAAEpF,MAAO,KACbkY,SAAS,GAEX,CACE1U,GAAI,OACJ4N,MAAO,QAET,CACE5N,GAAI,WACJ4N,MAAO,YAET,CACE5N,GAAI,YACJ4N,MAAO,SAET,CACE5N,GAAI,UACJ4N,MAAO,WAET,CACE5N,GAAI,MACJ4N,MAAO,OAET,CACE5N,GAAI,SACJ4N,MAAO,gBAET,CACE5N,GAAI,eACJ4N,MAAO,YAET,CACE5N,GAAI,cACJ4N,MAAO,YAIL8c,GAAkB,CACtB,WACA,WACA,wBACA,wBACA,UACA,QACA,SACA,0BACA,kBAGa5rB,gBArNf,SAAyB3E,GAEvB,MAAO,CAAET,KADQS,EAATT,QAoNKoF,EAAyB,SAACC,GACvC,IAAM+C,EAAQgb,eACN6N,EAA+D5rB,EAA/D4rB,cAAeC,EAAgD7rB,EAAhD6rB,cAAeC,EAAiC9rB,EAAjC8rB,YAAaC,EAAoB/rB,EAApB+rB,gBAEnD9rB,EAAwCC,mBAAS,GAAEC,EAAAC,YAAAH,EAAA,GAA5C+H,EAAY7H,EAAA,GAAE6rB,EAAe7rB,EAAA,GACpCI,EAA8CL,mBAAS,QAAOY,EAAAV,YAAAG,EAAA,GAAvD0H,EAAenH,EAAA,GAAEmrB,EAAkBnrB,EAAA,GAC1C2W,EAAsCvX,mBAAS,WAAUwX,EAAAtX,YAAAqX,EAAA,GAAlDvP,EAAWwP,EAAA,GAAEwU,EAAcxU,EAAA,GAClCG,EAAsC3X,mBAAS,YAAW4X,EAAA1X,YAAAyX,EAAA,GAAnDpQ,EAAWqQ,EAAA,GAAEqU,EAAcrU,EAAA,GAClCG,EAAgC/X,mBAAS,IAAGgY,EAAA9X,YAAA6X,EAAA,GAArCpQ,EAAQqQ,EAAA,GAAEkU,EAAWlU,EAAA,GAC5BG,EAAkCnY,mBAAS,KAAIoY,EAAAlY,YAAAiY,EAAA,GAAxC3Q,EAAS4Q,EAAA,GAAE+T,EAAY/T,EAAA,GAC9BkG,EAAgCte,mBAAS,KAAIue,EAAAre,YAAAoe,EAAA,GAAtC7W,EAAQ8W,EAAA,GAAE6N,EAAW7N,EAAA,GAC5BE,EAAwCze,mBAAS,IAAG0e,EAAAxe,YAAAue,EAAA,GAA7C/W,EAAYgX,EAAA,GAAE2N,EAAe3N,EAAA,GACpCG,EAAkD7e,mBAAS,GAAE8e,EAAA5e,YAAA2e,EAAA,GAAtDjX,EAAiBkX,EAAA,GAAEwN,EAAoBxN,EAAA,GAC9CG,EAA8Cjf,mBAAS,IAAGkf,EAAAhf,YAAA+e,EAAA,GAAnDpX,EAAeqX,EAAA,GAAEqN,EAAkBrN,EAAA,GAC1CG,GAAkCrf,mBAAS,IAAGsf,GAAApf,YAAAmf,GAAA,GAAvCmN,GAASlN,GAAA,GAAEmN,GAAYnN,GAAA,GAQxBoN,GAAalU,iBAAO,MAC1BiH,GAAsCzf,mBAAS,GAAE0f,GAAAxf,YAAAuf,GAAA,GAA1CkN,GAAWjN,GAAA,GAAEkN,GAAclN,GAAA,GAClCwE,GAA8BlkB,oBAAS,GAAMmkB,GAAAjkB,YAAAgkB,GAAA,GAAtC2I,GAAO1I,GAAA,GAAE2I,GAAU3I,GAAA,GAC1B2C,GAAsC9mB,oBAAS,GAAM+mB,GAAA7mB,YAAA4mB,GAAA,GAA9CmG,GAAWlG,GAAA,GAAEmG,GAAcnG,GAAA,GAClCgG,GAAoC/sB,oBAAS,GAAMgtB,GAAA9sB,YAAA6sB,GAAA,GAA5CzlB,GAAU0lB,GAAA,GAAEK,GAAaL,GAAA,GAChCG,GAAsCntB,mBAAS,SAAQotB,GAAAltB,YAAAitB,GAAA,GAAhDK,GAAWJ,GAAA,GAAEK,GAAcL,GAAA,GAClCE,GAA0CttB,mBAAS,IAAGutB,GAAArtB,YAAAotB,GAAA,GAA/CU,GAAaT,GAAA,GAAEU,GAAgBV,GAAA,GACtCG,GAAwC1tB,mBAAS,KAAK2tB,GAAAztB,YAAAwtB,GAAA,GAA/CU,GAAYT,GAAA,GAAEU,GAAeV,GAAA,GACpCG,GAA0C9tB,mBAAS,GAAE+tB,GAAA7tB,YAAA4tB,GAAA,GAA9CU,GAAaT,GAAA,GAAEU,GAAgBV,GAAA,GACtCG,GAA0CluB,mBAAS,IAAGmuB,GAAAjuB,YAAAguB,GAAA,GAA/CU,GAAaT,GAAA,GAAEU,GAAgBV,GAAA,GAEtCG,GAAgDtuB,oBAAS,GAAMuuB,GAAAruB,YAAAouB,GAAA,GAAxDU,GAAgBT,GAAA,GAAEU,GAAmBV,GAAA,GAC5CG,GAAgD1uB,oBAAS,GAAM2uB,GAAAzuB,YAAAwuB,GAAA,GAAxDU,GAAgBT,GAAA,GAAEU,GAAmBV,GAAA,GAC5CG,GAAgD9uB,oBAAS,GAAM+uB,GAAA7uB,YAAA4uB,GAAA,GAAxDU,GAAgBT,GAAA,GAAEU,GAAmBV,GAAA,GAC5CG,GAAgDlvB,oBAAS,GAAMmvB,GAAAjvB,YAAAgvB,GAAA,GAAxDU,GAAgBT,GAAA,GAAEU,GAAmBV,GAAA,GAE5CG,GAAwBtvB,mBAAS4rB,GAAY2D,GAAArvB,YAAAovB,GAAA,GAAtCU,GAAIT,GAAA,GAAEU,GAAOV,GAAA,GACpBG,GAA4C1vB,mBAAS,OAAM2vB,GAAAzvB,YAAAwvB,GAAA,GAApDU,GAAcT,GAAA,GAAEU,GAAiBV,GAAA,GAExCG,GAAwB9vB,mBAAS2rB,EAAcxmB,MAAK4qB,GAAA7vB,YAAA4vB,GAAA,GAA7C3qB,GAAI4qB,GAAA,GAAES,GAAOT,GAAA,GAEpBG,GAAsClwB,mBAAS,IAAGmwB,GAAAjwB,YAAAgwB,GAAA,GAA3CS,GAAWR,GAAA,GAAES,GAAcT,GAAA,GAClCG,GAAoCtwB,mBAAS,IAAGuwB,GAAArwB,YAAAowB,GAAA,GAAzCS,GAAUR,GAAA,GAAES,GAAaT,GAAA,GAChCE,GAA8CzwB,mBAAS,IAAG0wB,GAAAxwB,YAAAuwB,GAAA,GAAnDU,GAAeT,GAAA,GAAEU,GAAkBV,GAAA,GAC1CG,GAAsD7wB,mBAAS,IAAG8wB,GAAA5wB,YAAA2wB,GAAA,GAA3DU,GAAmBT,GAAA,GAAEU,GAAsBV,GAAA,GAClDG,GAAsCjxB,mBAAS,GAAEkxB,GAAAhxB,YAAA+wB,GAAA,GAA1CU,GAAWT,GAAA,GAAEU,GAAcV,GAAA,GAElCG,GAA0CrxB,mBAAS,IAAGsxB,GAAApxB,YAAAmxB,GAAA,GAA/CU,GAAaT,GAAA,GAAEU,GAAgBV,GAAA,GACtCG,GAAwCzxB,mBAAS,IAAG0xB,GAAAxxB,YAAAuxB,GAAA,GAA7CU,GAAYT,GAAA,GAAEU,GAAeV,GAAA,GAGpCG,GAAgD7xB,mBAAS,MAAK8xB,GAAA5xB,YAAA2xB,GAAA,GAAvDU,GAAgBT,GAAA,GAAEU,GAAmBV,GAAA,GAC5CG,GAAgDjyB,mBAAS,MAAKkyB,GAAAhyB,YAAA+xB,GAAA,GAAvDU,GAAgBT,GAAA,GAAEU,GAAmBV,GAAA,GAC5CG,GAAoDryB,mBAAS,MAAKsyB,GAAApyB,YAAAmyB,GAAA,GAA3DU,GAAkBT,GAAA,GAAEU,GAAqBV,GAAA,GAChDG,GAA8CzyB,mBAAS,MAAK0yB,GAAAxyB,YAAAuyB,GAAA,GAArDU,GAAeT,GAAA,GAAEU,GAAkBV,GAAA,GAC1CG,GAA8C7yB,mBAAS,MAAK8yB,GAAA5yB,YAAA2yB,GAAA,GAArDU,GAAeT,GAAA,GAAEU,GAAkBV,GAAA,GAC1CG,GAA8DjzB,mBAAS,OAAMkzB,GAAAhzB,YAAA+yB,GAAA,GAAtEU,GAAuBT,GAAA,GAAEU,GAA0BV,GAAA,GAEtDW,GAAehI,EACfA,EAAgBxmB,KAAI,SAACyuB,GAAO,OAC1BC,OAAOC,OAAOF,EAAS,CAAEtG,YAAa,YAExC,GACJ6F,GAAgCrzB,mBAAS6zB,IAAaP,GAAApzB,YAAAmzB,GAAA,GAA/Cc,GAAQb,GAAA,GAAEc,GAAWd,GAAA,GAE5BG,GAAgEzzB,mBAAS,IAAG0zB,GAAAxzB,YAAAuzB,GAAA,GAArEc,GAAwBb,GAAA,GAAEc,GAA2Bd,GAAA,GAC5DO,GAA8Dj0B,mBAAS,IAAGk0B,GAAAh0B,YAAA+zB,GAAA,GAAnEU,GAAuBT,GAAA,GAAEU,GAA0BV,GAAA,GAmG1DjzB,qBAAU,WACR,IAlGwBK,EAkGlBJ,EAASC,IAAMC,YAAYF,SAOjC,OAzGwBI,EAmGPJ,EAAOnG,MAlGxBoG,IACGc,IAAI,uBAAwB,CAAEX,gBAC9BY,MAAK,SAACC,GAEL6vB,GAAiB7vB,EAASG,SAE3BC,OAAM,SAAUC,GAEfJ,QAAQC,IAAIG,MAEbN,MAAK,eAKc,SAACZ,GACvBH,IACGc,IAAI,sBAAuB,CAAEX,gBAC7BY,MAAK,SAACC,GAELiwB,GAAgBjwB,EAASG,SAE1BC,OAAM,SAAUC,GAEfJ,QAAQC,IAAIG,MAEbN,MAAK,eAyER2yB,CAAgB3zB,EAAOnG,OApEI,SAACuG,GAC5BH,IACGc,IAAI,2BAA4B,CAAEX,gBAClCY,MAAK,SAACC,OAINI,OAAM,SAAUC,GAEfJ,QAAQC,IAAIG,MAEbN,MAAK,eA0DR4yB,CAAqB5zB,EAAOnG,OArDP,SAACuG,GACtBH,IACGc,IAAI,cAAe,CAAEX,gBACrBY,MAAK,SAACC,GAELyuB,GAAezuB,EAASG,SAEzBC,OAAM,SAAUC,GAEfJ,QAAQC,IAAIG,MAEbN,MAAK,eA2CR6yB,CAAe7zB,EAAOnG,OAtCF,SAACuG,GACrBH,IACGc,IAAI,aAAc,CAAEX,gBACpBY,MAAK,SAACC,GAEL6uB,GAAc7uB,EAASG,SAExBC,OAAM,SAAUC,GAEfJ,QAAQC,IAAIG,MAEbN,MAAK,eA4BR8yB,CAAc9zB,EAAOnG,OAvBI,SAACuG,GAC1BH,IACGc,IAAI,kBAAmB,CAAEX,gBACzBY,MAAK,SAACC,GAELivB,GAAmBjvB,EAASG,MAC5BkvB,GAAuBrvB,EAASG,SAEjCC,OAAM,SAAUC,GAEfJ,QAAQC,IAAIG,MAEbN,MAAK,eAYR+yB,CAAmB/zB,EAAOnG,OACnB,kBAAMmG,EAAOK,OAAO,oCAC1B,IAmHH,OACE2B,eAACuJ,KAAG,CACF9J,GAAI,CACFqH,OAAQ,OACRgH,SAAU,OACV3R,QAAS,uBACT2D,SAAA,CAEFP,cAACyyB,KAAO,CAACC,WAAYxI,GAAahqB,GAAI,CAAE4f,SAAU,QAASvf,SA3RjD,CACZ,oBACA,kBACA,yBAyRWqC,KAAI,SAACsJ,EAAO5I,GACjB,IA3HcqvB,EA2HRC,EAAa,GAWnB,OAtIcD,EA4HGrvB,GA3HI,OAAvB2mB,GAAWjU,SAAoBkU,GAAc,GAAc,IAATyI,GAC5C1I,GAAWjU,QAAQ6c,gBAEX,IAAhBtF,GAAKnqB,QACe,IAApBsuB,GAAStuB,QACT8mB,GAAc,GACL,IAATyI,KAsHMC,EAAWE,SACT9yB,cAACiI,IAAU,CAACoB,QAAQ,UAAUvN,MAAM,QAAOyE,SACxC,CAAC,gBAAiB,4BAA4B+C,KAInDsvB,EAAW7yB,OAAQ,GAInBC,cAAC+yB,KAAI,CAAa7yB,GAAI,CAAEgmB,GAAI,QAAS3lB,SACnCP,cAACgzB,KAAS7vB,wBAAA,GAAKyvB,GAAU,IAAAryB,SAAG2L,MADnBA,QAMjBzL,eAACuJ,KAAG,CACF9J,GAAI,CAAE+J,GAAI,OAAQC,GAAI,QACtB4d,IAAKmC,GACLvB,OAAwB,IAAhBwB,GACRxf,UAAU,OACV/G,SAAS,KACTsI,WAAS,EACTtB,SAAU,SAAC0G,GACTA,EAAExG,iBACFsf,GAAe,IACf5pB,SAAA,CAEFE,eAAC6V,KAAK,CACJpW,GAAI,CACFgT,EAAG,OACH/I,QAAS,OACT2V,SAAU,OACVxS,eAAgB,iBAChB/M,SAAA,CAEFP,cAACiI,IAAU,CAACoB,QAAQ,KAAKnJ,GAAI,CAAEwD,UAAW,OAAQiL,SAAU,QAASpO,SAAC,gBAGrE,CACC,CACErI,KAAM,OACNgU,MAAO,OACP/C,KAAM,OACNiE,aAAc8b,EAAchxB,KAC5B4C,MAAO,OACPkR,UAAU,GAEZ,CACE9T,KAAM,QACNgU,MAAO,QACP/C,KAAM,OACNlQ,MAAOiwB,EAAchnB,MACrB2Q,SAAUqW,EAAc9F,SACxBtoB,MAAO,OAET,CACE5C,KAAM,QACNgU,MAAO,QACP/C,KAAM,QACNiE,aAAc8b,EAAcrtB,MAC5Bf,MAAO,OAET,CACE5C,KAAM,WACNgU,MAAO,WACP/C,KAAM,OACNiE,aAAc8b,EAAcjnB,SAC5BnH,MAAO,OAET,CACE5C,KAAM,SACNgU,MAAO,SACP/C,KAAM,OACNiE,aAAc8b,EAAclnB,OAC5BlH,MAAO,OAET,CACE5C,KAAM,QACNgU,MAAO,QACP/C,KAAM,OACNiE,aAAc8b,EAAcnnB,MAC5BjH,MAAO,OAET,CACE5C,KAAM,QACNgU,MAAO,QACP/C,KAAM,OACNiE,aAAc8b,EAAcpnB,MAC5BhH,MAAO,OAET,CACE5C,KAAM,OACNgU,MAAO,OACP/C,KAAM,OACNiE,aAAc8b,EAAcrnB,KAC5B/G,MAAO,QAET8H,KAAI,SAAArD,EAAoC+D,GAAzB/D,EAAR0zB,SAAsC,IAA5Bn4B,EAAKyE,EAALzE,MAAUmY,EAAShQ,YAAA1D,EAAAkE,IAAA,MAChB,UAApBwP,EAAU/G,MACRlM,cAAConB,KAAcjkB,YAAA,CAEbkG,QAAQ,WACRge,cAAe,CAAC,MAChBC,eAAgB,KAChBpnB,GAAI,CAAEwD,UAAW5I,EAAO6T,SAAU7T,GAClCmB,OAAO,QACPgR,KAAK,SACDgG,GAPC3P,GAUPtD,cAAC+L,KAAS5I,YAAA,CAERjD,GAAI,CAAEwD,UAAW5I,EAAO6T,SAAU7T,IAC9BmY,GAFC3P,MAMXtD,cAAC+L,KAAS,CACR7L,GAAI,CAAEwD,UAAW,CAAC,OAAQ,OAAQiL,SAAU,CAAC,OAAQ,QACrDzW,KAAK,WACLgU,MAAM,WACN/C,KAAK,SACL2J,WAAY,CAAEogB,IAAK,GACnB9lB,aAAc8b,EAAc1mB,UAAY,IAE1C/B,eAAC0yB,KAAU,CACThd,KAAG,EACHje,KAAK,iBACLkV,aAAa,MACblN,GAAI,CACFwD,UAAW,CAAC,OAAQ,OACpBiL,SAAU,CAAC,OAAQ,OACnBrB,eAAgB,YAChB/M,SAAA,CAEFP,cAACqM,KAAgB,CAACpT,MAAM,MAAMqT,QAAStM,cAACozB,KAAK,IAAKlnB,MAAM,SACxDlM,cAACqM,KAAgB,CAACpT,MAAM,OAAOqT,QAAStM,cAACozB,KAAK,IAAKlnB,MAAM,aAE3DlM,cAAC+L,KAAS,CACR7L,GAAI,CAAEwD,UAAW,CAAC,OAAQ,QAASiL,SAAU,CAAC,OAAQ,SACtDzW,KAAK,SAASgU,MAAM,iBAAiB/C,KAAK,OAC1CiE,aAAc8b,EAAc9kB,QAAU,QAG1CpE,cAACwM,KAAM,CAACrD,KAAK,SAASjJ,GAAI,CAAE8G,UAAW,OAAQiT,MAAO,SAAU1Z,SAAC,YAIlD,IAAhB2pB,IACCzpB,eAAAsJ,WAAA,CAAAxJ,SAAA,CACGgtB,GAAKnqB,OAAS,GACbpD,cAACsW,KAAK,CAAA/V,SACJP,cAACkiB,GAAW,CAAChiB,GAAI,CAAEmzB,GAAI,QAAS9yB,SAC7BgtB,GAAK3qB,KAAI,SAACiB,EAAMP,GAAK,OACpB7C,eAAC2hB,GAAe,CAEdvS,gBACEpP,eAACC,WAAQ,CAAAH,SAAA,CACPP,cAAC4N,KAAU,CACTE,QAAS,SAAClD,GACRA,EAAMC,iBAlNN,SAAChH,GACzB+pB,GAAkB,QAClB5C,GAAennB,EAAKknB,aACpBS,GAAiB3nB,EAAK0nB,eACtBa,GAAiBvoB,EAAKO,QACtBwnB,GAAgB/nB,EAAK8nB,cACrBK,GAAiBnoB,EAAKkoB,eACtB,IAAMuH,EAAkBx5B,KAAKC,MAAM8J,EAAK0vB,uBAEpCD,EAAgBld,SAAS,sBAC3BoW,IAAoB,GAClB8G,EAAgBld,SAAS,uCAC3BwW,IAAoB,GAClB0G,EAAgBld,SAAS,0BAC3B4W,IAAoB,GAClBsG,EAAgBld,SAAS,qBAAqBgX,IAAoB,GAE7C,UAArBvpB,EAAKknB,aAAgD,cAArBlnB,EAAKknB,YACvCV,IAAW,GACmB,SAArBxmB,EAAKknB,cACdH,GAAc/mB,EAAKgB,YACnB4kB,EAAY5lB,EAAKqB,UACjB4kB,EAAmBjmB,EAAKuB,iBACxBikB,EAAgBxlB,EAAKwB,cACrBikB,EAAmBzlB,EAAKyB,iBACxBikB,EAAe1lB,EAAK0B,aACpBmkB,EAAa7lB,EAAKkB,WAClBykB,EAAe3lB,EAAKiB,aACpB+kB,EAAqBhmB,EAAKsB,mBAC1BykB,EAAgB/lB,EAAKoB,cACrB0kB,EAAY9lB,EAAKmB,UACjBglB,GAAanmB,EAAKskB,cAElBsC,IAAe,IAkLO+I,CAAkB3vB,IAClBtD,SAEFP,cAACkU,KAAQ,MAEXlU,cAAC4N,KAAU,CACTE,QAAS,SAAClD,GACRA,EAAMC,iBACN2iB,GACED,GAAKrX,QACH,SAACud,EAASC,GAAY,OACpBA,IAAiBpwB,OAGvB/C,SAEFP,cAACmU,KAAU,SAGhB5T,SAAA,CAEqB,UAArBsD,EAAKknB,aACJ/qB,cAACsiB,GAAmB,CAClBpS,QAAO,UAAA/Q,OAAY0E,EAAK0nB,cAAcvnB,MAAK,MAAA7E,OAAK0E,EAAK0nB,cAActnB,MAAK,MAAA9E,OAAK0E,EAAKO,QAClFyjB,UAAS,GAAA1oB,OACP0E,EAAK0nB,cAAcrnB,aAAe,aAAe,IAAE/E,OAClD0E,EAAK0nB,cAAcpnB,cAAgB,UAAY,MAGhC,SAArBN,EAAKknB,aACJ/qB,cAACsiB,GAAmB,CAClBpS,QAAO,SAAA/Q,OAAW0E,EAAK0nB,cAAc5J,aAAY,MAAAxiB,OAAK0E,EAAK0nB,cAActnB,MAAK,MAAA9E,OAAK0E,EAAK0nB,cAAczvB,MAAK,MAAAqD,OAAK0E,EAAK0nB,cAAc7mB,QAAO,MAAAvF,OAAK0E,EAAK0nB,cAAc5mB,SAAQ,MAAAxF,OAAK0E,EAAK0nB,cAAc3mB,UAClMijB,UACEhkB,EAAKgB,WAAU,GAAA1F,OACR0E,EAAKiB,YAAW,MAAA3F,OAAK0E,EAAKqB,SAAQ,MAAA/F,OAAK0E,EAAKkB,UAAS,KAAA5F,OAAI0E,EAAKmB,SAAQ,KAAA7F,OAAI0E,EAAKoB,aAAY,MAAA9F,OAAK0E,EAAKsB,kBAAiB,MAAAhG,OAAK0E,EAAKuB,gBAAe,MAAAjG,OAAK0E,EAAKwB,aAAY,KAAAlG,OAAI0E,EAAK0B,aACjL,oBAIY,cAArB1B,EAAKknB,aACJ/qB,cAACsiB,GAAmB,CAClBpS,QAAO,cAAA/Q,OAAgB0E,EAAK0nB,cAAc9lB,UAC1CoiB,UAAS,GAAA1oB,OAAK0E,EAAKO,UAGvBpE,cAACwiB,GAAkB,CACjBle,UAAS,GAAAnF,OAAK0E,EAAK8nB,aAAY,QAC/BlJ,OAAM,WAAAtjB,OAAa0E,EAAKkoB,eACxB1nB,eAAc,GAAAlF,OAAK0E,EAAK0vB,2BAtDrBjwB,UA6Df7C,eAAC6V,KAAK,CAACpW,GAAI,CAAEgmB,GAAI,QAAS3lB,SAAA,CACxBP,cAACgK,KAAG,CAAC9J,GAAI,CAAE1D,aAAc,EAAGm3B,YAAa,WAAYpzB,SACnDE,eAACmzB,KAAI,CACH36B,MAAOi2B,GACPrc,SAAU,SAACjI,EAAO3R,GAChB2R,EAAMC,iBACNskB,GAAel2B,IAEjB,aAAW,qBAAoBsH,SAAA,CAE/BP,cAAC6zB,KAAG,CAAC3nB,MAAM,WACXlM,cAAC6zB,KAAG,CAAC3nB,MAAM,UACXlM,cAAC6zB,KAAG,CAAC3nB,MAAM,gBACXlM,cAAC6zB,KAAG,CAAC3nB,MAAM,eAGfzL,eAAC+nB,GAAQ,CAACvvB,MAAOi2B,GAAa5rB,MAAO,EAAE/C,SAAA,CACrCP,cAACsW,KAAK,CACJpW,GAAI,CACF8G,UAAW,OACXpK,QAAS,WACTuN,QAAS,OACT2V,SAAU,OACVxS,eAAgB,gBAChB/M,SAED,CACC,CACE2L,MAAO,QACPjT,MAAO62B,GACPjd,SAAU,SAACjI,EAAO3R,GAChB2R,EAAMC,iBACNklB,GAAoB92B,GACpBk3B,GAAoB,OAEtBvV,QAAS0U,GACN1sB,KAAI,SAACiB,GAAI,OAAKA,EAAKG,SACnBkS,QAAO,SAAC6J,EAAGzc,EAAO0c,GAAK,OAAKA,EAAMjJ,QAAQgJ,KAAOzc,MAEtD,CACE4I,MAAO,QACPjT,MAAOi3B,GACPrd,SAAU,SAACjI,EAAO3R,GAChB2R,EAAMC,iBACNslB,GAAoBl3B,IAEtB2hB,QAAS0U,GACNpZ,QACC,SAACrS,GAAI,OACFisB,IAAoBjsB,EAAKG,QAAU8rB,MAEvCltB,KAAI,SAACiB,GAAI,OAAKA,EAAKI,SACnBiS,QAAO,SAAC6J,EAAGzc,EAAO0c,GAAK,OAAKA,EAAMjJ,QAAQgJ,KAAOzc,OAEtDV,KAAI,SAAAC,EAAsBS,GAAK,IAAxB4I,EAAKrJ,EAALqJ,MAAU7O,EAAK4F,YAAAJ,EAAA4D,IAAA,OACtBzG,cAACigB,KAAY9c,YAAA,CAEXjD,GAAI,CAAEwD,UAAW,QAASC,SAAU,SACpCuc,YAAa,SAACC,GAAM,OAClBngB,cAAC+L,KAAS5I,wBAAA,GAAKgd,GAAM,IAAEjU,MAAOA,OAE5B7O,GALCiG,QASXtD,cAAC2a,GAAoB,CACnBC,QAASgO,GACT/V,SArVmB,SAACuN,GAChC2R,GAA4B3R,IAqVhBpL,SAAU8c,KAEZ9xB,cAAC2U,GAAQ,CACPtC,WAAW,EACXjX,MAAM,eACNwZ,KAAMsZ,GACHtrB,KACC,SAAAS,EASEC,GAAK,IAPH4a,EAAY7a,EAAZ6a,aACAha,EAAYb,EAAZa,aACAC,EAAad,EAAbc,cACAuZ,EAAYra,EAAZqa,aACAC,EAAWta,EAAXsa,YACG1K,EAAShQ,YAAAI,EAAAsD,IAAA,OAAAxD,YAAA,CAIdkd,UACErgB,cAAA,KACEwJ,KAAK,IACLsE,QAAS,SAACuD,GACRA,EAAExG,iBACFM,KAAKC,KAAK,CACRE,KAAK,kCAADnM,OAAoC+e,EAAY,QACpDoC,iBAAiB,EACjBC,mBAAmB,EACnB9U,mBAAmB,KAErBlL,SAEFP,cAAA,OACEqK,IAAI,GACJvP,MAAM,OACNmC,IAAKihB,EACLhd,MAAO,CAAE8F,UAAW,WAI1B9C,aAAcA,EAAe,MAAQ,KACrCC,cAAeA,EAAgB,MAAQ,KACvC2vB,IACE9zB,cAAC4N,KAAU,CACTE,QAAS,SAAClD,GACRA,EAAMC,iBAEJ0iB,GAAKhpB,MACH,SAACV,GAAI,MACkB,UAArBA,EAAKknB,aACLlnB,EAAK0nB,cAAcjtB,KACjB4vB,GAAY5qB,GAAOhF,MAGzB6M,KAAKC,KAAK,CACRC,KAAM,UACNjQ,MAAO,UACPe,KAAM,iCACNsP,mBAAmB,KAIvBuf,GAAe,SACfQ,GAAiB0C,GAAY5qB,IAqB7BsoB,GAAgBsC,GAAY5qB,GAAOgB,WACnC0nB,GAAiB,GACjB3B,IAAW,KACX9pB,SAEFP,cAACsf,KAAO,MAGZ5B,aAAe,WACb,GAAqB,OAAjBA,EAAuB,MAAO,KAClC,IAAM+H,EAAc,IAAIvmB,KAAKwe,GAK7B,OAJA+H,EAAYC,WACVD,EAAYE,aACVF,EAAYG,qBAETH,EAAYI,cAAcC,MAAM,KAAK,GAP/B,GASfnI,YAAc,WACZ,GAAoB,OAAhBA,EAAsB,MAAO,KACjC,IAAM8H,EAAc,IAAIvmB,KAAKye,GAK7B,OAJA8H,EAAYC,WACVD,EAAYE,aACVF,EAAYG,qBAETH,EAAYI,cAAcC,MAAM,KAAK,GAPhC,IASX7S,MAGNiD,QACC,SAACrS,GAAI,QACDisB,IAAoBjsB,EAAKG,QAAU8rB,OACnCI,IAAoBrsB,EAAKI,QAAUisB,OAE3Che,QAASyW,GACN/lB,KAAI,SAAC4d,EAAQC,GACZ,OAAIA,EAAI,GAEJqR,GAAyBvtB,MACvB,SAACmc,GAAU,OAAKA,IAAeF,EAAOtU,SAGjCsU,KAIZtK,QAAO,SAACsK,GAAM,YAAgBG,IAAXH,UAG1B/f,eAAC+nB,GAAQ,CAACvvB,MAAOi2B,GAAa5rB,MAAO,EAAE/C,SAAA,CACrCP,cAACsW,KAAK,CACJpW,GAAI,CACF8G,UAAW,OACXpK,QAAS,WACTuN,QAAS,OACT2V,SAAU,OACVxS,eAAgB,gBAChB/M,SAED,CACC,CACE2L,MAAO,WACPjT,MAAOq3B,GACPzd,SAAU,SAACjI,EAAO3R,GAChB2R,EAAMC,iBACN0lB,GAAsBt3B,GACtB03B,GAAmB,MACnBI,GAAmB,OAErBnW,QAAS8U,GACN9sB,KAAI,SAACiB,GAAI,OAAKA,EAAK8d,gBACnBzL,QAAO,SAAC6J,EAAGzc,EAAO0c,GAAK,OAAKA,EAAMjJ,QAAQgJ,KAAOzc,MAEtD,CACE4I,MAAO,QACPjT,MAAOy3B,GACP7d,SAAU,SAACjI,EAAO3R,GAChB2R,EAAMC,iBACN8lB,GAAmB13B,GACnB83B,GAAmB,OAErBnW,QAAS8U,GACNxZ,QACC,SAACrS,GAAI,OACFysB,IACDzsB,EAAK8d,eAAiB2O,MAEzB1tB,KAAI,SAACiB,GAAI,OAAKA,EAAKI,SACnBiS,QAAO,SAAC6J,EAAGzc,EAAO0c,GAAK,OAAKA,EAAMjJ,QAAQgJ,KAAOzc,MAEtD,CACE4I,MAAO,QACPjT,MAAO63B,GACPje,SAAU,SAACjI,EAAO3R,GAChB2R,EAAMC,iBACNkmB,GAAmB93B,IAErB2hB,QAAS8U,GACNxZ,QACC,SAACrS,GAAI,OACF6sB,IAAmB7sB,EAAKI,QAAUysB,MAEtC9tB,KAAI,SAACiB,GAAI,OAAKA,EAAK/H,SACnBoa,QAAO,SAAC6J,EAAGzc,EAAO0c,GAAK,OAAKA,EAAMjJ,QAAQgJ,KAAOzc,OAEtDV,KAAI,SAAA4D,EAAsBlD,GAAK,IAAxB4I,EAAK1F,EAAL0F,MAAU7O,EAAK4F,YAAAuD,EAAAiB,IAAA,OACtBzH,cAACigB,KAAY9c,YAAA,CAEXjD,GAAI,CAAEwD,UAAW,QAASC,SAAU,SACpCuc,YAAa,SAACC,GAAM,OAClBngB,cAAC+L,KAAS5I,wBAAA,GAAKgd,GAAM,IAAEjU,MAAOA,OAE5B7O,GALCiG,QASXtD,cAAC2a,GAAoB,CACnBC,QAASkO,GACTjW,SA3hBkB,SAACuN,GAC/B+R,GAA2B/R,IA2hBfpL,SAAUkd,KAEZlyB,cAAC2U,GAAQ,CACPtC,WAAW,EACXjX,MAAM,kBACNwZ,KAAM0Z,GACH1rB,KACC,SAAA8D,EAEEpD,GAAK,IADH4a,EAAYxX,EAAZwX,aAAcR,EAAYhX,EAAZgX,aAAcC,EAAWjX,EAAXiX,YAAgB1K,EAAShQ,YAAAyD,EAAAiB,IAAA,OAAAxE,YAAA,CAGvDkd,UACErgB,cAAA,KACEwJ,KAAK,IACLsE,QAAS,SAACuD,GACRA,EAAExG,iBACFM,KAAKC,KAAK,CACRE,KAAK,kCAADnM,OAAoC+e,EAAY,QACpDoC,iBAAiB,EACjBC,mBAAmB,EACnB9U,mBAAmB,KAErBlL,SAEFP,cAAA,OACEqK,IAAI,GACJvP,MAAM,OACNmC,IAAKihB,EACLhd,MAAO,CAAE8F,UAAW,WAI1B8sB,IACE9zB,cAAC4N,KAAU,CACTE,QAAS,SAAClD,GACRogB,GAAe,QACfQ,GAAiB8C,GAAWhrB,IAC5BsoB,GAAgB0C,GAAWhrB,GAAOgB,WAClC0nB,GAAiB,GACjBpB,IAAc,GACdH,IAAe,IACflqB,SAEFP,cAACsf,KAAO,MAGZ5B,aAAe,WACb,GAAqB,OAAjBA,EAAuB,MAAO,KAClC,IAAM+H,EAAc,IAAIvmB,KAAKwe,GAK7B,OAJA+H,EAAYC,WACVD,EAAYE,aACVF,EAAYG,qBAETH,EAAYI,cAAcC,MAAM,KAAK,GAP/B,GASfnI,YAAc,WACZ,GAAoB,OAAhBA,EAAsB,MAAO,KACjC,IAAM8H,EAAc,IAAIvmB,KAAKye,GAK7B,OAJA8H,EAAYC,WACVD,EAAYE,aACVF,EAAYG,qBAETH,EAAYI,cAAcC,MAAM,KAAK,GAPhC,IASX7S,MAGNiD,QACC,SAACrS,GAAI,QACDysB,IACAzsB,EAAK8d,eAAiB2O,OACtBI,IAAmB7sB,EAAKI,QAAUysB,OAClCI,IAAmBjtB,EAAK/H,QAAUg1B,OAE1C5e,QAAS2W,GACNjmB,KAAI,SAAC4d,EAAQC,GACZ,OAAIA,EAAI,GAEJyR,GAAwB3tB,MACtB,SAACmc,GAAU,OAAKA,IAAeF,EAAOtU,SAGjCsU,KAIZtK,QAAO,SAACsK,GAAM,YAAgBG,IAAXH,UAG1B/f,eAAC+nB,GAAQ,CAACvvB,MAAOi2B,GAAa5rB,MAAO,EAAE/C,SAAA,CACrCP,cAACsW,KAAK,CACJpW,GAAI,CACF8G,UAAW,OACXpK,QAAS,WACTuN,QAAS,OACT2V,SAAU,OACVxS,eAAgB,gBAChB/M,SAEFE,eAACsM,KAAW,CACVE,KAAK,QACL/M,GAAI,CAAEwD,UAAW,QAASC,SAAU,SAAUpD,SAAA,CAE9CP,cAACgN,KAAU,CAAC1O,GAAG,kBAAiBiC,SAAC,aACjCE,eAACyM,KAAM,CACLC,QAAQ,kBACRjB,MAAM,WACNjT,MAAOi4B,GACPre,SA/rBoB,SAACxB,GACrC,IAAI4Q,EAAoB5Q,EAAEoF,OAAOxd,MACjCk4B,GAA2BlP,GAEzB0M,GADwB,QAAtB1M,EACiB6M,GAGjBA,GAAoB5Y,QAClB,SAAC1R,GAAK,OAAKA,EAAMiB,WAAawc,OAurBoB1hB,SAAA,CAExCP,cAACqN,KAAQ,CAACpU,MAAM,MAAKsH,SAAC,QACtBP,cAACqN,KAAQ,CAACpU,MAAM,mBAAkBsH,SAAC,qBAGnCP,cAACqN,KAAQ,CAACpU,MAAM,oBAAmBsH,SAAC,sBAGpCP,cAACqN,KAAQ,CAACpU,MAAM,eAAcsH,SAAC,iBAC/BP,cAACqN,KAAQ,CAACpU,MAAM,eAAcsH,SAAC,iBAC/BP,cAACqN,KAAQ,CAACpU,MAAM,UAASsH,SAAC,YAC1BP,cAACqN,KAAQ,CAACpU,MAAM,SAAQsH,SAAC,mBAI/BP,cAAC2U,GAAQ,CACPtC,WAAW,EACXjX,MAAM,mBACNwZ,KAAM8Z,GAAgB9rB,KACpB,SAAAsE,EAEE5D,GAAK,IADH4a,EAAYhX,EAAZgX,aAAcR,EAAYxW,EAAZwW,aAAcC,EAAWzW,EAAXyW,YAAgB1K,EAAShQ,YAAAiE,EAAAW,IAAA,OAAA1E,YAAA,CAGvDkd,UACErgB,cAAA,KACEwJ,KAAK,IACLsE,QAAS,SAACuD,GACRA,EAAExG,iBACFM,KAAKC,KAAK,CACRE,KAAK,kCAADnM,OAAoC+e,EAAY,QACpDoC,iBAAiB,EACjBC,mBAAmB,EACnB9U,mBAAmB,KAErBlL,SAEFP,cAAA,OACEqK,IAAI,GACJvP,MAAM,OACNmC,IAAKihB,EACLhd,MAAO,CAAE8F,UAAW,WAI1B8sB,IACE9zB,cAAC4N,KAAU,CACTE,QAAS,SAAClD,GACRA,EAAMC,iBACNmgB,GAAe,aACfQ,GAAiBkD,GAAgBprB,IACjC8oB,GAAiBsC,GAAgBprB,GAAOc,QACxCwnB,GAAgB8C,GAAgBprB,GAAOgB,WACvC0nB,GAAiB,GAEfuB,GAAKhpB,MACH,SAACV,GAAI,MACkB,cAArBA,EAAKknB,aACLlnB,EAAK0nB,cAAcjtB,KACjBowB,GAAgBprB,GAAOhF,MAG7B6M,KAAKC,KAAK,CACRC,KAAM,UACNjQ,MAAO,UACPe,KAAM,iCACNsP,mBAAmB,IAIvB4e,IAAW,IACX9pB,SAEFP,cAACsf,KAAO,MAGZ5B,aAAe,WACb,GAAqB,OAAjBA,EAAuB,MAAO,KAClC,IAAM+H,EAAc,IAAIvmB,KAAKwe,GAK7B,OAJA+H,EAAYC,WACVD,EAAYE,aACVF,EAAYG,qBAETH,EAAYI,cAAcC,MAAM,KAAK,GAP/B,GASfnI,YAAc,WACZ,GAAoB,OAAhBA,EAAsB,MAAO,KACjC,IAAM8H,EAAc,IAAIvmB,KAAKye,GAK7B,OAJA8H,EAAYC,WACVD,EAAYE,aACVF,EAAYG,qBAETH,EAAYI,cAAcC,MAAM,KAAK,GAPhC,IASX7S,MAGPf,QAAS6W,QAGb/oB,cAACwoB,GAAQ,CAACvvB,MAAOi2B,GAAa5rB,MAAO,EAAE/C,SACrCE,eAACuJ,KAAG,CAAC9J,GAAI,CAAEqK,EAAG,GAAIhK,SAAA,CAChBP,cAACwM,KAAM,CACLnD,QAAQ,YACRnJ,GAAI,CAAEuM,GAAI,GACVqB,QA1xBK,WACnB,IAAMimB,EAAa,CACjBz1B,GAAI01B,eACJtuB,YAAa,GACbC,MAAO,EACPolB,YAAa,QAEf4G,GAAY,GAADxyB,OAAAyE,YAAK8tB,IAAQ,CAAEqC,MAmxBUxzB,SACvB,kBAGDP,cAAC2L,KAAI,CAACC,WAAS,EAACC,QAAS,EAAEtL,SACxBmxB,GAAS9uB,KAAI,SAACyuB,GAAO,OACpBrxB,cAAC2L,KAAI,CAAC9H,MAAI,EAACiI,GAAI,EAAEvL,SACfE,eAACwzB,KAAI,CAAC/zB,GAAI,CAAEmzB,GAAI,EAAGa,GAAI,GAAI3zB,SAAA,CACzBP,cAACgK,KAAG,CACF9J,GAAI,CAAEiK,QAAS,OAAQmD,eAAgB,YAAa/M,SAEpDP,cAAC4N,KAAU,CACT,aAAW,WACXX,KAAK,QACLa,QAAS,kBA9xBX,SAACqmB,GACvB,IAAMC,EAAc1C,GAASxb,QAAO,SAACmb,GAAO,OAAKA,EAAQ/yB,KAAO61B,KAChExC,GAAYyC,GA4xB2BC,CAAgBhD,EAAQ/yB,KAAIiC,SAE3CP,cAACs0B,KAAS,CAACv5B,SAAS,cAGxBiF,cAAC+L,KAAS,CACRG,MAAM,cACNuR,WAAS,EACT7I,KAAM,EACN1U,GAAI,CAAEwD,UAAW,OAAQiL,SAAU,QACnC1V,MAAOo4B,EAAQ3rB,YACfmN,SAAU,SAACxB,GAAC,OApyBT,SAACA,EAAG8iB,GAC7B,IAAMC,EAAc1C,GAAS9uB,KAAI,SAACyuB,GAChC,OAAIA,EAAQ/yB,KAAO61B,EACV7C,OAAOC,OAAO,GAAIF,EAAS,CAAE3rB,YAAa2L,EAAEoF,OAAOxd,QAErDo4B,KAETM,GAAYyC,GA6xB2BG,CAAmBljB,EAAGggB,EAAQ/yB,OAEjD0B,cAAC+L,KAAS,CACR5C,KAAK,SACLjJ,GAAI,CAAEwD,UAAW,OAAQiL,SAAU,QACnCzC,MAAM,QACNjT,MAAOo4B,EAAQ1rB,MACfkN,SAAU,SAACxB,GAAC,OAjyBP,SAACA,EAAG8iB,GAC/B,IAAMC,EAAc1C,GAAS9uB,KAAI,SAACyuB,GAChC,OAAIA,EAAQ/yB,KAAO61B,EACV7C,OAAOC,OAAO,GAAIF,EAAS,CAChC1rB,MAAO6uB,WAAWnjB,EAAEoF,OAAOxd,SAGxBo4B,KAETM,GAAYyC,GAwxB2BK,CAAqBpjB,EAAGggB,EAAQ/yB,WA1BhC+yB,EAAQ/yB,iBAmCzC0B,cAACwM,KAAM,CACLsB,QAAS,SAACuD,GACRA,EAAExG,iBACFsf,GAAe,IACf5pB,SACH,aAGDP,cAACwM,KAAM,CACLtM,GAAI,CAAE+Z,MAAO,SACbnM,QAAS,SAACuD,GACRA,EAAExG,iBACkB,IAAhB0iB,GAAKnqB,QAAoC,IAApBsuB,GAAStuB,OASlC+mB,GAAe,GARbhf,KAAKC,KAAK,CACRC,KAAM,UACNjQ,MAAO,UACPe,KAAM,6CACNsP,mBAAmB,KAKvBlL,SACH,YAKLE,eAACuJ,KAAG,CACF9J,GAAI,CAAE+J,GAAI,OAAQC,GAAI,QACtBwe,OAAwB,IAAhBwB,GACRxf,UAAU,OACV/G,SAAS,KACTsI,WAAS,EACTtB,SAAU,SAAC0G,GACTA,EAAExG,iBACF,IAAM6pB,EAAa,IAAI1pB,SAASif,GAAWjU,SACrC2e,EAAc,IAAI3pB,SAASqG,EAAEtG,eACb,WAAlBke,EACFvqB,IACGmL,KAAK,gBAAiB,CACrB3R,KAAMw8B,EAAWl1B,IAAI,QACrB0C,MAAOwyB,EAAWl1B,IAAI,SACtB3D,MAAO64B,EAAWl1B,IAAI,SACtByC,SAAUyyB,EAAWl1B,IAAI,YACzBwC,OAAQ0yB,EAAWl1B,IAAI,UACvBuC,MAAO2yB,EAAWl1B,IAAI,SACtBsC,MAAO4yB,EAAWl1B,IAAI,SACtBqC,KAAM6yB,EAAWl1B,IAAI,QACrBgD,SACEqD,KAAKC,IAAI4uB,EAAWl1B,IAAI,YAAa,IACC,QAArCk1B,EAAWl1B,IAAI,kBAA8B,EAAI,GACpD4E,OAAQswB,EAAWl1B,IAAI,UACvBymB,SAAUsH,GACP3qB,KAAI,SAAA4E,GAAA,IAAAotB,EAAGrJ,EAAa/jB,EAAb+jB,cAAkBtY,EAAShQ,YAAAuE,EAAAO,IAAA,OAAA5E,YAAA,CACjCgoB,UAAWI,EAAcjtB,GACzBu2B,gBAAuC,QAAxBD,EAAErJ,EAAc9lB,gBAAQ,IAAAmvB,IAAI,IACxC3hB,MAEJ9T,OAAOuyB,IACVjvB,aAAckyB,EAAYn1B,IAAI,gBAC9BkD,KAAMic,QAAQgW,EAAYn1B,IAAI,SAC9BmD,QAASgyB,EAAYn1B,IAAI,YAAc,KACvC4G,SAAUP,KAAKC,IACb6uB,EAAYn1B,IAAI,gBAAkB,EAC9Bm1B,EAAYn1B,IAAI,YAChBqG,KAAKqtB,IAAIyB,EAAYn1B,IAAI,YAAa,KAC1C,GAEF2G,aAAcwuB,EAAYn1B,IAAI,gBAC9B+G,UAAWV,KAAKC,IACd6uB,EAAYn1B,IAAI,iBAAmB,EAC/Bm1B,EAAYn1B,IAAI,aAChBqG,KAAKqtB,IAAIyB,EAAYn1B,IAAI,aAAc,KAC3C,GAEF8G,cAAequB,EAAYn1B,IAAI,mBAEhCC,MAAK,WAEJpC,EAAMuP,QAAQC,KAAK,kBAEpB/M,OAAM,SAAUC,GAEfoL,KAAKC,KAAK,CACRC,KAAM,QACNjQ,MAAO,QACPe,KAAM4D,EAAML,SAASG,KAAK0L,QAC1BE,mBAAmB,IAClBhM,MAAK,eACRE,QAAQC,IAAIG,MAEbN,MAAK,eAIRf,IACGya,IAAI,UAADha,OAAW+pB,EAAc5qB,IAAM,CACjCpG,KAAMw8B,EAAWl1B,IAAI,QACrB0C,MAAOwyB,EAAWl1B,IAAI,SACtB3D,MAAO64B,EAAWl1B,IAAI,SACtByC,SAAUyyB,EAAWl1B,IAAI,YACzBwC,OAAQ0yB,EAAWl1B,IAAI,UACvBuC,MAAO2yB,EAAWl1B,IAAI,SACtBsC,MAAO4yB,EAAWl1B,IAAI,SACtBqC,KAAM6yB,EAAWl1B,IAAI,QACrBgD,SAAUkyB,EAAWl1B,IAAI,aAAoD,QAArCk1B,EAAWl1B,IAAI,kBAA8B,EAAI,GACzF4E,OAAQswB,EAAWl1B,IAAI,UACvBymB,SAAUsH,GACP3qB,KAAI,SAAA8E,GAAA,IAAAotB,EAAGvJ,EAAa7jB,EAAb6jB,cAAkBtY,EAAShQ,YAAAyE,EAAAqtB,IAAA,OAAA5xB,YAAA,CACjCgoB,UAAWI,EAAcjtB,GACzBu2B,gBAAuC,QAAxBC,EAAEvJ,EAAc9lB,gBAAQ,IAAAqvB,IAAI,IACxC7hB,MAEJ9T,OAAOuyB,IACVjvB,aAAckyB,EAAYn1B,IAAI,gBAC9BkD,KAAMic,QAAQgW,EAAYn1B,IAAI,SAC9BmD,QAASgyB,EAAYn1B,IAAI,YAAc,KACvC4G,SAAUP,KAAKC,IACb6uB,EAAYn1B,IAAI,gBAAkB,EAC9Bm1B,EAAYn1B,IAAI,YAChBqG,KAAKqtB,IAAIyB,EAAYn1B,IAAI,YAAa,KAC1C,GAEF2G,aAAcwuB,EAAYn1B,IAAI,gBAC9B+G,UAAWV,KAAKC,IACd6uB,EAAYn1B,IAAI,iBAAmB,EAC/Bm1B,EAAYn1B,IAAI,aAChBqG,KAAKqtB,IAAIyB,EAAYn1B,IAAI,aAAc,KAC3C,GAEF8G,cAAequB,EAAYn1B,IAAI,mBAEhCC,MAAK,WAEJpC,EAAMuP,QAAQC,KAAK,kBAEpB/M,OAAM,SAAUC,GAEfoL,KAAKC,KAAK,CACRC,KAAM,QACNjQ,MAAO,QACPe,KAAM4D,EAAML,SAASG,KAAK0L,QAC1BE,mBAAmB,IAClBhM,MAAK,eACRE,QAAQC,IAAIG,MAEbN,MAAK,gBAIVc,SAAA,CAEFE,eAAC6V,KAAK,CACJpW,GAAI,CACFgT,EAAG,OACH/I,QAAS,OACT2V,SAAU,OACVxS,eAAgB,iBAChB/M,SAAA,CAEFP,cAACiI,IAAU,CAACoB,QAAQ,KAAKnJ,GAAI,CAAEwD,UAAW,OAAQiL,SAAU,QAASpO,SAAC,oBAGtEE,eAACwH,IAAU,CAACoB,QAAQ,KAAKnJ,GAAI,CAAEwD,UAAW,OAAQiL,SAAU,QAASpO,SAAA,CAAC,aACzD,IACVgtB,GAAKvnB,QACJ,SAACkN,EAAG6M,GAAC,OAAK7M,EAAI6M,EAAEgM,cAAgByI,WAAWzU,EAAE4L,gBAC7C,GACE+F,GAAS1rB,QAAO,SAACkN,EAAG6M,GAAC,OAAK7M,EAAI6M,EAAEpa,QAAO,MAE7C3F,cAAC+L,KAAS,CACR7T,KAAK,eACL+U,KAAK,QACL/M,GAAI,CAAEwD,UAAW,OAAQiL,SAAU,QACnCvB,aAAc8b,EAAczmB,aAC5ByJ,MAAM,kBAERlM,cAACqM,KAAgB,CACfnM,GAAI,CACFwD,UAAW,MACXiL,SAAU,MACVqL,YAAa,GAEf1N,QACEtM,cAACuM,KAAQ,CACPrU,KAAK,OACL0a,QAASlQ,GACTmQ,SAAU,SAACxB,GACT0c,GAAQ1c,EAAEoF,OAAO7D,YAIvB1G,MAAM,SAERlM,cAAC+L,KAAS,CACR5C,KAAK,OACL6rB,SAAUtyB,GACVxK,KAAK,UACLgU,MAAM,WACNhM,GAAI,CACFwD,UAAW,MACXiL,SAAU,OAEZvB,aAAc8b,EAAcvmB,QAC5Bse,gBAAiB,CAAEC,QAAQ,KAE7BlhB,cAAC+L,KAAS,CACR7L,GAAI,CACFwD,UAAW,CAAC,MAAO,OACnBiL,SAAU,CAAC,MAAO,OAClBxT,WAAY,WACZoP,EAAG,GAEL2B,MAAM,WACN/C,KAAK,SACLjR,KAAK,WACL4a,WAAY,CACVogB,IAAK,GAEP9lB,aAAc8b,EAAc9iB,SAC5B6F,WAAS,IAEXxL,eAACyM,KAAM,CACLhN,GAAI,CACFwD,UAAW,CAAC,MAAO,OACnBiL,SAAU,CAAC,MAAO,OAClBxT,WAAY,WACZoP,EAAG,GAELrS,KAAK,eACLkV,aAAc8b,EAAc/iB,aAAa5F,SAAA,CAEzCP,cAACqN,KAAQ,CAACpU,MAAO,EAAEsH,SAAC,MACpBP,cAACqN,KAAQ,CAACpU,MAAO,EAAEsH,SAAC,WAEtBP,cAAC+L,KAAS,CACR7L,GAAI,CACFwD,UAAW,CAAC,MAAO,OACnBiL,SAAU,CAAC,MAAO,OAClBxT,WAAY,WACZ+O,GAAI,OACJuC,GAAI,GAENP,MAAM,YACN/C,KAAK,SACLjR,KAAK,YACL4a,WAAY,CACVogB,IAAK,GAEP9lB,aAAc8b,EAAc3iB,UAC5B0F,WAAS,IAEXxL,eAACyM,KAAM,CACLhN,GAAI,CACFwD,UAAW,CAAC,MAAO,OACnBiL,SAAU,CAAC,MAAO,OAClBxT,WAAY,WACZ+O,GAAI,OACJuC,GAAI,GAENvU,KAAK,gBACLkV,aAAc8b,EAAc5iB,cAAc/F,SAAA,CAE1CP,cAACqN,KAAQ,CAACpU,MAAO,EAAEsH,SAAC,MACpBP,cAACqN,KAAQ,CAACpU,MAAO,EAAEsH,SAAC,cAGxBP,cAACwM,KAAM,CACLtM,GAAI,CAAE8G,UAAW,QACjB8G,QAAS,SAACuD,GACRA,EAAExG,iBACFsf,GAAe,IACf5pB,SACH,aAGDP,cAACwM,KAAM,CAACtM,GAAI,CAAE+Z,MAAO,QAASjT,UAAW,QAAUmC,KAAK,SAAQ5I,SAAC,cAInEE,eAAC+Y,KAAM,CACLlZ,KAAM8pB,GACNzmB,SAAS,KACTsI,WAAS,EACT2U,WAAYC,aAAczgB,EAAM0gB,YAAYC,KAAK,OACjD3P,WAAY,CACV1G,UAAW,OACXC,SAAU,SAAC0G,GACTA,EAAExG,iBACF,IAAMhL,EAAO,IAAImL,SAASqG,EAAEtG,eAQ5B,GANAyhB,IAAoB,GACpBI,IAAoB,GACpBI,IAAoB,GACpBI,IAAoB,GAEpB/C,IAAW,GACY,QAAnBsD,GAA0B,CAC5B,GACEJ,GAAKhpB,MACH,SAACV,GAAI,OACHA,EAAKknB,cAAgBA,IACrBlnB,EAAK0nB,cAAcjtB,KAAOitB,GAAcjtB,MAS5C,YANA6M,KAAKC,KAAK,CACRC,KAAM,UACNjQ,MAAO,UACPe,KAAM,iCACNsP,mBAAmB,IAIvB+hB,GACED,GAAKpuB,OAAO,CACV4rB,eACAQ,iBACAQ,iBACAwH,sBAAuBz5B,KAAKM,UAC1B,CACE,oBACA,qCACA,wBACA,oBACA8b,QAAO,SAACrS,EAAMP,GAAK,OACnBqb,QAAQ9e,EAAKL,IAAI,kBAADL,OAAmBmE,SAGvCqoB,aAActa,EAAEtG,cAAczG,UAAUrL,MACxCmL,OAAQ+nB,WAGP,GAAuB,SAAnBwB,GAA2B,CACpC,IAAMsH,EAAU1H,GAAK3qB,KAAI,SAACiB,GACxB,OACEA,EAAKknB,cAAgBA,IACrBlnB,EAAK0nB,cAAcjtB,KAAOitB,GAAcjtB,GAEjC,CACLysB,eACAQ,iBACAQ,iBACAwH,sBAAuBz5B,KAAKM,UAC1B,CACE,oBACA,qCACA,wBACA,oBACA8b,QAAO,SAACrS,EAAMP,GAAK,OACnBqb,QAAQ9e,EAAKL,IAAI,kBAADL,OAAmBmE,SAGvCqoB,aAActa,EAAEtG,cAAczG,UAAUrL,MACxCmL,OAAQ+nB,IAEAtoB,KAEd2pB,GAAQyH,MAGZ10B,SAAA,CAEFP,cAACyZ,KAAW,CAAAlZ,SAAC,qBACbE,eAACiZ,KAAa,CAACxZ,GAAI,CAAE9D,UAAW,UAAWmE,SAAA,CACzCP,cAAC+L,KAAS,CACRG,MAAM,aACN/C,KAAK,SACLjR,KAAK,YACLe,MAAO0yB,GACPzrB,GAAI,CAAEpF,MAAO,KACbysB,WAAY,CACVC,UAAU,EACV0N,aAAcl1B,cAACm1B,KAAc,CAACvuB,SAAS,MAAKrG,SAAC,WAGjDE,eAACuJ,KAAG,CACF9J,GAAI,CACFiK,QAAS,OACThP,WAAY,SACZL,MAAO,QACPwB,OAAQ,sBACRkS,aAAc,MACd0X,GAAI,OACJjc,GAAI,OACJiJ,EAAG,WACH3S,SAAA,CAEFP,cAACiI,IAAU,CAACoB,QAAQ,OAAOnJ,GAAI,CAAE6G,SAAU,GAAIxG,SAAC,WAGhDP,cAAC4N,KAAU,CACTE,QAAS,SAACuD,GACRA,EAAExG,iBACFmhB,GAAiBnmB,KAAKC,IAAIimB,GAAgB,EAAG,KAC7CxrB,SAEFP,cAACohB,KAAU,MAEbphB,cAACiI,IAAU,CAACoB,QAAQ,OAAOnJ,GAAI,CAAE2f,GAAI,QAAStf,SAC3CwrB,KAEH/rB,cAAC4N,KAAU,CACTE,QAAS,SAACuD,GACRA,EAAExG,iBACFmhB,GAAiBnmB,KAAKqtB,IAAInH,GAAgB,EAAG,MAC7CxrB,SAEFP,cAACsf,KAAO,SAGZtf,cAACgK,KAAG,CACF9J,GAAI,CACF/E,WAAY,SACZmS,eAAgB,SAChB4Y,GAAI,OACJjc,GAAI,OACJiJ,EAAG,WACH3S,SAEFP,cAAC+L,KAAS,CACRG,MAAM,gBACNhU,KAAK,SACLe,MAAOkzB,GACPjsB,GAAI,CAAEpF,MAAO,IAAKmP,GAAI,OACtB4I,SA9vCgB,SAACxB,GAC3B+a,GAAiB/a,EAAEoF,OAAOxd,YAgwCpB+G,cAACqM,KAAgB,CACfnM,GAAI,CAAEiK,QAAS,QAAS/N,UAAW,OAAQZ,WAAY,SACvD8Q,QACEtM,cAACuM,KAAQ,CACPrU,KAAK,mBACL0a,QAAS2Z,GACT1Z,SAAU,SAACxB,GAAC,OAAKmb,GAAoBnb,EAAEoF,OAAO7D,UAC9C1S,GAAI,CAAE9D,UAAW,UAGrB8P,MAAM,sBAERlM,cAACqM,KAAgB,CACfnM,GAAI,CAAEiK,QAAS,QAAS/N,UAAW,OAAQZ,WAAY,SACvD8Q,QACEtM,cAACuM,KAAQ,CACPrU,KAAK,mBACL0a,QAAS+Z,GACT9Z,SAAU,SAACxB,GAAC,OAAKub,GAAoBvb,EAAEoF,OAAO7D,YAGlD1G,MAAM,uCAERlM,cAACqM,KAAgB,CACfnM,GAAI,CAAEiK,QAAS,QAAS/N,UAAW,OAAQZ,WAAY,SACvD8Q,QACEtM,cAACuM,KAAQ,CACPrU,KAAK,mBACL0a,QAASma,GACTla,SAAU,SAACxB,GAAC,OAAK2b,GAAoB3b,EAAEoF,OAAO7D,YAGlD1G,MAAM,0BAERlM,cAACqM,KAAgB,CACfnM,GAAI,CAAEiK,QAAS,QAAS/N,UAAW,OAAQZ,WAAY,SACvD8Q,QACEtM,cAACuM,KAAQ,CACPrU,KAAK,mBACL0a,QAASua,GACTta,SAAU,SAACxB,GAAC,OAAK+b,GAAoB/b,EAAEoF,OAAO7D,YAGlD1G,MAAM,wBAGVzL,eAACoZ,KAAa,CAAAtZ,SAAA,CACZP,cAACwM,KAAM,CACLsB,QAAS,SAACuD,GACRmb,IAAoB,GACpBI,IAAoB,GACpBI,IAAoB,GACpBI,IAAoB,GACpB/C,IAAW,IACX9pB,SACH,WAGDP,cAACwM,KAAM,CAACrD,KAAK,SAAQ5I,SAAC,aAG1BE,eAAC+Y,KAAM,CACLlZ,KAAMkqB,GACN7mB,SAAS,KACTsI,WAAS,EACT2U,WAAYC,aAAczgB,EAAM0gB,YAAYC,KAAK,OACjD3P,WAAY,CACV1G,UAAW,OACXC,SAAS,WAAD,IAAAyqB,EAAAtX,aAAAC,KAAAC,MAAE,SAAAC,EAAO5M,GAAC,IAAAxR,EAAAsoB,EAAAhK,EAAAze,EAAA21B,EAAAC,EAAAC,EAAAN,EAAA,OAAAlX,KAAA5c,MAAA,SAAAid,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,OAsB2B,GArB3CjN,EAAExG,iBAEFwe,EAAgB,GAChBC,EAAmB,QACnBC,EAAe,WACfC,EAAe,YACfC,EAAY,IACZC,EAAa,KACbC,EAAY,KACZC,EAAgB,IAChBC,EAAqB,GACrBC,EAAmB,IACnBE,GAAa,IAEbwC,IAAoB,GACpBI,IAAoB,GACpBI,IAAoB,GACpBI,IAAoB,GAEpB3C,IAAe,GAET5qB,EAAO,IAAImL,SAASqG,EAAEtG,eAEL,QAAnB4iB,GAAwB,CAAAvP,EAAAE,KAAA,YAEvBzZ,KACD0oB,GAAKhpB,MACH,SAACV,GAAI,MACkB,SAArBA,EAAKknB,aACLlnB,EAAK0nB,cAAcjtB,KAAOitB,GAAcjtB,KACvCuF,EAAKgB,cACT,CAAAuZ,EAAAE,KAAA,SAOE,OALHnT,KAAKC,KAAK,CACRC,KAAM,UACNjQ,MAAO,UACPe,KAAM,iCACNsP,mBAAmB,IAClB2S,EAAAoX,OAAA,kBAIiB,GAAlBrN,EAAe,IACftoB,EAAKL,IAAI,kBAAmBK,EAAKL,IAAI,gBAAgBtH,KAAI,CAAAkmB,EAAAE,KAAA,SAEP,OAD9CH,EAAa,IAAInT,UACZuT,OAAO,OAAQ1e,EAAKL,IAAI,iBAAiB4e,EAAAC,KAAA,GAAAD,EAAAE,KAAA,GAE3B5f,IAAMmL,KAAK,UAAWsU,EAAY,CACvDlV,QAAS,CACP,eAAgB,uCAEjB,KAAD,GAJIvJ,EAAQ0e,EAAAI,KAKd2J,EAAezoB,EAASG,KAAK4e,IAAIL,EAAAE,KAAA,iBAAAF,EAAAC,KAAA,GAAAD,EAAAM,GAAAN,EAAA,kBAIrCoP,GACED,GAAKpuB,OAAO,CACV4rB,eACAQ,iBACAQ,iBACAwH,sBAAuBz5B,KAAKM,UAC1B,CACE,oBACA,qCACA,wBACA,oBACA8b,QAAO,SAACrS,EAAMP,GAAK,OACnBqb,QAAQ9e,EAAKL,IAAI,kBAADL,OAAmBmE,SAGvCqoB,aAAchN,QAAQ9e,EAAKL,IAAI,eAC3Bof,OAAO/e,EAAKL,IAAI,mBAChBof,OAAO/e,EAAKL,IAAI,iBACpBqF,WAAY8Z,QAAQ9e,EAAKL,IAAI,iBAAkB,EAC/CsF,YAAajF,EAAKL,IAAI,gBAAkB,GACxC0F,SAAUrF,EAAKL,IAAI,aAAe,GAClCuF,UAAWlF,EAAKL,IAAI,cAAgB,EACpCwF,SAAUnF,EAAKL,IAAI,aAAe,EAClCyF,aAAcpF,EAAKL,IAAI,iBAAmB,EAC1C2F,kBAAmBtF,EAAKL,IAAI,sBAAwB,EACpD4F,gBAAiBvF,EAAKL,IAAI,oBAAsB,GAChD6F,aAAcxF,EAAKL,IAAI,iBAAmB,EAC1C+F,YAAa1F,EAAKL,IAAI,gBAAkB,GACxC8F,gBAAiBA,GAAmB,GACpClB,OAAQvE,EAAKL,IAAI,WAAa,GAC9B2oB,aAAcA,KAEhB/J,EAAAE,KAAA,oBAC0B,SAAnBqP,GAAyB,CAAAvP,EAAAE,KAAA,SACL,GAAzB6J,EAAe4B,IACflqB,EAAKL,IAAI,kBAAmBK,EAAKL,IAAI,gBAAgBtH,KAAI,CAAAkmB,EAAAE,KAAA,SAEP,OAD9CH,EAAa,IAAInT,UACZuT,OAAO,OAAQ1e,EAAKL,IAAI,iBAAiB4e,EAAAC,KAAA,GAAAD,EAAAE,KAAA,GAE3B5f,IAAMmL,KAAK,UAAWsU,EAAY,CACvDlV,QAAS,CACP,eAAgB,uCAEjB,KAAD,GAJIvJ,EAAQ0e,EAAAI,KAKd2J,EAAezoB,EAASG,KAAK4e,IAAIL,EAAAE,KAAA,iBAAAF,EAAAC,KAAA,GAAAD,EAAAqX,GAAArX,EAAA,kBAG/B6W,EAAU1H,GAAK3qB,KAAI,SAACiB,GACxB,MACuB,SAArBA,EAAKknB,aACLlnB,EAAK0nB,cAAcjtB,KAAOitB,GAAcjtB,GAEjC,CACLysB,eACAQ,iBACAQ,iBACAwH,sBAAuBz5B,KAAKM,UAC1B,CACE,oBACA,qCACA,wBACA,oBACA8b,QAAO,SAACrS,EAAMP,GAAK,OACnBqb,QAAQ9e,EAAKL,IAAI,kBAADL,OAAmBmE,SAGvCqoB,aAAchN,QAAQ9e,EAAKL,IAAI,eAC3Bof,OAAO/e,EAAKL,IAAI,mBAChBof,OAAO/e,EAAKL,IAAI,iBACpBqF,WAAY8Z,QAAQ9e,EAAKL,IAAI,iBAAkB,EAC/CsF,YAAajF,EAAKL,IAAI,gBAAkB,GACxC0F,SAAUrF,EAAKL,IAAI,aAAe,GAClCuF,UAAWlF,EAAKL,IAAI,cAAgB,EACpCwF,SAAUnF,EAAKL,IAAI,aAAe,EAClCyF,aAAcpF,EAAKL,IAAI,iBAAmB,EAC1C2F,kBAAmBtF,EAAKL,IAAI,sBAAwB,EACpD4F,gBAAiBvF,EAAKL,IAAI,oBAAsB,GAChD6F,aAAcxF,EAAKL,IAAI,iBAAmB,EAC1C+F,YAAa1F,EAAKL,IAAI,gBAAkB,GACxC8F,gBAAiBA,GAAmB,GACpClB,OAAQvE,EAAKL,IAAI,WAAa,GAC9B2oB,aAAcA,GAENtkB,KAEd2pB,GAAQyH,GAAS,yBAAA7W,EAAAS,UAAAZ,EAAA,4BAEpB,gBAAAa,GAAA,OAAAsW,EAAArW,MAAA,KAAAC,YAhJQ,IAiJTze,SAAA,CAEFP,cAACyZ,KAAW,CAAAlZ,SAAC,qBACbE,eAACiZ,KAAa,CAACxZ,GAAI,CAAE9D,UAAW,UAAWmE,SAAA,CACzCP,cAAC+L,KAAS,CACRG,MAAM,iBACN/C,KAAK,SACLjR,KAAK,eACLe,MAAO0yB,GACPzrB,GAAI,CAAEpF,MAAO,IAAK46B,WAAY7wB,GAAa,SAAW,WACtD0iB,WAAY,CACVC,UAAU,EACV0N,aAAcl1B,cAACm1B,KAAc,CAACvuB,SAAS,MAAKrG,SAAC,WAGjDP,cAAC4Q,KAAO,CAAC1Q,GAAI,CAAEgmB,GAAI,UACnBzlB,eAACuJ,KAAG,CAACG,QAAQ,OAAO2V,SAAS,OAAOxS,eAAe,gBAAe/M,SAAA,CAChEP,cAACqM,KAAgB,CACfC,QACEtM,cAACuM,KAAQ,CACPrU,KAAK,aACL0a,QAAS/N,GACTgO,SAAU,SAACxB,GACTuZ,GAAcvZ,EAAEtG,cAAc6H,YAIpC1G,MAAM,iBACNhM,GAAI,CAAEwD,UAAW,OAAQiL,SAAU,UAEpC,CACC,CACEzW,KAAM,cACNgU,MAAO,WACP/C,KAAM,eACNlQ,MAAO6L,EACP+N,SAAU,SAACxB,EAAGskB,GACZtkB,EAAExG,iBACF2e,EAAemM,IAEjB/a,QAASoO,GACTluB,MAAO,OAET,CACE5C,KAAM,WACNgU,MAAO,QACP/C,KAAM,OACNrO,MAAO,MACP7B,MAAOiM,EACP2N,SAAU,SAACxB,GACTA,EAAExG,iBACF4e,EAAYpY,EAAEoF,OAAOxd,SAGzB,CACEf,KAAM,YACNgU,MAAO,SACP/C,KAAM,eACNysB,OAAQ,KACR9iB,WAAY,CAAEogB,IAAK,GACnBp4B,MAAO,MACP7B,MAAO8L,EACP8N,SAAU,SAACxB,GACTA,EAAExG,iBACF6e,EAAarY,EAAEoF,OAAOxd,SAG1B,CACEf,KAAM,WACNgU,MAAO,QACP/C,KAAM,eACNysB,OAAQ,KACR9iB,WAAY,CAAEogB,IAAK,GACnBp4B,MAAO,MACP7B,MAAO+L,EACP6N,SAAU,SAACxB,GACTA,EAAExG,iBACF8e,EAAYtY,EAAEoF,OAAOxd,SAGzB,CACEf,KAAM,eACNgU,MAAO,YACP/C,KAAM,eACNysB,OAAQ,KACR9iB,WAAY,CAAEogB,IAAK,GACnBp4B,MAAO,MACP7B,MAAOgM,EACP4N,SAAU,SAACxB,GACTA,EAAExG,iBACF+e,EAAgBvY,EAAEoF,OAAOxd,SAG7B,CACEf,KAAM,oBACNgU,MAAO,kBACP/C,KAAM,SACNyR,QAAS,CAAC,EAAG,EAAG,EAAG,EAAG,GACtB9f,MAAO,MACP7B,MAAOkM,EACP0N,SAAU,SAACxB,GACTA,EAAExG,iBACFgf,EAAqBxY,EAAEoF,OAAOxd,SAGlC,CACEf,KAAM,kBACNgU,MAAO,gBACP/C,KAAM,SACN2J,WAAY,CAAEogB,IAAK,GACnBp4B,MAAO,MACP7B,MAAOmM,EACPyN,SAAU,SAACxB,GACTA,EAAExG,iBACFif,EAAmBzY,EAAEoF,OAAOxd,SAGhC,CACEf,KAAM,eACNgU,MAAO,kBACP/C,KAAM,SACNlQ,MAAOoM,EACPwN,SAAU,SAACxB,GACTA,EAAExG,iBACFwe,EAAgBhY,EAAEoF,OAAOxd,OACF,IAAnBoY,EAAEoF,OAAOxd,MAAaqwB,EAAmB,QACjB,IAAnBjY,EAAEoF,OAAOxd,MAChBqwB,EAAmB,cACO,IAAnBjY,EAAEoF,OAAOxd,OAChBqwB,EAAmB,sBAEvB1O,QAAS,CAAC,EAAG,EAAG,EAAG,GACnB9f,MAAO,OAET,CACE5C,KAAM,cACNgU,MAAO,gBACP/C,KAAM,SACNlQ,MAAOsM,EACPsN,SAAU,SAACxB,GACTA,EAAExG,iBACF0e,EAAelY,EAAEoF,OAAOxd,QAE1B2hB,QAAS,CAAC,UAAW,eACrB9f,MAAO,OAET,CACE5C,KAAM,kBACNgU,MAAO,gBACP/C,KAAM,SACNlQ,MAAOqM,EACPuN,SAAU,SAACxB,GACTA,EAAExG,iBACFye,EAAmBjY,EAAEoF,OAAOxd,QAE9B2hB,QACmB,IAAjBvV,EACI,CAAC,OAAQ,QAAS,UAClB,CACE,OACA,QACA,SACA,aACA,qBAER2vB,SAA2B,IAAjB3vB,EACVwwB,QAAS,OACT/6B,MAAO,OAET,CACE5C,KAAM,SACNgU,MAAO,gBACP/C,KAAM,OACNrO,MAAO,OACP7B,MAAOkzB,GACPtZ,SAAU,SAACxB,GACTA,EAAExG,iBACFuhB,GAAiB/a,EAAEoF,OAAOxd,SAG9B,CACEf,KAAM,eACNgU,MAAO,0BACP/C,KAAM,OACN2J,WAAY,CACVyM,OAAQ,oCAEV0B,gBAAiB,CAAEC,QAAQ,GAC3BpmB,MAAO,SAET8H,KAAI,SAAAgF,EAAiCtE,GAAW,IAAzC6F,EAAIvB,EAAJuB,KAAMrO,EAAK8M,EAAL9M,MAAUkmB,EAAU/d,YAAA2E,EAAAkuB,IACjC,GAAa,iBAAT3sB,EAAyB,CAC3B,IAAQjR,EAAkC8oB,EAAlC9oB,KAAMgU,EAA4B8U,EAA5B9U,MAAU0V,EAAa3e,YAAK+d,EAAU+U,IACpD,OACE/1B,cAACigB,KAAY9c,YAAA,CAEXjD,GAAI,CAAEwD,UAAW5I,EAAO6T,SAAU7T,GAClColB,YAAa,SAACC,GAAM,OAClBngB,cAAC+L,KAAS5I,wBAAA,GAAKgd,GAAM,IAAEjoB,KAAMA,EAAMgU,MAAOA,MAE5C8oB,UAAWnwB,IACP+c,GANCte,GASJ,GAAa,iBAAT6F,EAAyB,CAClC,IAAQysB,EAA2B5U,EAA3B4U,OAAWI,EAAW/yB,YAAK+d,EAAUiV,IAC7C,OACEj2B,cAACqM,KAAgB,CAEfnM,GAAI,CACFwD,UAAW5I,EACX6T,SAAU7T,EACVK,WAAY,WACZ8O,GAAI,GAENqC,QACEtM,cAAC+L,KAAS5I,YAAA,CACR8I,WAAS,EACT/L,GAAI,CAAEqK,EAAG,gBACTpB,KAAK,SACL6rB,UAAWnwB,IACPmxB,IAGR9pB,MAAO0pB,GAhBFtyB,GAmBJ,GAAa,WAAT6F,EAAmB,CAC5B,IAAQjR,EAA0C8oB,EAA1C9oB,KAAMgU,EAAoC8U,EAApC9U,MAAO0O,EAA6BoG,EAA7BpG,QAAYsb,EAAYjzB,YAAK+d,EAAUmV,IAC5D,MAAa,oBAATj+B,EACEg+B,EAAaL,QAEbp1B,eAACsM,KAAW,CAEV7M,GAAI,CAAEwD,UAAW5I,EAAO6T,SAAU7T,GAAQyF,SAAA,CAE1CP,cAACgN,KAAU,CAAC1O,GAAE,YAAAa,OAAcjH,EAAI,iBAAgBqI,SAC7C2L,IAEHlM,cAACkN,KAAM/J,wBAAA,CACLgK,QAAO,YAAAhO,OAAcjH,EAAI,iBACzBoG,GAAE,YAAAa,OAAcjH,EAAI,WACpBA,KAAMA,EACNgU,MAAOA,EACPe,KAAK,QACL+nB,UAAWnwB,IACPqxB,GAAY,IAAA31B,SAEfqa,EAAQhY,KAAI,SAACwzB,EAAcC,GAAiB,OAC3Cr2B,cAACqN,KAAQ,CAEPpU,MAAOm9B,EAAa71B,SAEnB61B,GAHIC,WAjBN/yB,GA0BC,GAGV7C,eAACsM,KAAW,CAEV7M,GAAI,CAAEwD,UAAW5I,EAAO6T,SAAU7T,GAAQyF,SAAA,CAE1CP,cAACgN,KAAU,CAAC1O,GAAE,YAAAa,OAAcjH,EAAI,iBAAgBqI,SAC7C2L,IAEHlM,cAACkN,KAAM/J,wBAAA,CACLgK,QAAO,YAAAhO,OAAcjH,EAAI,iBACzBoG,GAAE,YAAAa,OAAcjH,EAAI,WACpBA,KAAMA,EACNgU,MAAOA,EACPe,KAAK,QACL+nB,UAAWnwB,IACPqxB,GAAY,IAAA31B,SAEfqa,EAAQhY,KAAI,SAACwzB,EAAcC,GAAiB,OAC3Cr2B,cAACqN,KAAQ,CAEPpU,MAAOm9B,EAAa71B,SAEnB61B,GAHIC,WAjBN/yB,GA2BX,OACEtD,cAAC+L,KAAS5I,YAAA,CAERgG,KAAMA,EACNjJ,GAAI,CAAEwD,UAAW5I,EAAO6T,SAAU7T,GAClCk6B,UAAWnwB,IACPmc,GAJC1d,MAQbtD,cAAC+L,KAAS,CACRG,MAAM,mBACN/C,KAAK,SACLjR,KAAK,iBACLkV,aAAcue,GACdzrB,GAAI,CAAEwD,UAAW,IAAKiL,SAAU,IAAK1E,GAAI,QACzC+qB,UAAWnwB,GACX0iB,WAAY,CACV2N,aACEl1B,cAACm1B,KAAc,CAACvuB,SAAS,MAAKrG,SAAC,cAKvCP,cAAC4Q,KAAO,CAAC1Q,GAAI,CAAEgmB,GAAI,UACnBzlB,eAACuJ,KAAG,CACF9J,GAAI,CACFiK,QAAS,OACThP,WAAY,SACZL,MAAO,QACPwB,OAAQ,sBACRkS,aAAc,MACdtE,GAAI,OACJD,GAAI,OACJiJ,EAAG,WACH3S,SAAA,CAEFP,cAACiI,IAAU,CAACoB,QAAQ,OAAOnJ,GAAI,CAAE6G,SAAU,EAAGC,UAAW,OAAQzG,SAAC,WAGlEP,cAAC4N,KAAU,CACTE,QAAS,SAACuD,GACRA,EAAExG,iBACFmhB,GAAiBnmB,KAAKC,IAAIimB,GAAgB,EAAG,KAC7CxrB,SAEFP,cAACohB,KAAU,MAEbphB,cAACiI,IAAU,CAACoB,QAAQ,OAAOnJ,GAAI,CAAE2f,GAAI,OAAQ7Y,UAAW,OAAQzG,SAC7DwrB,KAEH/rB,cAAC4N,KAAU,CACTE,QAAS,SAACuD,GACRA,EAAExG,iBACFmhB,GAAiBnmB,KAAKqtB,IAAInH,GAAgB,EAAG,MAC7CxrB,SAEFP,cAACsf,KAAO,SAGZtf,cAACqM,KAAgB,CACfnM,GAAI,CAAEiK,QAAS,QAAS/N,UAAW,OAAQZ,WAAY,SACvD8Q,QACEtM,cAACuM,KAAQ,CACPrU,KAAK,mBACL0a,QAAS2Z,GACT1Z,SAAU,SAACxB,GAAC,OAAKmb,GAAoBnb,EAAEoF,OAAO7D,UAC9C1S,GAAI,CAAE9D,UAAW,UAGrB8P,MAAM,sBAERlM,cAACqM,KAAgB,CACfnM,GAAI,CAAEiK,QAAS,QAAS/N,UAAW,OAAQZ,WAAY,SACvD8Q,QACEtM,cAACuM,KAAQ,CACPrU,KAAK,mBACL0a,QAAS+Z,GACT9Z,SAAU,SAACxB,GAAC,OAAKub,GAAoBvb,EAAEoF,OAAO7D,YAGlD1G,MAAM,uCAERlM,cAACqM,KAAgB,CACfnM,GAAI,CAAEiK,QAAS,QAAS/N,UAAW,OAAQZ,WAAY,SACvD8Q,QACEtM,cAACuM,KAAQ,CACPrU,KAAK,mBACL0a,QAASma,GACTla,SAAU,SAACxB,GAAC,OAAK2b,GAAoB3b,EAAEoF,OAAO7D,YAGlD1G,MAAM,0BAERlM,cAACqM,KAAgB,CACfnM,GAAI,CAAEiK,QAAS,QAAS/N,UAAW,OAAQZ,WAAY,SACvD8Q,QACEtM,cAACuM,KAAQ,CACPrU,KAAK,mBACL0a,QAASua,GACTta,SAAU,SAACxB,GAAC,OAAK+b,GAAoB/b,EAAEoF,OAAO7D,YAGlD1G,MAAM,wBAGVzL,eAACoZ,KAAa,CAAAtZ,SAAA,CACZP,cAACwM,KAAM,CACLsB,QAAS,SAACuD,GACRA,EAAExG,iBACFwe,EAAgB,GAChBC,EAAmB,QACnBC,EAAe,WACfC,EAAe,YACfC,EAAY,IACZC,EAAa,KACbC,EAAY,KACZC,EAAgB,IAChBC,EAAqB,GACrBC,EAAmB,IACnBE,GAAa,IAEbwC,IAAoB,GACpBI,IAAoB,GACpBI,IAAoB,GACpBI,IAAoB,GAEpB3C,IAAe,IACflqB,SACH,WAGDP,cAACwM,KAAM,CAACrD,KAAK,SAAQ5I,SAAC,mBCx0EjB+1B,GApBA,SAACj5B,GACd,IAAAC,EAA0BC,mBAAS,IAAGC,EAAAC,YAAAH,EAAA,GAA/B4E,EAAK1E,EAAA,GAAE4lB,EAAQ5lB,EAAA,GACtB,OACEwC,cAACu2B,GAAMpzB,YAAA,CACL8lB,cAAgB,SAChBC,cAAiB,CACfhnB,QACAkhB,WACA1gB,MAAM,EACNyD,aAAc,EACdG,cAAe,EACf3D,QAAS,GACTyB,OAAQ,IAEV+kB,YAAe,IACX9rB,K,qMCgEKm5B,GA9EF,SAACn5B,GACZ,IACQe,GADSq4B,cACUh+B,OAAS,IAA5B2F,MACRyE,EASIzE,GAAS,GARXN,EAAW+E,EAAX/E,YACAC,EAAU8E,EAAV9E,WACAG,EAAY2E,EAAZ3E,aACAF,EAAe6E,EAAf7E,gBACAC,EAAe4E,EAAf5E,gBAGG04B,GAFG9zB,EAANhF,OACQgF,EAAR6zB,SACSzzB,YAAAJ,EAAAK,KAGX5F,EAA0BC,mBAASo5B,EAAOz0B,OAAM1E,EAAAC,YAAAH,EAAA,GAAzC4E,EAAK1E,EAAA,GAAE4lB,EAAQ5lB,EAAA,GAEtB,OAAOY,EACL4B,cAACu2B,GAAMpzB,YAAA,CACL8lB,cAAc,OACdC,cAAa/lB,wBAAA,GACRwzB,GAAM,IACTz0B,QACAkhB,aAEF+F,YAAerrB,EAAY8E,KAAI,SAAAS,GAAA,IAAGS,EAAYT,EAAZS,aAAiBmP,EAAShQ,YAAAI,EAAAI,IAAA,MAAQ,CAClEsnB,YAAa,QACbQ,cAAapoB,YAAA,GACR8P,GAEL7O,OAAQN,EAAaM,OACrBunB,aAAc7nB,EAAaQ,UAC3BynB,cAAejoB,EAAaC,IAC5BwvB,sBAAuBzvB,EAAaO,mBAEnClF,OACCjB,EAAa0E,KAAI,SAACyD,GAChB,IACE5B,EAKE4B,EALF5B,QACAH,EAIE+B,EAJF/B,UACAP,EAGEsC,EAHFtC,IACAM,EAEEgC,EAFFhC,eACGuyB,EAAY3zB,YACboD,EAAWI,IAETjC,EAAQzG,EAAWwG,MAAK,SAASsyB,GACrC,OAAOA,EAAIv4B,KAAOmG,KAGpB,OAAAtB,YAAA,CACE4nB,YAAa,OACbQ,cAAe/mB,EACfmnB,aAAcrnB,EACdynB,cAAehoB,EACfwvB,sBAAuBlvB,GACpBuyB,OAIRz3B,OACCnB,EAAgB4E,KAAI,SAAA4D,GAAA,IAAGhB,EAAgBgB,EAAhBhB,iBAAqByN,EAAShQ,YAAAuD,EAAAG,IAAA,MAAQ,CAC3DokB,YAAa,YACbQ,cAAapoB,YAAA,GACR8P,GAEL7O,OAAQoB,EAAiBpB,OACzBunB,aAAcnmB,EAAiBlB,UAC/BynB,cAAevmB,EAAiBzB,IAChCwvB,sBAAuB/tB,EAAiBnB,oBAG9C+kB,gBAAmBnrB,GACfZ,IAGN2C,cAAC82B,IAAQ,CAACnqB,GAAG,iB,yUCnCXuF,GAAU,CACd,CACE5T,GAAI,eACJ4N,MAAO,aAET,CACE5N,GAAI,OACJ4N,MAAO,UAET,CACE5N,GAAI,SACJ4N,MAAO,UAET,CACE5N,GAAI,gBACJ4N,MAAO,aAET,CACE5N,GAAI,gBACJ4N,MAAO,WAET,CACE5N,GAAI,WACJ4N,MAAO,YAET,CACE5N,GAAI,SACJ4N,MAAO,UAET,CACE5N,GAAI,WACJ4N,MAAO,YAET,CACE5N,GAAI,YACJ4N,MAAO,aAET,CACE5N,GAAI,WACJ4N,MAAO,YAET,CACE5N,GAAI,OACJ4N,MAAO,QAET,CACE5N,GAAI,YACJ0U,SAAS,EACT9G,MAAO,MACP5C,MAAO,QACPpJ,GAAI,CAAEyD,SAAU,GAAI7I,MAAO,KAE7B,CACEwD,GAAI,eACJ0U,SAAS,EACT9G,MAAO,OACP5C,MAAO,OACPpJ,GAAI,CAAEyD,SAAU,GAAI7I,MAAO,GAAI+nB,YAAa,IAE9C,CACEvkB,GAAI,YACJ0U,SAAS,EACT9G,MAAO,aACPhM,GAAI,CAAEyD,SAAU,KAElB,CACErF,GAAI,OACJ0U,SAAS,EACT9S,GAAI,CAAEyD,SAAU,GAAI7I,MAAO,KAE7B,CACEkY,SAAS,EACT1U,GAAI,SACJ4B,GAAI,CAAEyD,SAAU,GAAI7I,MAAO,MAGzBogB,GAAc,CAClB,UACA,WACA,SACA,WACA,aACA,WACA,OACA,MACA,QAQa9d,oBALf,SAAyB3E,GAEvB,MAAO,CAAET,KADQS,EAATT,QAIKoF,EAAyB,SAACC,GACvC,IAAM+C,EAAQgb,eAEd9d,EAAoCC,mBAAS,IAAGC,EAAAC,YAAAH,EAAA,GAAzCy5B,EAAUv5B,EAAA,GAAEw5B,EAAax5B,EAAA,GAChCI,EAAwBL,mBAAS,IAAGY,EAAAV,YAAAG,EAAA,GAA7B1F,EAAIiG,EAAA,GAAE+kB,EAAO/kB,EAAA,GACpB2W,EAA0BvX,mBAAS,IAAGwX,EAAAtX,YAAAqX,EAAA,GAA/BjZ,EAAKkZ,EAAA,GAAEoO,EAAQpO,EAAA,GACtBG,EAA0B3X,mBAAS,IAAG4X,EAAA1X,YAAAyX,EAAA,GAA/BhT,EAAKiT,EAAA,GAAEiO,EAAQjO,EAAA,GACtBG,EAAwC/X,oBAAS,GAAMgY,EAAA9X,YAAA6X,EAAA,GAAhD+N,EAAY9N,EAAA,GAAE+N,EAAe/N,EAAA,GACpCG,EAAkCnY,oBAAS,GAAMoY,EAAAlY,YAAAiY,EAAA,GAA1C6N,EAAS5N,EAAA,GAAE6N,EAAY7N,EAAA,GAC9BkG,EAAoCte,oBAAS,GAAMue,EAAAre,YAAAoe,EAAA,GAA5C4H,EAAU3H,EAAA,GAAE4H,EAAa5H,EAAA,GAC1B6H,EAAkB5N,iBAAO,MACzB6N,EAAe7N,iBAAO,MAC5BiG,EAAwCze,mBAAS,MAAK0e,EAAAxe,YAAAue,EAAA,GAA/C6H,EAAY5H,EAAA,GAAE6H,EAAe7H,EAAA,GAEpCG,EAA4C7e,mBAAS,GAAE8e,EAAA5e,YAAA2e,EAAA,GAAhD6a,EAAc5a,EAAA,GAAE6a,EAAiB7a,EAAA,GAExCG,EAAsDjf,mBAAS,IAAGkf,EAAAhf,YAAA+e,EAAA,GAA3DU,EAAmBT,EAAA,GAAEU,EAAsBV,EAAA,GAmE5ChE,EAAoB,SAACnV,GACrBA,EAAQyzB,EAAW3zB,QAAUE,GAAS,GACxC6H,KAAKC,KAAK,CACRhQ,MAAO,gBACPe,KAAM,yDACNkP,KAAM,WACNqN,kBAAkB,EAClBC,kBAAmB,eACnBC,iBAAkB,eAClBnN,mBAAmB,IAClBhM,MAAK,SAACoZ,GACHA,EAAOC,aACTpa,IACGqa,OAAO,cAAD5Z,OAAe43B,EAAWzzB,GAAOhF,KACvCmB,MAAK,SAACC,GAELy3B,OAEDr3B,OAAM,SAAUC,GAEfoL,KAAKC,KAAK,CACRC,KAAM,QACNjQ,MAAO,QACPe,KAAM4D,EAAML,SAASG,KAAK0L,QAC1BE,mBAAmB,IAErB9L,QAAQC,IAAIG,MAEbN,MAAK,mBAuJV03B,EAAgB,SAACt4B,GACrBH,IACGc,IAAI,qBAAsB,CAAEX,gBAC5BY,MAAK,SAACC,GAELs3B,EAAct3B,EAASG,SAExBC,OAAM,SAAUC,GAEfJ,QAAQC,IAAIG,MAEbN,MAAK,gBAeV,OANAjB,qBAAU,WACR,IAAMC,EAASC,IAAMC,YAAYF,SAEjC,OADA04B,EAAc14B,EAAOnG,OACd,kBAAMmG,EAAOK,OAAO,oCAC1B,IAGD2B,eAACuJ,KAAG,CACF9J,GAAI,CACFqH,OAAQ,OACRgH,SAAU,OACV3R,QAAS,aACT2D,SAAA,CAEFP,cAACwM,KAAM,CACL9B,UAAWgC,IACXC,GAAG,yBACH0S,UAAWrf,cAACsf,KAAO,IAAI/e,SACxB,kBAGDP,cAAA,OAAAO,SACEP,cAAC2a,GAAoB,CACnBC,QAASM,GACTrI,SA5BoB,SAACuN,GAC3BjD,EAAuBiD,IA4BjBpL,SAAUkI,MAGdld,cAAC2U,GAAQ,CACPvZ,MAAM,mBACNwZ,KAAMmiB,EAAWn0B,KACf,SAAA4D,EAsBElD,GAAK,IApBHhF,EAAEkI,EAAFlI,GACAoK,EAAYlC,EAAZkC,aACAzG,EAAQuE,EAARvE,SACAD,EAAMwE,EAANxE,OACAD,EAAKyE,EAALzE,MACAD,EAAK0E,EAAL1E,MACAD,EAAI2E,EAAJ3E,KACAhE,EAAM2I,EAAN3I,OACAuI,EAAQI,EAARJ,SACAD,EAAYK,EAAZL,aACAI,EAASC,EAATD,UACAD,EAAaE,EAAbF,cACAhF,EAASkF,EAATlF,UACAkB,EAAQgE,EAARhE,SACAE,EAAI8D,EAAJ9D,KACA5E,EAAW0I,EAAX1I,YACAC,EAAUyI,EAAVzI,WACAC,EAAewI,EAAfxI,gBACGiV,EAAShQ,YAAAuD,EAAAiB,IAAA,OAAAtE,YAAA,CAId7E,KACAgF,QACAiiB,QAAS1nB,EAAOyE,WAAa,IAAInD,OAAO,IAAKtB,EAAO0E,UAAY,IAChEC,SACEA,EAAW,IAAM,EAAC,GAAArD,OACXqD,EAAQ,QAAArD,OAAoB,IAAbqD,EAAiB,GAAK,KAAG,GAAArD,OACxCqD,EAAW,EAAC,SAAArD,OAAQqD,EAAW,IAAM,EAAI,GAAK,KACvD40B,cAAgB,WACd,IAAM3R,EAAc,IAAIvmB,KAAKoC,GAI7B,OAHAmkB,EAAYC,WACVD,EAAYE,aAAeF,EAAYG,qBAElCH,EAAYI,cAAcC,MAAM,KAAK,GAL9B,GAOhB1f,SAAS,GAADjH,OAAKiH,GAAQjH,OAAGgH,EAAe,OAAS,KAChDI,UAAU,GAADpH,OAAKoH,GAASpH,OAAGmH,EAAgB,OAAS,KACnDyf,cAAe,CAAC9jB,EAAUD,EAAQD,EAAOD,EAAOD,GAAMoU,KAAK,MAC3DgQ,SACEjmB,cAAC4N,KAAU,CACT1N,GAAI,CAAEgmB,GAAI,OACVpY,QAAS,SAAClD,GACRA,EAAMC,iBACNqsB,EAAkB5zB,GAClBogB,GAAc,IACdnjB,SAEFP,cAACmmB,KAAK,CACJC,aACEtoB,EAAYsF,OACZrF,EAAWqF,OACXpF,EAAgBoF,OAElBtH,MAAM,QAAOyE,SAEbP,cAACqmB,KAAQ,QAIf3jB,KACE1C,cAACuM,KAAQ,CACPqG,QAASlQ,EACToL,QAAS,SAAClD,GACRA,EAAMsO,kBACNtO,EAAMC,iBACNnM,IACGya,IAAI,2BAADha,OAA4Bb,GAAM,CACpCoE,MAAOA,IAERjD,MAAK,WACJ03B,OAEDr3B,OAAM,SAAUC,GAEfoL,KAAKC,KAAK,CACRC,KAAM,QACNjQ,MAAO,QACPe,KAAM4D,EAAML,SAASG,KAAK0L,QAC1BE,mBAAmB,OAGtBhM,MAAK,kBAMdiJ,aACE1I,cAAC0M,IAAU,CACTC,GAAE,cAAAxN,OAAgBb,GAClBmY,OAAO,SAAQlW,SAEbmI,IAGN8d,UACExmB,cAAC4N,KAAU,CACTE,QAAS,WACPoV,EAAQjQ,EAAU/a,MAClBirB,EAASlQ,EAAUpX,OACnB2nB,GAAa,IACbjjB,SAEFP,cAACymB,KAAS,MAGdC,aACE1mB,cAAC4N,KAAU,CACTE,QAAS,WACPpP,IACGc,IAAI,sBACJC,MAAK,WACJyjB,EAAQjQ,EAAU/a,MAClBkrB,EAASnQ,EAAU/Q,OACnBohB,GAAgB,MAEjBxjB,OAAM,SAAUC,GAEfrB,IACGc,IAAI,kBACJC,MAAK,SAACC,GACLyL,KAAKC,KAAK,CACRC,KAAM,OACNjQ,MACE,6DACFkQ,KAAMqb,KAAeC,qBACnB5mB,cAAC6mB,KAAM,CACL5tB,MAAK,GAAAkG,OAAKO,EAASG,KAAKinB,QACxBC,MAAM,OAGVtb,mBAAmB,OAGtB3L,OAAM,SAAUknB,GAEf7b,KAAKC,KAAK,CACRC,KAAM,QACNjQ,MAAO,QACPe,KAAM,oCACNsP,mBAAmB,OAGtBhM,MAAK,kBAITA,MAAK,gBAGRc,SAEFP,cAACinB,KAAY,MAGjBoQ,UACEr3B,cAAC4N,KAAU,CACTE,QAAS,SAAClD,GACRA,EAAMC,iBA/TO,SAACvH,GACxBA,EAAQyzB,EAAW3zB,QAAUE,GAAS,GACxC6H,KAAKC,KAAK,CACRhQ,MAAO,gBACPe,KAAM,yDACNkP,KAAM,WACNqN,kBAAkB,EAClBC,kBAAmB,gBACnBC,iBAAkB,cAClBnN,mBAAmB,IAClBhM,MAAK,SAACoZ,GACP,GAAIA,EAAOC,YAAa,CACtB,IAAMxQ,EAAYyuB,EAAWzzB,GACvBiqB,EAAOjlB,EAAUxK,YAAY8E,KACjC,SAAArD,GAAA,IAAGqJ,EAAgBrJ,EAAhBqJ,iBAA8B,MAAQ,CACvCmiB,YAAa,QACbQ,cAF+BtoB,YAAA1D,EAAA2D,IAG/BkB,OAAQwE,EAAiBxE,OACzBunB,aAAc/iB,EAAiBtE,UAC/BynB,cAAenjB,EAAiB7E,IAChCwvB,sBAAuB3qB,EAAiBvE,mBAGzClF,OACCmJ,EAAUD,iBAAiBzF,KAAI,SAACkG,GAC9B,IACErE,EAKEqE,EALFrE,QACAH,EAIEwE,EAJFxE,UACAP,EAGE+E,EAHF/E,IACAM,EAEEyE,EAFFzE,eACGuyB,EAAY3zB,YACb6F,EAAerF,IAEbe,EAAQ8D,EAAUvK,WAAWwG,MAAK,SAAUsyB,GAChD,OAAOA,EAAIv4B,KAAOmG,KAGpB,OAAAtB,YAAA,CACE4nB,YAAa,OACbQ,cAAe/mB,EACfmnB,aAAcrnB,EACdynB,cAAehoB,EACfwvB,sBAAuBlvB,GACpBuyB,OAIRz3B,OACCmJ,EAAUtK,gBAAgB4E,KACxB,SAAAC,GAAA,IAAGgG,EAAoBhG,EAApBgG,qBAAkC,MAAQ,CAC3CkiB,YAAa,YACbQ,cAFmCtoB,YAAAJ,EAAA4D,IAGnCrC,OAAQyE,EAAqBzE,OAC7BunB,aAAc9iB,EAAqBvE,UACnCynB,cAAeljB,EAAqB9E,IACpCwvB,sBAAuB1qB,EAAqBxE,oBAIpD3F,IACGmL,KAAK,gBAAiB,CACrB3R,KAAMoQ,EAAUpQ,KAChBgK,MAAOoG,EAAUpG,MACjBrG,MAAOyM,EAAUzM,MACjBoG,SAAUqG,EAAUrG,SACpBD,OAAQsG,EAAUtG,OAClBD,MAAOuG,EAAUvG,MACjBD,MAAOwG,EAAUxG,MACjBD,KAAMyG,EAAUzG,KAChBW,SAAU8F,EAAU9F,SACpB4B,OAAQkE,EAAUlE,OAClB6hB,SAAUsH,EACP3qB,KAAI,SAAAS,GAAA,IAAGkoB,EAAaloB,EAAbkoB,cAAkBtY,EAAShQ,YAAAI,EAAAsD,IAAA,OAAAxD,YAAA,CACjCgoB,UAAWI,EAAcjtB,IACtB2U,MAEJ9T,OAAOmJ,EAAUF,qBACpB3F,aAAc6F,EAAU7F,aACxBC,MAAM,EACNC,QAAS,KACTyD,SAAUkC,EAAUlC,SACpBD,aAAcmC,EAAUnC,aACxBI,UAAW+B,EAAU/B,UACrBD,cAAegC,EAAUhC,gBAE1B7G,MAAK,WAEJpC,EAAMuP,QAAQC,KAAK,kBAEpB/M,OAAM,SAAUC,GAEfoL,KAAKC,KAAK,CACRC,KAAM,QACNjQ,MAAO,QACPe,KAAM4D,EAAML,SAASG,KAAK0L,QAC1BE,mBAAmB,IAClBhM,MAAK,eACRE,QAAQC,IAAIG,MAEbN,MAAK,mBA6NA63B,CAAqBh0B,IACrB/C,SAEFP,cAACu3B,KAAqB,MAG1Bne,KACEpZ,cAAC4N,KAAU,CACTlD,UAAWgC,IACXC,GAAI,CACFua,SAAU,uBACVzuB,MAAO,CAAE6P,UAAWyuB,EAAWzzB,KAC/B/C,SAEFP,cAACkU,KAAQ,MAGb6E,OACE/Y,cAAC4N,KAAU,CACTE,QAAS,SAAClD,GACRA,EAAMC,iBACN4N,EAAkBnV,IAClB/C,SAEFP,cAACmU,KAAU,OAGZlB,MAGPf,QACEA,GAAQtP,KAAI,SAAC4d,EAAQC,GACnB,OAAIA,EAAI,GAAKA,EAAI,GACXvD,EAAoB3Y,MAAK,SAAAmc,GAAU,OAAEA,IAAeF,EAAOtU,SACtDsU,OAEP,EAEGA,KACNtK,QAAO,SAAAsK,GAAM,YAAaG,IAAXH,KAEpBnH,YAtbkB,SAAC/V,GACXyzB,EAAW3zB,QAsbnBkW,cAAeb,EACf9E,kBA/YwB,SAACqB,GAC7B7J,KAAKC,KAAK,CACRhQ,MAAO,gBACPe,KAAM,2DACNkP,KAAM,WACNqN,kBAAkB,EAClBC,kBAAmB,eACnBC,iBAAkB,iBAClBnN,mBAAmB,IAClBhM,MAAK,SAACoZ,GACHA,EAAOC,aACTpa,IACGqa,OAAO,aAAc,CACpBlZ,KAAM,CAAE0Z,IAAKvE,KAEdvV,MAAK,SAACC,GAELy3B,OAEDr3B,OAAM,SAAUC,GAEfoL,KAAKC,KAAK,CACRC,KAAM,QACNjQ,MAAO,QACPe,KAAM4D,EAAML,SAASG,KAAK0L,QAC1BE,mBAAmB,IAErB9L,QAAQC,IAAIG,MAEbN,MAAK,mBAmXR0nB,cArfoB,SAAC9V,GACzBA,EAAExG,iBACyBiZ,EAAN,OAAjBD,EAAuCxS,EAAEtG,cACxB,SAofnBtK,eAAC+Y,KAAM,CACLvN,WAAS,EACT2U,WAAYC,aAAczgB,EAAM0gB,YAAYC,KAAK,OACjDpd,SAAS,KACTrD,KAAM+iB,EAAa9iB,SAAA,CAEnBP,cAACyZ,KAAW,CAAAlZ,SAAC,wCACbP,cAAC0Z,KAAa,CAAAnZ,SACZE,eAACkZ,KAAK,CAAC9N,QAAS,EAAEtL,SAAA,CAChBP,cAAConB,KAAc,CACb/d,QAAQ,WACR6C,MAAM,eACNmb,cAAe,CAAC,MAChBC,eAAgB,KAChBruB,MAAOiJ,EACPqlB,WAAY,CACVC,UAAU,KAIdxnB,cAAC+L,KAAS,CACR0b,SAAU9D,EACVzX,MAAM,UACND,WAAS,EACTmB,aAAY,SAAAjO,OAAWjH,EAAI,KAC3BulB,WAAS,EACTiK,QAAS,EACTC,QAAS,UAOflnB,eAACoZ,KAAa,CAAAtZ,SAAA,CACZP,cAACwM,KAAM,CACLsB,QAAS,SAAClD,GACRA,EAAMC,iBACNyY,GAAgB,IAChB/iB,SACH,WAGDP,cAACwM,KAAM,CAACsB,QA5hBW,SAAClD,GAC1BA,EAAMC,iBACNnM,IACGmL,KAAK,gBAAiB,CACrB3H,MAAOA,EACPqJ,QAASoY,EAAgB3N,QAAQ/c,QAElCwG,MAAK,WACJ6jB,GAAgB,MAEjBxjB,OAAM,SAAUC,GAEfujB,GAAgB,GAChBnY,KAAKC,KAAK,CACRC,KAAM,QACNjQ,MAAO,QACPe,KAAM4D,EAAML,SAASG,KAAK0L,QAC1BE,mBAAmB,IAClBhM,MAAK,WACN6jB,GAAgB,SAGnB7jB,MAAK,gBAsgBkCc,SAAC,eAGzCE,eAAC+Y,KAAM,CACLvN,WAAS,EACT2U,WAAYC,aAAczgB,EAAM0gB,YAAYC,KAAK,OACjDpd,SAAS,KACTrD,KAAMijB,EAAUhjB,SAAA,CAEhBP,cAACyZ,KAAW,CAAAlZ,SAAC,6BACbP,cAAC0Z,KAAa,CAAAnZ,SACZE,eAACkZ,KAAK,CAAC9N,QAAS,EAAEtL,SAAA,CAChBP,cAAC+L,KAAS,CACRG,MAAM,QACN/C,KAAK,QACLlQ,MAAO4C,EACP0rB,WAAY,CACVC,UAAU,KAIdxnB,cAAC+L,KAAS,CACR0b,SAAU7D,EACV1X,MAAM,UACND,WAAS,EACTmB,aAAY,SAAAjO,OAAWjH,EAAI,KAC3BulB,WAAS,EACTiK,QAAS,EACTC,QAAS,UAIflnB,eAACoZ,KAAa,CAAAtZ,SAAA,CACZP,cAACwM,KAAM,CACLsB,QAAS,SAAClD,GACRA,EAAMC,iBACN2Y,GAAa,IACbjjB,SACH,WAGDP,cAACwM,KAAM,CAACsB,QA1iBQ,SAAClD,GACvBA,EAAMC,iBACNnM,IACGmL,KAAK,aAAc,CAClBhO,MAAOA,EACP0P,QAASqY,EAAa5N,QAAQ/c,QAE/BwG,MAAK,WACJ+jB,GAAa,MAEd1jB,OAAM,SAAUC,GAEfyjB,GAAa,GACbrY,KAAKC,KAAK,CACRC,KAAM,QACNjQ,MAAO,QACPe,KAAM4D,EAAML,SAASG,KAAK0L,QAC1BE,mBAAmB,IAClBhM,MAAK,WACN+jB,GAAa,SAGhB/jB,MAAK,gBAohB+Bc,SAAC,eAGtCE,eAAC+Y,KAAM,CACL7V,SAAS,KACTsI,WAAS,EACT3L,KAAMmjB,EACNxS,QAAS,SAACrG,GACRA,EAAMC,iBACN6Y,GAAc,IACdnjB,SAAA,CAEFP,cAACyZ,KAAW,CAAAlZ,SAAC,qBACbP,cAAC0Z,KAAa,CAAAnZ,SACZE,eAACyhB,GAAW,CAAA3hB,SAAA,CACT02B,EAAiBF,EAAW3zB,QAC3B2zB,EAAWE,GAAgBn5B,YAAY8E,KAAI,SAACiB,EAAMP,GAAK,OACrD7C,eAAC2hB,GAAe,CAAA7hB,SAAA,CACdP,cAACsiB,GAAmB,CAClBpS,QAAO,UAAA/Q,OAAY0E,EAAKG,MAAK,MAAA7E,OAAK0E,EAAKI,MAAK,MAAA9E,OAAK0E,EAAKuZ,WAAU,MAAAje,OAAK0E,EAAKwZ,UAAS,MAAAle,OAAK0E,EAAKyZ,WAC7FuK,UAAS,GAAA1oB,OAAK0E,EAAKK,aAAe,aAAe,IAAE/E,OACjD0E,EAAKM,cAAgB,UAAY,MAGrCnE,cAACwiB,GAAkB,CACjBle,UAAS,GAAAnF,OAAK0E,EAAK+E,iBAAiBtE,UAAS,QAC7Cme,OAAM,WAAAtjB,OAAa0E,EAAK+E,iBAAiB7E,KACzCM,eAAc,GAAAlF,OAAK0E,EAAK+E,iBAAiBvE,oBAVvBf,MAczB2zB,EAAiBF,EAAW3zB,QAC3B2zB,EAAWE,GAAgB5uB,iBAAiBzF,KAAI,SAACiB,EAAMP,GAAK,OAC1D7C,eAAC2hB,GAAe,CAAA7hB,SAAA,CACdP,cAACsiB,GAAmB,CAClBpS,QAAO,iCAAA/Q,OACH43B,EAAWE,GAAgBl5B,WAAWwG,MAAK,SAAAC,GAAK,OAAGA,EAAMlG,KAAKuF,EAAKY,WAASkd,aAAY,8BAAAxiB,OACxF43B,EAAWE,GAAgBl5B,WAAWwG,MAAK,SAAAC,GAAK,OAAGA,EAAMlG,KAAKuF,EAAKY,WAASR,MAAK,8BAAA9E,OACjF43B,EAAWE,GAAgBl5B,WAAWwG,MAAK,SAAAC,GAAK,OAAGA,EAAMlG,KAAKuF,EAAKY,WAAS3I,MAAK,8BAAAqD,OACjF43B,EAAWE,GAAgBl5B,WAAWwG,MAAK,SAAAC,GAAK,OAAGA,EAAMlG,KAAKuF,EAAKY,WAASC,QAAO,8BAAAvF,OACnF43B,EAAWE,GAAgBl5B,WAAWwG,MAAK,SAAAC,GAAK,OAAGA,EAAMlG,KAAKuF,EAAKY,WAASE,SAAQ,8BAAAxF,OACpF43B,EAAWE,GAAgBl5B,WAAWwG,MAAK,SAAAC,GAAK,OAAGA,EAAMlG,KAAKuF,EAAKY,WAASG,UAChFijB,UACEhkB,EAAKgB,WACHpE,eAAA,QAAAF,SAAA,IAAApB,OACM0E,EAAKiB,YAAW,oCAAA3F,OAChB0E,EAAKqB,SAAQ,oCAAA/F,OACb0E,EAAKkB,UAAS,KAAA5F,OAAI0E,EAAKmB,SAAQ,KAAA7F,OAAI0E,EAAKoB,aAAY,oCAAA9F,OACpD0E,EAAKsB,kBAAiB,MAAAhG,OAAK0E,EAAKuB,gBAAe,oCAAAjG,OAC/C0E,EAAKwB,aAAY,KAAAlG,OAAI0E,EAAK0B,YAAW,KACzCvF,cAAA,KACEwJ,KAAM3F,EAAKskB,aACX1R,OAAO,SACP2R,IAAI,aAAY7nB,SACjB,cAKH,oBAINP,cAACwiB,GAAkB,CACjBle,UAAS,GAAAnF,OAAK0E,EAAKS,UAAS,QAC5Bme,OAAM,WAAAtjB,OAAa0E,EAAKE,KACxBM,eAAc,GAAAlF,OAAK0E,EAAKQ,oBAjCNf,MAqCzB2zB,EAAiBF,EAAW3zB,QAC3B2zB,EAAWE,GAAgBj5B,gBAAgB4E,KAAI,SAACiB,EAAMP,GAAK,OACzD7C,eAAC2hB,GAAe,CAAA7hB,SAAA,CACdP,cAACsiB,GAAmB,CAClBpS,QAAO,cAAA/Q,OAAgB0E,EAAK3L,MAC5B2vB,UAAS,GAAA1oB,OAAK0E,EAAKO,UAErBpE,cAACwiB,GAAkB,CACjBle,UAAS,GAAAnF,OAAK0E,EAAKgF,qBAAqBvE,UAAS,QACjDme,OAAM,WAAAtjB,OAAa0E,EAAKgF,qBAAqB9E,KAC7CM,eAAc,GAAAlF,OAAK0E,EAAKgF,qBAAqBxE,oBAR3Bf,WAc9BtD,cAAC6Z,KAAa,CAAAtZ,SACZP,cAACwM,KAAM,CACLsB,QAAS,SAAClD,GACRA,EAAMC,iBACN6Y,GAAc,IACdnjB,SACH,kB,kYCzwBLioB,GAAW,SAACnrB,GAChB,IAAQkD,EAAqClD,EAArCkD,SAAUtH,EAA2BoE,EAA3BpE,MAAOqK,EAAoBjG,EAApBiG,MAAUmlB,EAAKxlB,YAAK5F,EAAK6F,IAElD,OACElD,cAAA,MAAAmD,wBAAA,CACE6T,KAAK,WACL0R,OAAQzvB,IAAUqK,EAClBhF,GAAE,mBAAAa,OAAqBmE,GACvB,gCAAAnE,OAA+BmE,IAC3BmlB,GAAK,IAAAloB,SAERtH,IAAUqK,GAAStD,cAACgK,KAAG,CAAC9J,GAAI,CAAEgT,EAAG,oBAAqB3S,SAAEA,QAgB/D,IAAMooB,GAAe,CACnB,CACErqB,GAAI,OAEN,CACEA,GAAI,YACJ4B,GAAI,CAAEpF,MAAO,KACbkY,SAAS,GAEX,CACE1U,GAAI,QACJ4N,MAAO,SAET,CACE5N,GAAI,QACJ4N,MAAO,SAET,CACE5N,GAAI,YACJ4N,MAAO,SAET,CACE5N,GAAI,UACJ4N,MAAO,WAET,CACE5N,GAAI,MACJ4N,MAAO,OAET,CACE5N,GAAI,aACJ4N,MAAO,eAET,CACE5N,GAAI,YACJ4N,MAAO,cAET,CACE5N,GAAI,YACJ4N,MAAO,cAET,CACE5N,GAAI,eACJ4N,MAAO,iBAET,CACE5N,GAAI,eACJ4N,MAAO,iBAET,CACE5N,GAAI,eACJ4N,MAAO,YAET,CACE5N,GAAI,gBACJ4N,MAAO,uBAET,CACE5N,GAAI,SACJ4N,MAAO,gBAET,CACE5N,GAAI,eACJ4N,MAAO,YAET,CACE5N,GAAI,cACJ4N,MAAO,YAIL0c,GAAmB,CACvB,cACA,aACA,aACA,gBACA,gBACA,WACA,sBACA,eACA,WACA,WAGIC,GAAc,CAClB,CACEvqB,GAAI,OAEN,CACEA,GAAI,YACJ4B,GAAI,CAAEpF,MAAO,KACbkY,SAAS,GAEX,CACE1U,GAAI,eACJ4N,MAAO,YAET,CACE5N,GAAI,QACJ4N,MAAO,SAET,CACE5N,GAAI,YACJ4N,MAAO,SAET,CACE5N,GAAI,UACJ4N,MAAO,WAET,CACE5N,GAAI,MACJ4N,MAAO,OAET,CACE5N,GAAI,QACJ4N,MAAO,SAET,CACE5N,GAAI,UACJ4N,MAAO,YAET,CACE5N,GAAI,WACJ4N,MAAO,aAET,CACE5N,GAAI,WACJ4N,MAAO,aAET,CACE5N,GAAI,SACJ4N,MAAO,gBAET,CACE5N,GAAI,eACJ4N,MAAO,YAET,CACE5N,GAAI,cACJ4N,MAAO,YAIL4c,GAAkB,CACtB,QACA,WACA,YACA,YACA,eACA,WACA,WAGIC,GAAmB,CACvB,CACEzqB,GAAI,OAEN,CACEA,GAAI,YACJ4B,GAAI,CAAEpF,MAAO,KACbkY,SAAS,GAEX,CACE1U,GAAI,OACJ4N,MAAO,QAET,CACE5N,GAAI,WACJ4N,MAAO,YAET,CACE5N,GAAI,SACJ4N,MAAO,gBAET,CACE5N,GAAI,YACJ4N,MAAO,SAET,CACE5N,GAAI,UACJ4N,MAAO,WAET,CACE5N,GAAI,MACJ4N,MAAO,OAET,CACE5N,GAAI,eACJ4N,MAAO,YAET,CACE5N,GAAI,cACJ4N,MAAO,YAIL8c,GAAkB,CACtB,WACA,WACA,wBACA,wBACA,UACA,QACA,SACA,0BACA,kBAGa5rB,gBArNf,SAAyB3E,GAEvB,MAAO,CAAET,KADQS,EAATT,QAoNKoF,EAAyB,SAACC,GACvC,IAAM+C,EAAQgb,eACN6N,EAA+D5rB,EAA/D4rB,cAAeC,EAAgD7rB,EAAhD6rB,cAAeC,EAAiC9rB,EAAjC8rB,YAAaC,EAAoB/rB,EAApB+rB,gBAEnD9rB,EAAwCC,mBAAS,GAAEC,EAAAC,YAAAH,EAAA,GAA5C+H,EAAY7H,EAAA,GAAE6rB,EAAe7rB,EAAA,GACpCI,EAA8CL,mBAAS,QAAOY,EAAAV,YAAAG,EAAA,GAAvD0H,EAAenH,EAAA,GAAEmrB,EAAkBnrB,EAAA,GAC1C2W,EAAsCvX,mBAAS,WAAUwX,EAAAtX,YAAAqX,EAAA,GAAlDvP,EAAWwP,EAAA,GAAEwU,EAAcxU,EAAA,GAClCG,EAAsC3X,mBAAS,YAAW4X,EAAA1X,YAAAyX,EAAA,GAAnDpQ,EAAWqQ,EAAA,GAAEqU,EAAcrU,EAAA,GAClCG,EAAgC/X,mBAAS,IAAGgY,EAAA9X,YAAA6X,EAAA,GAArCpQ,EAAQqQ,EAAA,GAAEkU,EAAWlU,EAAA,GAC5BG,EAAkCnY,mBAAS,KAAIoY,EAAAlY,YAAAiY,EAAA,GAAxC3Q,EAAS4Q,EAAA,GAAE+T,EAAY/T,EAAA,GAC9BkG,EAAgCte,mBAAS,KAAIue,EAAAre,YAAAoe,EAAA,GAAtC7W,EAAQ8W,EAAA,GAAE6N,EAAW7N,EAAA,GAC5BE,EAAwCze,mBAAS,IAAG0e,EAAAxe,YAAAue,EAAA,GAA7C/W,EAAYgX,EAAA,GAAE2N,EAAe3N,EAAA,GACpCG,EAAkD7e,mBAAS,GAAE8e,EAAA5e,YAAA2e,EAAA,GAAtDjX,EAAiBkX,EAAA,GAAEwN,EAAoBxN,EAAA,GAC9CG,EAA8Cjf,mBAAS,IAAGkf,EAAAhf,YAAA+e,EAAA,GAAnDpX,EAAeqX,EAAA,GAAEqN,EAAkBrN,EAAA,GAC1CG,GAAkCrf,mBAAS,IAAGsf,GAAApf,YAAAmf,GAAA,GAAvCmN,GAASlN,GAAA,GAAEmN,GAAYnN,GAAA,GAOxBoN,GAAalU,iBAAO,MAC1BiH,GAAsCzf,mBAAS,GAAE0f,GAAAxf,YAAAuf,GAAA,GAA1CkN,GAAWjN,GAAA,GAAEkN,GAAclN,GAAA,GAClCwE,GAA8BlkB,oBAAS,GAAMmkB,GAAAjkB,YAAAgkB,GAAA,GAAtC2I,GAAO1I,GAAA,GAAE2I,GAAU3I,GAAA,GAC1B2C,GAAsC9mB,oBAAS,GAAM+mB,GAAA7mB,YAAA4mB,GAAA,GAA9CmG,GAAWlG,GAAA,GAAEmG,GAAcnG,GAAA,GAClCgG,GAAoC/sB,oBAAS,GAAMgtB,GAAA9sB,YAAA6sB,GAAA,GAA5CzlB,GAAU0lB,GAAA,GAAEK,GAAaL,GAAA,GAChCG,GAAsCntB,mBAAS,SAAQotB,GAAAltB,YAAAitB,GAAA,GAAhDK,GAAWJ,GAAA,GAAEK,GAAcL,GAAA,GAClCE,GAA0CttB,mBAAS,IAAGutB,GAAArtB,YAAAotB,GAAA,GAA/CU,GAAaT,GAAA,GAAEU,GAAgBV,GAAA,GACtCG,GAAwC1tB,mBAAS,KAAK2tB,GAAAztB,YAAAwtB,GAAA,GAA/CU,GAAYT,GAAA,GAAEU,GAAeV,GAAA,GACpCG,GAA0C9tB,mBAAS,GAAE+tB,GAAA7tB,YAAA4tB,GAAA,GAA9CU,GAAaT,GAAA,GAAEU,GAAgBV,GAAA,GACtCG,GAA0CluB,mBAAS,IAAGmuB,GAAAjuB,YAAAguB,GAAA,GAA/CU,GAAaT,GAAA,GAAEU,GAAgBV,GAAA,GAEtCG,GAAgDtuB,oBAAS,GAAMuuB,GAAAruB,YAAAouB,GAAA,GAAxDU,GAAgBT,GAAA,GAAEU,GAAmBV,GAAA,GAC5CG,GAAgD1uB,oBAAS,GAAM2uB,GAAAzuB,YAAAwuB,GAAA,GAAxDU,GAAgBT,GAAA,GAAEU,GAAmBV,GAAA,GAC5CG,GAAgD9uB,oBAAS,GAAM+uB,GAAA7uB,YAAA4uB,GAAA,GAAxDU,GAAgBT,GAAA,GAAEU,GAAmBV,GAAA,GAC5CG,GAAgDlvB,oBAAS,GAAMmvB,GAAAjvB,YAAAgvB,GAAA,GAAxDU,GAAgBT,GAAA,GAAEU,GAAmBV,GAAA,GAE5CG,GAAwBtvB,mBAAS4rB,GAAY2D,GAAArvB,YAAAovB,GAAA,GAAtCU,GAAIT,GAAA,GAAEU,GAAOV,GAAA,GACpBG,GAA4C1vB,mBAAS,OAAM2vB,GAAAzvB,YAAAwvB,GAAA,GAApDU,GAAcT,GAAA,GAAEU,GAAiBV,GAAA,GAExCG,GAAsC9vB,mBAAS,IAAG+vB,GAAA7vB,YAAA4vB,GAAA,GAA3Ca,GAAWZ,GAAA,GAAEa,GAAcb,GAAA,GAClCG,GAAoClwB,mBAAS,IAAGmwB,GAAAjwB,YAAAgwB,GAAA,GAAzCa,GAAUZ,GAAA,GAAEa,GAAab,GAAA,GAChCG,GAA8CtwB,mBAAS,IAAGuwB,GAAArwB,YAAAowB,GAAA,GAAnDa,GAAeZ,GAAA,GAAEa,GAAkBb,GAAA,GAC1CE,GAAsDzwB,mBAAS,IAAG0wB,GAAAxwB,YAAAuwB,GAAA,GAA3Dc,GAAmBb,GAAA,GAAEc,GAAsBd,GAAA,GAClDG,GAAsC7wB,mBAAS,GAAE8wB,GAAA5wB,YAAA2wB,GAAA,GAA1Cc,GAAWb,GAAA,GAAEc,GAAcd,GAAA,GAElCG,GAA0CjxB,mBAAS,IAAGkxB,GAAAhxB,YAAA+wB,GAAA,GAA/Cc,GAAab,GAAA,GAAEc,GAAgBd,GAAA,GACtCG,GAAwCrxB,mBAAS,IAAGsxB,GAAApxB,YAAAmxB,GAAA,GAA7Cc,GAAYb,GAAA,GAAEc,GAAed,GAAA,GAGpCG,GAAgDzxB,mBAAS,MAAK0xB,GAAAxxB,YAAAuxB,GAAA,GAAvDc,GAAgBb,GAAA,GAAEc,GAAmBd,GAAA,GAC5CG,GAAgD7xB,mBAAS,MAAK8xB,GAAA5xB,YAAA2xB,GAAA,GAAvDc,GAAgBb,GAAA,GAAEc,GAAmBd,GAAA,GAC5CG,GAAoDjyB,mBAAS,MAAKkyB,GAAAhyB,YAAA+xB,GAAA,GAA3Dc,GAAkBb,GAAA,GAAEc,GAAqBd,GAAA,GAChDG,GAA8CryB,mBAAS,MAAKsyB,GAAApyB,YAAAmyB,GAAA,GAArDc,GAAeb,GAAA,GAAEc,GAAkBd,GAAA,GAC1CG,GAA8CzyB,mBAAS,MAAK0yB,GAAAxyB,YAAAuyB,GAAA,GAArDc,GAAeb,GAAA,GAAEc,GAAkBd,GAAA,GAC1CG,GAA8D7yB,mBAAS,OAAM8yB,GAAA5yB,YAAA2yB,GAAA,GAAtEc,GAAuBb,GAAA,GAAEc,GAA0Bd,GAAA,GAEtDe,GAAehI,EACfA,EAAgBxmB,KAAI,SAACyuB,GAAO,OAC1BC,OAAOC,OAAOF,EAAS,CAAEtG,YAAa,YAExC,GACJyF,GAAgCjzB,mBAAS6zB,IAAaX,GAAAhzB,YAAA+yB,GAAA,GAA/CkB,GAAQjB,GAAA,GAAEkB,GAAWlB,GAAA,GAE5BG,GAAgErzB,mBAAS,IAAGszB,GAAApzB,YAAAmzB,GAAA,GAArEkB,GAAwBjB,GAAA,GAAEkB,GAA2BlB,GAAA,GAC5DG,GAA8DzzB,mBAAS,IAAG0zB,GAAAxzB,YAAAuzB,GAAA,GAAnEkB,GAAuBjB,GAAA,GAAEkB,GAA0BlB,GAAA,GAmG1DzyB,qBAAU,WACR,IAlGwBK,EAkGlBJ,EAASC,IAAMC,YAAYF,SAOjC,OAzGwBI,EAmGPJ,EAAOnG,MAlGxBoG,IACGc,IAAI,uBAAwB,CAAEX,gBAC9BY,MAAK,SAACC,GAEL6vB,GAAiB7vB,EAASG,SAE3BC,OAAM,SAAUC,GAEfJ,QAAQC,IAAIG,MAEbN,MAAK,eAKc,SAACZ,GACvBH,IACGc,IAAI,sBAAuB,CAAEX,gBAC7BY,MAAK,SAACC,GAELiwB,GAAgBjwB,EAASG,SAE1BC,OAAM,SAAUC,GAEfJ,QAAQC,IAAIG,MAEbN,MAAK,eAyER2yB,CAAgB3zB,EAAOnG,OApEI,SAACuG,GAC5BH,IACGc,IAAI,2BAA4B,CAAEX,gBAClCY,MAAK,SAACC,OAINI,OAAM,SAAUC,GAEfJ,QAAQC,IAAIG,MAEbN,MAAK,eA0DR4yB,CAAqB5zB,EAAOnG,OArDP,SAACuG,GACtBH,IACGc,IAAI,cAAe,CAAEX,gBACrBY,MAAK,SAACC,GAELyuB,GAAezuB,EAASG,SAEzBC,OAAM,SAAUC,GAEfJ,QAAQC,IAAIG,MAEbN,MAAK,eA2CR6yB,CAAe7zB,EAAOnG,OAtCF,SAACuG,GACrBH,IACGc,IAAI,aAAc,CAAEX,gBACpBY,MAAK,SAACC,GAEL6uB,GAAc7uB,EAASG,SAExBC,OAAM,SAAUC,GAEfJ,QAAQC,IAAIG,MAEbN,MAAK,eA4BR8yB,CAAc9zB,EAAOnG,OAvBI,SAACuG,GAC1BH,IACGc,IAAI,kBAAmB,CAAEX,gBACzBY,MAAK,SAACC,GAELivB,GAAmBjvB,EAASG,MAC5BkvB,GAAuBrvB,EAASG,SAEjCC,OAAM,SAAUC,GAEfJ,QAAQC,IAAIG,MAEbN,MAAK,eAYR+yB,CAAmB/zB,EAAOnG,OACnB,kBAAMmG,EAAOK,OAAO,oCAC1B,IAmHH,OACE2B,eAACuJ,KAAG,CACF9J,GAAI,CACFqH,OAAQ,OACRgH,SAAU,OACV3R,QAAS,uBACT2D,SAAA,CAEFP,cAACyyB,KAAO,CAACC,WAAYxI,GAAahqB,GAAI,CAAE4f,SAAU,QAASvf,SAxRjD,CACZ,oBACA,kBACA,yBAsRWqC,KAAI,SAACsJ,EAAO5I,GACjB,IA3HcqvB,EA2HRC,EAAa,GAWnB,OAtIcD,EA4HGrvB,GA3HI,OAAvB2mB,GAAWjU,SAAoBkU,GAAc,GAAc,IAATyI,GAC5C1I,GAAWjU,QAAQ6c,gBAEX,IAAhBtF,GAAKnqB,QACe,IAApBsuB,GAAStuB,QACT8mB,GAAc,GACL,IAATyI,KAsHMC,EAAWE,SACT9yB,cAACiI,IAAU,CAACoB,QAAQ,UAAUvN,MAAM,QAAOyE,SACxC,CAAC,gBAAiB,4BAA4B+C,KAInDsvB,EAAW7yB,OAAQ,GAInBC,cAAC+yB,KAAI,CAAa7yB,GAAI,CAAEgmB,GAAI,QAAS3lB,SACnCP,cAACgzB,KAAS7vB,wBAAA,GAAKyvB,GAAU,IAAAryB,SAAG2L,MADnBA,QAMjBzL,eAACuJ,KAAG,CACF9J,GAAI,CAAE+J,GAAI,OAAQC,GAAI,QACtB4d,IAAKmC,GACLvB,OAAwB,IAAhBwB,GACRxf,UAAU,OACV/G,SAAS,KACTsI,WAAS,EACTtB,SAAU,SAAC0G,GACTA,EAAExG,iBACFsf,GAAe,IACf5pB,SAAA,CAEFE,eAAC6V,KAAK,CACJpW,GAAI,CACFgT,EAAG,OACH/I,QAAS,OACT2V,SAAU,OACVxS,eAAgB,iBAChB/M,SAAA,CAEFP,cAACiI,IAAU,CAACoB,QAAQ,KAAKnJ,GAAI,CAAEwD,UAAW,OAAQiL,SAAU,QAASpO,SAAC,gBAGrE,CACC,CAAErI,KAAM,OAAQgU,MAAO,OAAQ/C,KAAM,OAAQiE,aAAc8b,EAAchxB,KAAM4C,MAAO,OAAQkR,UAAU,GACxG,CAAE9T,KAAM,QAASgU,MAAO,QAAS/C,KAAM,OAAQlQ,MAAOiwB,EAAchnB,MAAO2Q,SAAUqW,EAAc9F,SAAUtoB,MAAO,OACpH,CAAE5C,KAAM,QAASgU,MAAO,QAAS/C,KAAM,QAASiE,aAAc8b,EAAcrtB,MAAOf,MAAO,OAC1F,CAAE5C,KAAM,WAAYgU,MAAO,WAAY/C,KAAM,OAAQiE,aAAc8b,EAAcjnB,SAAUnH,MAAO,OAClG,CAAE5C,KAAM,SAAUgU,MAAO,SAAU/C,KAAM,OAAQiE,aAAc8b,EAAclnB,OAAQlH,MAAO,OAC5F,CAAE5C,KAAM,QAASgU,MAAO,QAAS/C,KAAM,OAAQiE,aAAc8b,EAAcnnB,MAAOjH,MAAO,OACzF,CAAE5C,KAAM,QAASgU,MAAO,QAAS/C,KAAM,OAAQiE,aAAc8b,EAAcpnB,MAAOhH,MAAO,OACzF,CAAE5C,KAAM,OAAQgU,MAAO,OAAQ/C,KAAM,OAAQiE,aAAc8b,EAAcrnB,KAAM/G,MAAO,QACtF8H,KAAI,SAAArD,EAAoC+D,GAAzB/D,EAAR0zB,SAAsC,IAA5Bn4B,EAAKyE,EAALzE,MAAUmY,EAAShQ,YAAA1D,EAAAkE,IAAA,MAChB,UAApBwP,EAAU/G,MACRlM,cAAConB,KAAcjkB,YAAA,CAEbkG,QAAQ,WACRge,cAAe,CAAC,MAChBC,eAAgB,KAChBpnB,GAAI,CAAEwD,UAAW5I,EAAO6T,SAAU7T,GAClCmB,OAAO,QACPgR,KAAK,SACDgG,GAPC3P,GAUPtD,cAAC+L,KAAS5I,YAAA,CAERjD,GAAI,CAAEwD,UAAW5I,EAAO6T,SAAU7T,IAC9BmY,GAFC3P,MAMXtD,cAAC+L,KAAS,CACR7L,GAAI,CAAEwD,UAAW,CAAC,OAAQ,OAAQiL,SAAU,CAAC,OAAQ,QACrDzW,KAAK,WACLgU,MAAM,WACN/C,KAAK,SACL2J,WAAY,CAAEogB,IAAK,GACnB9lB,aAAc8b,EAAc1mB,UAAY,IAE1C/B,eAAC0yB,KAAU,CACThd,KAAG,EACHje,KAAK,iBACLkV,aAAa,MACblN,GAAI,CACFwD,UAAW,CAAC,OAAQ,OACpBiL,SAAU,CAAC,OAAQ,OACnBrB,eAAgB,YAChB/M,SAAA,CAEFP,cAACqM,KAAgB,CAACpT,MAAM,MAAMqT,QAAStM,cAACozB,KAAK,IAAKlnB,MAAM,SACxDlM,cAACqM,KAAgB,CAACpT,MAAM,OAAOqT,QAAStM,cAACozB,KAAK,IAAKlnB,MAAM,aAE3DlM,cAAC+L,KAAS,CACR7L,GAAI,CAAEwD,UAAW,CAAC,OAAQ,QAASiL,SAAU,CAAC,OAAQ,SACtDzW,KAAK,SAASgU,MAAM,kBAAkB/C,KAAK,OAC3CiE,aAAc8b,EAAc9kB,QAAU,QAG1CpE,cAACwM,KAAM,CAACrD,KAAK,SAASjJ,GAAI,CAAE8G,UAAW,OAAQiT,MAAO,SAAU1Z,SAAC,YAIlD,IAAhB2pB,IACCzpB,eAAAsJ,WAAA,CAAAxJ,SAAA,CACGgtB,GAAKnqB,OAAS,GACbpD,cAACsW,KAAK,CAAA/V,SACJP,cAACkiB,GAAW,CAAChiB,GAAI,CAAEmzB,GAAI,QAAS9yB,SAC7BgtB,GAAK3qB,KAAI,SAACiB,EAAMP,GAAK,OACpB7C,eAAC2hB,GAAe,CAEdvS,gBACEpP,eAACC,WAAQ,CAAAH,SAAA,CACPP,cAAC4N,KAAU,CACTE,QAAS,SAAClD,GACRA,EAAMC,iBAhKN,SAAChH,GACzB+pB,GAAkB,QAClB5C,GAAennB,EAAKknB,aACpBS,GAAiB3nB,EAAK0nB,eACtBa,GAAiBvoB,EAAKO,QACtBwnB,GAAgB/nB,EAAK8nB,cACrBK,GAAiBnoB,EAAKkoB,eACtB,IAAMuH,EAAkBx5B,KAAKC,MAAM8J,EAAK0vB,uBAEpCD,EAAgBld,SAAS,sBAC3BoW,IAAoB,GAClB8G,EAAgBld,SAAS,uCAC3BwW,IAAoB,GAClB0G,EAAgBld,SAAS,0BAC3B4W,IAAoB,GAClBsG,EAAgBld,SAAS,qBAAqBgX,IAAoB,GAE7C,UAArBvpB,EAAKknB,aAAgD,cAArBlnB,EAAKknB,YACvCV,IAAW,GACmB,SAArBxmB,EAAKknB,cACdH,GAAc/mB,EAAKgB,YACnB4kB,EAAY5lB,EAAKqB,UACjB4kB,EAAmBjmB,EAAKuB,iBACxBikB,EAAgBxlB,EAAKwB,cACrBikB,EAAmBzlB,EAAKyB,iBACxBikB,EAAe1lB,EAAK0B,aACpBmkB,EAAa7lB,EAAKkB,WAClBykB,EAAe3lB,EAAKiB,aACpB+kB,EAAqBhmB,EAAKsB,mBAC1BykB,EAAgB/lB,EAAKoB,cACrB0kB,EAAY9lB,EAAKmB,UACjBglB,GAAanmB,EAAKskB,cAElBsC,IAAe,IAgIO+I,CAAkB3vB,IAClBtD,SAEFP,cAACkU,KAAQ,MAEXlU,cAAC4N,KAAU,CACTE,QAAS,SAAClD,GACRA,EAAMC,iBACN2iB,GACED,GAAKrX,QACH,SAACud,EAASC,GAAY,OACpBA,IAAiBpwB,OAGvB/C,SAEFP,cAACmU,KAAU,SAGhB5T,SAAA,CAEqB,UAArBsD,EAAKknB,aACJ/qB,cAACsiB,GAAmB,CAClBpS,QAAO,UAAA/Q,OAAY0E,EAAK0nB,cAAcvnB,MAAK,MAAA7E,OAAK0E,EAAK0nB,cAActnB,MAAK,MAAA9E,OAAK0E,EAAKO,QAClFyjB,UAAS,GAAA1oB,OACP0E,EAAK0nB,cAAcrnB,aAAe,aAAe,IAAE/E,OAClD0E,EAAK0nB,cAAcpnB,cAAgB,UAAY,MAGhC,SAArBN,EAAKknB,aACJ/qB,cAACsiB,GAAmB,CAClBpS,QAAO,SAAA/Q,OAAW0E,EAAK0nB,cAAc5J,aAAY,MAAAxiB,OAAK0E,EAAK0nB,cAActnB,MAAK,MAAA9E,OAAK0E,EAAK0nB,cAAczvB,MAAK,MAAAqD,OAAK0E,EAAK0nB,cAAc7mB,QAAO,MAAAvF,OAAK0E,EAAK0nB,cAAc5mB,SAAQ,MAAAxF,OAAK0E,EAAK0nB,cAAc3mB,UAClMijB,UACEhkB,EAAKgB,WAAU,GAAA1F,OACR0E,EAAKiB,YAAW,MAAA3F,OAAK0E,EAAKqB,SAAQ,MAAA/F,OAAK0E,EAAKkB,UAAS,KAAA5F,OAAI0E,EAAKmB,SAAQ,KAAA7F,OAAI0E,EAAKoB,aAAY,MAAA9F,OAAK0E,EAAKsB,kBAAiB,MAAAhG,OAAK0E,EAAKuB,gBAAe,MAAAjG,OAAK0E,EAAKwB,aAAY,KAAAlG,OAAI0E,EAAK0B,aACjL,oBAIY,cAArB1B,EAAKknB,aACJ/qB,cAACsiB,GAAmB,CAClBpS,QAAO,cAAA/Q,OAAgB0E,EAAK0nB,cAAc9lB,UAC1CoiB,UAAS,GAAA1oB,OAAK0E,EAAKO,UAGvBpE,cAACwiB,GAAkB,CACjBle,UAAS,GAAAnF,OAAK0E,EAAK8nB,aAAY,QAC/BlJ,OAAM,WAAAtjB,OAAa0E,EAAKkoB,eACxB1nB,eAAc,GAAAlF,OAAK0E,EAAK0vB,2BAtDrBjwB,UA6Df7C,eAAC6V,KAAK,CAACpW,GAAI,CAAEgmB,GAAI,QAAS3lB,SAAA,CACxBP,cAACgK,KAAG,CAAC9J,GAAI,CAAE1D,aAAc,EAAGm3B,YAAa,WAAYpzB,SACnDE,eAACmzB,KAAI,CACH36B,MAAOi2B,GACPrc,SAAU,SAACjI,EAAO3R,GAChB2R,EAAMC,iBACNskB,GAAel2B,IAEjB,aAAW,qBAAoBsH,SAAA,CAE/BP,cAAC6zB,KAAG,CAAC3nB,MAAM,WACXlM,cAAC6zB,KAAG,CAAC3nB,MAAM,UACXlM,cAAC6zB,KAAG,CAAC3nB,MAAM,gBACXlM,cAAC6zB,KAAG,CAAC3nB,MAAM,eAGfzL,eAAC+nB,GAAQ,CAACvvB,MAAOi2B,GAAa5rB,MAAO,EAAE/C,SAAA,CACrCP,cAACsW,KAAK,CACJpW,GAAI,CACF8G,UAAW,OACXpK,QAAS,WACTuN,QAAS,OACT2V,SAAU,OACVxS,eAAgB,gBAChB/M,SAED,CACC,CACE2L,MAAO,QACPjT,MAAO62B,GACPjd,SAAU,SAACjI,EAAO3R,GAChB2R,EAAMC,iBACNklB,GAAoB92B,GACpBk3B,GAAoB,OAEtBvV,QAAS0U,GACN1sB,KAAI,SAACiB,GAAI,OAAKA,EAAKG,SACnBkS,QAAO,SAAC6J,EAAGzc,EAAO0c,GAAK,OAAKA,EAAMjJ,QAAQgJ,KAAOzc,MAEtD,CACE4I,MAAO,QACPjT,MAAOi3B,GACPrd,SAAU,SAACjI,EAAO3R,GAChB2R,EAAMC,iBACNslB,GAAoBl3B,IAEtB2hB,QAAS0U,GACNpZ,QACC,SAACrS,GAAI,OACFisB,IAAoBjsB,EAAKG,QAAU8rB,MAEvCltB,KAAI,SAACiB,GAAI,OAAKA,EAAKI,SACnBiS,QAAO,SAAC6J,EAAGzc,EAAO0c,GAAK,OAAKA,EAAMjJ,QAAQgJ,KAAOzc,OAEtDV,KAAI,SAAAC,EAAsBS,GAAK,IAAxB4I,EAAKrJ,EAALqJ,MAAU7O,EAAK4F,YAAAJ,EAAA4D,IAAA,OACtBzG,cAACigB,KAAY9c,YAAA,CAEXjD,GAAI,CAAEwD,UAAW,QAASC,SAAU,SACpCuc,YAAa,SAACC,GAAM,OAClBngB,cAAC+L,KAAS5I,wBAAA,GAAKgd,GAAM,IAAEjU,MAAOA,OAE5B7O,GALCiG,QASXtD,cAAC2a,GAAoB,CACnBC,QAASgO,GACT/V,SAnSmB,SAACuN,GAChC2R,GAA4B3R,IAmShBpL,SAAU8c,KAEZ9xB,cAAC2U,GAAQ,CACPtC,WAAW,EACXjX,MAAM,eACNwZ,KAAMsZ,GACHtrB,KACC,SAAAS,EASEC,GAAK,IAPH4a,EAAY7a,EAAZ6a,aACAha,EAAYb,EAAZa,aACAC,EAAad,EAAbc,cACAuZ,EAAYra,EAAZqa,aACAC,EAAWta,EAAXsa,YACG1K,EAAShQ,YAAAI,EAAAsD,IAAA,OAAAxD,YAAA,CAIdkd,UACErgB,cAAA,KACEwJ,KAAK,IACLsE,QAAS,SAACuD,GACRA,EAAExG,iBACFM,KAAKC,KAAK,CACRE,KAAK,kCAADnM,OAAoC+e,EAAY,QACpDoC,iBAAiB,EACjBC,mBAAmB,EACnB9U,mBAAmB,KAErBlL,SAEFP,cAAA,OACEqK,IAAI,GACJvP,MAAM,OACNmC,IAAKihB,EACLhd,MAAO,CAAE8F,UAAW,WAI1B9C,aAAcA,EAAe,MAAQ,KACrCC,cAAeA,EAAgB,MAAQ,KACvC2vB,IACE9zB,cAAC4N,KAAU,CACTE,QAAS,SAAClD,GAER,GADAA,EAAMC,iBAEJ0iB,GAAKhpB,MACH,SAACV,GAAI,MACkB,UAArBA,EAAKknB,aACLlnB,EAAK0nB,cAAcjtB,KACjB4vB,GAAY5qB,GAAOhF,MAGzB6M,KAAKC,KAAK,CACRC,KAAM,UACNjQ,MAAO,UACPe,KAAM,iCACNsP,mBAAmB,QAZvB,CAgBAuf,GAAe,SACfQ,GAAiB0C,GAAY5qB,IAC7B,IAAI8Z,EACgC,KAAlC8Q,GAAY5qB,GAAO8Z,WACf,MACA8Q,GAAY5qB,GAAO8Z,WACrBE,EAC+B,KAAjC4Q,GAAY5qB,GAAOga,UACf,MACA4Q,GAAY5qB,GAAOga,UACrBD,EAC+B,KAAjC6Q,GAAY5qB,GAAO+Z,UACf,MACA6Q,GAAY5qB,GAAO+Z,UAQzB+O,GANE,cACAhP,EACA,eACAE,EACA,eACAD,GAEFuO,GAAgBsC,GAAY5qB,GAAOgB,WACnC0nB,GAAiB,GACjB3B,IAAW,KACX9pB,SAEFP,cAACsf,KAAO,MAGZ5B,aAAe,WACb,GAAqB,OAAjBA,EAAuB,MAAO,KAClC,IAAM+H,EAAc,IAAIvmB,KAAKwe,GAK7B,OAJA+H,EAAYC,WACVD,EAAYE,aACVF,EAAYG,qBAETH,EAAYI,cAAcC,MAAM,KAAK,GAP/B,GASfnI,YAAc,WACZ,GAAoB,OAAhBA,EAAsB,MAAO,KACjC,IAAM8H,EAAc,IAAIvmB,KAAKye,GAK7B,OAJA8H,EAAYC,WACVD,EAAYE,aACVF,EAAYG,qBAETH,EAAYI,cAAcC,MAAM,KAAK,GAPhC,IASX7S,MAGNiD,QACC,SAACrS,GAAI,QACDisB,IAAoBjsB,EAAKG,QAAU8rB,OACnCI,IAAoBrsB,EAAKI,QAAUisB,OAE3Che,QAASyW,GACN/lB,KAAI,SAAC4d,EAAQC,GACZ,OAAIA,EAAI,GAEJqR,GAAyBvtB,MACvB,SAACmc,GAAU,OAAKA,IAAeF,EAAOtU,SAGjCsU,KAIZtK,QAAO,SAACsK,GAAM,YAAgBG,IAAXH,UAG1B/f,eAAC+nB,GAAQ,CAACvvB,MAAOi2B,GAAa5rB,MAAO,EAAE/C,SAAA,CACrCP,cAACsW,KAAK,CACJpW,GAAI,CACF8G,UAAW,OACXpK,QAAS,WACTuN,QAAS,OACT2V,SAAU,OACVxS,eAAgB,gBAChB/M,SAED,CACC,CACE2L,MAAO,WACPjT,MAAOq3B,GACPzd,SAAU,SAACjI,EAAO3R,GAChB2R,EAAMC,iBACN0lB,GAAsBt3B,GACtB03B,GAAmB,MACnBI,GAAmB,OAErBnW,QAAS8U,GACN9sB,KAAI,SAACiB,GAAI,OAAKA,EAAK8d,gBACnBzL,QAAO,SAAC6J,EAAGzc,EAAO0c,GAAK,OAAKA,EAAMjJ,QAAQgJ,KAAOzc,MAEtD,CACE4I,MAAO,QACPjT,MAAOy3B,GACP7d,SAAU,SAACjI,EAAO3R,GAChB2R,EAAMC,iBACN8lB,GAAmB13B,GACnB83B,GAAmB,OAErBnW,QAAS8U,GACNxZ,QACC,SAACrS,GAAI,OACFysB,IACDzsB,EAAK8d,eAAiB2O,MAEzB1tB,KAAI,SAACiB,GAAI,OAAKA,EAAKI,SACnBiS,QAAO,SAAC6J,EAAGzc,EAAO0c,GAAK,OAAKA,EAAMjJ,QAAQgJ,KAAOzc,MAEtD,CACE4I,MAAO,QACPjT,MAAO63B,GACPje,SAAU,SAACjI,EAAO3R,GAChB2R,EAAMC,iBACNkmB,GAAmB93B,IAErB2hB,QAAS8U,GACNxZ,QACC,SAACrS,GAAI,OACF6sB,IAAmB7sB,EAAKI,QAAUysB,MAEtC9tB,KAAI,SAACiB,GAAI,OAAKA,EAAK/H,SACnBoa,QAAO,SAAC6J,EAAGzc,EAAO0c,GAAK,OAAKA,EAAMjJ,QAAQgJ,KAAOzc,OAEtDV,KAAI,SAAA4D,EAAsBlD,GAAK,IAAxB4I,EAAK1F,EAAL0F,MAAU7O,EAAK4F,YAAAuD,EAAAiB,IAAA,OACtBzH,cAACigB,KAAY9c,YAAA,CAEXjD,GAAI,CAAEwD,UAAW,QAASC,SAAU,SACpCuc,YAAa,SAACC,GAAM,OAClBngB,cAAC+L,KAAS5I,wBAAA,GAAKgd,GAAM,IAAEjU,MAAOA,OAE5B7O,GALCiG,QASXtD,cAAC2a,GAAoB,CACnBC,QAASkO,GACTjW,SAzekB,SAACuN,GAC/B+R,GAA2B/R,IAyefpL,SAAUkd,KAEZlyB,cAAC2U,GAAQ,CACPtC,WAAW,EACXjX,MAAM,kBACNwZ,KAAM0Z,GACH1rB,KACC,SAAA8D,EAEEpD,GAAK,IADH4a,EAAYxX,EAAZwX,aAAcR,EAAYhX,EAAZgX,aAAcC,EAAWjX,EAAXiX,YAAgB1K,EAAShQ,YAAAyD,EAAAiB,IAAA,OAAAxE,YAAA,CAGvDkd,UACErgB,cAAA,KACEwJ,KAAK,IACLsE,QAAS,SAACuD,GACRA,EAAExG,iBACFM,KAAKC,KAAK,CACRE,KAAK,kCAADnM,OAAoC+e,EAAY,QACpDoC,iBAAiB,EACjBC,mBAAmB,EACnB9U,mBAAmB,KAErBlL,SAEFP,cAAA,OACEqK,IAAI,GACJvP,MAAM,OACNmC,IAAKihB,EACLhd,MAAO,CAAE8F,UAAW,WAI1B8sB,IACE9zB,cAAC4N,KAAU,CACTE,QAAS,SAAClD,GACRogB,GAAe,QACfQ,GAAiB8C,GAAWhrB,IAC5BsoB,GAAgB0C,GAAWhrB,GAAOgB,WAClC0nB,GAAiB,GACjBpB,IAAc,GACdH,IAAe,IACflqB,SAEFP,cAACsf,KAAO,MAGZ5B,aAAe,WACb,GAAqB,OAAjBA,EAAuB,MAAO,KAClC,IAAM+H,EAAc,IAAIvmB,KAAKwe,GAK7B,OAJA+H,EAAYC,WACVD,EAAYE,aACVF,EAAYG,qBAETH,EAAYI,cAAcC,MAAM,KAAK,GAP/B,GASfnI,YAAc,WACZ,GAAoB,OAAhBA,EAAsB,MAAO,KACjC,IAAM8H,EAAc,IAAIvmB,KAAKye,GAK7B,OAJA8H,EAAYC,WACVD,EAAYE,aACVF,EAAYG,qBAETH,EAAYI,cAAcC,MAAM,KAAK,GAPhC,IASX7S,MAGNiD,QACC,SAACrS,GAAI,QACDysB,IACAzsB,EAAK8d,eAAiB2O,OACtBI,IAAmB7sB,EAAKI,QAAUysB,OAClCI,IAAmBjtB,EAAK/H,QAAUg1B,OAE1C5e,QAAS2W,GACNjmB,KAAI,SAAC4d,EAAQC,GACZ,OAAIA,EAAI,GAEJyR,GAAwB3tB,MACtB,SAACmc,GAAU,OAAKA,IAAeF,EAAOtU,SAGjCsU,KAIZtK,QAAO,SAACsK,GAAM,YAAgBG,IAAXH,UAG1B/f,eAAC+nB,GAAQ,CAACvvB,MAAOi2B,GAAa5rB,MAAO,EAAE/C,SAAA,CACrCP,cAACsW,KAAK,CACJpW,GAAI,CACF8G,UAAW,OACXpK,QAAS,WACTuN,QAAS,OACT2V,SAAU,OACVxS,eAAgB,gBAChB/M,SAEFE,eAACsM,KAAW,CACVE,KAAK,QACL/M,GAAI,CAAEwD,UAAW,QAASC,SAAU,SAAUpD,SAAA,CAE9CP,cAACgN,KAAU,CAAC1O,GAAG,kBAAiBiC,SAAC,aACjCE,eAACyM,KAAM,CACLC,QAAQ,kBACRjB,MAAM,WACNjT,MAAOi4B,GACPre,SA7oBoB,SAACxB,GACrC,IAAI4Q,EAAoB5Q,EAAEoF,OAAOxd,MACjCk4B,GAA2BlP,GAEzB0M,GADwB,QAAtB1M,EACiB6M,GAGjBA,GAAoB5Y,QAClB,SAAC1R,GAAK,OAAKA,EAAMiB,WAAawc,OAqoBoB1hB,SAAA,CAExCP,cAACqN,KAAQ,CAACpU,MAAM,MAAKsH,SAAC,QACtBP,cAACqN,KAAQ,CAACpU,MAAM,mBAAkBsH,SAAC,qBAGnCP,cAACqN,KAAQ,CAACpU,MAAM,oBAAmBsH,SAAC,sBAGpCP,cAACqN,KAAQ,CAACpU,MAAM,eAAcsH,SAAC,iBAC/BP,cAACqN,KAAQ,CAACpU,MAAM,eAAcsH,SAAC,iBAC/BP,cAACqN,KAAQ,CAACpU,MAAM,UAASsH,SAAC,YAC1BP,cAACqN,KAAQ,CAACpU,MAAM,SAAQsH,SAAC,mBAI/BP,cAAC2U,GAAQ,CACPtC,WAAW,EACXjX,MAAM,mBACNwZ,KAAM8Z,GAAgB9rB,KACpB,SAAAsE,EAEE5D,GAAK,IADH4a,EAAYhX,EAAZgX,aAAcR,EAAYxW,EAAZwW,aAAcC,EAAWzW,EAAXyW,YAAgB1K,EAAShQ,YAAAiE,EAAAW,IAAA,OAAA1E,YAAA,CAGvDkd,UACErgB,cAAA,KACEwJ,KAAK,IACLsE,QAAS,SAACuD,GACRA,EAAExG,iBACFM,KAAKC,KAAK,CACRE,KAAK,kCAADnM,OAAoC+e,EAAY,QACpDoC,iBAAiB,EACjBC,mBAAmB,EACnB9U,mBAAmB,KAErBlL,SAEFP,cAAA,OACEqK,IAAI,GACJvP,MAAM,OACNmC,IAAKihB,EACLhd,MAAO,CAAE8F,UAAW,WAI1B8sB,IACE9zB,cAAC4N,KAAU,CACTE,QAAS,SAAClD,GACRA,EAAMC,iBACNmgB,GAAe,aACfQ,GAAiBkD,GAAgBprB,IACjC8oB,GAAiBsC,GAAgBprB,GAAOc,QACxCwnB,GAAgB8C,GAAgBprB,GAAOgB,WACvC0nB,GAAiB,GAEfuB,GAAKhpB,MACH,SAACV,GAAI,MACkB,cAArBA,EAAKknB,aACLlnB,EAAK0nB,cAAcjtB,KACjBowB,GAAgBprB,GAAOhF,MAG7B6M,KAAKC,KAAK,CACRC,KAAM,UACNjQ,MAAO,UACPe,KAAM,iCACNsP,mBAAmB,IAIvB4e,IAAW,IACX9pB,SAEFP,cAACsf,KAAO,MAGZ5B,aAAe,WACb,GAAqB,OAAjBA,EAAuB,MAAO,KAClC,IAAM+H,EAAc,IAAIvmB,KAAKwe,GAK7B,OAJA+H,EAAYC,WACVD,EAAYE,aACVF,EAAYG,qBAETH,EAAYI,cAAcC,MAAM,KAAK,GAP/B,GASfnI,YAAc,WACZ,GAAoB,OAAhBA,EAAsB,MAAO,KACjC,IAAM8H,EAAc,IAAIvmB,KAAKye,GAK7B,OAJA8H,EAAYC,WACVD,EAAYE,aACVF,EAAYG,qBAETH,EAAYI,cAAcC,MAAM,KAAK,GAPhC,IASX7S,MAGPf,QAAS6W,QAGb/oB,cAACwoB,GAAQ,CAACvvB,MAAOi2B,GAAa5rB,MAAO,EAAE/C,SACrCE,eAACuJ,KAAG,CAAC9J,GAAI,CAAEqK,EAAG,GAAIhK,SAAA,CAChBP,cAACwM,KAAM,CACLnD,QAAQ,YACRnJ,GAAI,CAAEuM,GAAI,GACVqB,QAxuBK,WACnB,IAAMimB,EAAa,CACjBz1B,GAAI01B,eACJtuB,YAAa,GACbC,MAAO,EACPolB,YAAa,QAEf4G,GAAY,GAADxyB,OAAAyE,YAAK8tB,IAAQ,CAAEqC,MAiuBUxzB,SACvB,kBAGDP,cAAC2L,KAAI,CAACC,WAAS,EAACC,QAAS,EAAEtL,SACxBmxB,GAAS9uB,KAAI,SAACyuB,GAAO,OACpBrxB,cAAC2L,KAAI,CAAC9H,MAAI,EAACiI,GAAI,EAAEvL,SACfE,eAACwzB,KAAI,CAAC/zB,GAAI,CAAEmzB,GAAI,EAAGa,GAAI,GAAI3zB,SAAA,CACzBP,cAACgK,KAAG,CACF9J,GAAI,CAAEiK,QAAS,OAAQmD,eAAgB,YAAa/M,SAEpDP,cAAC4N,KAAU,CACT,aAAW,WACXX,KAAK,QACLa,QAAS,kBA5uBX,SAACqmB,GACvB,IAAMC,EAAc1C,GAASxb,QAAO,SAACmb,GAAO,OAAKA,EAAQ/yB,KAAO61B,KAChExC,GAAYyC,GA0uB2BC,CAAgBhD,EAAQ/yB,KAAIiC,SAE3CP,cAACs0B,KAAS,CAACv5B,SAAS,cAGxBiF,cAAC+L,KAAS,CACRG,MAAM,cACNuR,WAAS,EACT7I,KAAM,EACN1U,GAAI,CAAEwD,UAAW,OAAQiL,SAAU,QACnC1V,MAAOo4B,EAAQ3rB,YACfmN,SAAU,SAACxB,GAAC,OAlvBT,SAACA,EAAG8iB,GAC7B,IAAMC,EAAc1C,GAAS9uB,KAAI,SAACyuB,GAChC,OAAIA,EAAQ/yB,KAAO61B,EACV7C,OAAOC,OAAO,GAAIF,EAAS,CAAE3rB,YAAa2L,EAAEoF,OAAOxd,QAErDo4B,KAETM,GAAYyC,GA2uB2BG,CAAmBljB,EAAGggB,EAAQ/yB,OAEjD0B,cAAC+L,KAAS,CACR5C,KAAK,SACLjJ,GAAI,CAAEwD,UAAW,OAAQiL,SAAU,QACnCzC,MAAM,QACNjT,MAAOo4B,EAAQ1rB,MACfkN,SAAU,SAACxB,GAAC,OA/uBP,SAACA,EAAG8iB,GAC/B,IAAMC,EAAc1C,GAAS9uB,KAAI,SAACyuB,GAChC,OAAIA,EAAQ/yB,KAAO61B,EACV7C,OAAOC,OAAO,GAAIF,EAAS,CAChC1rB,MAAO6uB,WAAWnjB,EAAEoF,OAAOxd,SAGxBo4B,KAETM,GAAYyC,GAsuB2BK,CAAqBpjB,EAAGggB,EAAQ/yB,WA1BhC+yB,EAAQ/yB,iBAmCzC0B,cAACwM,KAAM,CACLsB,QAAS,SAACuD,GACRA,EAAExG,iBACFsf,GAAe,IACf5pB,SACH,aAGDP,cAACwM,KAAM,CACLtM,GAAI,CAAE+Z,MAAO,SACbnM,QAAS,SAACuD,GACRA,EAAExG,iBACkB,IAAhB0iB,GAAKnqB,QAAoC,IAApBsuB,GAAStuB,OASlC+mB,GAAe,GARbhf,KAAKC,KAAK,CACRC,KAAM,UACNjQ,MAAO,UACPe,KAAM,6CACNsP,mBAAmB,KAKvBlL,SACH,YAKLE,eAACuJ,KAAG,CACF9J,GAAI,CAAE+J,GAAI,OAAQC,GAAI,QACtBwe,OAAwB,IAAhBwB,GACRxf,UAAU,OACV/G,SAAS,KACTsI,WAAS,EACTtB,SAAU,SAAC0G,GACTA,EAAExG,iBACF,IAAM6pB,EAAa,IAAI1pB,SAASif,GAAWjU,SACrC2e,EAAc,IAAI3pB,SAASqG,EAAEtG,eACb,WAAlBke,EACFvqB,IACGmL,KAAK,oBAAqB,CACzB3R,KAAMw8B,EAAWl1B,IAAI,QACrB0C,MAAOwyB,EAAWl1B,IAAI,SACtB3D,MAAO64B,EAAWl1B,IAAI,SACtByC,SAAUyyB,EAAWl1B,IAAI,YACzBwC,OAAQ0yB,EAAWl1B,IAAI,UACvBuC,MAAO2yB,EAAWl1B,IAAI,SACtBsC,MAAO4yB,EAAWl1B,IAAI,SACtBqC,KAAM6yB,EAAWl1B,IAAI,QACrBgD,SACEqD,KAAKC,IAAI4uB,EAAWl1B,IAAI,YAAa,IACC,QAArCk1B,EAAWl1B,IAAI,kBAA8B,EAAI,GACpD4E,OAAQ,GACR6hB,SAAUsH,GACP3qB,KAAI,SAAA4E,GAAA,IAAAotB,EAAGrJ,EAAa/jB,EAAb+jB,cAAkBtY,EAAShQ,YAAAuE,EAAAO,IAAA,OAAA5E,YAAA,CACjCgoB,UAAWI,EAAcjtB,GACzBu2B,gBAAuC,QAAxBD,EAAErJ,EAAc9lB,gBAAQ,IAAAmvB,IAAI,IACxC3hB,MAEJ9T,OAAOuyB,IACVjvB,aAAckyB,EAAYn1B,IAAI,gBAC9BkD,KAAMic,QAAQgW,EAAYn1B,IAAI,SAC9BmJ,SAAUgsB,EAAYn1B,IAAI,aAAe,KACzC4G,SAAUP,KAAKC,IACb6uB,EAAYn1B,IAAI,gBAAkB,EAC9Bm1B,EAAYn1B,IAAI,YAChBqG,KAAKqtB,IAAIyB,EAAYn1B,IAAI,YAAa,KAC1C,GAEF2G,aAAcwuB,EAAYn1B,IAAI,gBAC9B+G,UAAWV,KAAKC,IACd6uB,EAAYn1B,IAAI,iBAAmB,EAC/Bm1B,EAAYn1B,IAAI,aAChBqG,KAAKqtB,IAAIyB,EAAYn1B,IAAI,aAAc,KAC3C,GAEF8G,cAAequB,EAAYn1B,IAAI,mBAEhCC,MAAK,WAEJpC,EAAMuP,QAAQC,KAAK,sBAEpB/M,OAAM,SAAUC,GAEfoL,KAAKC,KAAK,CACRC,KAAM,QACNjQ,MAAO,QACPe,KAAM4D,EAAML,SAASG,KAAK0L,QAC1BE,mBAAmB,IAClBhM,MAAK,eACRE,QAAQC,IAAIG,MAEbN,MAAK,eAIRf,IACGya,IAAI,cAADha,OAAe+pB,EAAc5qB,IAAM,CACrCpG,KAAMw8B,EAAWl1B,IAAI,QACrB0C,MAAOwyB,EAAWl1B,IAAI,SACtB3D,MAAO64B,EAAWl1B,IAAI,SACtByC,SAAUyyB,EAAWl1B,IAAI,YACzBwC,OAAQ0yB,EAAWl1B,IAAI,UACvBuC,MAAO2yB,EAAWl1B,IAAI,SACtBsC,MAAO4yB,EAAWl1B,IAAI,SACtBqC,KAAM6yB,EAAWl1B,IAAI,QACrBgD,SACEkyB,EAAWl1B,IAAI,aACuB,QAArCk1B,EAAWl1B,IAAI,kBAA8B,EAAI,GACpD4E,OAAQswB,EAAWl1B,IAAI,UACvBymB,SAAUsH,GACP3qB,KAAI,SAAA8E,GAAA,IAAAotB,EAAGvJ,EAAa7jB,EAAb6jB,cAAkBtY,EAAShQ,YAAAyE,EAAAqtB,IAAA,OAAA5xB,YAAA,CACjCgoB,UAAWI,EAAcjtB,GACzBu2B,gBAAuC,QAAxBC,EAAEvJ,EAAc9lB,gBAAQ,IAAAqvB,IAAI,IACxC7hB,MAEJ9T,OAAOuyB,IACVjvB,aAAckyB,EAAYn1B,IAAI,gBAC9BkD,KAAMic,QAAQgW,EAAYn1B,IAAI,SAC9BmJ,SAAUgsB,EAAYn1B,IAAI,aAAe,KACzC4G,SAAUP,KAAKC,IACb6uB,EAAYn1B,IAAI,gBAAkB,EAC9Bm1B,EAAYn1B,IAAI,YAChBqG,KAAKqtB,IAAIyB,EAAYn1B,IAAI,YAAa,KAC1C,GAEF2G,aAAcwuB,EAAYn1B,IAAI,gBAC9B+G,UAAWV,KAAKC,IACd6uB,EAAYn1B,IAAI,iBAAmB,EAC/Bm1B,EAAYn1B,IAAI,aAChBqG,KAAKqtB,IAAIyB,EAAYn1B,IAAI,aAAc,KAC3C,GAEF8G,cAAequB,EAAYn1B,IAAI,mBAEhCC,MAAK,WAEJpC,EAAMuP,QAAQC,KAAK,sBAEpB/M,OAAM,SAAUC,GAEfoL,KAAKC,KAAK,CACRC,KAAM,QACNjQ,MAAO,QACPe,KAAM4D,EAAML,SAASG,KAAK0L,QAC1BE,mBAAmB,IAClBhM,MAAK,eACRE,QAAQC,IAAIG,MAEbN,MAAK,gBAIVc,SAAA,CAEFE,eAAC6V,KAAK,CACJpW,GAAI,CACFgT,EAAG,OACH/I,QAAS,OACT2V,SAAU,OACVxS,eAAgB,iBAChB/M,SAAA,CAEFP,cAACiI,IAAU,CAACoB,QAAQ,KAAKnJ,GAAI,CAAEwD,UAAW,OAAQiL,SAAU,QAASpO,SAAC,oBAGtEE,eAACwH,IAAU,CAACoB,QAAQ,KAAKnJ,GAAI,CAAEwD,UAAW,OAAQiL,SAAU,QAASpO,SAAA,CAAC,aACzD,IACVgtB,GAAKvnB,QACJ,SAACkN,EAAG6M,GAAC,OAAK7M,EAAI6M,EAAEgM,cAAgByI,WAAWzU,EAAE4L,gBAC7C,GACE+F,GAAS1rB,QAAO,SAACkN,EAAG6M,GAAC,OAAK7M,EAAI6M,EAAEpa,QAAO,MAE7C3F,cAAC+L,KAAS,CACR7T,KAAK,eACL+U,KAAK,QACL/M,GAAI,CAAEwD,UAAW,OAAQiL,SAAU,QACnCvB,aAAc8b,EAAczmB,aAC5ByJ,MAAM,kBAERlM,cAACqM,KAAgB,CACfnM,GAAI,CACFwD,UAAW,OACXiL,SAAU,OACVxT,WAAY,WACZoP,EAAG,GAEL+B,QACEtM,cAAC+L,KAAS,CACR5C,KAAK,SACLjR,KAAK,WACLgU,MAAM,YACN4G,WAAY,CACVhN,IAAK,GACLotB,IAAK,GAEP9lB,aAAc8b,EAAcvgB,SAC5BsY,gBAAiB,CAAEC,QAAQ,GAC3BjV,WAAS,EACT/L,GAAI,CAAEqK,EAAG,qBAGb2B,MAAM,aAERlM,cAAC+L,KAAS,CACR7L,GAAI,CACFwD,UAAW,CAAC,MAAO,OACnBiL,SAAU,CAAC,MAAO,OAClBxT,WAAY,WACZoP,EAAG,GAEL2B,MAAM,WACN/C,KAAK,SACLjR,KAAK,WACL4a,WAAY,CACVogB,IAAK,GAEP9lB,aAAc8b,EAAc9iB,SAC5B6F,WAAS,IAEXxL,eAACyM,KAAM,CACLhN,GAAI,CACFwD,UAAW,CAAC,MAAO,OACnBiL,SAAU,CAAC,MAAO,OAClBxT,WAAY,WACZoP,EAAG,GAELrS,KAAK,eACLkV,aAAc8b,EAAc/iB,aAAa5F,SAAA,CAEzCP,cAACqN,KAAQ,CAACpU,MAAO,EAAEsH,SAAC,MACpBP,cAACqN,KAAQ,CAACpU,MAAO,EAAEsH,SAAC,WAEtBP,cAAC+L,KAAS,CACR7L,GAAI,CACFwD,UAAW,CAAC,MAAO,OACnBiL,SAAU,CAAC,MAAO,OAClBxT,WAAY,WACZ+O,GAAI,OACJuC,GAAI,GAENP,MAAM,YACN/C,KAAK,SACLjR,KAAK,YACL4a,WAAY,CACVogB,IAAK,GAEP9lB,aAAc8b,EAAc3iB,UAC5B0F,WAAS,IAEXxL,eAACyM,KAAM,CACLhN,GAAI,CACFwD,UAAW,CAAC,MAAO,OACnBiL,SAAU,CAAC,MAAO,OAClBxT,WAAY,WACZ+O,GAAI,OACJuC,GAAI,GAENvU,KAAK,gBACLkV,aAAc8b,EAAc5iB,cAAc/F,SAAA,CAE1CP,cAACqN,KAAQ,CAACpU,MAAO,EAAEsH,SAAC,MACpBP,cAACqN,KAAQ,CAACpU,MAAO,EAAEsH,SAAC,cAGxBP,cAACwM,KAAM,CACLtM,GAAI,CAAE8G,UAAW,QACjB8G,QAAS,SAACuD,GACRA,EAAExG,iBACFsf,GAAe,IACf5pB,SACH,aAGDP,cAACwM,KAAM,CAACtM,GAAI,CAAE+Z,MAAO,QAASjT,UAAW,QAAUmC,KAAK,SAAQ5I,SAAC,cAInEE,eAAC+Y,KAAM,CACLlZ,KAAM8pB,GACNzmB,SAAS,KACTsI,WAAS,EACT2U,WAAYC,aAAczgB,EAAM0gB,YAAYC,KAAK,OACjD3P,WAAY,CACV1G,UAAW,OACXC,SAAU,SAAC0G,GACTA,EAAExG,iBACF,IAAMhL,EAAO,IAAImL,SAASqG,EAAEtG,eAQ5B,GANAyhB,IAAoB,GACpBI,IAAoB,GACpBI,IAAoB,GACpBI,IAAoB,GAEpB/C,IAAW,GACY,QAAnBsD,GAA0B,CAC5B,GACEJ,GAAKhpB,MACH,SAACV,GAAI,OACHA,EAAKknB,cAAgBA,IACrBlnB,EAAK0nB,cAAcjtB,KAAOitB,GAAcjtB,MAS5C,YANA6M,KAAKC,KAAK,CACRC,KAAM,UACNjQ,MAAO,UACPe,KAAM,iCACNsP,mBAAmB,IAIvB+hB,GACED,GAAKpuB,OAAO,CACV4rB,eACAQ,iBACAQ,iBACAwH,sBAAuBz5B,KAAKM,UAC1B,CACE,oBACA,qCACA,wBACA,oBACA8b,QAAO,SAACrS,EAAMP,GAAK,OACnBqb,QAAQ9e,EAAKL,IAAI,kBAADL,OAAmBmE,SAGvCqoB,aAActa,EAAEtG,cAAczG,UAAUrL,MACxCmL,OAAQ+nB,WAGP,GAAuB,SAAnBwB,GAA2B,CACpC,IAAMsH,EAAU1H,GAAK3qB,KAAI,SAACiB,GACxB,OACEA,EAAKknB,cAAgBA,IACrBlnB,EAAK0nB,cAAcjtB,KAAOitB,GAAcjtB,GAEjC,CACLysB,eACAQ,iBACAQ,iBACAwH,sBAAuBz5B,KAAKM,UAC1B,CACE,oBACA,qCACA,wBACA,oBACA8b,QAAO,SAACrS,EAAMP,GAAK,OACnBqb,QAAQ9e,EAAKL,IAAI,kBAADL,OAAmBmE,SAGvCqoB,aAActa,EAAEtG,cAAczG,UAAUrL,MACxCmL,OAAQ+nB,IAEAtoB,KAEd2pB,GAAQyH,MAGZ10B,SAAA,CAEFP,cAACyZ,KAAW,CAAAlZ,SAAC,qBACbE,eAACiZ,KAAa,CAACxZ,GAAI,CAAE9D,UAAW,UAAWmE,SAAA,CACzCP,cAAC+L,KAAS,CACRG,MAAM,aACN/C,KAAK,SACLjR,KAAK,YAELe,MAAO0yB,GACPzrB,GAAI,CAAEpF,MAAO,SACbysB,WAAY,CACVC,UAAU,EACV0N,aAAcl1B,cAACm1B,KAAc,CAACvuB,SAAS,MAAKrG,SAAC,WAGjDE,eAACuJ,KAAG,CACF9J,GAAI,CACFiK,QAAS,OACThP,WAAY,SACZL,MAAO,QACPwB,OAAQ,sBACRkS,aAAc,MACd0X,GAAI,OACJjc,GAAI,OACJiJ,EAAG,WACH3S,SAAA,CAEFP,cAACiI,IAAU,CAACoB,QAAQ,OAAOnJ,GAAI,CAAE6G,SAAU,GAAIxG,SAAC,WAGhDP,cAAC4N,KAAU,CACTE,QAAS,SAACuD,GACRA,EAAExG,iBACFmhB,GAAiBnmB,KAAKC,IAAIimB,GAAgB,EAAG,KAC7CxrB,SAEFP,cAACohB,KAAU,MAEbphB,cAACiI,IAAU,CAACoB,QAAQ,OAAOnJ,GAAI,CAAE2f,GAAI,QAAStf,SAC3CwrB,KAEH/rB,cAAC4N,KAAU,CACTE,QAAS,SAACuD,GACRA,EAAExG,iBACFmhB,GAAiBnmB,KAAKqtB,IAAInH,GAAgB,EAAG,MAC7CxrB,SAEFP,cAACsf,KAAO,SAGZtf,cAACgK,KAAG,CACF9J,GAAI,CACF/E,WAAY,SACZmS,eAAgB,SAChB4Y,GAAI,OACJjc,GAAI,OACJiJ,EAAG,WACH3S,SAEFP,cAAC+L,KAAS,CACRG,MAAM,gBACNhU,KAAK,SACLe,MAAOkzB,GACPjsB,GAAI,CAAEpF,MAAO,IAAKmP,GAAI,OACtB4I,SA1sCgB,SAACxB,GAC3B+a,GAAiB/a,EAAEoF,OAAOxd,YA4sCpB+G,cAACqM,KAAgB,CACfnM,GAAI,CAAEiK,QAAS,QAAS/N,UAAW,OAAQZ,WAAY,SACvD8Q,QACEtM,cAACuM,KAAQ,CACPrU,KAAK,mBACL0a,QAAS2Z,GACT1Z,SAAU,SAACxB,GAAC,OAAKmb,GAAoBnb,EAAEoF,OAAO7D,UAC9C1S,GAAI,CAAE9D,UAAW,UAGrB8P,MAAM,sBAERlM,cAACqM,KAAgB,CACfnM,GAAI,CAAEiK,QAAS,QAAS/N,UAAW,OAAQZ,WAAY,SACvD8Q,QACEtM,cAACuM,KAAQ,CACPrU,KAAK,mBACL0a,QAAS+Z,GACT9Z,SAAU,SAACxB,GAAC,OAAKub,GAAoBvb,EAAEoF,OAAO7D,YAGlD1G,MAAM,uCAERlM,cAACqM,KAAgB,CACfnM,GAAI,CAAEiK,QAAS,QAAS/N,UAAW,OAAQZ,WAAY,SACvD8Q,QACEtM,cAACuM,KAAQ,CACPrU,KAAK,mBACL0a,QAASma,GACTla,SAAU,SAACxB,GAAC,OAAK2b,GAAoB3b,EAAEoF,OAAO7D,YAGlD1G,MAAM,0BAERlM,cAACqM,KAAgB,CACfnM,GAAI,CAAEiK,QAAS,QAAS/N,UAAW,OAAQZ,WAAY,SACvD8Q,QACEtM,cAACuM,KAAQ,CACPrU,KAAK,mBACL0a,QAASua,GACTta,SAAU,SAACxB,GAAC,OAAK+b,GAAoB/b,EAAEoF,OAAO7D,YAGlD1G,MAAM,wBAGVzL,eAACoZ,KAAa,CAAAtZ,SAAA,CACZP,cAACwM,KAAM,CACLsB,QAAS,SAACuD,GACRmb,IAAoB,GACpBI,IAAoB,GACpBI,IAAoB,GACpBI,IAAoB,GACpB/C,IAAW,IACX9pB,SACH,WAGDP,cAACwM,KAAM,CAACrD,KAAK,SAAQ5I,SAAC,aAG1BE,eAAC+Y,KAAM,CACLlZ,KAAMkqB,GACN7mB,SAAS,KACTsI,WAAS,EACT2U,WAAYC,aAAczgB,EAAM0gB,YAAYC,KAAK,OACjD3P,WAAY,CACV1G,UAAW,OACXC,SAAS,WAAD,IAAAyqB,EAAAtX,aAAAC,KAAAC,MAAE,SAAAC,EAAO5M,GAAC,IAAAxR,EAAAsoB,EAAAhK,EAAAze,EAAA21B,EAAAC,EAAAC,EAAAN,EAAA,OAAAlX,KAAA5c,MAAA,SAAAid,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,OAsB2B,GArB3CjN,EAAExG,iBAEFwe,EAAgB,GAChBC,EAAmB,QACnBC,EAAe,WACfC,EAAe,YACfC,EAAY,IACZC,EAAa,KACbC,EAAY,KACZC,EAAgB,IAChBC,EAAqB,GACrBC,EAAmB,IACnBE,GAAa,IAEbwC,IAAoB,GACpBI,IAAoB,GACpBI,IAAoB,GACpBI,IAAoB,GAEpB3C,IAAe,GAET5qB,EAAO,IAAImL,SAASqG,EAAEtG,eAEL,QAAnB4iB,GAAwB,CAAAvP,EAAAE,KAAA,YAEvBzZ,KACD0oB,GAAKhpB,MACH,SAACV,GAAI,MACkB,SAArBA,EAAKknB,aACLlnB,EAAK0nB,cAAcjtB,KAAOitB,GAAcjtB,KACvCuF,EAAKgB,cACT,CAAAuZ,EAAAE,KAAA,SAOE,OALHnT,KAAKC,KAAK,CACRC,KAAM,UACNjQ,MAAO,UACPe,KAAM,iCACNsP,mBAAmB,IAClB2S,EAAAoX,OAAA,kBAIiB,GAAlBrN,EAAe,IACftoB,EAAKL,IAAI,kBAAmBK,EAAKL,IAAI,gBAAgBtH,KAAI,CAAAkmB,EAAAE,KAAA,SAEP,OAD9CH,EAAa,IAAInT,UACZuT,OAAO,OAAQ1e,EAAKL,IAAI,iBAAiB4e,EAAAC,KAAA,GAAAD,EAAAE,KAAA,GAE3B5f,IAAMmL,KAAK,UAAWsU,EAAY,CACvDlV,QAAS,CACP,eAAgB,uCAEjB,KAAD,GAJIvJ,EAAQ0e,EAAAI,KAKd2J,EAAezoB,EAASG,KAAK4e,IAAIL,EAAAE,KAAA,iBAAAF,EAAAC,KAAA,GAAAD,EAAAM,GAAAN,EAAA,kBAIrCoP,GACED,GAAKpuB,OAAO,CACV4rB,eACAQ,iBACAQ,iBACAwH,sBAAuBz5B,KAAKM,UAC1B,CACE,oBACA,qCACA,wBACA,oBACA8b,QAAO,SAACrS,EAAMP,GAAK,OACnBqb,QAAQ9e,EAAKL,IAAI,kBAADL,OAAmBmE,SAGvCqoB,aAAchN,QAAQ9e,EAAKL,IAAI,eAC3Bof,OAAO/e,EAAKL,IAAI,mBAChBof,OAAO/e,EAAKL,IAAI,iBACpBqF,WAAY8Z,QAAQ9e,EAAKL,IAAI,iBAAkB,EAC/CsF,YAAajF,EAAKL,IAAI,gBAAkB,GACxC0F,SAAUrF,EAAKL,IAAI,aAAe,GAClCuF,UAAWlF,EAAKL,IAAI,cAAgB,EACpCwF,SAAUnF,EAAKL,IAAI,aAAe,EAClCyF,aAAcpF,EAAKL,IAAI,iBAAmB,EAC1C2F,kBAAmBtF,EAAKL,IAAI,sBAAwB,EACpD4F,gBAAiBvF,EAAKL,IAAI,oBAAsB,GAChD6F,aAAcxF,EAAKL,IAAI,iBAAmB,EAC1C+F,YAAa1F,EAAKL,IAAI,gBAAkB,GACxC8F,gBAAiBA,GAAmB,GACpClB,OAAQvE,EAAKL,IAAI,WAAa,GAC9B2oB,aAAcA,KAEhB/J,EAAAE,KAAA,oBAC0B,SAAnBqP,GAAyB,CAAAvP,EAAAE,KAAA,SACL,GAAzB6J,EAAe4B,IACflqB,EAAKL,IAAI,kBAAmBK,EAAKL,IAAI,gBAAgBtH,KAAI,CAAAkmB,EAAAE,KAAA,SAEP,OAD9CH,EAAa,IAAInT,UACZuT,OAAO,OAAQ1e,EAAKL,IAAI,iBAAiB4e,EAAAC,KAAA,GAAAD,EAAAE,KAAA,GAE3B5f,IAAMmL,KAAK,UAAWsU,EAAY,CACvDlV,QAAS,CACP,eAAgB,uCAEjB,KAAD,GAJIvJ,EAAQ0e,EAAAI,KAKd2J,EAAezoB,EAASG,KAAK4e,IAAIL,EAAAE,KAAA,iBAAAF,EAAAC,KAAA,GAAAD,EAAAqX,GAAArX,EAAA,kBAG/B6W,EAAU1H,GAAK3qB,KAAI,SAACiB,GACxB,MACuB,SAArBA,EAAKknB,aACLlnB,EAAK0nB,cAAcjtB,KAAOitB,GAAcjtB,GAEjC,CACLysB,eACAQ,iBACAQ,iBACAwH,sBAAuBz5B,KAAKM,UAC1B,CACE,oBACA,qCACA,wBACA,oBACA8b,QAAO,SAACrS,EAAMP,GAAK,OACnBqb,QAAQ9e,EAAKL,IAAI,kBAADL,OAAmBmE,SAGvCqoB,aAAchN,QAAQ9e,EAAKL,IAAI,eAC3Bof,OAAO/e,EAAKL,IAAI,mBAChBof,OAAO/e,EAAKL,IAAI,iBACpBqF,WAAY8Z,QAAQ9e,EAAKL,IAAI,iBAAkB,EAC/CsF,YAAajF,EAAKL,IAAI,gBAAkB,GACxC0F,SAAUrF,EAAKL,IAAI,aAAe,GAClCuF,UAAWlF,EAAKL,IAAI,cAAgB,EACpCwF,SAAUnF,EAAKL,IAAI,aAAe,EAClCyF,aAAcpF,EAAKL,IAAI,iBAAmB,EAC1C2F,kBAAmBtF,EAAKL,IAAI,sBAAwB,EACpD4F,gBAAiBvF,EAAKL,IAAI,oBAAsB,GAChD6F,aAAcxF,EAAKL,IAAI,iBAAmB,EAC1C+F,YAAa1F,EAAKL,IAAI,gBAAkB,GACxC8F,gBAAiBA,GAAmB,GACpClB,OAAQvE,EAAKL,IAAI,WAAa,GAC9B2oB,aAAcA,GAENtkB,KAEd2pB,GAAQyH,GAAS,yBAAA7W,EAAAS,UAAAZ,EAAA,4BAEpB,gBAAAa,GAAA,OAAAsW,EAAArW,MAAA,KAAAC,YAhJQ,IAiJTze,SAAA,CAEFP,cAACyZ,KAAW,CAAAlZ,SAAC,qBACbE,eAACiZ,KAAa,CAACxZ,GAAI,CAAE9D,UAAW,UAAWmE,SAAA,CACzCP,cAAC+L,KAAS,CACRG,MAAM,iBACN/C,KAAK,SACLjR,KAAK,eACLe,MAAO0yB,GACPzrB,GAAI,CAAEpF,MAAO,IAAK46B,WAAY7wB,GAAa,SAAW,WACtD0iB,WAAY,CACVC,UAAU,EACV0N,aAAcl1B,cAACm1B,KAAc,CAACvuB,SAAS,MAAKrG,SAAC,WAGjDP,cAAC4Q,KAAO,CAAC1Q,GAAI,CAAEgmB,GAAI,UACnBzlB,eAACuJ,KAAG,CAACG,QAAQ,OAAO2V,SAAS,OAAOxS,eAAe,gBAAe/M,SAAA,CAChEP,cAACqM,KAAgB,CACfC,QACEtM,cAACuM,KAAQ,CACPrU,KAAK,aACL0a,QAAS/N,GACTgO,SAAU,SAACxB,GACTuZ,GAAcvZ,EAAEtG,cAAc6H,YAIpC1G,MAAM,iBACNhM,GAAI,CAAEwD,UAAW,OAAQiL,SAAU,UAEpC,CACC,CACEzW,KAAM,cACNgU,MAAO,WACP/C,KAAM,eACNlQ,MAAO6L,EACP+N,SAAU,SAACxB,EAAGskB,GACZtkB,EAAExG,iBACF2e,EAAemM,IAEjB/a,QAASoO,GACTluB,MAAO,OAET,CACE5C,KAAM,WACNgU,MAAO,QACP/C,KAAM,OACNrO,MAAO,MACP7B,MAAOiM,EACP2N,SAAU,SAACxB,GACTA,EAAExG,iBACF4e,EAAYpY,EAAEoF,OAAOxd,SAGzB,CACEf,KAAM,YACNgU,MAAO,SACP/C,KAAM,eACNysB,OAAQ,KACR9iB,WAAY,CAAEogB,IAAK,GACnBp4B,MAAO,MACP7B,MAAO8L,EACP8N,SAAU,SAACxB,GACTA,EAAExG,iBACF6e,EAAarY,EAAEoF,OAAOxd,SAG1B,CACEf,KAAM,WACNgU,MAAO,QACP/C,KAAM,eACNysB,OAAQ,KACR9iB,WAAY,CAAEogB,IAAK,GACnBp4B,MAAO,MACP7B,MAAO+L,EACP6N,SAAU,SAACxB,GACTA,EAAExG,iBACF8e,EAAYtY,EAAEoF,OAAOxd,SAGzB,CACEf,KAAM,eACNgU,MAAO,YACP/C,KAAM,eACNysB,OAAQ,KACR9iB,WAAY,CAAEogB,IAAK,GACnBp4B,MAAO,MACP7B,MAAOgM,EACP4N,SAAU,SAACxB,GACTA,EAAExG,iBACF+e,EAAgBvY,EAAEoF,OAAOxd,SAG7B,CACEf,KAAM,oBACNgU,MAAO,kBACP/C,KAAM,SACNyR,QAAS,CAAC,EAAG,EAAG,EAAG,EAAG,GACtB9f,MAAO,MACP7B,MAAOkM,EACP0N,SAAU,SAACxB,GACTA,EAAExG,iBACFgf,EAAqBxY,EAAEoF,OAAOxd,SAGlC,CACEf,KAAM,kBACNgU,MAAO,gBACP/C,KAAM,SACN2J,WAAY,CAAEogB,IAAK,GACnBp4B,MAAO,MACP7B,MAAOmM,EACPyN,SAAU,SAACxB,GACTA,EAAExG,iBACFif,EAAmBzY,EAAEoF,OAAOxd,SAGhC,CACEf,KAAM,eACNgU,MAAO,kBACP/C,KAAM,SACNlQ,MAAOoM,EACPwN,SAAU,SAACxB,GACTA,EAAExG,iBACFwe,EAAgBhY,EAAEoF,OAAOxd,OACF,IAAnBoY,EAAEoF,OAAOxd,MAAaqwB,EAAmB,QACjB,IAAnBjY,EAAEoF,OAAOxd,MAChBqwB,EAAmB,cACO,IAAnBjY,EAAEoF,OAAOxd,OAChBqwB,EAAmB,sBAEvB1O,QAAS,CAAC,EAAG,EAAG,EAAG,GACnB9f,MAAO,OAET,CACE5C,KAAM,cACNgU,MAAO,gBACP/C,KAAM,SACNlQ,MAAOsM,EACPsN,SAAU,SAACxB,GACTA,EAAExG,iBACF0e,EAAelY,EAAEoF,OAAOxd,QAE1B2hB,QAAS,CAAC,UAAW,eACrB9f,MAAO,OAET,CACE5C,KAAM,kBACNgU,MAAO,gBACP/C,KAAM,SACNlQ,MAAOqM,EACPuN,SAAU,SAACxB,GACTA,EAAExG,iBACFye,EAAmBjY,EAAEoF,OAAOxd,QAE9B2hB,QACmB,IAAjBvV,EACI,CAAC,OAAQ,QAAS,UAClB,CACE,OACA,QACA,SACA,aACA,qBAER2vB,SAA2B,IAAjB3vB,EACVwwB,QAAS,OACT/6B,MAAO,OAET,CACE5C,KAAM,SACNgU,MAAO,gBACP/C,KAAM,OACNrO,MAAO,OACP7B,MAAOkzB,GACPtZ,SAAU,SAACxB,GACTA,EAAExG,iBACFuhB,GAAiB/a,EAAEoF,OAAOxd,SAG9B,CACEf,KAAM,eACNgU,MAAO,0BACP/C,KAAM,OACN2J,WAAY,CACVyM,OAAQ,oCAEV0B,gBAAiB,CAAEC,QAAQ,GAC3BpmB,MAAO,SAET8H,KAAI,SAAAgF,EAAiCtE,GAAW,IAAzC6F,EAAIvB,EAAJuB,KAAMrO,EAAK8M,EAAL9M,MAAUkmB,EAAU/d,YAAA2E,EAAAkuB,IACjC,GAAa,iBAAT3sB,EAAyB,CAC3B,IAAQjR,EAAkC8oB,EAAlC9oB,KAAMgU,EAA4B8U,EAA5B9U,MAAU0V,EAAa3e,YAAK+d,EAAU+U,IACpD,OACE/1B,cAACigB,KAAY9c,YAAA,CAEXjD,GAAI,CAAEwD,UAAW5I,EAAO6T,SAAU7T,GAClColB,YAAa,SAACC,GAAM,OAClBngB,cAAC+L,KAAS5I,wBAAA,GAAKgd,GAAM,IAAEjoB,KAAMA,EAAMgU,MAAOA,MAE5C8oB,UAAWnwB,IACP+c,GANCte,GASJ,GAAa,iBAAT6F,EAAyB,CAClC,IAAQysB,EAA2B5U,EAA3B4U,OAAWI,EAAW/yB,YAAK+d,EAAUiV,IAC7C,OACEj2B,cAACqM,KAAgB,CAEfnM,GAAI,CACFwD,UAAW5I,EACX6T,SAAU7T,EACVK,WAAY,WACZ8O,GAAI,GAENqC,QACEtM,cAAC+L,KAAS5I,YAAA,CACR8I,WAAS,EACT/L,GAAI,CAAEqK,EAAG,gBACTpB,KAAK,SACL6rB,UAAWnwB,IACPmxB,IAGR9pB,MAAO0pB,GAhBFtyB,GAmBJ,GAAa,WAAT6F,EAAmB,CAC5B,IAAQjR,EAA0C8oB,EAA1C9oB,KAAMgU,EAAoC8U,EAApC9U,MAAO0O,EAA6BoG,EAA7BpG,QAAYsb,EAAYjzB,YAAK+d,EAAUmV,IAC5D,MAAa,oBAATj+B,EAC2B,MAAzBg+B,EAAaL,QAEbp1B,eAACsM,KAAW,CAEV7M,GAAI,CAAEwD,UAAW5I,EAAO6T,SAAU7T,GAAQyF,SAAA,CAE1CP,cAACgN,KAAU,CAAC1O,GAAE,YAAAa,OAAcjH,EAAI,iBAAgBqI,SAC7C2L,IAEHlM,cAACkN,KAAM/J,wBAAA,CACLgK,QAAO,YAAAhO,OAAcjH,EAAI,iBACzBoG,GAAE,YAAAa,OAAcjH,EAAI,WACpBA,KAAMA,EACNgU,MAAOA,EACPe,KAAK,QACL+nB,UAAWnwB,IACPqxB,GAAY,IAAA31B,SAEfqa,EAAQhY,KAAI,SAACwzB,EAAcC,GAAiB,OAC3Cr2B,cAACqN,KAAQ,CAEPpU,MAAOm9B,EAAa71B,SAEnB61B,GAHIC,WAjBN/yB,GA0BC,GAGV7C,eAACsM,KAAW,CAEV7M,GAAI,CAAEwD,UAAW5I,EAAO6T,SAAU7T,GAAQyF,SAAA,CAE1CP,cAACgN,KAAU,CAAC1O,GAAE,YAAAa,OAAcjH,EAAI,iBAAgBqI,SAC7C2L,IAEHlM,cAACkN,KAAM/J,wBAAA,CACLgK,QAAO,YAAAhO,OAAcjH,EAAI,iBACzBoG,GAAE,YAAAa,OAAcjH,EAAI,WACpBA,KAAMA,EACNgU,MAAOA,EACPe,KAAK,QACL+nB,UAAWnwB,IACPqxB,GAAY,IAAA31B,SAEfqa,EAAQhY,KAAI,SAACwzB,EAAcC,GAAiB,OAC3Cr2B,cAACqN,KAAQ,CAEPpU,MAAOm9B,EAAa71B,SAEnB61B,GAHIC,WAjBN/yB,GA2BX,OACEtD,cAAC+L,KAAS5I,YAAA,CAERgG,KAAMA,EACNjJ,GAAI,CAAEwD,UAAW5I,EAAO6T,SAAU7T,GAClCk6B,UAAWnwB,IACPmc,GAJC1d,MAQbtD,cAAC+L,KAAS,CACRG,MAAM,mBACN/C,KAAK,SACLjR,KAAK,iBACLkV,aAAcue,GACdzrB,GAAI,CAAEwD,UAAW,IAAKiL,SAAU,IAAK1E,GAAI,QACzC+qB,UAAWnwB,GACX0iB,WAAY,CACV2N,aACEl1B,cAACm1B,KAAc,CAACvuB,SAAS,MAAKrG,SAAC,cAKvCP,cAAC4Q,KAAO,CAAC1Q,GAAI,CAAEgmB,GAAI,UACnBzlB,eAACuJ,KAAG,CACF9J,GAAI,CACFiK,QAAS,OACThP,WAAY,SACZL,MAAO,QACPwB,OAAQ,sBACRkS,aAAc,MACdtE,GAAI,OACJD,GAAI,OACJiJ,EAAG,WACH3S,SAAA,CAEFP,cAACiI,IAAU,CAACoB,QAAQ,OAAOnJ,GAAI,CAAE6G,SAAU,GAAIxG,SAAC,WAGhDP,cAAC4N,KAAU,CACTE,QAAS,SAACuD,GACRA,EAAExG,iBACFmhB,GAAiBnmB,KAAKC,IAAIimB,GAAgB,EAAG,KAC7CxrB,SAEFP,cAACohB,KAAU,MAEbphB,cAACiI,IAAU,CAACoB,QAAQ,OAAOY,GAAG,OAAM1J,SACjCwrB,KAEH/rB,cAAC4N,KAAU,CACTE,QAAS,SAACuD,GACRA,EAAExG,iBACFmhB,GAAiBnmB,KAAKqtB,IAAInH,GAAgB,EAAG,MAC7CxrB,SAEFP,cAACsf,KAAO,SAGZtf,cAACqM,KAAgB,CACfnM,GAAI,CAAEiK,QAAS,QAAS/N,UAAW,OAAQZ,WAAY,SACvD8Q,QACEtM,cAACuM,KAAQ,CACPrU,KAAK,mBACL0a,QAAS2Z,GACT1Z,SAAU,SAACxB,GAAC,OAAKmb,GAAoBnb,EAAEoF,OAAO7D,UAC9C1S,GAAI,CAAE9D,UAAW,UAGrB8P,MAAM,sBAERlM,cAACqM,KAAgB,CACfnM,GAAI,CAAEiK,QAAS,QAAS/N,UAAW,OAAQZ,WAAY,SACvD8Q,QACEtM,cAACuM,KAAQ,CACPrU,KAAK,mBACL0a,QAAS+Z,GACT9Z,SAAU,SAACxB,GAAC,OAAKub,GAAoBvb,EAAEoF,OAAO7D,YAGlD1G,MAAM,uCAERlM,cAACqM,KAAgB,CACfnM,GAAI,CAAEiK,QAAS,QAAS/N,UAAW,OAAQZ,WAAY,SACvD8Q,QACEtM,cAACuM,KAAQ,CACPrU,KAAK,mBACL0a,QAASma,GACTla,SAAU,SAACxB,GAAC,OAAK2b,GAAoB3b,EAAEoF,OAAO7D,YAGlD1G,MAAM,0BAERlM,cAACqM,KAAgB,CACfnM,GAAI,CAAEiK,QAAS,QAAS/N,UAAW,OAAQZ,WAAY,SACvD8Q,QACEtM,cAACuM,KAAQ,CACPrU,KAAK,mBACL0a,QAASua,GACTta,SAAU,SAACxB,GAAC,OAAK+b,GAAoB/b,EAAEoF,OAAO7D,YAGlD1G,MAAM,wBAGVzL,eAACoZ,KAAa,CAAAtZ,SAAA,CACZP,cAACwM,KAAM,CACLsB,QAAS,SAACuD,GACRA,EAAExG,iBACFwe,EAAgB,GAChBC,EAAmB,QACnBC,EAAe,WACfC,EAAe,YACfC,EAAY,IACZC,EAAa,KACbC,EAAY,KACZC,EAAgB,IAChBC,EAAqB,GACrBC,EAAmB,IACnBE,GAAa,IAEbwC,IAAoB,GACpBI,IAAoB,GACpBI,IAAoB,GACpBI,IAAoB,GAEpB3C,IAAe,IACflqB,SACH,WAGDP,cAACwM,KAAM,CAACrD,KAAK,SAAQ5I,SAAC,mBCjxEjB+1B,GAnBA,SAACj5B,GACd,IAAAC,EAA0BC,mBAAS,IAAGC,EAAAC,YAAAH,EAAA,GAA/B4E,EAAK1E,EAAA,GAAE4lB,EAAQ5lB,EAAA,GACtB,OACEwC,cAACu2B,GAAMpzB,YAAA,CACL8lB,cAAc,SACdC,cAAe,CACbhnB,QACAkhB,WACA1gB,MAAM,EACNyD,aAAc,EACdG,cAAe,EACfqC,SAAU,GAEZwgB,YAAa,IACT9rB,K,8NC8DKm5B,GA3EF,SAACn5B,GACZ,IACQiL,GADSmuB,cACch+B,OAAS,IAAhC6P,UACRzF,EAUIyF,GAAa,GATfxK,EAAW+E,EAAX/E,YACAC,EAAU8E,EAAV9E,WACAsK,EAAgBxF,EAAhBwF,iBACArK,EAAe6E,EAAf7E,gBACAoK,EAAmBvF,EAAnBuF,oBAIGuuB,GAHG9zB,EAANhF,OACQgF,EAAR6zB,SACM7zB,EAANuB,OACSnB,YAAAJ,EAAAK,KAGX5F,EAA0BC,mBAASo5B,EAAOz0B,OAAM1E,EAAAC,YAAAH,EAAA,GAAzC4E,EAAK1E,EAAA,GAAE4lB,EAAQ5lB,EAAA,GAEtB,OAAO8K,EACLtI,cAACu2B,GAAMpzB,YAAA,CACL8lB,cAAc,OACdC,cAAa/lB,wBAAA,GACRwzB,GAAM,IACTz0B,QACAkhB,aAEF+F,YAAarrB,EAAY8E,KAAI,SAAAS,GAAA,IAAGuF,EAAgBvF,EAAhBuF,iBAA8B,MAAQ,CACpEmiB,YAAa,QACbQ,cAF4DtoB,YAAAI,EAAAI,IAG5DW,OAAQwE,EAAiBxE,OACzBunB,aAAc/iB,EAAiBtE,UAC/BynB,cAAenjB,EAAiB7E,IAChCwvB,sBAAuB3qB,EAAiBvE,mBAEvClF,OACCkJ,EAAiBzF,KAAI,SAACkG,GACpB,IACErE,EAKEqE,EALFrE,QACAH,EAIEwE,EAJFxE,UACAP,EAGE+E,EAHF/E,IACAM,EAEEyE,EAFFzE,eACGuyB,EAAY3zB,YACb6F,EAAerC,IAEbjC,EAAQzG,EAAWwG,MAAK,SAASsyB,GACrC,OAAOA,EAAIv4B,KAAOmG,KAGpB,OAAAtB,YAAA,CACE4nB,YAAa,OACbQ,cAAe/mB,EACfmnB,aAAcrnB,EACdynB,cAAehoB,EACfwvB,sBAAuBlvB,GACpBuyB,OAIRz3B,OACCnB,EAAgB4E,KAAI,SAAA4D,GAAA,IAAGqC,EAAoBrC,EAApBqC,qBAAkC,MAAQ,CAC/DkiB,YAAa,YACbQ,cAFuDtoB,YAAAuD,EAAAG,IAGvDvC,OAAQyE,EAAqBzE,OAC7BunB,aAAc9iB,EAAqBvE,UACnCynB,cAAeljB,EAAqB9E,IACpCwvB,sBAAuB1qB,EAAqBxE,oBAGlD+kB,gBAAmBhhB,GACf/K,IAGN2C,cAAC82B,IAAQ,CAACnqB,GAAG,qBC1CjB,IAGM8tB,GAAY,CAChB,CACEh1B,SAAU,QACVrD,QAAS,CACP,CAAEuK,GAAI,oBAAqBtB,KAAMrL,cAAC06B,KAAc,IAAKxuB,MAAO,WAGhE,CACEzG,SAAU,OACVrD,QAAS,CACP,CAAEuK,GAAI,mBAAoBtB,KAAMrL,cAAC06B,KAAc,IAAKxuB,MAAO,WAG/D,CACEzG,SAAU,YACVrD,QAAS,CACP,CACEuK,GAAI,wBACJtB,KAAMrL,cAAC06B,KAAc,IACrBxuB,MAAO,WAIb,CACEzG,SAAU,QACVrD,QAAS,CACP,CAAEuK,GAAI,cAAetB,KAAMrL,cAAC26B,KAAc,IAAKzuB,MAAO,SACtD,CAAES,GAAI,kBAAmBtB,KAAMrL,cAAC26B,KAAc,IAAKzuB,MAAO,gBAuFjD9O,gBA1Hf,SAAyB3E,GAEvB,MAAO,CAAET,KADQS,EAATT,QAyH8B,CAAEa,WAA3BuE,EAlFE,SAACC,GAChB,IAAAC,EAAoCC,oBAAS,GAAMC,EAAAC,YAAAH,EAAA,GAA5CyT,EAAUvT,EAAA,GAAEs9B,EAAat9B,EAAA,GACxBiT,EAASsqB,cAATtqB,KAYF5B,EAAe,SAACwC,GACpBA,EAAExG,iBACFM,KAAKC,KAAK,CACRhQ,MAAO,gBACPe,KAAM,4DACNkP,KAAM,WACNqN,kBAAkB,EAClBC,kBAAmB,eACnBC,iBAAkB,iBAClBnN,mBAAmB,IAClBhM,MAAK,SAACoZ,GACHA,EAAOC,aACTzb,EAAMxE,aAKZ,OACE4H,eAAAsJ,WAAA,CAAAxJ,SAAA,CACEP,cAACg7B,GAAS,CACRztB,aApEa,GAqEbC,mBA/BmB,SAAC6D,GACxBA,EAAExG,iBACFiwB,GAAc,IA8BV1/B,MAAM,aAERqF,eAACuJ,KAAG,CACFtG,UAAS,eAAAvE,OAzEI,GAyEyB,OACtCuO,UAAS,eAAAvO,OA1EI,GA0EyB,OACtCyH,SAAS,WACTuD,QAAQ,OACR9H,gBAAgB,UAAS9B,SAAA,CAEzBP,cAACi7B,GAAgB,CACflqB,WAAYA,EACZD,kBAtCkB,SAACO,GACzBA,EAAExG,iBACFiwB,GAAc,IAqCRxsB,YAnFU,IAoFVO,aAAcA,EACdC,MAAO2rB,KAETz6B,cAAC4O,GAAY,CACXN,YAxFU,IAyFVO,aAAcA,EACdC,MAAO2rB,KAETz6B,cAACgK,KAAG,CACFU,UAAU,OACVxK,GAAI,CACF6G,SAAU,EACVmM,EAAG,EACHpY,MAAO,CAAEgS,GAAG,eAAD3N,OAjGH,IAiG+B,SACvCoB,SAEFE,eAACy6B,IAAM,CAAA36B,SAAA,CACLP,cAACm7B,IAAK,CAAC1qB,KAAI,GAAAtR,OAAKsR,EAAI,gBAAgB/F,UAAWmtB,KAC/C73B,cAACm7B,IAAK,CAAC1qB,KAAI,GAAAtR,OAAKsR,EAAI,eAAe/F,UAAWutB,KAC9Cj4B,cAACm7B,IAAK,CAAC1qB,KAAI,GAAAtR,OAAKsR,EAAI,oBAAoB/F,UAAW2tB,KACnDr4B,cAACm7B,IAAK,CAAC1qB,KAAI,GAAAtR,OAAKsR,EAAI,UAAUC,OAAK,EAAChG,UAAW2wB,KAC/Cr7B,cAACm7B,IAAK,CAAC1qB,KAAI,GAAAtR,OAAKsR,EAAI,iBAAiBC,OAAK,EAAChG,UAAW4wB,KACtDt7B,cAACm7B,IAAK,CAAC1qB,KAAI,GAAAtR,OAAKsR,EAAI,eAAeC,OAAK,EAAChG,UAAW6wB,KACpDv7B,cAACm7B,IAAK,CAAC1qB,KAAI,GAAAtR,OAAKsR,EAAI,cAAcC,OAAK,EAAChG,UAAW8wB,KACnDx7B,cAACm7B,IAAK,CAAC1qB,KAAI,GAAAtR,OAAKsR,EAAI,qBAAqBC,OAAK,EAAChG,UAAW+wB,KAC1Dz7B,cAACm7B,IAAK,CAAC1qB,KAAI,GAAAtR,OAAKsR,EAAI,mBAAmBC,OAAK,EAAChG,UAAWgxB,mB,wBChHrDt+B,gBAJS,SAAC3E,GAAK,MAAM,CAClCT,KAAMS,EAAMT,QAGCoF,EAzBI,SAAHmC,GAAA,IAAiB48B,EAAS58B,EAApBmL,UAAsB1S,EAAIuH,EAAJvH,KAASokC,EAAIn5B,YAAA1D,EAAA2D,IAAA,OACvDlD,cAACm7B,IAAKh4B,wBAAA,GACAi5B,GAAI,IACRC,OAAQ,SAACh/B,GAAK,OACQ,IAApBrF,EAAKI,YACc,IAAjBJ,EAAKK,QACH2H,cAACm8B,EAASh5B,YAAA,GAAK9F,IAEf2C,cAAC82B,IAAQ,CAACnqB,GAAG,gBAGf3M,cAAC82B,IAAQ,CAACnqB,GAAG,mB,wBCYNvP,gBAJS,SAAC3E,GAAK,MAAM,CAClCT,KAAMS,EAAMT,QAGCoF,EAvBI,SAAHmC,GAAA,IAAiB48B,EAAS58B,EAApBmL,UAAsB1S,EAAIuH,EAAJvH,KAASokC,EAAIn5B,YAAA1D,EAAA2D,IAAA,OACvDlD,cAACm7B,IAAKh4B,wBAAA,GACAi5B,GAAI,IACRC,OAAQ,SAACh/B,GAAK,OACQ,IAApBrF,EAAKI,WACH4H,cAACm8B,EAASh5B,YAAA,GAAK9F,KACI,IAAjBrF,EAAKK,QACP2H,cAAC82B,IAAQ,CAACnqB,GAAG,iBAEb3M,cAAC82B,IAAQ,CAACnqB,GAAG,uB,wBCgBNvP,gBAJS,SAAC3E,GAAK,MAAM,CAClCT,KAAMS,EAAMT,QAGCoF,EAzBM,SAAHmC,GAAA,IAAiB48B,EAAS58B,EAApBmL,UAAsB1S,EAAIuH,EAAJvH,KAASokC,EAAIn5B,YAAA1D,EAAA2D,IAAA,OACzDlD,cAACm7B,IAAKh4B,wBAAA,GACAi5B,GAAI,IACRC,OAAQ,SAACh/B,GAAK,OACQ,IAApBrF,EAAKI,YACc,IAAjBJ,EAAKK,QACH2H,cAACm8B,EAASh5B,YAAA,GAAK9F,IAEf2C,cAAC82B,IAAQ,CAACnqB,GAAG,iBAGf3M,cAAC82B,IAAQ,CAACnqB,GAAG,mBCNNvP,gBAJS,SAAC3E,GAAK,MAAM,CAClCT,KAAMS,EAAMT,QAGCoF,EAAyB,WACtC,IAAAk/B,EAAoC/9B,cAA5BwsB,EAAWuR,EAAXvR,YAAawR,EAAUD,EAAVC,WACrBj/B,EAAwBC,mBAAS,IAAGC,EAAAC,YAAAH,EAAA,GAA7BsqB,EAAIpqB,EAAA,GAAEg/B,EAAOh/B,EAAA,GAkCpB,OAjCAgB,qBAAU,WACHopB,GACHlpB,IACGmL,KAAK,wBAAyB,CAC7BkhB,cACAwR,aACAE,UAAW,KAEZh9B,MAAK,SAACC,GAEAA,EAASG,MACZsL,KAAKC,KAAK,CACRC,KAAM,OACNjQ,MAAO,QACPe,KACE,wEACFsP,mBAAmB,IAGvB+wB,EAAQ98B,EAASG,KAAK4e,KAClB/e,EAASG,KAAK4e,MAAKie,OAAOpD,SAAS9vB,KAAO9J,EAASG,KAAK4e,QAE7D3e,OAAM,SAAUC,GAEfoL,KAAKC,KAAK,CACRC,KAAM,QACNjQ,MAAO,QACPe,KAAM4D,EAAML,SAASG,KAAK0L,QAC1BE,mBAAmB,SAI1B,CAACmc,IACG5nB,cAAA+J,WAAA,OC3BL/P,EAAMK,WAAWrC,KAAKI,aACxBsG,IAAMsK,SAASC,QAAQC,OAAsB,cAAC,UAAA/J,OAC5CnF,EAAMK,WAAWrC,KAAKM,QAG1B,IAAM8H,GAAQu8B,YAAY,CACxBC,WAAY,CACVC,UAAW,CACTC,SAAU,CACR,CACEz/B,MAAO,CAAEvB,MAAO,QAChBoF,MAAO,CACLkN,KAAM,CAAEtS,MAAM,cAIpBihC,aAAc,CACZ1zB,QAAS,YAEX2zB,eAAgB,CACd5uB,KAAM,CACJ9S,cAAe,UAIrB2hC,aAAc,CACZF,aAAc,CACZ1zB,QAAS,WACTpN,OAAQ,QACRgR,KAAM,UAGViwB,UAAW,CACTH,aAAc,CACZ9gC,OAAQ,QACRgR,KAAM,UAGVkwB,eAAgB,CACdJ,aAAc,CACZ9gC,OAAQ,aAOhByC,IAAMsK,SAASo0B,QAAU,gCAEzB1+B,IAAM2+B,aAAaC,QAAQC,KACzB,SAAUC,GAER,OADAxjC,EAAM+O,SAAS,CAAEI,KAAM,yBAChBq0B,KAET,SAAUz9B,GACR,OAAO2J,QAAQE,OAAO7J,MAK1BrB,IAAM2+B,aAAa39B,SAAS69B,KAC1B,SAAU79B,GAER,OADA1F,EAAM+O,SAAS,CAAEI,KAAM,uBAChBzJ,KAET,SAAUK,GAIR,OAHA/F,EAAM+O,SAAS,CAAEI,KAAM,uBACnBpJ,EAAML,UAAsC,MAA1BK,EAAML,SAAS+9B,QACnCzjC,EAAM+O,SAAS,CAAEI,KAAM,gBAClBO,QAAQE,OAAO7J,MAI1B,IAiDe29B,GAjDH,WACV,IAAApgC,EAA8BC,mBAASvD,EAAMK,WAAWX,QAAQT,OAAMuE,EAAAC,YAAAH,EAAA,GAA/D5D,EAAO8D,EAAA,GAAEmgC,EAAUngC,EAAA,GAI1B,OAHAxD,EAAME,WAAU,WACdyjC,EAAW3jC,EAAMK,WAAWX,QAAQT,UAGpC+G,cAAC49B,IAAa,CAACx9B,MAAOA,GAAMG,SAC1BE,eAACo9B,IAAQ,CAAC7jC,MAAOA,EAAMuG,SAAA,CACrBP,cAAC89B,IAAW,IACZr9B,eAACs9B,IAAS,CACRp6B,UAAY,EACZq6B,gBAAc,EACd99B,GAAM,CACJqH,OAAQ,QACRgH,SAAU,OACVpE,QAAS,OACTjP,cAAe,UACfqF,SAAA,CAEFP,cAACC,IAAQ,CACPC,GAAM,CAAEpE,MAAO,OAAQqE,OAAQ,SAACC,GAAK,OAAKA,EAAMD,OAAO89B,MAAQ,IAC/D39B,KAAQ5G,EAAQ6G,SAEhBP,cAACQ,IAAgB,CAAC1E,MAAM,cAE1BkE,cAACk+B,IAAa,CAAA39B,SACZE,eAACy6B,IAAM,CAAA36B,SAAA,CACLP,cAACm7B,IAAK,CAAC1qB,KAAO,IAAIC,OAAK,EAAAnQ,SACrBP,cAAC82B,IAAQ,CAACnqB,GAAK,cAEjB3M,cAACm7B,IAAK,CAAC1qB,KAAO,eAAeC,OAAK,EAAChG,UAAayzB,IAChDn+B,cAACm7B,IAAK,CAAC1qB,KAAO,eAAeC,OAAK,EAAChG,UAAa0zB,KAChDp+B,cAACm7B,IAAK,CAAC1qB,KAAO,iBAAiBC,OAAK,EAAChG,UAAa2zB,KAClDr+B,cAACs+B,GAAU,CAAC7tB,KAAO,UAAUC,OAAK,EAAChG,UAAa6zB,KAChDv+B,cAACs+B,GAAU,CAAC7tB,KAAO,UAAUC,OAAK,EAAChG,UAAa8zB,KAChDx+B,cAACy+B,GAAU,CAAChuB,KAAO,SAAS/F,UAAag0B,KACzC1+B,cAAC2+B,GAAY,CAACluB,KAAO,QAAQ/F,UAAak0B,KAC1C5+B,cAACm7B,IAAK,CACJ1qB,KAAO,wCACP/F,UAAam0B,mBCvHdC,GAZS,SAACC,GACnBA,GAAeA,aAAuBC,UACxC,8BAAqBv/B,MAAK,SAAAF,GAAkD,IAA/C0/B,EAAM1/B,EAAN0/B,OAAQC,EAAM3/B,EAAN2/B,OAAQC,EAAM5/B,EAAN4/B,OAAQC,EAAM7/B,EAAN6/B,OAAQC,EAAO9/B,EAAP8/B,QAC3DJ,EAAOF,GACPG,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAQN,OCDdO,IAASjD,OACPr8B,cAACu/B,IAAMC,WAAU,CAAAj/B,SACfP,cAAC09B,GAAG,MAEN38B,SAAS0+B,eAAe,SAM1BX,O","file":"static/js/main.a3c15052.chunk.js","sourcesContent":["import { createSlice } from '@reduxjs/toolkit';\r\n\r\nexport const auth = createSlice({\r\n  name: 'auth',\r\n  initialState: {\r\n    isLoggedIn: false,\r\n    isAdmin: false,\r\n    token: null,\r\n  },\r\n  reducers: {\r\n    loginSuccess: (state, action) => {\r\n      state.isLoggedIn = true;\r\n      state.token = action.payload.token;\r\n      state.isAdmin = action.payload.isAdmin;\r\n    },\r\n    loginFail: (state) => {\r\n      state.isLoggedIn = false;\r\n    },\r\n    logout: (state) => {\r\n      state.isLoggedIn = false;\r\n      state.isAdmin = false;\r\n      state.token = null;\r\n    },\r\n  },\r\n});\r\n\r\n// Action creators are generated for each case reducer function\r\nexport const { loginSuccess, loginFail, logout } = auth.actions;\r\n\r\nexport default auth.reducer;\r\n","import { createSlice } from '@reduxjs/toolkit';\r\n\r\nexport const counter = createSlice({\r\n  name: 'counter',\r\n  initialState: {\r\n    value: 0,\r\n  },\r\n  reducers: {\r\n    increment: (state) => {\r\n      // Redux Toolkit allows us to write \"mutating\" logic in reducers. It\r\n      // doesn't actually mutate the state because it uses the Immer library,\r\n      // which detects changes to a \"draft state\" and produces a brand new\r\n      // immutable state based off those changes\r\n      state.value += 1;\r\n    },\r\n    decrement: (state) => {\r\n      state.value -= 1;\r\n    },\r\n    incrementByAmount: (state, action) => {\r\n      state.value += action.payload;\r\n    },\r\n  },\r\n});\r\n\r\n// Action creators are generated for each case reducer function\r\nexport const { increment, decrement, incrementByAmount } = counter.actions;\r\n\r\nexport default counter.reducer;\r\n","import { createSlice } from '@reduxjs/toolkit';\r\n\r\nexport const counter = createSlice({\r\n  name: 'loading',\r\n  initialState: {\r\n    value: false,\r\n  },\r\n  reducers: {\r\n    beginLoading: (state) => {\r\n      state.value = true;\r\n    },\r\n    endLoading: (state) => {\r\n      state.value = false;\r\n    },\r\n  },\r\n});\r\n\r\n// Action creators are generated for each case reducer function\r\nexport const { increment, decrement, incrementByAmount } = counter.actions;\r\n\r\nexport default counter.reducer;\r\n","import { configureStore } from '@reduxjs/toolkit';\r\nimport { combineReducers } from 'redux';\r\nimport auth from './slice/auth.slice';\r\nimport counter from './slice/counter.slice';\r\nimport loading from './slice/loading.slice';\r\n\r\nconst reducer = combineReducers({\r\n  auth,\r\n  counter,\r\n  loading,\r\n});\r\n\r\nconst preloadedState = localStorage.getItem('state')\r\n  ? JSON.parse(localStorage.getItem('state'))\r\n  : {};\r\n\r\nconst store = configureStore({\r\n  reducer,\r\n  preloadedState,\r\n});\r\n\r\nstore.subscribe(() => {\r\n  localStorage.setItem('state', JSON.stringify(store.getState()));\r\n});\r\n\r\nexport default store;\r\n","export default __webpack_public_path__ + \"static/media/chinese.msyh.554cdb5e.ttf\";","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAVcAAACWCAYAAABq8su9AAAkCElEQVR42uzdX0yVdRzH8S/m1urGpRetP9x3hSABBYqgR/7JnwMLT/x/Tmuu1WqpjRGuNramIN2Uq03amo5NoJQgFCeghEVoY0bNlOq2rQvn2rLNrRmn7/Pg2c7s1H7nnIfnfE7nc/Getz/2++61rw+c58jpCwXyf2zmuxx5s+d52VFqSZ0/yNamB7RsLaB1a+9pJ7QhbUQbBmxUe1eTcPaMvN7ZKlNXt9w/R59rvxvkQ5n7ZDa1mCsfnvBJvT8gjY0BCQTSO4hLIa4p1SatQ/tU+0ULpWB3DHH9RgsZVIsy98QVJ4hLIa4pUYF2XLsNAmQiXTPEdcYQ1wqUuSeuOEFcCnGFLkcbA0GRuAJHXIkrMytD6wfBkLjiJ8SVuDKzbfUHEAiJa4pEXIkr+++aQAAkrikWcSWu7N/bB4IfcU3BiCtxZdE7AAKfF10nrsSVuBJXL2oBQc+rbmsSrnS7Ja/sayOuxJW4EldXy3IBq5+1Ea1He0mztDatHbAXtVpN7PwNQSkptuSN7mZ7ZogrcSWuxNWV1mm/xgnqb9r72rMgP0tcVVZZUlsXlMHxYjm78DRxJa7Elbi60sdxwtqrbQL5GeLO2Vq36dZ6sFlmr2fLqZkC4kpciStxTbjsOH8RlAtyfhe21qDU1Abl5NlCmbxib63ElbgSV+KaeIsxwnpOWw9y9oSrv7e1HuhukdkbztZKXIkrcSWuCbctVlhBzu3u1loTlKHJIjnnbK3ElbgSV+KaeBdigHUZ5MyuPmvdXmw/a20JP2slrsSVuBLXhMuMcWvNBDm3y89aI7dW4kpciStxTbyuGGA9CHJmd7fWog7771rDWytxJa7Elbi60mVDWG+CnNfVX2L5dlpSXW3JyPlCmbxsb63ElbgSV+KaeBu1FUNcu0HO7Bqsu3yWlJdbcuxkhfNRV91aiStxJa7E1ZUqtZBhjyb7vLurg1JWZsnO0sQrLuyQigqFdag84k+viCtxJa7E1Z06DWG94vmz0Hr9t97ZLJ0Xqfh8q/fWZgVl78sdsr+rVXr6A/L24T1x1flWs26su2RmKccQVqdpQ1wrUeaeuOIEcSnE1bMGDHE9oonXVdcEpbnVkv3dbdJ7tEGOj5bKxFd5cn4xV6au5srM9zmKY3xdvJbt/GXAqemY5miamytxJa7E1aQJQ1wtj8/l/Jd9T5Ml45fyZW55s0wvbXFepDL2Rb6cvligJWWOFgxxLUGZe+KKE8SlEFfPmjPEtdzjczmPA1rbLZmYz7OBRZihDO2mIa6bUeaeuOIEcSnE1bMWDHHd6vnmWr76SOCz2XwUXLMNYf1TewRl7okrThCXQlzhcC0krgVHDHG9gTLzxBUriEshrp71tSGuRWmO63rtD0NcB1FmnrhiBXEpxJW4guE6oIUMa0eZeeKKFcSlEFfiCoRrYwywrmgbUGaeuGIFcSnElbiC4PqcFoqhT1DmnbjiBXEpxBUO16eSgWtTS9JwzdDe0UIxloUy78QVL4hLIa5wuNZrT2qZa1iWlh9+qcqOEkv8fkvG5jzF9THtVe2nOGCdRJl1lIgrcU3nTHFd0e5qf61RoXt1hN9WVVVlSd8HDXJmPk9Go38a62HtGa1Z69IOaX1abwwd1vq1Y9q8dkcLxdnjKLOOEnElrumcgytIu21YfT7L+ejrwHC5XFrOsu8u8sUqG7QXtNHwp6VAeg1lzpEirsQ1nUPA9a6WEwnrR8Nl938rwEbtkHYLBNPIxlFmHC3iSlzTOQRct0a8uDoarHtBUbVbQplvxIgrcU3nko2rFYa14p+wPqiNgiAarW+1h1DmGzHiSlzTuWTiOuhvWH21YGWl/Y0AZZHfCPCE9iMIotE6o63TJFpEl7gSV5YsXG9pUlsXlJJiS/qO1smXf7N39tFR1Wcef+wetJ59cXfP2dbdPdvds6fb/aMlSCCBQBLyQpJJJpnJvN6ZvM0kVoqAoAhSxEoQBasWX2vR+gZSQY0FRQFDhGB9obXtsra+UGrbQ2urp7Wn7bHHHqtOv/eZO+kwTJJ7Z+6Q39x5/viciUm8d7jzy2ee+8zze57Xy1Ji/SR4SxGJZmMQ0ATcCC5WZd2LXNVBiRdF5Op4uXb69JHW1XGMbOmjZ34wkzcLGMX7bygi0UyeBXMATUAAJECPKute5KoOSrwoIldHy/VlzMbiHViBYJwePVhF+78zOxW1Pq6ISDOlGgQ0CR6QMGhUZd2LXNVBiRdF5KqcXN8Bb4Jf5cHbBnX68MGaeTG69iv+ZDpgmF+jLkVk+j54CWwCswCZYEBmaIlcRa4i11zkWgemgXPy4OM6SAfwNNeeeBwzscZGuJyTx+6o18D9YCNYB75kgasNVoNe0ADOB2SBm2RAochV5CpyzVWuZbaMyzZGZbvdcdq5rxoTXMtT01c35CDVXaAa0BRRBl6U6a8iV5GryHVKWw5mVgeMvjYDYrXa5Z/5CIQATRHngetltLbIVeQqcp1yuSJiZbFWz43RoqWoDnh5rDpAJ2JRrLMBTRGLUz0NRK4iV5GryHVK5erzcxqA86wDi2K097lK5FpT1QGWKwQ6AU0hJ0BC5GqOp1+aRVt3NJLfJ3IVuZYehZQr92V1tfZTfV2cVl3Vw/Ws+yDWZDqAmQZ+V0T9UkdErqbgN8+RYzPprm80kNcrchW5lh4Fk6svkOxy1YjrfcMdPs6xPvGtirSIlSkHCZPMELkWF4d/eAGtWecjd6sachO5ilyLXq6IWFmqHZ443bGtnQ7hjww51gyxWqptPaHIOhK5moxah79XTg88VkOdnREKBCNKyE3kKnItarlCrHyNPV6UW+2v4YgVf2xZxMqsMimr+xRZRyJXc/DrfvkaP7maIhSJqiE3kWth4HzfFV/q4k+sW1v7QZzc7SUvWjvlyqmAxjSxoirAyK9mw1J96zWKrCORq5mo9fuzaNs3a/UqAYlaS0GuB/+vnK66VuMi9mC4n0KRARZCQ32MGhv0W1iUDPmVEF7RyrW1rZ8CuLY7nqyhkcnFShYmrA4qso5Erhai1laJWktDrvqQu0eGq7AzaD7t2jePv75vaCFt3BJG7WWcWprjtLAxTtj3DkomojUr13kmjsUTW6+72UfPH59uQqzMRolcnUMy1zoLudZa6tSj1oAaUlMFJV6kQr3we0Yr6ckXKlBrWcGfXO87Ops/bDl4rBwfvLipqzdOdTUxau8omSj2RTsj14UNcbrmxqCe38Y1F7mWIvokiZV61NqsUVSi1tKQ6wTS5agW+UEuel59VQ+nCZqb4knBOjuK/ZZJuTaalevgl0OobxS5KvJ8z3TUilxrskIgKFGryNWAb2P3Pl/Bo0a23O0hrzfOxe8ePHb6lBBhIdhvUq4Rs3LdcENQ5FqCcj21QkCjSEQNoamEEi/SFEexfFu758hcWry8j9MEHR7H5mEfMCnXq81HrmGRa4nJNVUhgFyr1LWKXCdfLEgRcD72kpV9vC8egnViBLvepFwPmDgWX6eVa3v0CEY+0FLj+Z7RqHXlFT6paxW5mkwTPFfBi2bN+ihVV8W4AYnP76gINmRSru+BjwOaCJeLy9ywG4vfnHANRa5OAHdzvMMuG988zGWOvBvLJ1GryNVKBIs8LN/yrN0Q5VItNCJxkmD/EyRM0mtmd1Z9bZwuXNTHda7JXgIi12JlaJgDDE7z7P/2bJ51lgneRLn07rLVXCEgUavI1VIEy6NInjteRptuDlB9neMEe9ykXF8BZIa66hhdekU3HXl9Bu0erYRgRa7Fhr7u9x+dzcHF6rU+WrQ4REuXB09j2Qo8XhKkUFjvfCVRq8jVcgTLt0WcIth8q58F2+ocwX7FykjsyRtj93OdcEMd17zyNcOt43iCXS9yVRMEFDyGZwnE2bhAI3dbhNrd2um04WcgFJK6VpFrHoKFJFgWm251VAQ704Jc3wFnTSpYpAfa2uJ6igDRvl8vLMc1FLkWC4haeZ1fe6Obmho1CmsR0qS0SuR6BgXL0VlrmyN2c71qQbCPmZ1A4GqJc0/Xux5qSg4jHBG5FgOYFMHpnCiE6umQmlWR65kVLOcTr9vCESxug4u+TKsbJCyw0axgmyBXr68f126u/kcrclUcPWp99vUyGtzcLpsBRK5T16eAy7SujlLtfH2jQdHv5HrLomA3ADKRIuDr88X1Ed79NjQiclWZp16YzaVX0S6NOr2SDhC5TpFgUWrEu7mWrexFBFv0udcgSFjkQXA2oHHxxcnlSr7xPHqQo1eRq6IMjfAdmUStIlc1bqHQZYsbcff1x2hBdZx8xZ1/PZqDYH8MvJNFr3U1cVo7GDEmE4hcVYRzrYclahW5KgJEwcXUjz87h4LhODXUFbVg/x0kcuQZEAbnZoteW43o9eGnq/iP2KJcVynyej/pVLliHY/lWlskahW5qoIewR76wQW0/fE64xPyohZsF0jkwdtgJ1gB2sB08GmOXmvjtGpdN2+XtCjXr4LPgP+dYl5wqlwlahW5KgsEyz1h73m4mVyuohfsFpCwkd+Cafrgws8vjtGBl2bxhyYpuTqQopLrqVGrbGEVuSrI0Ah3YneKYHfZKNffgWl6E/KLl/eJXBUjGbVWStQqclWblGC/vssRgt1pk1x/KXJVk6GDUiEgci0ixgT7cIsTcrA3i1ydK9enXpS6VpFrkaEL9tArF9Ddu5q5B0FNVYz0nGNjFsa+D/m0tCjZmPsikavz5DqWa90kUavItcjA4uVNBthbzx36r7wmkpV1GyPoFxuhxZfEKNrTzx236mtjvHXU41VmxMznwBGRa/HIFeuPewQ8gzWIOymuaEnn6I8+x3XamiZRq8i1COG+mN/mEd4s2nE5humz353Frd7ufNCF6Qdd1BvvZ8FifIpK474XgZMiV7XlinWH0fHJZtabtrhp3aAXedWOU9h8i4cuuTRAno6IRK0iV2cD4bBcjfldLOWbtnbSoqVxo4VfDJJVos3h2WAFeEXkqp5c9Yh1H3KpgBtatyyMUGuTRm7XqbS2aNTRHtH7sErUKnItHYxbOi64R/0scrcuunhFjJqbkrvAvD5l8rJtYCv46QRy/Wgcud6kiAztpnOK36Q5DXD5Gh811mkUDks+VeQqZJMsPyJlwF2l7nignbpjcR757WpRIopNpxwsBjeDfeAoOAFeHEeuy8HPwRsO4SfgJKidwnQAjyS6a0cDR6ehkESlqqCEUITxJXvwWDkNQ7SDX46Qx8vd/iE1ZaLYiTjrdLkyf6PKNbaJj03xNmw8VvGtvqdDxlyrhCoLVJh4YCIXfu86UK1vJ+WOU263clHsaZwqVzWup1MYE+tIFWlamNpcGkW71JCKIHItKvDHpH/wxZUG666NsriakI/1BdQQqcj1jIsVX0OsEQ1ilWGBKqLEYhHMpwoQxXKP1Fvu8ZC7PU4LG9TdDSZyzXP6xZFK2vtcBTdpN+DvHcZmlUcO6mINi1gVRomFJFjOxXKaYPsT9dSusGBFrrk3ZIdAWayPPD33tO2rO/bWQqgiVtVRYkEJud8aPvhEHQu2UUHBilwtvWnyPCtsT+VrtX6TlwY+H6aeXo3i/eEU+J5GWpg/vBKxKo4SC0uwSbD1aglW5GpNqrtH59CGzR7q6tZ473+HWyNfp75VlWG8Ho0CfqljLQaUWGBCXoLlmV5IESgnWJHrhFLl23+W6mFEqpu9Sak2Q6IeXZ5Sr1rsKLHQBFsEq1yKQOSa9bXiSBU5c5bqIKSailS9IlVHocSCE5yZgxW5jpNTPTw3Gal2GZGqNyJSdSBKLDzBVsFmpAjiIldFpKrnVAevN6TaJLf/TkeJBSjYnyLYtqeeBedy6aIb4D6x2Un+rIMfB0Su9uZU+fYfkapx+y9SLSWUWIiC7YLlSOlrDy5EBNtNgUAXhULd2QknHwPBXkS5saRoPbpoRa4516k+z1Idu/2PdklOtRRRYkEKtsNbZbfvnk/hcIjCoRBFImYIQ7ZdLFpMQ8iIZuMi10kYGp5Dw9+bxRHr+usyb/+lfKrUUGJRCoWR690P1SNqNdrQaSZgAYQoGg2yCIKhbiOaHWAsduLiPrRLL4vp40W4T+2e0cpk/9HDliikmPnYGDONx7wjVu77sOfIHIrFwtRUL7f/pY4SIhAUkWsGEC0TRjTLkaxnwFK7w6aF/XThF/rozu1NdMf9C3nrJiTLz80sB74zi/+f4e+XswCHRuzJhwI+Nsbt8AQIPPJ5IFr8zHrECrGi78Mc6u4OU2uzfPoviFwdiw1yBTzEzohkwzhWL3WYimKTIvYHYnxuT3uy3GjxkhBduirIc5zMsmRZkJZfFqDb72/iwXvAkGzuUkV/XG5+c/9jdXT5FT666Ashumx1gG79egtLHBUXpiXLEeuxZMTaBbG2tch+f0Hk6mhMyNUKLNdINIhjdbFAs0Sx/LWHf3YhpxMQ9ULOYR47EgKe9gi5WzVyt0VM0w5aWyIs6GXLQ/iQDpJ9OV2y1qW6bXcdrfpigPx+HLuZnw9Lsd2t0eKlIbr93hYWZoZks3atev74dKQ75lK3iFUQuZYGdsvVAPLQhalxFJuei2WpGlUG/kAfy5jlqtkhdo3CodSAPUh2xV8lOzIm2Ymlik/vIdUFtHqtLlUu3udrE4mmnSPMvVEh2zHJcqogTbLM45AqJM3XeMvWtqRYXdJIRRC5lgSFkitgcSJVwJUFPv9YLpalGtaiqcoDE8eyQbLbOV2QJtnsUl3FUo2wVP2BbJ/cZ0i2NZKU7JIw3XYvpwtY5hAt52pv+mobXXiRLmPuUCVTAASRa6lQQLmCCNCMyDRMwWAPhMRSZdJ/BxREsqGUZN2cLhiTLCTI8ht9NS1S9XFJlCFVC+cIa5zGaIdkL14Woq3fwAdz97VAqmGcm7+P35USK0HkWlJkyLWQojMj1cJLliPZIN03VE8791fT6iv9aVLNPRdqSJZFyi3/OnShi1QFkWvJcqpc1VhsBoVKF/AtejCY/O+2lvRI1QZYsjoiVUHkWtKUklzTJRsIRqSZtKAESohAELkKgtNQQgSCyFUQnIYSIhBEroLgNJQQgSByFQSnoYQIBJGrIDgNJUQgiFwFwWkoIQJB5CoITkMJEQgiV0FwGqk/xhmgAdRZoBHMA5QDZcb56jOOWW9QCc4HdIY4C3wGzDXOXwE+BWgK+AQoBwtANSgDf3cG5Tod1IC54J8A2cSnQD1YAGpNUmc8ngeogMwD5wKyif/O+LdapQ5UAbLIZ0GVDdfik4Dy5BNgPjgbUIH4WzADzAO1oCL13AvIP4A5oAbMBGdNJNcNIJEHh8A0QCZZZ/K474FR0FdAoUbBY+BklvN/CF4BW0ELoAJSAa4H3wV/BIkMfgMOg7Us/cLI9UrwMvgTSBj8AuwwhEt50Ar+DBI58hb4H0A28zHwAkiAEza9mfhBwib2WZBTL0gYbANkkXPAMyABfg/KAOXIdOMYCXDcEC3ZxPlgFdhrHPuPGdfsZ2AUbAbzbQ4O7gEn0871AXjVONd52eSasIEyQCZ5K4fjj4B/BmQTA+ANi8/h/0EUkI18Fuyx+DzeB7eAv7dJrv8GjoHEJCwBlCP7bRDNGkA2c3nGOW4HlCcHQMJGLgBkgoMgYfBn8K+ALDAz47xvG5Eh5cD6jGOFbHojvA781uL1OwBqAeVBG3h3kvO8CSoz5fpenmL9EPwLIJOcyPE8J8E/AsqD88BTIJEHu8G5gPJkeZ7P4xegHlAWuJfpndsbuDNUODThbdVP096FP8xcNBkRZxRQDuwGCfBRKqLJARcgGzkH/Bok0p7b++B8QHmwESTGh8/zrnGudyb53d9biPoezRDjfwGyQCX4IOP8I4ByYC1I2LBuUswAr6Yd733w0STXLvNO6QZAOVA5/jGZD9O+/wH4dLpc/wASBm+CWy1wo7WolXktdT7j3LdlOe62cW7VXwKUI/8BfjaOqN4Bh8DXjPNvBaPg3XF+//U8I+nbJpDmMfBQ2rXYA34ywe/3AsqAZ+fv3DePeno08vnGbQN4L0hkLNRhcIv2l/buPtqmOo/j+Dd5KJMeTItGmRZW5THPIaFl3IQbE3OvS43ShJqmUomyZkijovIcdbm6HoahrJWiTGR6LpJqpGJVo4iuTBKL67r4zXudtWtt39nnzvnt375P7v7j9Y97zj5nX3t/7u/8zvf3/fXvv9ALAeML3XycD7H0rO84u5GNyRb6QSJ2r+/cC3y/gycgDqpgOCZhsjIJ63AQR5CH+d7PtMcsP5ovhfF8i7oQC619IXHc938+HmJppO84riPXq2A8Ovw3YzGmYyqewis4nOQ5SyAWKuNrdQ8cxmLv9VbCqJ+/hlOCwnU1pBjpcP0SksSpGJssTCydlWQ6YpN3vGQfsc/FPT/9jpSXISFMhQnwOJpCkuiCpTAB+qrHJrYlefGdNnLzkEx6nQaG64Uw6ia4TT2mnX905+kWJlzVjS+lrKo6rz045hu9FueXIo/CePahOsSde7j6gugH9Qe3VymF6+VJQnI5ehQxH90U03XweUZbvP716jy+Ryf1mJthlMpB4fpWCYfrdi9EpQg6YD+FWHofRhlv8fw6WBEw2hVLNyYZjTe2OEbvJCPqBupxia1PRo/pI72uDrxwhqkL7ylIgIvwFQxW4ReO4ZqHOpBSdLcatRoU+H4X0yHFJBvGF2LNymC47lVTFgWoW8LhWhM/qmu0EIMsjtERm1XwLbN4/gJ1HpmQAJkwngcg5SVcBV+oILnQ4vXuh1EGQ0K4D8dRiN+GKLEyHtdPCvWxRx1rs3pMYr+nSbO6J3Y1zeyflXwEBfUXWTsDXSGQch6uVbHbd9Pk4zFsV3N6tStwuO5GoQqWzSUcrivUMQ6hDcTSqciFwXY0tHjuuzCevd6xJIlG6AApb+E6UQVJD0gKzoFRRkAcXIi6EEuL1fv4HOLgYhglC+JJ7CU1d2kXuvNnQV0MBIoK1ysgRTlJwvVuddO+BcE89e8zKnC45uN1bFe/k/klFK5XwiiuZVUXhZiCWQfj+R6VIEUpj+F6rwqRfhCPzZTCu5BSUBtGuQTi6HZ1zK3+ny9/zZt3HZoRNO/6R3UDTK8A4VoFeeq8e/pqM42aLqhdQcPV4AZ0DJiXH1YC4bpSTQc8DCkFi9R59DkZw3W2ChGvBMl6OqEFpBTcpd7HEkhEtuuaY9++/Yn99ceM753YUlptfVI/4MYZfJKH613qfDeony/To9cKHK4TIJgNo7QqxnCtgwJ1LlUgpWCwCvk8tA4brq+UwXCthH0qQFIpg2oQUBkgpeQl9V46QCKiV7yN8v989cbWkrOkS2Ln0oyMLH0B/C2gFOt5jMNoZATVS5bTagE912rQXc+bBdW9VtBwnQnxfKh+b3moXkzhOkg9dxKklFTDThWwBzEXY3AveuHMVML1I7RCW1wWoB3a4IwIw1UUbQVMiD8AGep5EyARuBSNIRa+UlUGp0Ai0k6d5yJVkpVYrTX01ozEHvxq9Ho2dqlSFy3fC+FfRxCux/Et0tEK7ZLSr+fuHnXTrocEWKZupicqaLhOU0tOD6rf39piCteHAz+Ku2uFCyCWOulFBAG+wQNJw9VSHhoXc51re6yBUdpDUjBcPe8miKMHYTz3pPqlmuoX8E4xNHophPG8CvFPDby6uYVMnZ1GSVZWUNVAfWyFUbT9SHMM16M4AJOCY/h9hKPW75KMWrUmQaPXCh6ugu4wyviIw1VPQ+RH8Pup4lshWBCyTrufHnz4z89nI2qHCVdtSgThesALmw34wLOhiBVJTzp8XO4HcVAJBf7VbBYrw47CeF6EROgM7IXxrIeoL7YS0wNDb8mQ9B5ZQdtOV8Ej+BwF/2cpYUeHcLW1sZgqBN5LZbmuv+41DteEMQGh0ivicH0GxnNQnUcYzWF8/g4JoSEW4zt1PL2ibRtquIbrdU7ham8ZxMJI9fyBEAdV8B2M5zNICs5DQTHOa5+NQzCetyF69LqWBQUz53Xz5l6LbI7RBmnIQjaOq2mD/+AXDstfj1iE6+wo51o9hSnUOtZQPRAKUCsO14RVKjjVAgPncF3gD1f/Wn3X3gCepyEOzkUXdMMQrAhYCfZcULjm4UnMxpwAOcjGMEgJhesxjIVYGqyOMxLioDJ2wXg+tgjl3XoqJEKXqPN8HqKteKut/GN9a7nxpkzp09vqYuqM/epmecAhXPdgMZ5EThJzMBY1Ip5rPYpNuAgt0SqJeliLI74bZlocrgmnY5deYBBhuE5RS167OM+1Rv8HW7szYETfSYfrGogz93D9As/hr2pZp43L1TGXl2C4au+p93IBJCIDoXoUqJHrGuZdP2khU7K7S+90Rq6Z1hdPN3XxfIFKIacFdpVSXetR7Ff9P4tyCPt9PQcOo1YcrgktYIpYYHCfDleHKZw7y0G4Ch5Xo9f5pV3nul6tvoqy2L+a+iKpANVLKVynwegvwyLysjp2Hz0lsGpdG3nhzbYycGB/Rq2+igE7q9QN1cShzvVXJVnXqkauxoIXrPACJw7X4IYlaoHBKIdwbauO+XY5CdfT1fTTxtIO10/0/KgK3qoQB8+oY04spXDVo+jdkAg0Cti94TT9uDe3XCr308Dl6jT1ZZad0TA+vcr4IgJ/hcARGAf5vlVbteJw/VmOP0Q9NZFmGa7aZ+r5vykH4SpY7f+EVtrhugvieThJb9NqDq/VAUa5OMpwdWgSPgPi6OOijrlsdTt5fUtzmfF0mvSkM1Y/egz0twxX/VHP55oyHq7+udZCbMMs5GBuCnIwE5vUx71pcbie4F8qCNfgITXiz3Cs7thWTsLVvwvF7rKw/LWyDljlA/UYW2+o4+3EOc5LTe3D9WrH7lxaLozyS990QKJxy5KXOgpNWxK9BQYMOOFCqI5RuBWSgmUwPi3LcLgG1bVeBQmhQUDPgVpxuP7sfBwOaA14xCFcqwWUPK0Mu1GiQ7g2wF9SvHYqYQeM56Oy2FsgKGA3OARsXRhlGxpBLFym+qhugVh6AUa5A2JpPoxyq55rfe3T5jJ8RF9J69pfBgxUHda9zeg8U1OoFTzmu1l2oGoZDte7g3oIOHhGhcfUOFxP0FMF2D4U6nC1lB7wpdnKEJ2t/qTqUHMhKain9s3qDSnCKHWNLNXhuraM9BYICtiNapdZG5kwylGMwGkp1JGOgVH+HbJW9msYZTmapTj63QSjLNWPffHdNrJg+RWSSWVA375ZQdsDG+W2Ioqnd+r13mW4t0DS1VgOGsHoutc4XE8wTvXDzcexkOGq22LqSpWsFIv+c33v55hl28RrA7Z3aQ8J0D/gffbQ4fohmqAZmitaCzQppnBNPkVgH7B6Oay2E9NxPdqhCdrjBmTje5gAf4aEUMc3d6utwnCkoRlaoA/GYl0RzxElseT1wUfTpUf3pNUBCwO+jFiAPmiKThiHfeoiK8C5Dr0F8nAVmqFlClrg1DBzrXrUGvHodVocrv/jZTXPfVSFaxjzkqwUXIdxXgi2RDN0xi14FodU1YftNkVnYUfAHnIT0BVN0Qs5Aa/zxk+LCA647oZq+ZF9C4xnhwpX7REYZR1Od9hS20QgJ4J+ABtgHD0NSRquE9Np1pL04jkT3/hqQI+ntJOmfSMN3QxlL4ylragHUbRzkBfRqFVrqN7TYdSHWJqtwvXSYgjXvBCNb9qocJ0eshwpLyBsMqOoIfUU+o6rabpK5HaHPbzUsZLeI/tRByIRhU0zSIq+gfH8gEoQTY9glWshIbXCmzAhbFA9ClxNhAlhj25EE7TFy/jH0iW9Z5EXzwXYrG+GInbbHORQoqJqTa2NhCjaLep9vw9Rohi9Fjps17xI3bAtIYprHfKPIVpFdlB/lHIgIbTU11NEDXgy8CWMPr4SdH2tQDtICNcgXx0/2evtQFN/45aPYBzVhqTon+pjvnhsArYxxFF/1XUrmZ2YhzRIMWiIWfgWRtG2YjTOgoQMV60SJqgCaO0VtHHdy99ROkTRrrDaqdbexer410EsPQjjOYCakAjMgvFsD/HFTx11biMgIQ0NbK7t7jSMwAfqk5Z2DB/jcbSGOKqHRSgsog46W/d1/Wn76MlYiAUWFiIHnSEWzsNMZFtuNDgEs9EJEqH6GIDx3vHn4Sncgc5qjrc4VUNXDMdM5GIupmAI2kIUl3DVaiILjyAXs3CHmsQP6xSMxnwssLAQubjZ4rW6Iwd/gETNN882yGElz0OYg8shEamBRzHHYTR8JXIwNoLu/zd4x/odpBi08l5jvPc6uZiIG1WgRqkxhmGG93qTMSRZcxkxxsRisVgsWnG4xmKxWByusVgsVk6UiTcRi8ViJ5sy8SZisVjsZFMm3kQsFoudbP4LF1ZXxIg2zNsAAAAASUVORK5CYII=\"","import React, { Fragment, useEffect, useState } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport {\r\n  Document,\r\n  Image,\r\n  Font,\r\n  Page,\r\n  PDFViewer,\r\n  Text,\r\n  StyleSheet,\r\n  View,\r\n  Tspan,\r\n  PDFDownloadLink,\r\n} from \"@react-pdf/renderer\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\nimport { Warning as WarningIcon } from \"@mui/icons-material\";\r\nimport { Backdrop, CircularProgress, Typography } from \"@mui/material\";\r\n\r\nimport microsoft_yahei from \"fonts/chinese.msyh.ttf\";\r\nimport logoTitle from \"images/logo_title.png\";\r\n\r\nconst styles = StyleSheet.create({\r\n  body: {\r\n    paddingTop: 35,\r\n    paddingBottom: 65,\r\n    paddingHorizontal: 35,\r\n  },\r\n  header: {\r\n    width: \"100%\",\r\n    fontSize: 8,\r\n    lineHeight: 1.2,\r\n    marginBottom: 40,\r\n    flexDirection: \"row\",\r\n    alignItems: \"center\",\r\n  },\r\n  title: {\r\n    fontFamily: \"Microsoft Yahei\",\r\n    fontSize: 15,\r\n    marginBottom: 10,\r\n    textTransform: \"uppercase\",\r\n  },\r\n  logo: {\r\n    marginLeft: \"auto\",\r\n    width: 50,\r\n  },\r\n  info: {\r\n    flexDirection: \"row\",\r\n    marginBottom: 10,\r\n  },\r\n  companyInfo: {\r\n    fontFamily: \"Microsoft Yahei\",\r\n    fontSize: 8,\r\n    width: 200,\r\n    paddingRight: 10,\r\n    lineHeight: 1.2,\r\n  },\r\n  clientInfo: {\r\n    fontFamily: \"Microsoft Yahei\",\r\n    fontSize: 8,\r\n    width: 200,\r\n    paddingRight: 10,\r\n    lineHeight: 1.2,\r\n  },\r\n  email: {\r\n    color: \"#0000ff\",\r\n    textDecoration: \"underline\",\r\n  },\r\n  subtitle: {\r\n    fontSize: 18,\r\n    margin: 12,\r\n    fontWeight: 100,\r\n    fontFamily: \"Microsoft Yahei\",\r\n  },\r\n  text: {\r\n    margin: 12,\r\n    fontSize: 14,\r\n    textAlign: \"justify\",\r\n    fontFamily: \"Times-Roman\",\r\n  },\r\n  table: {\r\n    fontSize: 8,\r\n    marginBottom: 10,\r\n    border: \"0.5px solid #808080\",\r\n  },\r\n  tableRow: {\r\n    fontSize: 8,\r\n    borderBottom: \"0.5px solid #808080\",\r\n    flexDirection: \"row\",\r\n    minHeight: 15,\r\n    fontFamily: \"Microsoft Yahei\",\r\n  },\r\n  tableColumn: {\r\n    flex: 1,\r\n    padding: \"3px 5px\",\r\n    borderRight: \"0.5px solid #808080\",\r\n  },\r\n});\r\n\r\nFont.register({\r\n  family: \"Microsoft Yahei\",\r\n  src: microsoft_yahei,\r\n});\r\n\r\nconst monthNames = [\r\n  \"January\",\r\n  \"February\",\r\n  \"March\",\r\n  \"April\",\r\n  \"May\",\r\n  \"June\",\r\n  \"July\",\r\n  \"August\",\r\n  \"September\",\r\n  \"October\",\r\n  \"November\",\r\n  \"December\",\r\n];\r\n\r\nconst mapStateToProps = (state) => {\r\n  const loading = state.loading.value;\r\n  return { loading };\r\n};\r\n\r\nexport default connect(mapStateToProps)((props) => {\r\n  const { loading } = props;\r\n  const [success, setSuccess] = useState(false);\r\n  const [order, setOrder] = useState({\r\n    Seller: {},\r\n    ChairStocks: [],\r\n    DeskStocks: [],\r\n    AccessoryStocks: [],\r\n    ServiceToOrders: [],\r\n    DeskToOrders: [],\r\n  });\r\n  const { id } = useParams();\r\n  useEffect(() => {\r\n    const source = axios.CancelToken.source();\r\n    getOrder({ id, cancelToken: source.token });\r\n    return () => source.cancel(\"Brand Component got unmounted\");\r\n  }, [id]);\r\n\r\n  const getDateString = (time) => {\r\n    const tmp = new Date(time);\r\n    return `${\r\n      monthNames[tmp.getMonth()]\r\n    } ${tmp.getDate()}, ${tmp.getFullYear()}`;\r\n  };\r\n\r\n  const getOrder = ({ id, cancelToken }) => {\r\n    axios\r\n      .get(`/sales/${id}`, { cancelToken })\r\n      .then((response) => {\r\n        // handle success\r\n        setSuccess(true);\r\n        console.log(response.data);\r\n        setOrder(response.data);\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        setSuccess(false);\r\n      });\r\n  };\r\n\r\n  return loading ? (\r\n    <Backdrop\r\n      sx={{ color: \"#fff\", zIndex: (theme) => theme.zIndex.drawer + 1 }}\r\n      open={true}\r\n    >\r\n      <CircularProgress color=\"inherit\" />\r\n    </Backdrop>\r\n  ) : success ? (\r\n    <Fragment>\r\n      {/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(\r\n        navigator.userAgent\r\n      ) && (\r\n        <PDFDownloadLink\r\n          document={\r\n            <Document>\r\n              <Page style={styles.body} wrap>\r\n                <View style={styles.header}>\r\n                  <View>\r\n                    <Text style={styles.title}>Invoice</Text>\r\n                    <Text>Date: {getDateString(order.createdAt)}</Text>\r\n                    <Text>\r\n                      {`No: I-${order.Seller.prefix}${new Date(\r\n                        order.createdAt\r\n                      ).getFullYear()}-${(\"000\" + order.invoiceNum).substr(\r\n                        -3\r\n                      )}`}\r\n                    </Text>\r\n                  </View>\r\n                  <View style={styles.logo}>\r\n                    <Image src={logoTitle} />\r\n                  </View>\r\n                </View>\r\n                <View style={styles.info}>\r\n                  <View style={styles.companyInfo}>\r\n                    <Text>Blueocean International (HK) Ltd.</Text>\r\n                    <Text>23/F</Text>\r\n                    <Text>Lockhart Centre</Text>\r\n                    <Text>301-307Lockhart Rd</Text>\r\n                    <Text>Wanchai, Hong Kong</Text>\r\n                    <Text>Tel: 2169 3337</Text>\r\n                    <Text>\r\n                      Email:{\" \"}\r\n                      <Tspan style={styles.email}>info@ergoseatings.com</Tspan>\r\n                    </Text>\r\n                  </View>\r\n                  <View style={styles.clientInfo}>\r\n                    <Text>Client's Name: {order.name}</Text>\r\n                    {order.unit ? <Text>Unit {order.unit}</Text> : null}\r\n                    {order.floor ? <Text>Floor {order.floor}</Text> : null}\r\n                    {order.block ? <Text>Block {order.block}</Text> : null}\r\n                    <Text>{order.street}</Text>\r\n                    <Text>{order.district}</Text>\r\n                    <Text>Phone: {order.phone}</Text>\r\n                    <Text>\r\n                      Email: <Tspan style={styles.email}>{order.email}</Tspan>\r\n                    </Text>\r\n                  </View>\r\n                </View>\r\n                <View style={styles.table}>\r\n                  {[\r\n                    {\r\n                      cells: [\r\n                        { content: \"Salesperson\", width: \"15%\" },\r\n                        { content: \"Estimated Delivery Date\", width: \"55%\" },\r\n                        { content: \"Payment Terms\", width: \"15%\" },\r\n                        {\r\n                          content: \"Due Date\",\r\n                          textAlign: \"right\",\r\n                          width: \"15%\",\r\n                        },\r\n                      ],\r\n                      backgroundColor: \"#dbe5f1\",\r\n                      textTransform: \"uppercase\",\r\n                    },\r\n                    {\r\n                      cells: [\r\n                        {\r\n                          content: `${order.Seller.firstName} ${order.Seller.lastName}`,\r\n                          width: \"15%\",\r\n                        },\r\n                        {\r\n                          content:\r\n                            order.timeLine % 7 === 0\r\n                              ? `Est ${order.timeLine / 7} working week${\r\n                                  order.timeLine / 7 === 1 ? \"\" : \"s\"\r\n                                } after payment`\r\n                              : `Est ${order.timeLine} working day${\r\n                                  order.timeLine === 1 ? \"\" : \"s\"\r\n                                } after payment`,\r\n                          width: \"55%\",\r\n                        },\r\n                        { content: order.paymentTerms, width: \"15%\" },\r\n                        {\r\n                          content: order.paid ? \"Paid\" : order.dueDate,\r\n                          textAlign: \"right\",\r\n                          width: \"15%\",\r\n                        },\r\n                      ],\r\n                    },\r\n                  ].map(({ cells, ...rowRestProps }, rowIndex, rowArr) => (\r\n                    <View\r\n                      key={rowIndex}\r\n                      style={[\r\n                        styles.tableRow,\r\n                        {\r\n                          borderBottom:\r\n                            rowIndex === rowArr.length - 1 ? \"none\" : null,\r\n                          ...rowRestProps,\r\n                        },\r\n                      ]}\r\n                    >\r\n                      {cells.map(\r\n                        (\r\n                          { content, width, ...cellRestProps },\r\n                          index,\r\n                          cellArr\r\n                        ) => (\r\n                          <Text\r\n                            key={index}\r\n                            style={[\r\n                              styles.tableColumn,\r\n                              {\r\n                                borderRight:\r\n                                  index === cellArr.length - 1 ? \"none\" : null,\r\n                                flexBasis: width,\r\n                                maxWidth: width,\r\n                                ...cellRestProps,\r\n                              },\r\n                            ]}\r\n                          >\r\n                            {content}\r\n                          </Text>\r\n                        )\r\n                      )}\r\n                    </View>\r\n                  ))}\r\n                </View>\r\n                <View style={styles.table}>\r\n                  {[\r\n                    {\r\n                      cells: [\r\n                        { content: \"QTY\", width: \"15%\" },\r\n                        { content: \"Description\", width: \"55%\" },\r\n                        { content: \"Unit Price\", width: \"15%\" },\r\n                        {\r\n                          content: \"Line Total (HKD)\",\r\n                          textAlign: \"right\",\r\n                          width: \"15%\",\r\n                        },\r\n                      ],\r\n                      backgroundColor: \"#dbe5f1\",\r\n                      textTransform: \"uppercase\",\r\n                    },\r\n                    ...order.ChairStocks.map((item) => ({\r\n                      cells: [\r\n                        {\r\n                          content: `${item.ChairToOrder.qty}`,\r\n                          width: \"15%\",\r\n                        },\r\n                        {\r\n                          content: `Chair Brand: ${item.brand}\\nChair Model: ${\r\n                            item.model\r\n                          }\\n${\r\n                            item.withHeadrest\r\n                              ? \"With Headrest\"\r\n                              : \"Without Headrest\"\r\n                          }\\n${\r\n                            item.withAdArmrest\r\n                              ? \"With Adjustable Armrest\"\r\n                              : \"Without Adjustable Armrest\"\r\n                          }\\nRemark: ${item.ChairToOrder.remark}\\n${JSON.parse(\r\n                            item.ChairToOrder.deliveryOption\r\n                          )}`,\r\n                          width: \"55%\",\r\n                        },\r\n                        {\r\n                          content: `${item.ChairToOrder.unitPrice}`,\r\n                          textAlign: \"right\",\r\n                          width: \"15%\",\r\n                        },\r\n                        {\r\n                          content: `${\r\n                            item.ChairToOrder.unitPrice * item.ChairToOrder.qty\r\n                          }`,\r\n                          textAlign: \"right\",\r\n                          width: \"15%\",\r\n                        },\r\n                      ],\r\n                    })),\r\n                    ...order.DeskToOrders.map((item) => ({\r\n                      cells: [\r\n                        {\r\n                          content: `${item.qty}`,\r\n                          width: \"15%\",\r\n                        },\r\n                        {\r\n                          content: `Desk Model: ${\r\n                            order.DeskStocks.find(\r\n                              (stock) => stock.id === item.stockId\r\n                            ).model\r\n                            }\r\n                            Color of Legs: ${\r\n                              order.DeskStocks.find(\r\n                                (stock) => stock.id === item.stockId\r\n                              ).color\r\n                            }\r\n                            ArmSize: ${\r\n                              order.DeskStocks.find(\r\n                                (stock) => stock.id === item.stockId\r\n                              ).armSize\r\n                            }\r\n                            FeetSize: ${\r\n                              order.DeskStocks.find(\r\n                                (stock) => stock.id === item.stockId\r\n                              ).feetSize\r\n                            }\r\n                            Beam Size: ${\r\n                              order.DeskStocks.find(\r\n                                (stock) => stock.id === item.stockId\r\n                              ).beamSize\r\n                            }\r\n                            ${\r\n                              item.hasDeskTop\r\n                                ? `Table Top: ${item.topMaterial}\r\n                                  Table Top Size: ${item.topLength}x${item.topWidth}x${\r\n                                    item.topThickness\r\n                                  }\r\n                                  Table Top Color: ${item.topColor} ${\r\n                                    item.topRoundedCorners === 0\r\n                                      ? \"\"\r\n                                      : `\\nRounded Corners: ${item.topRoundedCorners}, Radius: R${item.topCornerRadius}`\r\n                                  } ${\r\n                                    item.topHoleCount === 0\r\n                                      ? \"\"\r\n                                      : `\\nHoles Required: ${item.topHoleCount}, Hole Position: ${item.topHolePosition}, Holes Shaped: ${item.topHoleType}`\r\n                                  }\r\n                                  Remark: ${item.remark}`\r\n                                : \"Without DeskTop\"\r\n                            }\r\n                            ${JSON.parse(item.deliveryOption)}`,\r\n                                  width: \"55%\",\r\n                        },\r\n                        {\r\n                          content: `${item.unitPrice}`,\r\n                          textAlign: \"right\",\r\n                          width: \"15%\",\r\n                        },\r\n                        {\r\n                          content: `${item.unitPrice * item.qty}`,\r\n                          textAlign: \"right\",\r\n                          width: \"15%\",\r\n                        },\r\n                      ],\r\n                    })),\r\n                    ...order.AccessoryStocks.map((item) => ({\r\n                      cells: [\r\n                        {\r\n                          content: `${item.AccessoryToOrder.qty}`,\r\n                          width: \"15%\",\r\n                        },\r\n                        {\r\n                          content: `${item.name}\\nAccessory Category: ${\r\n                            item.category\r\n                          }\\nRemark: ${\r\n                            item.AccessoryToOrder.remark\r\n                          }\\n${JSON.parse(\r\n                            item.AccessoryToOrder.deliveryOption\r\n                          )}`,\r\n                          width: \"55%\",\r\n                        },\r\n                        {\r\n                          content: `${item.AccessoryToOrder.unitPrice}`,\r\n                          textAlign: \"right\",\r\n                          width: \"15%\",\r\n                        },\r\n                        {\r\n                          content: `${\r\n                            item.AccessoryToOrder.unitPrice *\r\n                            item.AccessoryToOrder.qty\r\n                          }`,\r\n                          textAlign: \"right\",\r\n                          width: \"15%\",\r\n                        },\r\n                      ],\r\n                    })),\r\n                    ...order.ServiceToOrders.map((item) => ({\r\n                      cells: [\r\n                        {\r\n                          content: \"1\",\r\n                          width: \"15%\",\r\n                        },\r\n                        {\r\n                          content: `${item.description}`,\r\n                          width: \"55%\",\r\n                        },\r\n                        {\r\n                          content: `${item.price}`,\r\n                          textAlign: \"right\",\r\n                          width: \"15%\",\r\n                        },\r\n                        {\r\n                          content: `${item.price}`,\r\n                          textAlign: \"right\",\r\n                          width: \"15%\",\r\n                        },\r\n                      ],\r\n                    })),\r\n                    ...Array(\r\n                      Math.max(\r\n                        0,\r\n                        6 -\r\n                          order.ChairStocks.length -\r\n                          order.DeskStocks.length -\r\n                          order.AccessoryStocks.length -\r\n                          order.ServiceToOrders.length\r\n                      )\r\n                    ).fill({\r\n                      cells: [\r\n                        { content: \"\", width: \"15%\" },\r\n                        { content: \"\", width: \"55%\" },\r\n                        { content: \"\", width: \"15%\" },\r\n                        { content: \"\", width: \"15%\" },\r\n                      ],\r\n                    }),\r\n                    {\r\n                      cells: [\r\n                        {\r\n                          content: ``,\r\n                          width: \"70%\",\r\n                          fontSize: 12,\r\n                        },\r\n                        { content: \"SUBTOTAL\", width: \"15%\" },\r\n                        {\r\n                          content: `${\r\n                            (order.ChairStocks.length\r\n                              ? order.ChairStocks.map(\r\n                                  (item) =>\r\n                                    item.ChairToOrder.unitPrice *\r\n                                    item.ChairToOrder.qty\r\n                                ).reduce((acc, cur) => acc + cur)\r\n                              : 0) +\r\n                            (order.DeskToOrders.length\r\n                              ? order.DeskToOrders.map(\r\n                                  (item) => item.unitPrice * item.qty\r\n                                ).reduce((acc, cur) => acc + cur)\r\n                              : 0) +\r\n                            (order.AccessoryStocks.length\r\n                              ? order.AccessoryStocks.map(\r\n                                  (item) =>\r\n                                    item.AccessoryToOrder.unitPrice *\r\n                                    item.AccessoryToOrder.qty\r\n                                ).reduce((acc, cur) => acc + cur)\r\n                              : 0) +\r\n                            (order.ServiceToOrders.length\r\n                              ? order.ServiceToOrders.map(\r\n                                  (item) => item.price\r\n                                ).reduce((acc, cur) => acc + cur)\r\n                              : 0)\r\n                          }`,\r\n                          textAlign: \"right\",\r\n                          width: \"15%\",\r\n                          borderBottom: \"0.5px solid #808080\",\r\n                        },\r\n                      ],\r\n                      borderBottom: \"none\",\r\n                    },\r\n                    {\r\n                      cells: [\r\n                        {\r\n                          content: ``,\r\n                          width: \"70%\",\r\n                          fontSize: 12,\r\n                        },\r\n                        { content: \"DISCOUNT\", width: \"15%\" },\r\n                        {\r\n                          content: `${\r\n                            order.discountType\r\n                              ? order.discount\r\n                              : (((order.ChairStocks.length\r\n                                  ? order.ChairStocks.map(\r\n                                      (item) =>\r\n                                        item.ChairToOrder.unitPrice *\r\n                                        item.ChairToOrder.qty\r\n                                    ).reduce((acc, cur) => acc + cur)\r\n                                  : 0) +\r\n                                  (order.DeskStocks.length\r\n                                    ? order.DeskStocks.map(\r\n                                        (item) =>\r\n                                          item.DeskToOrder.unitPrice *\r\n                                          item.DeskToOrder.qty\r\n                                      ).reduce((acc, cur) => acc + cur)\r\n                                    : 0) +\r\n                                  (order.AccessoryStocks.length\r\n                                    ? order.AccessoryStocks.map(\r\n                                        (item) =>\r\n                                          item.AccessoryToOrder.unitPrice *\r\n                                          item.AccessoryToOrder.qty\r\n                                      ).reduce((acc, cur) => acc + cur)\r\n                                    : 0)) *\r\n                                  order.discount) /\r\n                                100\r\n                          }`,\r\n                          textAlign: \"right\",\r\n                          width: \"15%\",\r\n                          borderBottom: \"0.5px solid #808080\",\r\n                        },\r\n                      ],\r\n                      borderBottom: \"none\",\r\n                    },\r\n                    {\r\n                      cells: [\r\n                        {\r\n                          content: ``,\r\n                          width: \"70%\",\r\n                          fontSize: 12,\r\n                        },\r\n                        { content: \"SURCHARGE\", width: \"15%\" },\r\n                        {\r\n                          content: `${\r\n                            order.surchargeType\r\n                              ? order.surcharge\r\n                              : (((order.ChairStocks.length\r\n                                  ? order.ChairStocks.map(\r\n                                      (item) =>\r\n                                        item.ChairToOrder.unitPrice *\r\n                                        item.ChairToOrder.qty\r\n                                    ).reduce((acc, cur) => acc + cur)\r\n                                  : 0) +\r\n                                  (order.DeskStocks.length\r\n                                    ? order.DeskStocks.map(\r\n                                        (item) =>\r\n                                          item.DeskToOrder.unitPrice *\r\n                                          item.DeskToOrder.qty\r\n                                      ).reduce((acc, cur) => acc + cur)\r\n                                    : 0) +\r\n                                  (order.AccessoryStocks.length\r\n                                    ? order.AccessoryStocks.map(\r\n                                        (item) =>\r\n                                          item.AccessoryToOrder.unitPrice *\r\n                                          item.AccessoryToOrder.qty\r\n                                      ).reduce((acc, cur) => acc + cur)\r\n                                    : 0)) *\r\n                                  order.surcharge) /\r\n                                100\r\n                          }`,\r\n                          textAlign: \"right\",\r\n                          width: \"15%\",\r\n                          borderBottom: \"0.5px solid #808080\",\r\n                        },\r\n                      ],\r\n                      borderBottom: \"none\",\r\n                    },\r\n                    {\r\n                      cells: [\r\n                        {\r\n                          content: ``,\r\n                          width: \"70%\",\r\n                          fontSize: 12,\r\n                        },\r\n                        { content: \"TOTAL\", width: \"15%\" },\r\n                        {\r\n                          content: `${\r\n                            (order.ChairStocks.length\r\n                              ? order.ChairStocks.map(\r\n                                  (item) =>\r\n                                    item.ChairToOrder.unitPrice *\r\n                                    item.ChairToOrder.qty\r\n                                ).reduce((acc, cur) => acc + cur)\r\n                              : 0) +\r\n                            (order.DeskToOrders.length\r\n                              ? order.DeskToOrders.map(\r\n                                  (item) => item.unitPrice * item.qty\r\n                                ).reduce((acc, cur) => acc + cur)\r\n                              : 0) +\r\n                            (order.AccessoryStocks.length\r\n                              ? order.AccessoryStocks.map(\r\n                                  (item) =>\r\n                                    item.AccessoryToOrder.unitPrice *\r\n                                    item.AccessoryToOrder.qty\r\n                                ).reduce((acc, cur) => acc + cur)\r\n                              : 0) +\r\n                            (order.ServiceToOrders.length\r\n                              ? order.ServiceToOrders.map(\r\n                                  (item) => item.price\r\n                                ).reduce((acc, cur) => acc + cur)\r\n                              : 0) -\r\n                            (order.discountType\r\n                              ? order.discount\r\n                              : (((order.ChairStocks.length\r\n                                  ? order.ChairStocks.map(\r\n                                      (item) =>\r\n                                        item.ChairToOrder.unitPrice *\r\n                                        item.ChairToOrder.qty\r\n                                    ).reduce((acc, cur) => acc + cur)\r\n                                  : 0) +\r\n                                  (order.DeskStocks.length\r\n                                    ? order.DeskStocks.map(\r\n                                        (item) =>\r\n                                          item.DeskToOrder.unitPrice *\r\n                                          item.DeskToOrder.qty\r\n                                      ).reduce((acc, cur) => acc + cur)\r\n                                    : 0) +\r\n                                  (order.AccessoryStocks.length\r\n                                    ? order.AccessoryStocks.map(\r\n                                        (item) =>\r\n                                          item.AccessoryToOrder.unitPrice *\r\n                                          item.AccessoryToOrder.qty\r\n                                      ).reduce((acc, cur) => acc + cur)\r\n                                    : 0)) *\r\n                                  order.discount) /\r\n                                100) +\r\n                            (order.surchargeType\r\n                              ? order.surcharge\r\n                              : (((order.ChairStocks.length\r\n                                  ? order.ChairStocks.map(\r\n                                      (item) =>\r\n                                        item.ChairToOrder.unitPrice *\r\n                                        item.ChairToOrder.qty\r\n                                    ).reduce((acc, cur) => acc + cur)\r\n                                  : 0) +\r\n                                  (order.DeskStocks.length\r\n                                    ? order.DeskStocks.map(\r\n                                        (item) =>\r\n                                          item.DeskToOrder.unitPrice *\r\n                                          item.DeskToOrder.qty\r\n                                      ).reduce((acc, cur) => acc + cur)\r\n                                    : 0) +\r\n                                  (order.AccessoryStocks.length\r\n                                    ? order.AccessoryStocks.map(\r\n                                        (item) =>\r\n                                          item.AccessoryToOrder.unitPrice *\r\n                                          item.AccessoryToOrder.qty\r\n                                      ).reduce((acc, cur) => acc + cur)\r\n                                    : 0)) *\r\n                                  order.surcharge) /\r\n                                100)\r\n                          }`,\r\n                          textAlign: \"right\",\r\n                          width: \"15%\",\r\n                        },\r\n                      ],\r\n                    },\r\n                  ].map(({ cells, ...rowRestProps }, rowIndex, rowArr) => (\r\n                    <View\r\n                      key={rowIndex}\r\n                      style={[\r\n                        styles.tableRow,\r\n                        {\r\n                          borderBottom:\r\n                            rowIndex === rowArr.length - 1 ? \"none\" : null,\r\n                          ...rowRestProps,\r\n                        },\r\n                      ]}\r\n                    >\r\n                      {cells.map(\r\n                        (\r\n                          { content, width, ...cellRestProps },\r\n                          index,\r\n                          cellArr\r\n                        ) => (\r\n                          <Text\r\n                            key={index}\r\n                            style={[\r\n                              styles.tableColumn,\r\n                              {\r\n                                borderRight:\r\n                                  index === cellArr.length - 1 ? \"none\" : null,\r\n                                flexBasis: width,\r\n                                maxWidth: width,\r\n                                ...cellRestProps,\r\n                              },\r\n                            ]}\r\n                          >\r\n                            {content}\r\n                          </Text>\r\n                        )\r\n                      )}\r\n                    </View>\r\n                  ))}\r\n                  <Text>\r\n                    Blueocean International (HK) Ltd.\r\n                  </Text>\r\n                  <Text\r\n                    style={{\r\n                      fontSize: 12,\r\n                      padding: 3,\r\n                      position: \"absolute\",\r\n                      width: \"70%\",\r\n                      bottom: 0,\r\n                      left: 0,\r\n                    }}\r\n                  >\r\n                    NOTE: Please deposit to HSBC 023-472038-838 (bank code: 004,\r\n                    Bank address: 1 Queen's Road Central, Hong Kong. SWIFT code:\r\n                    HSBCHKHHHKH or FPS: info@ergoseatings.com\r\n                  </Text>\r\n                </View>\r\n                {[\r\n                  `Should the delivery of goods involved any staircases at the provided location, there will be an additional delivery fee of HK$100 per level to be charged in advance.`,\r\n                  `If you have special assembling requirements, please let us know prior to delivery.  Otherwise, all chairs will be assembled before delivery and all desks will be assembled on site.`,\r\n                  `If the delivery address is located in a remote area within Hong Kong, we reserve the rights to charge the client extra for delivery charges.  In such cases, we will provide a quotation upon investigation of the detailed address.  Client will be notified of such extra cost prior to delivery.`,\r\n                  `Delivery date for pre-orders stated above is an estimate only. While we will try our best to deliver the products as soon as possible, the actual delivery date may be adjusted depending on actual freight schedule. We do NOT accept refund in case of delay arising from delivery delay.`,\r\n                  `You understand that pre-orders are non-refundable.  Decision to switch to another product after purchase can only be treated as store credits. `,\r\n                  `You understand that a late payment penalty of 2% Interest Rate per month maybe charged for overdue payment`,\r\n                ].map((text, index) => (\r\n                  <View\r\n                    key={index}\r\n                    style={{ flexDirection: \"row\", margin: \"5px 0\" }}\r\n                  >\r\n                    <View\r\n                      style={{\r\n                        width: 2,\r\n                        fontSize: 10,\r\n                        lineHeight: 1.2,\r\n                        margin: \"0 10px 0 0\",\r\n                        color: \"#888888\",\r\n                      }}\r\n                    >\r\n                      <Text></Text>\r\n                    </View>\r\n                    <View\r\n                      style={{\r\n                        flexGrow: 1,\r\n                        fontSize: 10,\r\n                        lineHeight: 1.2,\r\n                        color: \"#888888\",\r\n                      }}\r\n                    >\r\n                      <Text>{text}</Text>\r\n                    </View>\r\n                  </View>\r\n                ))}\r\n                <Text\r\n                  style={{\r\n                    marginTop: \"5px\",\r\n                    fontSize: 10,\r\n                    lineHeight: 1.2,\r\n                    color: \"#888888\",\r\n                  }}\r\n                >\r\n                  The warranty is effective from the date of purchase from\r\n                  Blueocean International (HK) Ltd by the original purchaser.\r\n                  Such warranty applies under the following terms and conditions\r\n                  and is covered by the original manufacturers for specific\r\n                  period stated:\r\n                </Text>\r\n                {[\r\n                  `Nightingale chairs: 5 years for defective parts under regular usage, by Nightingale Corp.`,\r\n                  `Allseating chairs:  5 years for defective parts under regular usage, by Allseating Corp.`,\r\n                  `Standing desks: 5 years by manufacturer`,\r\n                  `Okamura chairs:  5 years for defective parts under regular usage, by Okamura Salotto HK Ltd.`,\r\n                  `10 years for structural defective parts, under regular usage by Okamura Salotto HK Ltd, for details please refer to our website FAQ section.`,\r\n                  `Bestuhl chairs: 3 years for defective parts under regular usage, by Bestuhl Co. Ltd.`,\r\n                  `Duorest chairs: 3 years for defective parts under regular usage, by Duoback Co. Ltd.`,\r\n                  `Wagner chairs: 5 years for defective parts under regular usage, by Topstar GMBH`,\r\n                  `Topstar chairs: 3 years for defective parts under regular usage, by Topstar GMBH`,\r\n                  `Ergohuman chairs: 2 years for defective parts under regular usage, by manufacturer`,\r\n                  // `HAG chairs: 2 years for defective parts under regular usage, by manufacturer`,\r\n                  `Atlas Headrest, 3 years for defective parts under regular usage, by Back Foley LLC`,                  \r\n                ].map((text, index) => (\r\n                  <View\r\n                    key={index}\r\n                    style={{ flexDirection: \"row\", marginLeft: \"10px\" }}\r\n                  >\r\n                    <View\r\n                      style={{\r\n                        width: 2,\r\n                        fontSize: 10,\r\n                        lineHeight: 1.2,\r\n                        margin: \"0 10px 0 0\",\r\n                        color: \"#888888\",\r\n                      }}\r\n                    >\r\n                      <Text></Text>\r\n                    </View>\r\n                    <View\r\n                      style={{\r\n                        flexGrow: 1,\r\n                        fontSize: 10,\r\n                        lineHeight: 1.2,\r\n                        color: \"#888888\",\r\n                      }}\r\n                    >\r\n                      <Text>{text}</Text>\r\n                    </View>\r\n                  </View>\r\n                ))}\r\n                <Text\r\n                  style={{\r\n                    fontSize: 10,\r\n                    lineHeight: 1.2,\r\n                    marginTop: 10,\r\n                    color: \"#888888\",\r\n                  }}\r\n                >\r\n                  Claiming of any aforementioned warranties only covers\r\n                  replacement of the defective or broken parts only and does not\r\n                  include the following cost, which shall be borne by the\r\n                  claimant. A quotation will be provided in advance for approval\r\n                  by the claimant: 1) labor costs of technician for replacing\r\n                  the parts; 2) transportation costs incurred for sending the\r\n                  product(s) to our company and delivering back to the claimant\r\n                  from our shop after service. I, the undersigned, have read and\r\n                  understand these policies and agree to all the above.\r\n                </Text>\r\n                <Text\r\n                  style={{\r\n                    fontSize: 10,\r\n                    lineHeight: 1.2,\r\n                    marginTop: 10,\r\n                    color: \"#888888\",\r\n                  }}\r\n                >\r\n                  Agreement to this invoice represents that client understands\r\n                  our refund policy and terms and condition as stated in our\r\n                  website ergoseatings.com and ergoseatings.com.hk\r\n                </Text>\r\n                <Text\r\n                  style={{\r\n                    fontSize: 10,\r\n                    lineHeight: 1.2,\r\n                    marginTop: 10,\r\n                    color: \"#888888\",\r\n                  }}\r\n                >\r\n                  Initials: _________________\r\n                </Text>\r\n                <Text\r\n                  style={{\r\n                    fontSize: 12,\r\n                    lineHeight: 1.2,\r\n                    marginTop: 12,\r\n                    fontWeight: \"bold\",\r\n                    textAlign: \"center\",\r\n                  }}\r\n                >\r\n                  Thank you for your business!\r\n                </Text>\r\n              </Page>\r\n            </Document>\r\n          }\r\n          fileName=\"somename.pdf\"\r\n        >\r\n          {({ _blob, _url, loading, _error }) =>\r\n            loading ? \"Loading document...\" : \"Download now!\"\r\n          }\r\n        </PDFDownloadLink>\r\n      )}\r\n      <PDFViewer height=\"100%\">\r\n        <Document>\r\n          <Page style={styles.body} wrap>\r\n            <View style={styles.header}>\r\n              <View>\r\n                <Text style={styles.title}>Invoice</Text>\r\n                <Text>Date: {getDateString(order.createdAt)}</Text>\r\n                <Text>\r\n                  {`No: I-${order.Seller.prefix}${new Date(\r\n                    order.createdAt\r\n                  ).getFullYear()}-${(\"000\" + order.invoiceNum).substr(-3)}`}\r\n                </Text>\r\n              </View>\r\n              <View style={styles.logo}>\r\n                <Image src={logoTitle} />\r\n              </View>\r\n            </View>\r\n            <View style={styles.info}>\r\n              <View style={styles.companyInfo}>\r\n                <Text>Blueocean International (HK) Ltd.</Text>\r\n                <Text>23/F</Text>\r\n                <Text>Lockhart Centre</Text>\r\n                <Text>301-307 Lockhart Rd</Text>\r\n                <Text>Wanchai, Hong Kong</Text>\r\n                <Text>Tel: 2169 3337</Text>\r\n                <Text>\r\n                  Email:{\" \"}\r\n                  <Tspan style={styles.email}>info@ergoseatings.com</Tspan>\r\n                </Text>\r\n              </View>\r\n              <View style={styles.clientInfo}>\r\n                <Text>Client's Name: {order.name}</Text>\r\n                {order.unit ? <Text>Unit {order.unit}</Text> : null}\r\n                {order.floor ? <Text>Floor {order.floor}</Text> : null}\r\n                {order.block ? <Text>Block {order.block}</Text> : null}\r\n                <Text>{order.street}</Text>\r\n                <Text>{order.district}</Text>\r\n                <Text>Phone: {order.phone}</Text>\r\n                <Text>\r\n                  Email: <Tspan style={styles.email}>{order.email}</Tspan>\r\n                </Text>\r\n              </View>\r\n            </View>\r\n            <View style={styles.table}>\r\n              {[\r\n                {\r\n                  cells: [\r\n                    { content: \"Salesperson\", width: \"15%\" },\r\n                    { content: \"Estimated Delivery Date\", width: \"55%\" },\r\n                    { content: \"Payment Terms\", width: \"15%\" },\r\n                    { content: \"Due Date\", textAlign: \"right\", width: \"15%\" },\r\n                  ],\r\n                  backgroundColor: \"#dbe5f1\",\r\n                  textTransform: \"uppercase\",\r\n                },\r\n                {\r\n                  cells: [\r\n                    {\r\n                      content: `${order.Seller.firstName} ${order.Seller.lastName}`,\r\n                      width: \"15%\",\r\n                    },\r\n                    {\r\n                      content:\r\n                        (order.timeLine % 7 === 0\r\n                          ? `Est ${order.timeLine / 7} working week${\r\n                              order.timeLine / 7 === 1 ? \"\" : \"s\"\r\n                            } after payment`\r\n                          : `Est ${order.timeLine} working day${\r\n                              order.timeLine === 1 ? \"\" : \"s\"\r\n                            } after payment`) + '\\n' + `${order.remark}`,\r\n                      width: \"55%\",\r\n                    },\r\n                    { content: order.paymentTerms, width: \"15%\" },\r\n                    {\r\n                      content: order.paid ? \"Paid\" : order.dueDate,\r\n                      textAlign: \"right\",\r\n                      width: \"15%\",\r\n                    },\r\n                  ],\r\n                },\r\n              ].map(({ cells, ...rowRestProps }, rowIndex, rowArr) => (\r\n                <View\r\n                  key={rowIndex}\r\n                  style={[\r\n                    styles.tableRow,\r\n                    {\r\n                      borderBottom:\r\n                        rowIndex === rowArr.length - 1 ? \"none\" : null,\r\n                      ...rowRestProps,\r\n                    },\r\n                  ]}\r\n                >\r\n                  {cells.map(\r\n                    ({ content, width, ...cellRestProps }, index, cellArr) => (\r\n                      <Text\r\n                        key={index}\r\n                        style={[\r\n                          styles.tableColumn,\r\n                          {\r\n                            borderRight:\r\n                              index === cellArr.length - 1 ? \"none\" : null,\r\n                            flexBasis: width,\r\n                            maxWidth: width,\r\n                            ...cellRestProps,\r\n                          },\r\n                        ]}\r\n                      >\r\n                        {content}\r\n                      </Text>\r\n                    )\r\n                  )}\r\n                </View>\r\n              ))}\r\n            </View>\r\n            <View style={styles.table}>\r\n              {[\r\n                {\r\n                  cells: [\r\n                    { content: \"QTY\", width: \"15%\" },\r\n                    { content: \"Description\", width: \"55%\" },\r\n                    { content: \"Unit Price\", width: \"15%\" },\r\n                    {\r\n                      content: \"Line Total (HKD)\",\r\n                      textAlign: \"right\",\r\n                      width: \"15%\",\r\n                    },\r\n                  ],\r\n                  backgroundColor: \"#dbe5f1\",\r\n                  textTransform: \"uppercase\",\r\n                },\r\n                ...order.ChairStocks.map((item) => ({\r\n                  cells: [\r\n                    {\r\n                      content: `${item.ChairToOrder.qty}`,\r\n                      width: \"15%\",\r\n                    },\r\n                    {\r\n                      content: `Chair Brand: ${item.brand}\r\n                        Chair Model: ${item.model}\r\n                        ${item.withHeadrest ? \"With Headrest\" : \"Without Headrest\"}\r\n                        ${item.withAdArmrest ? \"With Adjustable Armrest\" : \"Without Adjustable Armrest\"}\r\n                        Specification: ${item.ChairToOrder.remark}\r\n                        Other Remark: ${item.remark}\r\n                        ${JSON.parse(item.ChairToOrder.deliveryOption)}\r\n                        `,\r\n                      width: \"55%\",\r\n                    },\r\n                    {\r\n                      content: `${item.ChairToOrder.unitPrice}`,\r\n                      textAlign: \"right\",\r\n                      width: \"15%\",\r\n                    },\r\n                    {\r\n                      content: `${\r\n                        item.ChairToOrder.unitPrice * item.ChairToOrder.qty\r\n                      }`,\r\n                      textAlign: \"right\",\r\n                      width: \"15%\",\r\n                    },\r\n                  ],\r\n                })),\r\n                ...order.DeskToOrders.map((item) => ({\r\n                  cells: [\r\n                    {\r\n                      content: `${item.qty}`,\r\n                      width: \"15%\",\r\n                    },\r\n                    {\r\n                      content: `Desk Model: ${\r\n                            order.DeskStocks.find(\r\n                              (stock) => stock.id === item.stockId\r\n                            ).model\r\n                          }\r\n                        Color of Legs: ${\r\n                          order.DeskStocks.find(\r\n                            (stock) => stock.id === item.stockId\r\n                          ).color\r\n                        }\r\n                        ArmSize: ${\r\n                          order.DeskStocks.find(\r\n                            (stock) => stock.id === item.stockId\r\n                          ).armSize\r\n                        }\r\n                        FeetSize: ${\r\n                          order.DeskStocks.find(\r\n                            (stock) => stock.id === item.stockId\r\n                          ).feetSize\r\n                        }\r\n                        Beam Size: ${\r\n                          order.DeskStocks.find(\r\n                            (stock) => stock.id === item.stockId\r\n                          ).beamSize\r\n                        }\r\n                        ${\r\n                          item.hasDeskTop\r\n                            ? `Table Top: ${item.topMaterial}\r\n                              Table Top Size: ${item.topLength}x${item.topWidth}x${\r\n                                item.topThickness\r\n                              }\r\n                              Table Top Color: ${item.topColor} ${\r\n                                item.topRoundedCorners === 0\r\n                                  ? \"\"\r\n                                  : `\\nRounded Corners: ${item.topRoundedCorners}, Radius: R${item.topCornerRadius}`\r\n                              } ${\r\n                                item.topHoleCount === 0\r\n                                  ? \"\"\r\n                                  : `\\nHoles Required: ${item.topHoleCount}, Hole Position: ${item.topHolePosition}, Holes Shaped: ${item.topHoleType}`\r\n                              }\r\n                              Specification: ${item.remark}\r\n                              Other Remark: ${order.DeskStocks.find(\r\n                                (stock) => stock.id === item.stockId\r\n                              ).remark}`\r\n                            : \"Without DeskTop\"\r\n                        }\r\n                    ${JSON.parse(item.deliveryOption)}`,\r\n                      width: \"55%\",\r\n                    },\r\n                    {\r\n                      content: `${item.unitPrice}`,\r\n                      textAlign: \"right\",\r\n                      width: \"15%\",\r\n                    },\r\n                    {\r\n                      content: `${item.unitPrice * item.qty}`,\r\n                      textAlign: \"right\",\r\n                      width: \"15%\",\r\n                    },\r\n                  ],\r\n                })),\r\n                ...order.AccessoryStocks.map((item) => ({\r\n                  cells: [\r\n                    {\r\n                      content: `${item.AccessoryToOrder.qty}`,\r\n                      width: \"15%\",\r\n                    },\r\n                    {\r\n                      content: `${item.name}\\nAccessory Category: ${\r\n                        item.category\r\n                      }\r\n                      Specification: ${item.AccessoryToOrder.remark}\r\n                      Other Remark: ${item.remark}\r\n                      ${JSON.parse(\r\n                        item.AccessoryToOrder.deliveryOption\r\n                      )}`,\r\n                      width: \"55%\",\r\n                    },\r\n                    {\r\n                      content: `${item.AccessoryToOrder.unitPrice}`,\r\n                      textAlign: \"right\",\r\n                      width: \"15%\",\r\n                    },\r\n                    {\r\n                      content: `${\r\n                        item.AccessoryToOrder.unitPrice *\r\n                        item.AccessoryToOrder.qty\r\n                      }`,\r\n                      textAlign: \"right\",\r\n                      width: \"15%\",\r\n                    },\r\n                  ],\r\n                })),\r\n                ...order.ServiceToOrders.map((item) => ({\r\n                  cells: [\r\n                    {\r\n                      content: \"1\",\r\n                      width: \"15%\",\r\n                    },\r\n                    {\r\n                      content: `${item.description}`,\r\n                      width: \"55%\",\r\n                    },\r\n                    {\r\n                      content: `${item.price}`,\r\n                      textAlign: \"right\",\r\n                      width: \"15%\",\r\n                    },\r\n                    {\r\n                      content: `${item.price}`,\r\n                      textAlign: \"right\",\r\n                      width: \"15%\",\r\n                    },\r\n                  ],\r\n                })),\r\n                ...Array(\r\n                  Math.max(\r\n                    0,\r\n                    6 -\r\n                      order.ChairStocks.length -\r\n                      order.DeskStocks.length -\r\n                      order.AccessoryStocks.length -\r\n                      order.ServiceToOrders.length\r\n                  )\r\n                ).fill({\r\n                  cells: [\r\n                    { content: \"\", width: \"15%\" },\r\n                    { content: \"\", width: \"55%\" },\r\n                    { content: \"\", width: \"15%\" },\r\n                    { content: \"\", width: \"15%\" },\r\n                  ],\r\n                }),\r\n                {\r\n                  cells: [\r\n                    {\r\n                      content: ``,\r\n                      width: \"70%\",\r\n                      fontSize: 12,\r\n                    },\r\n                    { content: \"SUBTOTAL\", width: \"15%\" },\r\n                    {\r\n                      content: `${\r\n                        (order.ChairStocks.length\r\n                          ? order.ChairStocks.map(\r\n                              (item) =>\r\n                                item.ChairToOrder.unitPrice *\r\n                                item.ChairToOrder.qty\r\n                            ).reduce((acc, cur) => acc + cur)\r\n                          : 0) +\r\n                        (order.DeskToOrders.length\r\n                          ? order.DeskToOrders.map(\r\n                              (item) => item.unitPrice * item.qty\r\n                            ).reduce((acc, cur) => acc + cur)\r\n                          : 0) +\r\n                        (order.AccessoryStocks.length\r\n                          ? order.AccessoryStocks.map(\r\n                              (item) =>\r\n                                item.AccessoryToOrder.unitPrice *\r\n                                item.AccessoryToOrder.qty\r\n                            ).reduce((acc, cur) => acc + cur)\r\n                          : 0) +\r\n                        (order.ServiceToOrders.length\r\n                          ? order.ServiceToOrders.map(\r\n                              (item) => item.price\r\n                            ).reduce((acc, cur) => acc + cur)\r\n                          : 0)\r\n                      }`,\r\n                      textAlign: \"right\",\r\n                      width: \"15%\",\r\n                      borderBottom: \"0.5px solid #808080\",\r\n                    },\r\n                  ],\r\n                  borderBottom: \"none\",\r\n                },\r\n                {\r\n                  cells: [\r\n                    {\r\n                      content: ``,\r\n                      width: \"70%\",\r\n                      fontSize: 12,\r\n                    },\r\n                    { content: \"DISCOUNT\", width: \"15%\" },\r\n                    {\r\n                      content: `${\r\n                        order.discountType\r\n                          ? order.discount\r\n                          : (((order.ChairStocks.length\r\n                              ? order.ChairStocks.map(\r\n                                  (item) =>\r\n                                    item.ChairToOrder.unitPrice *\r\n                                    item.ChairToOrder.qty\r\n                                ).reduce((acc, cur) => acc + cur)\r\n                              : 0) +\r\n                              (order.DeskStocks.length\r\n                                ? order.DeskStocks.map(\r\n                                    (item) =>\r\n                                      item.DeskToOrder.unitPrice *\r\n                                      item.DeskToOrder.qty\r\n                                  ).reduce((acc, cur) => acc + cur)\r\n                                : 0) +\r\n                              (order.AccessoryStocks.length\r\n                                ? order.AccessoryStocks.map(\r\n                                    (item) =>\r\n                                      item.AccessoryToOrder.unitPrice *\r\n                                      item.AccessoryToOrder.qty\r\n                                  ).reduce((acc, cur) => acc + cur)\r\n                                : 0)) *\r\n                              order.discount) /\r\n                            100\r\n                      }`,\r\n                      textAlign: \"right\",\r\n                      width: \"15%\",\r\n                      borderBottom: \"0.5px solid #808080\",\r\n                    },\r\n                  ],\r\n                  borderBottom: \"none\",\r\n                },\r\n                {\r\n                  cells: [\r\n                    {\r\n                      content: ``,\r\n                      width: \"70%\",\r\n                      fontSize: 12,\r\n                    },\r\n                    { content: \"SURCHARGE\", width: \"15%\" },\r\n                    {\r\n                      content: `${\r\n                        order.surchargeType\r\n                          ? order.surcharge\r\n                          : (((order.ChairStocks.length\r\n                              ? order.ChairStocks.map(\r\n                                  (item) =>\r\n                                    item.ChairToOrder.unitPrice *\r\n                                    item.ChairToOrder.qty\r\n                                ).reduce((acc, cur) => acc + cur)\r\n                              : 0) +\r\n                              (order.DeskStocks.length\r\n                                ? order.DeskStocks.map(\r\n                                    (item) =>\r\n                                      item.DeskToOrder.unitPrice *\r\n                                      item.DeskToOrder.qty\r\n                                  ).reduce((acc, cur) => acc + cur)\r\n                                : 0) +\r\n                              (order.AccessoryStocks.length\r\n                                ? order.AccessoryStocks.map(\r\n                                    (item) =>\r\n                                      item.AccessoryToOrder.unitPrice *\r\n                                      item.AccessoryToOrder.qty\r\n                                  ).reduce((acc, cur) => acc + cur)\r\n                                : 0)) *\r\n                              order.surcharge) /\r\n                            100\r\n                      }`,\r\n                      textAlign: \"right\",\r\n                      width: \"15%\",\r\n                      borderBottom: \"0.5px solid #808080\",\r\n                    },\r\n                  ],\r\n                  borderBottom: \"none\",\r\n                },\r\n                {\r\n                  cells: [\r\n                    {\r\n                      content: ``,\r\n                      width: \"70%\",\r\n                      fontSize: 12,\r\n                    },\r\n                    { content: \"TOTAL\", width: \"15%\" },\r\n                    {\r\n                      content: `${\r\n                        (order.ChairStocks.length\r\n                          ? order.ChairStocks.map(\r\n                              (item) =>\r\n                                item.ChairToOrder.unitPrice *\r\n                                item.ChairToOrder.qty\r\n                            ).reduce((acc, cur) => acc + cur)\r\n                          : 0) +\r\n                        (order.DeskToOrders.length\r\n                          ? order.DeskToOrders.map(\r\n                              (item) => item.unitPrice * item.qty\r\n                            ).reduce((acc, cur) => acc + cur)\r\n                          : 0) +\r\n                        (order.AccessoryStocks.length\r\n                          ? order.AccessoryStocks.map(\r\n                              (item) =>\r\n                                item.AccessoryToOrder.unitPrice *\r\n                                item.AccessoryToOrder.qty\r\n                            ).reduce((acc, cur) => acc + cur)\r\n                          : 0) +\r\n                        (order.ServiceToOrders.length\r\n                          ? order.ServiceToOrders.map(\r\n                              (item) => item.price\r\n                            ).reduce((acc, cur) => acc + cur)\r\n                          : 0) -\r\n                        (order.discountType\r\n                          ? order.discount\r\n                          : (((order.ChairStocks.length\r\n                              ? order.ChairStocks.map(\r\n                                  (item) =>\r\n                                    item.ChairToOrder.unitPrice *\r\n                                    item.ChairToOrder.qty\r\n                                ).reduce((acc, cur) => acc + cur)\r\n                              : 0) +\r\n                              (order.DeskStocks.length\r\n                                ? order.DeskStocks.map(\r\n                                    (item) =>\r\n                                      item.DeskToOrder.unitPrice *\r\n                                      item.DeskToOrder.qty\r\n                                  ).reduce((acc, cur) => acc + cur)\r\n                                : 0) +\r\n                              (order.AccessoryStocks.length\r\n                                ? order.AccessoryStocks.map(\r\n                                    (item) =>\r\n                                      item.AccessoryToOrder.unitPrice *\r\n                                      item.AccessoryToOrder.qty\r\n                                  ).reduce((acc, cur) => acc + cur)\r\n                                : 0)) *\r\n                              order.discount) /\r\n                            100) +\r\n                        (order.surchargeType\r\n                          ? order.surcharge\r\n                          : (((order.ChairStocks.length\r\n                              ? order.ChairStocks.map(\r\n                                  (item) =>\r\n                                    item.ChairToOrder.unitPrice *\r\n                                    item.ChairToOrder.qty\r\n                                ).reduce((acc, cur) => acc + cur)\r\n                              : 0) +\r\n                              (order.DeskStocks.length\r\n                                ? order.DeskStocks.map(\r\n                                    (item) =>\r\n                                      item.DeskToOrder.unitPrice *\r\n                                      item.DeskToOrder.qty\r\n                                  ).reduce((acc, cur) => acc + cur)\r\n                                : 0) +\r\n                              (order.AccessoryStocks.length\r\n                                ? order.AccessoryStocks.map(\r\n                                    (item) =>\r\n                                      item.AccessoryToOrder.unitPrice *\r\n                                      item.AccessoryToOrder.qty\r\n                                  ).reduce((acc, cur) => acc + cur)\r\n                                : 0)) *\r\n                              order.surcharge) /\r\n                            100)\r\n                      }`,\r\n                      textAlign: \"right\",\r\n                      width: \"15%\",\r\n                    },\r\n                  ],\r\n                },\r\n              ].map(({ cells, ...rowRestProps }, rowIndex, rowArr) => (\r\n                <View\r\n                  key={rowIndex}\r\n                  style={[\r\n                    styles.tableRow,\r\n                    {\r\n                      borderBottom:\r\n                        rowIndex === rowArr.length - 1 ? \"none\" : null,\r\n                      ...rowRestProps,\r\n                    },\r\n                  ]}\r\n                >\r\n                  {cells.map(\r\n                    ({ content, width, ...cellRestProps }, index, cellArr) => (\r\n                      <Text\r\n                        key={index}\r\n                        style={[\r\n                          styles.tableColumn,\r\n                          {\r\n                            borderRight:\r\n                              index === cellArr.length - 1 ? \"none\" : null,\r\n                            flexBasis: width,\r\n                            maxWidth: width,\r\n                            ...cellRestProps,\r\n                          },\r\n                        ]}\r\n                      >\r\n                        {content}\r\n                      </Text>\r\n                    )\r\n                  )}\r\n                </View>\r\n              ))}\r\n              <Text\r\n                style={{\r\n                  fontSize: 12,\r\n                  padding: 3,\r\n                  position: \"absolute\",\r\n                  width: \"70%\",\r\n                  bottom: 45,\r\n                  left: 0,\r\n                }}\r\n              >\r\n                Blueocean International (HK) Ltd.\r\n              </Text>\r\n              <Text\r\n                style={{\r\n                  fontSize: 12,\r\n                  padding: 3,\r\n                  position: \"absolute\",\r\n                  width: \"70%\",\r\n                  bottom: 0,\r\n                  left: 0,\r\n                }}\r\n              >\r\n                NOTE: Please deposit to HSBC 023-472038-838 (bank code: 004,\r\n                Bank address: 1 Queen's Road Central, Hong Kong. SWIFT code:\r\n                HSBCHKHHHKH or FPS: info@ergoseatings.com\r\n              </Text>\r\n            </View>\r\n            {[\r\n              `Should the delivery of goods involved any staircases at the provided location, there will be an additional delivery fee of HK$100 per level to be charged in advance.`,\r\n              `If you have special assembling requirements, please let us know prior to delivery.  Otherwise, all chairs will be assembled before delivery and all desks will be assembled on site.`,\r\n              `If the delivery address is located in a remote area within Hong Kong, we reserve the rights to charge the client extra for delivery charges.  In such cases, we will provide a quotation upon investigation of the detailed address.  Client will be notified of such extra cost prior to delivery.`,\r\n              `Delivery date for pre-orders stated above is an estimate only. While we will try our best to deliver the products as soon as possible, the actual delivery date may be adjusted depending on actual freight schedule. We do NOT accept refund in case of delay arising from delivery delay.`,\r\n              `You understand that pre-orders are non-refundable.  Decision to switch to another product after purchase can only be treated as store credits. `,\r\n              `You understand that a late payment penalty of 2% Interest Rate per month maybe charged for overdue payment`,\r\n            ].map((text, index) => (\r\n              <View\r\n                key={index}\r\n                style={{ flexDirection: \"row\", margin: \"5px 0\" }}\r\n              >\r\n                <View\r\n                  style={{\r\n                    width: 2,\r\n                    fontSize: 10,\r\n                    lineHeight: 1.2,\r\n                    margin: \"0 10px 0 0\",\r\n                    color: \"#888888\",\r\n                  }}\r\n                >\r\n                  <Text></Text>\r\n                </View>\r\n                <View\r\n                  style={{\r\n                    flexGrow: 1,\r\n                    fontSize: 10,\r\n                    lineHeight: 1.2,\r\n                    color: \"#888888\",\r\n                  }}\r\n                >\r\n                  <Text>{text}</Text>\r\n                </View>\r\n              </View>\r\n            ))}\r\n            <Text\r\n              style={{\r\n                marginTop: \"5px\",\r\n                fontSize: 10,\r\n                lineHeight: 1.2,\r\n                color: \"#888888\",\r\n              }}\r\n            >\r\n              The warranty is effective from the date of purchase from Blueocean\r\n              International (HK) Ltd by the original purchaser. Such warranty\r\n              applies under the following terms and conditions and is covered by\r\n              the original manufacturers for specific period stated:\r\n            </Text>\r\n            {[\r\n              `Nightingale chairs: 5 years for defective parts under regular usage, by Nightingale Corp.`,\r\n              `Allseating chairs:  5 years for defective parts under regular usage, by Allseating Corp.`,\r\n              `Standing desks: 5 years by manufacturer`,\r\n              `Okamura chairs:  5 years for defective parts under regular usage, by Okamura Salotto HK Ltd.`,\r\n              `10 years for structural defective parts, under regular usage by Okamura Salotto HK Ltd, for details please refer to our website FAQ section.`,\r\n              `Bestuhl chairs: 3 years for defective parts under regular usage, by Bestuhl Co. Ltd.`,\r\n              `Duorest chairs: 3 years for defective parts under regular usage, by Duoback Co. Ltd.`,\r\n              `Wagner chairs: 5 years for defective parts under regular usage, by Topstar GMBH`,\r\n              `Topstar chairs: 3 years for defective parts under regular usage, by Topstar GMBH`,\r\n              `Ergohuman chairs: 2 years for defective parts under regular usage, by manufacturer`,\r\n              // `HAG chairs: 2 years for defective parts under regular usage, by manufacturer`,\r\n              `Atlas Headrest, 3 years for defective parts under regular usage, by Back Foley LLC`,\r\n            ].map((text, index) => (\r\n              <View\r\n                key={index}\r\n                style={{ flexDirection: \"row\", marginLeft: \"10px\" }}\r\n              >\r\n                <View\r\n                  style={{\r\n                    width: 2,\r\n                    fontSize: 10,\r\n                    lineHeight: 1.2,\r\n                    margin: \"0 10px 0 0\",\r\n                    color: \"#888888\",\r\n                  }}\r\n                >\r\n                  <Text></Text>\r\n                </View>\r\n                <View\r\n                  style={{\r\n                    flexGrow: 1,\r\n                    fontSize: 10,\r\n                    lineHeight: 1.2,\r\n                    color: \"#888888\",\r\n                  }}\r\n                >\r\n                  <Text>{text}</Text>\r\n                </View>\r\n              </View>\r\n            ))}\r\n            <Text\r\n              style={{\r\n                fontSize: 10,\r\n                marginTop: 10,\r\n                lineHeight: 1.2,\r\n                color: \"#888888\",\r\n              }}\r\n            >\r\n              Claiming of any aforementioned warranties only covers replacement\r\n              of the defective or broken parts only and does not include the\r\n              following cost, which shall be borne by the claimant. A quotation\r\n              will be provided in advance for approval by the claimant: 1) labor\r\n              costs of technician for replacing the parts; 2) transportation\r\n              costs incurred for sending the product(s) to our company and\r\n              delivering back to the claimant from our shop after service. I,\r\n              the undersigned, have read and understand these policies and agree\r\n              to all the above.\r\n            </Text>\r\n            <Text\r\n              style={{\r\n                fontSize: 10,\r\n                lineHeight: 1.2,\r\n                marginTop: 10,\r\n                color: \"#888888\",\r\n              }}\r\n            >\r\n              Agreement to this invoice represents that client understands our\r\n              refund policy and terms and condition as stated in our website\r\n              ergoseatings.com and ergoseatings.com.hk\r\n            </Text>\r\n            <Text\r\n              style={{\r\n                fontSize: 10,\r\n                lineHeight: 1.2,\r\n                marginTop: 10,\r\n                color: \"#888888\",\r\n              }}\r\n            >\r\n              Initials: _________________\r\n            </Text>\r\n            <Text\r\n              style={{\r\n                fontSize: 12,\r\n                lineHeight: 1.2,\r\n                marginTop: 12,\r\n                fontWeight: \"bold\",\r\n                textAlign: \"center\",\r\n              }}\r\n            >\r\n              Thank you for your business!\r\n            </Text>\r\n          </Page>\r\n        </Document>\r\n      </PDFViewer>\r\n    </Fragment>\r\n  ) : (\r\n    <Backdrop\r\n      sx={{ color: \"#fff\", zIndex: (theme) => theme.zIndex.drawer + 1 }}\r\n      open={true}\r\n    >\r\n      <WarningIcon />\r\n      <Typography>This url is not a valid invoice url.</Typography>\r\n    </Backdrop>\r\n  );\r\n});\r\n","export default __webpack_public_path__ + \"static/media/receipt_logo.15fa4131.png\";","import React, { useEffect, useState, Fragment } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport {\r\n  Document,\r\n  Image,\r\n  Font,\r\n  Page,\r\n  PDFViewer,\r\n  Text,\r\n  StyleSheet,\r\n  View,\r\n  Tspan,\r\n  PDFDownloadLink,\r\n} from \"@react-pdf/renderer\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\nimport { Warning as WarningIcon } from \"@mui/icons-material\";\r\nimport { Backdrop, CircularProgress, Typography } from \"@mui/material\";\r\n\r\nimport microsoft_yahei from \"fonts/chinese.msyh.ttf\";\r\nimport logoTitle from \"images/logo_title.png\";\r\nimport receiptLogo from \"images/receipt_logo.png\";\r\n\r\nconst styles = StyleSheet.create({\r\n  body: {\r\n    paddingTop: 35,\r\n    paddingBottom: 65,\r\n    paddingHorizontal: 35,\r\n  },\r\n  header: {\r\n    width: \"100%\",\r\n    fontSize: 8,\r\n    lineHeight: 1.2,\r\n    marginBottom: 40,\r\n    flexDirection: \"row\",\r\n    alignItems: \"center\",\r\n  },\r\n  title: {\r\n    fontFamily: \"Microsoft Yahei\",\r\n    fontSize: 15,\r\n    marginBottom: 10,\r\n    textTransform: \"uppercase\",\r\n  },\r\n  logo: {\r\n    marginLeft: \"auto\",\r\n    width: 50,\r\n  },\r\n  info: {\r\n    flexDirection: \"row\",\r\n    marginBottom: 10,\r\n  },\r\n  companyInfo: {\r\n    fontFamily: \"Microsoft Yahei\",\r\n    fontSize: 8,\r\n    width: 200,\r\n    paddingRight: 10,\r\n    lineHeight: 1.2,\r\n  },\r\n  clientInfo: {\r\n    fontFamily: \"Microsoft Yahei\",\r\n    fontSize: 8,\r\n    width: 200,\r\n    paddingRight: 10,\r\n    lineHeight: 1.2,\r\n  },\r\n  receiptLogo: {\r\n    width: 70,\r\n    marginLeft: 10,\r\n  },\r\n  note: {\r\n    flexDirection: \"row\",\r\n  },\r\n  email: {\r\n    color: \"#0000ff\",\r\n    textDecoration: \"underline\",\r\n  },\r\n  subtitle: {\r\n    fontSize: 18,\r\n    margin: 12,\r\n    fontWeight: 100,\r\n    fontFamily: \"Microsoft Yahei\",\r\n  },\r\n  text: {\r\n    margin: 12,\r\n    fontSize: 14,\r\n    textAlign: \"justify\",\r\n    fontFamily: \"Times-Roman\",\r\n  },\r\n  table: {\r\n    fontSize: 8,\r\n    marginBottom: 10,\r\n    border: \"0.5px solid #808080\",\r\n  },\r\n  tableRow: {\r\n    fontSize: 8,\r\n    borderBottom: \"0.5px solid #808080\",\r\n    flexDirection: \"row\",\r\n    minHeight: 15,\r\n    fontFamily: \"Microsoft Yahei\",\r\n  },\r\n  tableColumn: {\r\n    flex: 1,\r\n    padding: \"3px 5px\",\r\n    borderRight: \"0.5px solid #808080\",\r\n  },\r\n});\r\n\r\nFont.register({\r\n  family: \"Microsoft Yahei\",\r\n  src: microsoft_yahei,\r\n});\r\n\r\nconst monthNames = [\r\n  \"January\",\r\n  \"February\",\r\n  \"March\",\r\n  \"April\",\r\n  \"May\",\r\n  \"June\",\r\n  \"July\",\r\n  \"August\",\r\n  \"September\",\r\n  \"October\",\r\n  \"November\",\r\n  \"December\",\r\n];\r\n\r\nconst mapStateToProps = (state) => {\r\n  const loading = state.loading.value;\r\n  return { loading };\r\n};\r\n\r\nexport default connect(mapStateToProps)((props) => {\r\n  const { loading } = props;\r\n  const [success, setSuccess] = useState(false);\r\n  const [order, setOrder] = useState({\r\n    Seller: {},\r\n    ChairStocks: [],\r\n    DeskStocks: [],\r\n    AccessoryStocks: [],\r\n    ServiceToOrders: [],\r\n    DeskToOrders: [],\r\n  });\r\n  const { id } = useParams();\r\n  useEffect(() => {\r\n    const source = axios.CancelToken.source();\r\n    getOrder({ id, cancelToken: source.token });\r\n    return () => source.cancel(\"Brand Component got unmounted\");\r\n  }, [id]);\r\n\r\n  const getDateString = (time) => {\r\n    const tmp = new Date(time);\r\n    return `${\r\n      monthNames[tmp.getMonth()]\r\n    } ${tmp.getDate()}, ${tmp.getFullYear()}`;\r\n  };\r\n\r\n  const getOrder = ({ id, cancelToken }) => {\r\n    axios\r\n      .get(`/sales/${id}`, { cancelToken })\r\n      .then((response) => {\r\n        // handle success\r\n        setSuccess(true);\r\n        setOrder(response.data);\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        setSuccess(false);\r\n      });\r\n  };\r\n\r\n  return loading ? (\r\n    <Backdrop\r\n      sx={{ color: \"#fff\", zIndex: (theme) => theme.zIndex.drawer + 1 }}\r\n      open={true}\r\n    >\r\n      <CircularProgress color=\"inherit\" />\r\n    </Backdrop>\r\n  ) : success ? (\r\n    <Fragment>\r\n      {/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(\r\n        navigator.userAgent\r\n      ) && (\r\n        <PDFDownloadLink\r\n          document={\r\n            <Document>\r\n              <Page style={styles.body} wrap>\r\n                <View style={styles.header}>\r\n                  <View>\r\n                    <Text style={styles.title}>Receipt</Text>\r\n                    <Text>Date: {getDateString(order.createdAt)}</Text>\r\n                    <Text>\r\n                      {`No: I-${order.Seller.prefix}${new Date(\r\n                        order.createdAt\r\n                      ).getFullYear()}-${(\"000\" + order.invoiceNum).substr(\r\n                        -3\r\n                      )}`}\r\n                    </Text>\r\n                  </View>\r\n                  <View style={styles.logo}>\r\n                    <Image src={logoTitle} />\r\n                  </View>\r\n                </View>\r\n                <View style={styles.info}>\r\n                  <View style={styles.companyInfo}>\r\n                    <Text>Blueocean International (HK) Ltd.</Text>\r\n                    <Text>19/F</Text>\r\n                    <Text>Bel Trade Commercial Building</Text>\r\n                    <Text>3 Burrows Street</Text>\r\n                    <Text>Wanchai, Hong Kong</Text>\r\n                    <Text>Tel: 2169 3337</Text>\r\n                    <Text>\r\n                      Email:{\" \"}\r\n                      <Tspan style={styles.email}>info@ergoseatings.com</Tspan>\r\n                    </Text>\r\n                  </View>\r\n                  <View style={styles.clientInfo}>\r\n                    <Text>Client's Name: {order.name}</Text>\r\n                    {order.unit ? <Text>Unit {order.unit}</Text> : null}\r\n                    {order.floor ? <Text>Floor {order.floor}</Text> : null}\r\n                    {order.block ? <Text>Block {order.block}</Text> : null}\r\n                    <Text>{order.street}</Text>\r\n                    <Text>{order.district}</Text>\r\n                    <Text>Phone: {order.phone}</Text>\r\n                    <Text>\r\n                      Email: <Tspan style={styles.email}>{order.email}</Tspan>\r\n                    </Text>\r\n                  </View>\r\n                </View>\r\n                <View style={styles.table}>\r\n                  {[\r\n                    {\r\n                      cells: [\r\n                        { content: \"Salesperson\", width: \"15%\" },\r\n                        { content: \"Estimated Delivery Date\", width: \"55%\" },\r\n                        { content: \"Payment Terms\", width: \"15%\" },\r\n                        {\r\n                          content: \"Due Date\",\r\n                          textAlign: \"right\",\r\n                          width: \"15%\",\r\n                        },\r\n                      ],\r\n                      backgroundColor: \"#dbe5f1\",\r\n                      textTransform: \"uppercase\",\r\n                    },\r\n                    {\r\n                      cells: [\r\n                        {\r\n                          content: `${order.Seller.firstName} ${order.Seller.lastName}`,\r\n                          width: \"15%\",\r\n                        },\r\n                        {\r\n                          content:\r\n                            order.timeLine % 7 === 0\r\n                              ? `Est ${order.timeLine / 7} working week${\r\n                                  order.timeLine / 7 === 1 ? \"\" : \"s\"\r\n                                } after payment`\r\n                              : `Est ${order.timeLine} working day${\r\n                                  order.timeLine === 1 ? \"\" : \"s\"\r\n                                } after payment`,\r\n                          width: \"55%\",\r\n                        },\r\n                        { content: order.paymentTerms, width: \"15%\" },\r\n                        {\r\n                          content: order.paid ? \"Paid\" : order.dueDate,\r\n                          textAlign: \"right\",\r\n                          width: \"15%\",\r\n                        },\r\n                      ],\r\n                    },\r\n                  ].map(({ cells, ...rowRestProps }, rowIndex, rowArr) => (\r\n                    <View\r\n                      key={rowIndex}\r\n                      style={[\r\n                        styles.tableRow,\r\n                        {\r\n                          borderBottom:\r\n                            rowIndex === rowArr.length - 1 ? \"none\" : null,\r\n                          ...rowRestProps,\r\n                        },\r\n                      ]}\r\n                    >\r\n                      {cells.map(\r\n                        (\r\n                          { content, width, ...cellRestProps },\r\n                          index,\r\n                          cellArr\r\n                        ) => (\r\n                          <Text\r\n                            key={index}\r\n                            style={[\r\n                              styles.tableColumn,\r\n                              {\r\n                                borderRight:\r\n                                  index === cellArr.length - 1 ? \"none\" : null,\r\n                                flexBasis: width,\r\n                                maxWidth: width,\r\n                                ...cellRestProps,\r\n                              },\r\n                            ]}\r\n                          >\r\n                            {content}\r\n                          </Text>\r\n                        )\r\n                      )}\r\n                    </View>\r\n                  ))}\r\n                </View>\r\n                <View style={styles.table}>\r\n                  {[\r\n                    {\r\n                      cells: [\r\n                        { content: \"QTY\", width: \"15%\" },\r\n                        { content: \"Description\", width: \"55%\" },\r\n                        { content: \"Unit Price\", width: \"15%\" },\r\n                        {\r\n                          content: \"Line Total (HKD)\",\r\n                          textAlign: \"right\",\r\n                          width: \"15%\",\r\n                        },\r\n                      ],\r\n                      backgroundColor: \"#dbe5f1\",\r\n                      textTransform: \"uppercase\",\r\n                    },\r\n                    ...order.ChairStocks.map((item) => ({\r\n                      cells: [\r\n                        {\r\n                          content: `${item.ChairToOrder.qty}`,\r\n                          width: \"15%\",\r\n                        },\r\n                        {\r\n                          content: `Chair Brand: ${item.brand}\\nChair Model: ${\r\n                            item.model\r\n                          }\\n${\r\n                            item.withHeadrest\r\n                              ? \"With Headrest\"\r\n                              : \"Without Headrest\"\r\n                          }\\n${\r\n                            item.withAdArmrest\r\n                              ? \"With Adjustable Armrest\"\r\n                              : \"Without Adjustable Armrest\"\r\n                          }\\nRemark: ${item.ChairToOrder.remark}\\n${JSON.parse(\r\n                            item.ChairToOrder.deliveryOption\r\n                          )}`,\r\n                          width: \"55%\",\r\n                        },\r\n                        {\r\n                          content: `${item.ChairToOrder.unitPrice}`,\r\n                          textAlign: \"right\",\r\n                          width: \"15%\",\r\n                        },\r\n                        {\r\n                          content: `${\r\n                            item.ChairToOrder.unitPrice * item.ChairToOrder.qty\r\n                          }`,\r\n                          textAlign: \"right\",\r\n                          width: \"15%\",\r\n                        },\r\n                      ],\r\n                    })),\r\n                    ...order.DeskToOrders.map((item) => ({\r\n                      cells: [\r\n                        {\r\n                          content: `${item.qty}`,\r\n                          width: \"15%\",\r\n                        },\r\n                        {\r\n                          content: `Desk Model: ${\r\n                            order.DeskStocks.find(\r\n                              (stock) => stock.id === item.stockId\r\n                            ).model\r\n                          }\r\n                    Color of Legs: ${\r\n                      order.DeskStocks.find(\r\n                        (stock) => stock.id === item.stockId\r\n                      ).color\r\n                    }\r\n                    ArmSize: ${\r\n                      order.DeskStocks.find(\r\n                        (stock) => stock.id === item.stockId\r\n                      ).armSize\r\n                    }\r\n                    FeetSize: ${\r\n                      order.DeskStocks.find(\r\n                        (stock) => stock.id === item.stockId\r\n                      ).feetSize\r\n                    }\r\n                    Beam Size: ${\r\n                      order.DeskStocks.find(\r\n                        (stock) => stock.id === item.stockId\r\n                      ).beamSize\r\n                    }\r\n                    ${\r\n                      item.hasDeskTop\r\n                        ? `Table Top: ${item.topMaterial}\r\n                          Table Top Size: ${item.topLength}x${item.topWidth}x${\r\n                            item.topThickness\r\n                          }\r\n                          Table Top Color: ${item.topColor} ${\r\n                            item.topRoundedCorners === 0\r\n                              ? \"\"\r\n                              : `\\nRounded Corners: ${item.topRoundedCorners}, Radius: R${item.topCornerRadius}`\r\n                          } ${\r\n                            item.topHoleCount === 0\r\n                              ? \"\"\r\n                              : `\\nHoles Required: ${item.topHoleCount}, Hole Position: ${item.topHolePosition}, Holes Shaped: ${item.topHoleType}`\r\n                          }\r\n                          Remark: ${item.remark}`\r\n                        : \"Without DeskTop\"\r\n                    }\r\n                    ${JSON.parse(item.deliveryOption)}`,\r\n                          width: \"55%\",\r\n                        },\r\n                        {\r\n                          content: `${item.unitPrice}`,\r\n                          textAlign: \"right\",\r\n                          width: \"15%\",\r\n                        },\r\n                        {\r\n                          content: `${item.unitPrice * item.qty}`,\r\n                          textAlign: \"right\",\r\n                          width: \"15%\",\r\n                        },\r\n                      ],\r\n                    })),\r\n                    ...order.AccessoryStocks.map((item) => ({\r\n                      cells: [\r\n                        {\r\n                          content: `${item.AccessoryToOrder.qty}`,\r\n                          width: \"15%\",\r\n                        },\r\n                        {\r\n                          content: `${item.name}\\nAccessory Category: ${\r\n                            item.category\r\n                          }\\nRemark: ${\r\n                            item.AccessoryToOrder.remark\r\n                          }\\n${JSON.parse(\r\n                            item.AccessoryToOrder.deliveryOption\r\n                          )}`,\r\n                          width: \"55%\",\r\n                        },\r\n                        {\r\n                          content: `${item.AccessoryToOrder.unitPrice}`,\r\n                          textAlign: \"right\",\r\n                          width: \"15%\",\r\n                        },\r\n                        {\r\n                          content: `${\r\n                            item.AccessoryToOrder.unitPrice *\r\n                            item.AccessoryToOrder.qty\r\n                          }`,\r\n                          textAlign: \"right\",\r\n                          width: \"15%\",\r\n                        },\r\n                      ],\r\n                    })),\r\n                    ...order.ServiceToOrders.map((item) => ({\r\n                      cells: [\r\n                        {\r\n                          content: \"1\",\r\n                          width: \"15%\",\r\n                        },\r\n                        {\r\n                          content: `${item.description}`,\r\n                          width: \"55%\",\r\n                        },\r\n                        {\r\n                          content: `${item.price}`,\r\n                          textAlign: \"right\",\r\n                          width: \"15%\",\r\n                        },\r\n                        {\r\n                          content: `${item.price}`,\r\n                          textAlign: \"right\",\r\n                          width: \"15%\",\r\n                        },\r\n                      ],\r\n                    })),\r\n                    ...Array(\r\n                      Math.max(\r\n                        0,\r\n                        6 -\r\n                          order.ChairStocks.length -\r\n                          order.DeskStocks.length -\r\n                          order.AccessoryStocks.length -\r\n                          order.ServiceToOrders.length\r\n                      )\r\n                    ).fill({\r\n                      cells: [\r\n                        { content: \"\", width: \"15%\" },\r\n                        { content: \"\", width: \"55%\" },\r\n                        { content: \"\", width: \"15%\" },\r\n                        { content: \"\", width: \"15%\" },\r\n                      ],\r\n                    }),\r\n                    {\r\n                      cells: [\r\n                        {\r\n                          content: ``,\r\n                          width: \"70%\",\r\n                          fontSize: 12,\r\n                        },\r\n                        { content: \"SUBTOTAL\", width: \"15%\" },\r\n                        {\r\n                          content: `${\r\n                            (order.ChairStocks.length\r\n                              ? order.ChairStocks.map(\r\n                                  (item) =>\r\n                                    item.ChairToOrder.unitPrice *\r\n                                    item.ChairToOrder.qty\r\n                                ).reduce((acc, cur) => acc + cur)\r\n                              : 0) +\r\n                            (order.DeskToOrders.length\r\n                              ? order.DeskToOrders.map(\r\n                                  (item) => item.unitPrice * item.qty\r\n                                ).reduce((acc, cur) => acc + cur)\r\n                              : 0) +\r\n                            (order.AccessoryStocks.length\r\n                              ? order.AccessoryStocks.map(\r\n                                  (item) =>\r\n                                    item.AccessoryToOrder.unitPrice *\r\n                                    item.AccessoryToOrder.qty\r\n                                ).reduce((acc, cur) => acc + cur)\r\n                              : 0) +\r\n                            (order.ServiceToOrders.length\r\n                              ? order.ServiceToOrders.map(\r\n                                  (item) => item.price\r\n                                ).reduce((acc, cur) => acc + cur)\r\n                              : 0)\r\n                          }`,\r\n                          textAlign: \"right\",\r\n                          width: \"15%\",\r\n                          borderBottom: \"0.5px solid #808080\",\r\n                        },\r\n                      ],\r\n                      borderBottom: \"none\",\r\n                    },\r\n                    {\r\n                      cells: [\r\n                        {\r\n                          content: ``,\r\n                          width: \"70%\",\r\n                          fontSize: 12,\r\n                        },\r\n                        { content: \"DISCOUNT\", width: \"15%\" },\r\n                        {\r\n                          content: `${\r\n                            order.discountType\r\n                              ? order.discount\r\n                              : (((order.ChairStocks.length\r\n                                  ? order.ChairStocks.map(\r\n                                      (item) =>\r\n                                        item.ChairToOrder.unitPrice *\r\n                                        item.ChairToOrder.qty\r\n                                    ).reduce((acc, cur) => acc + cur)\r\n                                  : 0) +\r\n                                  (order.DeskStocks.length\r\n                                    ? order.DeskStocks.map(\r\n                                        (item) =>\r\n                                          item.DeskToOrder.unitPrice *\r\n                                          item.DeskToOrder.qty\r\n                                      ).reduce((acc, cur) => acc + cur)\r\n                                    : 0) +\r\n                                  (order.AccessoryStocks.length\r\n                                    ? order.AccessoryStocks.map(\r\n                                        (item) =>\r\n                                          item.AccessoryToOrder.unitPrice *\r\n                                          item.AccessoryToOrder.qty\r\n                                      ).reduce((acc, cur) => acc + cur)\r\n                                    : 0)) *\r\n                                  order.discount) /\r\n                                100\r\n                          }`,\r\n                          textAlign: \"right\",\r\n                          width: \"15%\",\r\n                          borderBottom: \"0.5px solid #808080\",\r\n                        },\r\n                      ],\r\n                      borderBottom: \"none\",\r\n                    },\r\n                    {\r\n                      cells: [\r\n                        {\r\n                          content: ``,\r\n                          width: \"70%\",\r\n                          fontSize: 12,\r\n                        },\r\n                        { content: \"SURCHARGE\", width: \"15%\" },\r\n                        {\r\n                          content: `${\r\n                            order.surchargeType\r\n                              ? order.surcharge\r\n                              : (((order.ChairStocks.length\r\n                                  ? order.ChairStocks.map(\r\n                                      (item) =>\r\n                                        item.ChairToOrder.unitPrice *\r\n                                        item.ChairToOrder.qty\r\n                                    ).reduce((acc, cur) => acc + cur)\r\n                                  : 0) +\r\n                                  (order.DeskStocks.length\r\n                                    ? order.DeskStocks.map(\r\n                                        (item) =>\r\n                                          item.DeskToOrder.unitPrice *\r\n                                          item.DeskToOrder.qty\r\n                                      ).reduce((acc, cur) => acc + cur)\r\n                                    : 0) +\r\n                                  (order.AccessoryStocks.length\r\n                                    ? order.AccessoryStocks.map(\r\n                                        (item) =>\r\n                                          item.AccessoryToOrder.unitPrice *\r\n                                          item.AccessoryToOrder.qty\r\n                                      ).reduce((acc, cur) => acc + cur)\r\n                                    : 0)) *\r\n                                  order.surcharge) /\r\n                                100\r\n                          }`,\r\n                          textAlign: \"right\",\r\n                          width: \"15%\",\r\n                          borderBottom: \"0.5px solid #808080\",\r\n                        },\r\n                      ],\r\n                      borderBottom: \"none\",\r\n                    },\r\n                    {\r\n                      cells: [\r\n                        {\r\n                          content: ``,\r\n                          width: \"70%\",\r\n                          fontSize: 12,\r\n                        },\r\n                        { content: \"TOTAL\", width: \"15%\" },\r\n                        {\r\n                          content: `${\r\n                            (order.ChairStocks.length\r\n                              ? order.ChairStocks.map(\r\n                                  (item) =>\r\n                                    item.ChairToOrder.unitPrice *\r\n                                    item.ChairToOrder.qty\r\n                                ).reduce((acc, cur) => acc + cur)\r\n                              : 0) +\r\n                            (order.DeskToOrders.length\r\n                              ? order.DeskToOrders.map(\r\n                                  (item) => item.unitPrice * item.qty\r\n                                ).reduce((acc, cur) => acc + cur)\r\n                              : 0) +\r\n                            (order.AccessoryStocks.length\r\n                              ? order.AccessoryStocks.map(\r\n                                  (item) =>\r\n                                    item.AccessoryToOrder.unitPrice *\r\n                                    item.AccessoryToOrder.qty\r\n                                ).reduce((acc, cur) => acc + cur)\r\n                              : 0) +\r\n                            (order.ServiceToOrders.length\r\n                              ? order.ServiceToOrders.map(\r\n                                  (item) => item.price\r\n                                ).reduce((acc, cur) => acc + cur)\r\n                              : 0) -\r\n                            (order.discountType\r\n                              ? order.discount\r\n                              : (((order.ChairStocks.length\r\n                                  ? order.ChairStocks.map(\r\n                                      (item) =>\r\n                                        item.ChairToOrder.unitPrice *\r\n                                        item.ChairToOrder.qty\r\n                                    ).reduce((acc, cur) => acc + cur)\r\n                                  : 0) +\r\n                                  (order.DeskStocks.length\r\n                                    ? order.DeskStocks.map(\r\n                                        (item) =>\r\n                                          item.DeskToOrder.unitPrice *\r\n                                          item.DeskToOrder.qty\r\n                                      ).reduce((acc, cur) => acc + cur)\r\n                                    : 0) +\r\n                                  (order.AccessoryStocks.length\r\n                                    ? order.AccessoryStocks.map(\r\n                                        (item) =>\r\n                                          item.AccessoryToOrder.unitPrice *\r\n                                          item.AccessoryToOrder.qty\r\n                                      ).reduce((acc, cur) => acc + cur)\r\n                                    : 0)) *\r\n                                  order.discount) /\r\n                                100) +\r\n                            (order.surchargeType\r\n                              ? order.surcharge\r\n                              : (((order.ChairStocks.length\r\n                                  ? order.ChairStocks.map(\r\n                                      (item) =>\r\n                                        item.ChairToOrder.unitPrice *\r\n                                        item.ChairToOrder.qty\r\n                                    ).reduce((acc, cur) => acc + cur)\r\n                                  : 0) +\r\n                                  (order.DeskStocks.length\r\n                                    ? order.DeskStocks.map(\r\n                                        (item) =>\r\n                                          item.DeskToOrder.unitPrice *\r\n                                          item.DeskToOrder.qty\r\n                                      ).reduce((acc, cur) => acc + cur)\r\n                                    : 0) +\r\n                                  (order.AccessoryStocks.length\r\n                                    ? order.AccessoryStocks.map(\r\n                                        (item) =>\r\n                                          item.AccessoryToOrder.unitPrice *\r\n                                          item.AccessoryToOrder.qty\r\n                                      ).reduce((acc, cur) => acc + cur)\r\n                                    : 0)) *\r\n                                  order.surcharge) /\r\n                                100)\r\n                          }`,\r\n                          textAlign: \"right\",\r\n                          width: \"15%\",\r\n                        },\r\n                      ],\r\n                    },\r\n                  ].map(({ cells, ...rowRestProps }, rowIndex, rowArr) => (\r\n                    <View\r\n                      key={rowIndex}\r\n                      style={[\r\n                        styles.tableRow,\r\n                        {\r\n                          borderBottom:\r\n                            rowIndex === rowArr.length - 1 ? \"none\" : null,\r\n                          ...rowRestProps,\r\n                        },\r\n                      ]}\r\n                    >\r\n                      {cells.map(\r\n                        (\r\n                          { content, width, ...cellRestProps },\r\n                          index,\r\n                          cellArr\r\n                        ) => (\r\n                          <Text\r\n                            key={index}\r\n                            style={[\r\n                              styles.tableColumn,\r\n                              {\r\n                                borderRight:\r\n                                  index === cellArr.length - 1 ? \"none\" : null,\r\n                                flexBasis: width,\r\n                                maxWidth: width,\r\n                                ...cellRestProps,\r\n                              },\r\n                            ]}\r\n                          >\r\n                            {content}\r\n                          </Text>\r\n                        )\r\n                      )}\r\n                    </View>\r\n                  ))}\r\n                  <Text\r\n                    style={{\r\n                      fontSize: 12,\r\n                      padding: 3,\r\n                      position: \"absolute\",\r\n                      width: \"70%\",\r\n                      bottom: 0,\r\n                      left: 0,\r\n                    }}\r\n                  >\r\n                    Blueocean International (HK) Ltd. \\r\\n\r\n                    NOTE: Please deposit to HSBC 023-472038-838 (bank code: 004,\r\n                    Bank address: 1 Queen's Road Central, Hong Kong. SWIFT code:\r\n                    HSBCHKHHHKH or FPS: info@ergoseatings.com\r\n                  </Text>\r\n                </View>\r\n                {[\r\n                  `Should the delivery of goods involved any staircases at the provided location, there will be an additional delivery fee of HK$100 per level to be charged in advance.`,\r\n                  `If you have special assembling requirements, please let us know prior to delivery.  Otherwise, all chairs will be assembled before delivery and all desks will be assembled on site.`,\r\n                  `If the delivery address is located in a remote area within Hong Kong, we reserve the rights to charge the client extra for delivery charges.  In such cases, we will provide a quotation upon investigation of the detailed address.  Client will be notified of such extra cost prior to delivery.`,\r\n                  `Delivery date for pre-orders stated above is an estimate only. While we will try our best to deliver the products as soon as possible, the actual delivery date may be adjusted depending on actual freight schedule. We do NOT accept refund in case of delay arising from delivery delay.`,\r\n                  `You understand that pre-orders are non-refundable.  Decision to switch to another product after purchase can only be treated as store credits. `,\r\n                ].map((text, index) => (\r\n                  <View\r\n                    key={index}\r\n                    style={{ flexDirection: \"row\", margin: \"5px 0\" }}\r\n                  >\r\n                    <View\r\n                      style={{\r\n                        width: 2,\r\n                        fontSize: 10,\r\n                        lineHeight: 1.2,\r\n                        margin: \"0 10px 0 0\",\r\n                        color: \"#888888\",\r\n                      }}\r\n                    >\r\n                      <Text></Text>\r\n                    </View>\r\n                    <View\r\n                      style={{\r\n                        flexGrow: 1,\r\n                        fontSize: 10,\r\n                        lineHeight: 1.2,\r\n                        color: \"#888888\",\r\n                      }}\r\n                    >\r\n                      <Text>{text}</Text>\r\n                    </View>\r\n                  </View>\r\n                ))}\r\n                <View style={styles.note}>\r\n                  <Text\r\n                    style={{\r\n                      marginTop: \"5px\",\r\n                      fontSize: 10,\r\n                      lineHeight: 1.2,\r\n                      color: \"#888888\",\r\n                      width: \"80%\",\r\n                    }}\r\n                  >\r\n                    The warranty is effective from the date of purchase from\r\n                    Blueocean International (HK) Ltd by the original purchaser.\r\n                    Such warranty applies under the following terms and\r\n                    conditions and is covered by the original manufacturers for\r\n                    specific period stated:\r\n                  </Text>\r\n                  <Image src={receiptLogo} style={styles.receiptLogo} />\r\n                </View>\r\n                {[\r\n                  `Nightingale chairs: 5 years for defective parts under regular usage, by Nightingale Corp.`,\r\n                  `Allseating chairs:  5 years for defective parts under regular usage, by Allseating Corp.`,\r\n                  `Standing desks: 5 years by manufacturer`,\r\n                  `Okamura chairs:  5 years for defective parts under regular usage, by Okamura Salotto HK Ltd.`,\r\n                  `Sidiz chairs: 3 years for defective parts under regular usage, by Sidiz, Inc.`,\r\n                  `Duorest chairs: 3 years for defective parts under regular usage, by Duoback Co. Ltd.`,\r\n                  `Wagner chairs: 5 years for defective parts under regular usage, by Topstar GMBH`,\r\n                  `Topstar chairs: 3 years for defective parts under regular usage, by Topstar GMBH`,\r\n                  `Ergohuman chairs: 2 years for defective parts under regular usage, by manufacturer`,\r\n                  `HAG chairs: 2 years for defective parts under regular usage, by manufacturer`,\r\n                ].map((text, index) => (\r\n                  <View\r\n                    key={index}\r\n                    style={{ flexDirection: \"row\", marginLeft: \"10px\" }}\r\n                  >\r\n                    <View\r\n                      style={{\r\n                        width: 2,\r\n                        fontSize: 10,\r\n                        lineHeight: 1.2,\r\n                        margin: \"0 10px 0 0\",\r\n                        color: \"#888888\",\r\n                      }}\r\n                    >\r\n                      <Text></Text>\r\n                    </View>\r\n                    <View\r\n                      style={{\r\n                        flexGrow: 1,\r\n                        fontSize: 10,\r\n                        lineHeight: 1.2,\r\n                        color: \"#888888\",\r\n                      }}\r\n                    >\r\n                      <Text>{text}</Text>\r\n                    </View>\r\n                  </View>\r\n                ))}\r\n                <Text\r\n                  style={{\r\n                    fontSize: 10,\r\n                    lineHeight: 1.2,\r\n                    color: \"#888888\",\r\n                  }}\r\n                >\r\n                  Claiming of any aforementioned warranties only covers\r\n                  replacement of the defective or broken parts only and does not\r\n                  include the following cost, which shall be borne by the\r\n                  claimant. A quotation will be provided in advance for approval\r\n                  by the claimant: 1) labor costs of technician for replacing\r\n                  the parts; 2) transportation costs incurred for sending the\r\n                  product(s) to our company and delivering back to the claimant\r\n                  from our shop after service. I, the undersigned, have read and\r\n                  understand these policies and agree to all the above.\r\n                </Text>\r\n                <Text\r\n                  style={{\r\n                    fontSize: 10,\r\n                    lineHeight: 1.2,\r\n                    marginTop: 10,\r\n                    color: \"#888888\",\r\n                  }}\r\n                >\r\n                  Agreement to this invoice represents that client understands\r\n                  our refund policy and terms and condition as stated in our\r\n                  website ergoseatings.com and ergoseatings.com.hk\r\n                </Text>\r\n                <Text\r\n                  style={{\r\n                    fontSize: 10,\r\n                    lineHeight: 1.2,\r\n                    marginTop: 10,\r\n                    color: \"#888888\",\r\n                  }}\r\n                >\r\n                  Initials: _________________\r\n                </Text>\r\n                <Text\r\n                  style={{\r\n                    fontSize: 12,\r\n                    lineHeight: 1.2,\r\n                    marginTop: 12,\r\n                    fontWeight: \"bold\",\r\n                    textAlign: \"center\",\r\n                  }}\r\n                >\r\n                  Thank you for your business!\r\n                </Text>\r\n              </Page>\r\n            </Document>\r\n          }\r\n        >\r\n          {({ _blob, _url, loading, _error }) =>\r\n            loading ? \"Loading document...\" : \"Download now!\"\r\n          }\r\n        </PDFDownloadLink>\r\n      )}\r\n      <PDFViewer height=\"100%\">\r\n        <Document>\r\n          <Page style={styles.body} wrap>\r\n            <View style={styles.header}>\r\n              <View>\r\n                <Text style={styles.title}>Receipt</Text>\r\n                <Text>Date: {getDateString(order.createdAt)}</Text>\r\n                <Text>\r\n                  {`No: I-${order.Seller.prefix}${new Date(\r\n                    order.createdAt\r\n                  ).getFullYear()}-${(\"000\" + order.invoiceNum).substr(-3)}`}\r\n                </Text>\r\n              </View>\r\n              <View style={styles.logo}>\r\n                <Image src={logoTitle} />\r\n              </View>\r\n            </View>\r\n            <View style={styles.info}>\r\n              <View style={styles.companyInfo}>\r\n                <Text>Blueocean International (HK) Ltd.</Text>\r\n                <Text>19/F</Text>\r\n                <Text>Bel Trade Commercial Building</Text>\r\n                <Text>3 Burrows Street</Text>\r\n                <Text>Wanchai, Hong Kong</Text>\r\n                <Text>Tel: 2169 3337</Text>\r\n                <Text>\r\n                  Email:{\" \"}\r\n                  <Tspan style={styles.email}>info@ergoseatings.com</Tspan>\r\n                </Text>\r\n              </View>\r\n              <View style={styles.clientInfo}>\r\n                <Text>Client's Name: {order.name}</Text>\r\n                {order.unit ? <Text>Unit {order.unit}</Text> : null}\r\n                {order.floor ? <Text>Floor {order.floor}</Text> : null}\r\n                {order.block ? <Text>Block {order.block}</Text> : null}\r\n                <Text>{order.street}</Text>\r\n                <Text>{order.district}</Text>\r\n                <Text>Phone: {order.phone}</Text>\r\n                <Text>\r\n                  Email: <Tspan style={styles.email}>{order.email}</Tspan>\r\n                </Text>\r\n              </View>\r\n            </View>\r\n            <View style={styles.table}>\r\n              {[\r\n                {\r\n                  cells: [\r\n                    { content: \"Salesperson\", width: \"15%\" },\r\n                    { content: \"Estimated Delivery Date\", width: \"55%\" },\r\n                    { content: \"Payment Terms\", width: \"15%\" },\r\n                    { content: \"Due Date\", textAlign: \"right\", width: \"15%\" },\r\n                  ],\r\n                  backgroundColor: \"#dbe5f1\",\r\n                  textTransform: \"uppercase\",\r\n                },\r\n                {\r\n                  cells: [\r\n                    {\r\n                      content: `${order.Seller.firstName} ${order.Seller.lastName}`,\r\n                      width: \"15%\",\r\n                    },\r\n                    {\r\n                      content:\r\n                        order.timeLine % 7 === 0\r\n                          ? `Est ${order.timeLine / 7} working week${\r\n                              order.timeLine / 7 === 1 ? \"\" : \"s\"\r\n                            } after payment`\r\n                          : `Est ${order.timeLine} working day${\r\n                              order.timeLine === 1 ? \"\" : \"s\"\r\n                            } after payment`,\r\n                      width: \"55%\",\r\n                    },\r\n                    { content: order.paymentTerms, width: \"15%\" },\r\n                    {\r\n                      content: order.paid ? \"Paid\" : order.dueDate,\r\n                      textAlign: \"right\",\r\n                      width: \"15%\",\r\n                    },\r\n                  ],\r\n                },\r\n              ].map(({ cells, ...rowRestProps }, rowIndex, rowArr) => (\r\n                <View\r\n                  key={rowIndex}\r\n                  style={[\r\n                    styles.tableRow,\r\n                    {\r\n                      borderBottom:\r\n                        rowIndex === rowArr.length - 1 ? \"none\" : null,\r\n                      ...rowRestProps,\r\n                    },\r\n                  ]}\r\n                >\r\n                  {cells.map(\r\n                    ({ content, width, ...cellRestProps }, index, cellArr) => (\r\n                      <Text\r\n                        key={index}\r\n                        style={[\r\n                          styles.tableColumn,\r\n                          {\r\n                            borderRight:\r\n                              index === cellArr.length - 1 ? \"none\" : null,\r\n                            flexBasis: width,\r\n                            maxWidth: width,\r\n                            ...cellRestProps,\r\n                          },\r\n                        ]}\r\n                      >\r\n                        {content}\r\n                      </Text>\r\n                    )\r\n                  )}\r\n                </View>\r\n              ))}\r\n            </View>\r\n            <View style={styles.table}>\r\n              {[\r\n                {\r\n                  cells: [\r\n                    { content: \"QTY\", width: \"15%\" },\r\n                    { content: \"Description\", width: \"55%\" },\r\n                    { content: \"Unit Price\", width: \"15%\" },\r\n                    {\r\n                      content: \"Line Total (HKD)\",\r\n                      textAlign: \"right\",\r\n                      width: \"15%\",\r\n                    },\r\n                  ],\r\n                  backgroundColor: \"#dbe5f1\",\r\n                  textTransform: \"uppercase\",\r\n                },\r\n                ...order.ChairStocks.map((item) => ({\r\n                  cells: [\r\n                    {\r\n                      content: `${item.ChairToOrder.qty}`,\r\n                      width: \"15%\",\r\n                    },\r\n                    {\r\n                      content: `Chair Brand: ${item.brand}\\nChair Model: ${\r\n                        item.model\r\n                      }\\n${\r\n                        item.withHeadrest ? \"With Headrest\" : \"Without Headrest\"\r\n                      }\\n${\r\n                        item.withAdArmrest\r\n                          ? \"With Adjustable Armrest\"\r\n                          : \"Without Adjustable Armrest\"\r\n                      }\\nRemark: ${item.ChairToOrder.remark}\\n${JSON.parse(\r\n                        item.ChairToOrder.deliveryOption\r\n                      )}`,\r\n                      width: \"55%\",\r\n                    },\r\n                    {\r\n                      content: `${item.ChairToOrder.unitPrice}`,\r\n                      textAlign: \"right\",\r\n                      width: \"15%\",\r\n                    },\r\n                    {\r\n                      content: `${\r\n                        item.ChairToOrder.unitPrice * item.ChairToOrder.qty\r\n                      }`,\r\n                      textAlign: \"right\",\r\n                      width: \"15%\",\r\n                    },\r\n                  ],\r\n                })),\r\n                ...order.DeskToOrders.map((item) => ({\r\n                  cells: [\r\n                    {\r\n                      content: `${item.qty}`,\r\n                      width: \"15%\",\r\n                    },\r\n                    {\r\n                      content: `Desk Model: ${\r\n                        order.DeskStocks.find(\r\n                          (stock) => stock.id === item.stockId\r\n                        ).model\r\n                      }\r\n                    Color of Legs: ${\r\n                      order.DeskStocks.find(\r\n                        (stock) => stock.id === item.stockId\r\n                      ).color\r\n                    }\r\n                    ArmSize: ${\r\n                      order.DeskStocks.find(\r\n                        (stock) => stock.id === item.stockId\r\n                      ).armSize\r\n                    }\r\n                    FeetSize: ${\r\n                      order.DeskStocks.find(\r\n                        (stock) => stock.id === item.stockId\r\n                      ).feetSize\r\n                    }\r\n                    Beam Size: ${\r\n                      order.DeskStocks.find(\r\n                        (stock) => stock.id === item.stockId\r\n                      ).beamSize\r\n                    }\r\n                    ${\r\n                      item.hasDeskTop\r\n                        ? `Table Top: ${item.topMaterial}\r\n                          Table Top Size: ${item.topLength}x${item.topWidth}x${\r\n                            item.topThickness\r\n                          }\r\n                          Table Top Color: ${item.topColor} ${\r\n                            item.topRoundedCorners === 0\r\n                              ? \"\"\r\n                              : `\\nRounded Corners: ${item.topRoundedCorners}, Radius: R${item.topCornerRadius}`\r\n                          } ${\r\n                            item.topHoleCount === 0\r\n                              ? \"\"\r\n                              : `\\nHoles Required: ${item.topHoleCount}, Hole Position: ${item.topHolePosition}, Holes Shaped: ${item.topHoleType}`\r\n                          }\r\n                          Remark: ${item.remark}`\r\n                        : \"Without DeskTop\"\r\n                    }\r\n                    ${JSON.parse(item.deliveryOption)}`,\r\n                      width: \"55%\",\r\n                    },\r\n                    {\r\n                      content: `${item.unitPrice}`,\r\n                      textAlign: \"right\",\r\n                      width: \"15%\",\r\n                    },\r\n                    {\r\n                      content: `${item.unitPrice * item.qty}`,\r\n                      textAlign: \"right\",\r\n                      width: \"15%\",\r\n                    },\r\n                  ],\r\n                })),\r\n                ...order.AccessoryStocks.map((item) => ({\r\n                  cells: [\r\n                    {\r\n                      content: `${item.AccessoryToOrder.qty}`,\r\n                      width: \"15%\",\r\n                    },\r\n                    {\r\n                      content: `${item.name}\\nAccessory Category: ${\r\n                        item.category\r\n                      }\\nRemark: ${item.AccessoryToOrder.remark}\\n${JSON.parse(\r\n                        item.AccessoryToOrder.deliveryOption\r\n                      )}`,\r\n                      width: \"55%\",\r\n                    },\r\n                    {\r\n                      content: `${item.AccessoryToOrder.unitPrice}`,\r\n                      textAlign: \"right\",\r\n                      width: \"15%\",\r\n                    },\r\n                    {\r\n                      content: `${\r\n                        item.AccessoryToOrder.unitPrice *\r\n                        item.AccessoryToOrder.qty\r\n                      }`,\r\n                      textAlign: \"right\",\r\n                      width: \"15%\",\r\n                    },\r\n                  ],\r\n                })),\r\n                ...order.ServiceToOrders.map((item) => ({\r\n                  cells: [\r\n                    {\r\n                      content: \"1\",\r\n                      width: \"15%\",\r\n                    },\r\n                    {\r\n                      content: `${item.description}`,\r\n                      width: \"55%\",\r\n                    },\r\n                    {\r\n                      content: `${item.price}`,\r\n                      textAlign: \"right\",\r\n                      width: \"15%\",\r\n                    },\r\n                    {\r\n                      content: `${item.price}`,\r\n                      textAlign: \"right\",\r\n                      width: \"15%\",\r\n                    },\r\n                  ],\r\n                })),\r\n                ...Array(\r\n                  Math.max(\r\n                    0,\r\n                    6 -\r\n                      order.ChairStocks.length -\r\n                      order.DeskStocks.length -\r\n                      order.AccessoryStocks.length -\r\n                      order.ServiceToOrders.length\r\n                  )\r\n                ).fill({\r\n                  cells: [\r\n                    { content: \"\", width: \"15%\" },\r\n                    { content: \"\", width: \"55%\" },\r\n                    { content: \"\", width: \"15%\" },\r\n                    { content: \"\", width: \"15%\" },\r\n                  ],\r\n                }),\r\n                {\r\n                  cells: [\r\n                    {\r\n                      content: ``,\r\n                      width: \"70%\",\r\n                      fontSize: 12,\r\n                    },\r\n                    { content: \"SUBTOTAL\", width: \"15%\" },\r\n                    {\r\n                      content: `${\r\n                        (order.ChairStocks.length\r\n                          ? order.ChairStocks.map(\r\n                              (item) =>\r\n                                item.ChairToOrder.unitPrice *\r\n                                item.ChairToOrder.qty\r\n                            ).reduce((acc, cur) => acc + cur)\r\n                          : 0) +\r\n                        (order.DeskToOrders.length\r\n                          ? order.DeskToOrders.map(\r\n                              (item) => item.unitPrice * item.qty\r\n                            ).reduce((acc, cur) => acc + cur)\r\n                          : 0) +\r\n                        (order.AccessoryStocks.length\r\n                          ? order.AccessoryStocks.map(\r\n                              (item) =>\r\n                                item.AccessoryToOrder.unitPrice *\r\n                                item.AccessoryToOrder.qty\r\n                            ).reduce((acc, cur) => acc + cur)\r\n                          : 0) +\r\n                        (order.ServiceToOrders.length\r\n                          ? order.ServiceToOrders.map(\r\n                              (item) => item.price\r\n                            ).reduce((acc, cur) => acc + cur)\r\n                          : 0)\r\n                      }`,\r\n                      textAlign: \"right\",\r\n                      width: \"15%\",\r\n                      borderBottom: \"0.5px solid #808080\",\r\n                    },\r\n                  ],\r\n                  borderBottom: \"none\",\r\n                },\r\n                {\r\n                  cells: [\r\n                    {\r\n                      content: ``,\r\n                      width: \"70%\",\r\n                      fontSize: 12,\r\n                    },\r\n                    { content: \"DISCOUNT\", width: \"15%\" },\r\n                    {\r\n                      content: `${\r\n                        order.discountType\r\n                          ? order.discount\r\n                          : (((order.ChairStocks.length\r\n                              ? order.ChairStocks.map(\r\n                                  (item) =>\r\n                                    item.ChairToOrder.unitPrice *\r\n                                    item.ChairToOrder.qty\r\n                                ).reduce((acc, cur) => acc + cur)\r\n                              : 0) +\r\n                              (order.DeskStocks.length\r\n                                ? order.DeskStocks.map(\r\n                                    (item) =>\r\n                                      item.DeskToOrder.unitPrice *\r\n                                      item.DeskToOrder.qty\r\n                                  ).reduce((acc, cur) => acc + cur)\r\n                                : 0) +\r\n                              (order.AccessoryStocks.length\r\n                                ? order.AccessoryStocks.map(\r\n                                    (item) =>\r\n                                      item.AccessoryToOrder.unitPrice *\r\n                                      item.AccessoryToOrder.qty\r\n                                  ).reduce((acc, cur) => acc + cur)\r\n                                : 0)) *\r\n                              order.discount) /\r\n                            100\r\n                      }`,\r\n                      textAlign: \"right\",\r\n                      width: \"15%\",\r\n                      borderBottom: \"0.5px solid #808080\",\r\n                    },\r\n                  ],\r\n                  borderBottom: \"none\",\r\n                },\r\n                {\r\n                  cells: [\r\n                    {\r\n                      content: ``,\r\n                      width: \"70%\",\r\n                      fontSize: 12,\r\n                    },\r\n                    { content: \"SURCHARGE\", width: \"15%\" },\r\n                    {\r\n                      content: `${\r\n                        order.surchargeType\r\n                          ? order.surcharge\r\n                          : (((order.ChairStocks.length\r\n                              ? order.ChairStocks.map(\r\n                                  (item) =>\r\n                                    item.ChairToOrder.unitPrice *\r\n                                    item.ChairToOrder.qty\r\n                                ).reduce((acc, cur) => acc + cur)\r\n                              : 0) +\r\n                              (order.DeskStocks.length\r\n                                ? order.DeskStocks.map(\r\n                                    (item) =>\r\n                                      item.DeskToOrder.unitPrice *\r\n                                      item.DeskToOrder.qty\r\n                                  ).reduce((acc, cur) => acc + cur)\r\n                                : 0) +\r\n                              (order.AccessoryStocks.length\r\n                                ? order.AccessoryStocks.map(\r\n                                    (item) =>\r\n                                      item.AccessoryToOrder.unitPrice *\r\n                                      item.AccessoryToOrder.qty\r\n                                  ).reduce((acc, cur) => acc + cur)\r\n                                : 0)) *\r\n                              order.surcharge) /\r\n                            100\r\n                      }`,\r\n                      textAlign: \"right\",\r\n                      width: \"15%\",\r\n                      borderBottom: \"0.5px solid #808080\",\r\n                    },\r\n                  ],\r\n                  borderBottom: \"none\",\r\n                },\r\n                {\r\n                  cells: [\r\n                    {\r\n                      content: ``,\r\n                      width: \"70%\",\r\n                      fontSize: 12,\r\n                    },\r\n                    { content: \"TOTAL\", width: \"15%\" },\r\n                    {\r\n                      content: `${\r\n                        (order.ChairStocks.length\r\n                          ? order.ChairStocks.map(\r\n                              (item) =>\r\n                                item.ChairToOrder.unitPrice *\r\n                                item.ChairToOrder.qty\r\n                            ).reduce((acc, cur) => acc + cur)\r\n                          : 0) +\r\n                        (order.DeskToOrders.length\r\n                          ? order.DeskToOrders.map(\r\n                              (item) => item.unitPrice * item.qty\r\n                            ).reduce((acc, cur) => acc + cur)\r\n                          : 0) +\r\n                        (order.AccessoryStocks.length\r\n                          ? order.AccessoryStocks.map(\r\n                              (item) =>\r\n                                item.AccessoryToOrder.unitPrice *\r\n                                item.AccessoryToOrder.qty\r\n                            ).reduce((acc, cur) => acc + cur)\r\n                          : 0) +\r\n                        (order.ServiceToOrders.length\r\n                          ? order.ServiceToOrders.map(\r\n                              (item) => item.price\r\n                            ).reduce((acc, cur) => acc + cur)\r\n                          : 0) -\r\n                        (order.discountType\r\n                          ? order.discount\r\n                          : (((order.ChairStocks.length\r\n                              ? order.ChairStocks.map(\r\n                                  (item) =>\r\n                                    item.ChairToOrder.unitPrice *\r\n                                    item.ChairToOrder.qty\r\n                                ).reduce((acc, cur) => acc + cur)\r\n                              : 0) +\r\n                              (order.DeskStocks.length\r\n                                ? order.DeskStocks.map(\r\n                                    (item) =>\r\n                                      item.DeskToOrder.unitPrice *\r\n                                      item.DeskToOrder.qty\r\n                                  ).reduce((acc, cur) => acc + cur)\r\n                                : 0) +\r\n                              (order.AccessoryStocks.length\r\n                                ? order.AccessoryStocks.map(\r\n                                    (item) =>\r\n                                      item.AccessoryToOrder.unitPrice *\r\n                                      item.AccessoryToOrder.qty\r\n                                  ).reduce((acc, cur) => acc + cur)\r\n                                : 0)) *\r\n                              order.discount) /\r\n                            100) +\r\n                        (order.surchargeType\r\n                          ? order.surcharge\r\n                          : (((order.ChairStocks.length\r\n                              ? order.ChairStocks.map(\r\n                                  (item) =>\r\n                                    item.ChairToOrder.unitPrice *\r\n                                    item.ChairToOrder.qty\r\n                                ).reduce((acc, cur) => acc + cur)\r\n                              : 0) +\r\n                              (order.DeskStocks.length\r\n                                ? order.DeskStocks.map(\r\n                                    (item) =>\r\n                                      item.DeskToOrder.unitPrice *\r\n                                      item.DeskToOrder.qty\r\n                                  ).reduce((acc, cur) => acc + cur)\r\n                                : 0) +\r\n                              (order.AccessoryStocks.length\r\n                                ? order.AccessoryStocks.map(\r\n                                    (item) =>\r\n                                      item.AccessoryToOrder.unitPrice *\r\n                                      item.AccessoryToOrder.qty\r\n                                  ).reduce((acc, cur) => acc + cur)\r\n                                : 0)) *\r\n                              order.surcharge) /\r\n                            100)\r\n                      }`,\r\n                      textAlign: \"right\",\r\n                      width: \"15%\",\r\n                    },\r\n                  ],\r\n                },\r\n              ].map(({ cells, ...rowRestProps }, rowIndex, rowArr) => (\r\n                <View\r\n                  key={rowIndex}\r\n                  style={[\r\n                    styles.tableRow,\r\n                    {\r\n                      borderBottom:\r\n                        rowIndex === rowArr.length - 1 ? \"none\" : null,\r\n                      ...rowRestProps,\r\n                    },\r\n                  ]}\r\n                >\r\n                  {cells.map(\r\n                    ({ content, width, ...cellRestProps }, index, cellArr) => (\r\n                      <Text\r\n                        key={index}\r\n                        style={[\r\n                          styles.tableColumn,\r\n                          {\r\n                            borderRight:\r\n                              index === cellArr.length - 1 ? \"none\" : null,\r\n                            flexBasis: width,\r\n                            maxWidth: width,\r\n                            ...cellRestProps,\r\n                          },\r\n                        ]}\r\n                      >\r\n                        {content}\r\n                      </Text>\r\n                    )\r\n                  )}\r\n                </View>\r\n              ))}\r\n              <Text\r\n                style={{\r\n                  fontSize: 12,\r\n                  padding: 3,\r\n                  position: \"absolute\",\r\n                  width: \"70%\",\r\n                  bottom: 0,\r\n                  left: 0,\r\n                }}\r\n              >\r\n                Blueocean International (HK) Ltd. \\r\\n\r\n                NOTE: Please deposit to HSBC 023-472038-838 (bank code: 004,\r\n                Bank address: 1 Queen's Road Central, Hong Kong. SWIFT code:\r\n                HSBCHKHHHKH or FPS: info@ergoseatings.com\r\n              </Text>\r\n            </View>\r\n            {[\r\n              `Should the delivery of goods involved any staircases at the provided location, there will be an additional delivery fee of HK$100 per level to be charged in advance.`,\r\n              `If you have special assembling requirements, please let us know prior to delivery.  Otherwise, all chairs will be assembled before delivery and all desks will be assembled on site.`,\r\n              `If the delivery address is located in a remote area within Hong Kong, we reserve the rights to charge the client extra for delivery charges.  In such cases, we will provide a quotation upon investigation of the detailed address.  Client will be notified of such extra cost prior to delivery.`,\r\n              `Delivery date for pre-orders stated above is an estimate only. While we will try our best to deliver the products as soon as possible, the actual delivery date may be adjusted depending on actual freight schedule. We do NOT accept refund in case of delay arising from delivery delay.`,\r\n              `You understand that pre-orders are non-refundable.  Decision to switch to another product after purchase can only be treated as store credits. `,\r\n            ].map((text, index) => (\r\n              <View\r\n                key={index}\r\n                style={{ flexDirection: \"row\", margin: \"5px 0\" }}\r\n              >\r\n                <View\r\n                  style={{\r\n                    width: 2,\r\n                    fontSize: 10,\r\n                    lineHeight: 1.2,\r\n                    margin: \"0 10px 0 0\",\r\n                    color: \"#888888\",\r\n                  }}\r\n                >\r\n                  <Text></Text>\r\n                </View>\r\n                <View\r\n                  style={{\r\n                    flexGrow: 1,\r\n                    fontSize: 10,\r\n                    lineHeight: 1.2,\r\n                    color: \"#888888\",\r\n                  }}\r\n                >\r\n                  <Text>{text}</Text>\r\n                </View>\r\n              </View>\r\n            ))}\r\n            <View style={styles.note}>\r\n              <Text\r\n                style={{\r\n                  marginTop: \"5px\",\r\n                  fontSize: 10,\r\n                  lineHeight: 1.2,\r\n                  color: \"#888888\",\r\n                  width: \"80%\",\r\n                }}\r\n              >\r\n                The warranty is effective from the date of purchase from\r\n                Blueocean International (HK) Ltd by the original purchaser. Such\r\n                warranty applies under the following terms and conditions and is\r\n                covered by the original manufacturers for specific period\r\n                stated:\r\n              </Text>\r\n              <Image src={receiptLogo} style={styles.receiptLogo} />\r\n            </View>\r\n            {[\r\n              `Nightingale chairs: 5 years for defective parts under regular usage, by Nightingale Corp.`,\r\n              `Allseating chairs:  5 years for defective parts under regular usage, by Allseating Corp.`,\r\n              `Standing desks: 5 years by manufacturer`,\r\n              `Okamura chairs:  5 years for defective parts under regular usage, by Okamura Salotto HK Ltd.`,\r\n              `Sidiz chairs: 3 years for defective parts under regular usage, by Sidiz, Inc.`,\r\n              `Duorest chairs: 3 years for defective parts under regular usage, by Duoback Co. Ltd.`,\r\n              `Wagner chairs: 5 years for defective parts under regular usage, by Topstar GMBH`,\r\n              `Topstar chairs: 3 years for defective parts under regular usage, by Topstar GMBH`,\r\n              `Ergohuman chairs: 2 years for defective parts under regular usage, by manufacturer`,\r\n              `HAG chairs: 2 years for defective parts under regular usage, by manufacturer`,\r\n            ].map((text, index) => (\r\n              <View\r\n                key={index}\r\n                style={{ flexDirection: \"row\", marginLeft: \"10px\" }}\r\n              >\r\n                <View\r\n                  style={{\r\n                    width: 2,\r\n                    fontSize: 10,\r\n                    lineHeight: 1.2,\r\n                    margin: \"0 10px 0 0\",\r\n                    color: \"#888888\",\r\n                  }}\r\n                >\r\n                  <Text></Text>\r\n                </View>\r\n                <View\r\n                  style={{\r\n                    flexGrow: 1,\r\n                    fontSize: 10,\r\n                    lineHeight: 1.2,\r\n                    color: \"#888888\",\r\n                  }}\r\n                >\r\n                  <Text>{text}</Text>\r\n                </View>\r\n              </View>\r\n            ))}\r\n            <Text\r\n              style={{\r\n                fontSize: 10,\r\n                lineHeight: 1.2,\r\n                color: \"#888888\",\r\n              }}\r\n            >\r\n              Claiming of any aforementioned warranties only covers replacement\r\n              of the defective or broken parts only and does not include the\r\n              following cost, which shall be borne by the claimant. A quotation\r\n              will be provided in advance for approval by the claimant: 1) labor\r\n              costs of technician for replacing the parts; 2) transportation\r\n              costs incurred for sending the product(s) to our company and\r\n              delivering back to the claimant from our shop after service. I,\r\n              the undersigned, have read and understand these policies and agree\r\n              to all the above.\r\n            </Text>\r\n            <Text\r\n              style={{\r\n                fontSize: 10,\r\n                lineHeight: 1.2,\r\n                marginTop: 10,\r\n                color: \"#888888\",\r\n              }}\r\n            >\r\n              Agreement to this invoice represents that client understands our\r\n              refund policy and terms and condition as stated in our website\r\n              ergoseatings.com and ergoseatings.com.hk\r\n            </Text>\r\n            <Text\r\n              style={{\r\n                fontSize: 10,\r\n                lineHeight: 1.2,\r\n                marginTop: 10,\r\n                color: \"#888888\",\r\n              }}\r\n            >\r\n              Initials: _________________\r\n            </Text>\r\n            <Text\r\n              style={{\r\n                fontSize: 12,\r\n                lineHeight: 1.2,\r\n                marginTop: 12,\r\n                fontWeight: \"bold\",\r\n                textAlign: \"center\",\r\n              }}\r\n            >\r\n              Thank you for your business!\r\n            </Text>\r\n          </Page>\r\n        </Document>\r\n      </PDFViewer>\r\n    </Fragment>\r\n  ) : (\r\n    <Backdrop\r\n      sx={{ color: \"#fff\", zIndex: (theme) => theme.zIndex.drawer + 1 }}\r\n      open={true}\r\n    >\r\n      <WarningIcon />\r\n      <Typography>This url is not a valid invoice url.</Typography>\r\n    </Backdrop>\r\n  );\r\n});\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport {\r\n  Document,\r\n  Image,\r\n  Font,\r\n  Page,\r\n  PDFViewer,\r\n  Text,\r\n  StyleSheet,\r\n  View,\r\n  Tspan,\r\n} from \"@react-pdf/renderer\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\nimport { Warning as WarningIcon } from \"@mui/icons-material\";\r\nimport { Backdrop, CircularProgress, Typography } from \"@mui/material\";\r\n\r\nimport microsoft_yahei from \"fonts/chinese.msyh.ttf\";\r\nimport logoTitle from \"images/logo_title.png\";\r\n\r\nconst styles = StyleSheet.create({\r\n  body: {\r\n    paddingTop: 35,\r\n    paddingBottom: 65,\r\n    paddingHorizontal: 35,\r\n  },\r\n  header: {\r\n    width: \"100%\",\r\n    fontSize: 8,\r\n    lineHeight: 1.2,\r\n    marginBottom: 40,\r\n    flexDirection: \"row\",\r\n    alignItems: \"center\",\r\n  },\r\n  title: {\r\n    fontFamily: \"Microsoft Yahei\",\r\n    fontSize: 15,\r\n    marginBottom: 10,\r\n    textTransform: \"uppercase\",\r\n  },\r\n  logo: {\r\n    marginLeft: \"auto\",\r\n    width: 50,\r\n  },\r\n  info: {\r\n    flexDirection: \"row\",\r\n    marginBottom: 10,\r\n  },\r\n  companyInfo: {\r\n    fontFamily: \"Microsoft Yahei\",\r\n    fontSize: 8,\r\n    width: 200,\r\n    paddingRight: 10,\r\n    lineHeight: 1.2,\r\n  },\r\n  clientInfo: {\r\n    fontFamily: \"Microsoft Yahei\",\r\n    fontSize: 8,\r\n    width: 200,\r\n    paddingRight: 10,\r\n    lineHeight: 1.2,\r\n  },\r\n  email: {\r\n    color: \"#0000ff\",\r\n    textDecoration: \"underline\",\r\n  },\r\n  subtitle: {\r\n    fontSize: 18,\r\n    margin: 12,\r\n    fontWeight: 100,\r\n    fontFamily: \"Microsoft Yahei\",\r\n  },\r\n  text: {\r\n    margin: 12,\r\n    fontSize: 14,\r\n    textAlign: \"justify\",\r\n    fontFamily: \"Times-Roman\",\r\n  },\r\n  table: {\r\n    fontSize: 8,\r\n    marginBottom: 10,\r\n    border: \"0.5px solid #808080\",\r\n  },\r\n  tableRow: {\r\n    fontSize: 8,\r\n    borderBottom: \"0.5px solid #808080\",\r\n    flexDirection: \"row\",\r\n    minHeight: 15,\r\n    fontFamily: \"Microsoft Yahei\",\r\n  },\r\n  tableColumn: {\r\n    flex: 1,\r\n    padding: \"3px 5px\",\r\n    borderRight: \"0.5px solid #808080\",\r\n  },\r\n});\r\n\r\nFont.register({\r\n  family: \"Microsoft Yahei\",\r\n  src: microsoft_yahei,\r\n});\r\n\r\nconst monthNames = [\r\n  \"January\",\r\n  \"February\",\r\n  \"March\",\r\n  \"April\",\r\n  \"May\",\r\n  \"June\",\r\n  \"July\",\r\n  \"August\",\r\n  \"September\",\r\n  \"October\",\r\n  \"November\",\r\n  \"December\",\r\n];\r\n\r\nconst mapStateToProps = (state) => {\r\n  const loading = state.loading.value;\r\n  return { loading };\r\n};\r\n\r\nexport default connect(mapStateToProps)((props) => {\r\n  const { loading } = props;\r\n  const [success, setSuccess] = useState(false);\r\n  const [quotation, setQuotation] = useState({\r\n    Seller: {},\r\n    ChairStocks: [],\r\n    DeskStocks: [],\r\n    AccessoryStocks: [],\r\n    ServiceToQuotations: [],\r\n    DeskToQuotations: [],\r\n  });\r\n  const { id } = useParams();\r\n  useEffect(() => {\r\n    const source = axios.CancelToken.source();\r\n    getQuotation({ id, cancelToken: source.token });\r\n    return () => source.cancel(\"Brand Component got unmounted\");\r\n  }, [id]);\r\n\r\n  const getDateString = (time) => {\r\n    const tmp = new Date(time);\r\n    return `${\r\n      monthNames[tmp.getMonth()]\r\n    } ${tmp.getDate()}, ${tmp.getFullYear()}`;\r\n  };\r\n\r\n  const getDateNum = (time) => {\r\n    const tmp = new Date(time);\r\n    return `${tmp.getFullYear()}${tmp.getMonth()}${tmp.getDate()}`;\r\n  };\r\n\r\n  const getQuotation = ({ id, cancelToken }) => {\r\n    axios\r\n      .get(`/quotation/${id}`, { cancelToken })\r\n      .then((response) => {\r\n        // handle success\r\n        setSuccess(true);\r\n        setQuotation(response.data);\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        setSuccess(false);\r\n      });\r\n  };\r\n\r\n  return loading ? (\r\n    <Backdrop\r\n      sx={{ color: \"#fff\", zIndex: (theme) => theme.zIndex.drawer + 1 }}\r\n      open={true}\r\n    >\r\n      <CircularProgress color=\"inherit\" />\r\n    </Backdrop>\r\n  ) : success ? (\r\n    <PDFViewer height=\"100%\">\r\n      <Document>\r\n        <Page style={styles.body} wrap>\r\n          <View style={styles.header}>\r\n            <View>\r\n              <Text style={styles.title}>Quotation</Text>\r\n              <Text>Date: {getDateString(quotation.createdAt)}</Text>\r\n              <Text>\r\n                {`No: Q-${quotation.Seller.prefix}${getDateNum(\r\n                  quotation.createdAt\r\n                )}${(\"000\" + quotation.quotationNum).substr(-3)}`}\r\n              </Text>\r\n            </View>\r\n            <View style={styles.logo}>\r\n              <Image src={logoTitle} />\r\n            </View>\r\n          </View>\r\n          <View style={styles.info}>\r\n            <View style={styles.companyInfo}>\r\n              <Text>Blueocean International (HK) Ltd.</Text>\r\n              <Text>23/F</Text>\r\n              <Text>Lockhart Centre</Text>\r\n              <Text>801-807 Lockhart Rd</Text>\r\n              <Text>Wenchai, Hong Kong</Text>\r\n              <Text>Tel: 2169 3337</Text>\r\n              <Text>\r\n                Email: <Tspan style={styles.email}>info@ergoseatings.com</Tspan>\r\n              </Text>\r\n            </View>\r\n            <View style={styles.clientInfo}>\r\n              <Text>Client's Name: {quotation.name}</Text>\r\n              {quotation.unit ? <Text>Unit {quotation.unit}</Text> : null}\r\n              {quotation.floor ? <Text>Floor {quotation.floor}</Text> : null}\r\n              {quotation.block ? <Text>Block {quotation.block}</Text> : null}\r\n              <Text>{quotation.street}</Text>\r\n              <Text>{quotation.district}</Text>\r\n              <Text>Phone: {quotation.phone}</Text>\r\n              <Text>\r\n                Email: <Tspan style={styles.email}>{quotation.email}</Tspan>\r\n              </Text>\r\n            </View>\r\n          </View>\r\n          <View style={styles.table}>\r\n            {[\r\n              {\r\n                cells: [\r\n                  { content: \"Salesperson\", width: \"15%\" },\r\n                  { content: \"Proposed Delivery Date\", width: \"55%\" },\r\n                  { content: \"Payment Terms\", width: \"15%\" },\r\n                  { content: \"Valid Til\", textAlign: \"right\", width: \"15%\" },\r\n                ],\r\n                backgroundColor: \"#dbe5f1\",\r\n                textTransform: \"uppercase\",\r\n              },\r\n              {\r\n                cells: [\r\n                  {\r\n                    content: `${quotation.Seller.firstName} ${quotation.Seller.lastName}`,\r\n                    width: \"15%\",\r\n                  },\r\n                  {\r\n                    content:\r\n                      (quotation.timeLine % 7 === 0\r\n                        ? `Est ${quotation.timeLine / 7} working week${\r\n                            quotation.timeLine / 7 === 1 ? \"\" : \"s\"\r\n                          } after payment`\r\n                        : `Est ${quotation.timeLine} working day${\r\n                            quotation.timeLine === 1 ? \"\" : \"s\"\r\n                          } after payment`) + '\\n' + `${quotation.remark}`,\r\n                    width: \"55%\",\r\n                  },\r\n                  { content: quotation.paymentTerms, width: \"15%\" },\r\n                  {\r\n                    content: `${quotation.validTil} month${\r\n                      quotation.validTil === 1 ? \"\" : \"s\"\r\n                    }`,\r\n                    textAlign: \"right\",\r\n                    width: \"15%\",\r\n                  },\r\n                ],\r\n              },\r\n            ].map(({ cells, ...rowRestProps }, rowIndex, rowArr) => (\r\n              <View\r\n                key={rowIndex}\r\n                style={[\r\n                  styles.tableRow,\r\n                  {\r\n                    borderBottom:\r\n                      rowIndex === rowArr.length - 1 ? \"none\" : null,\r\n                    ...rowRestProps,\r\n                  },\r\n                ]}\r\n              >\r\n                {cells.map(\r\n                  ({ content, width, ...cellRestProps }, index, cellArr) => (\r\n                    <Text\r\n                      key={index}\r\n                      style={[\r\n                        styles.tableColumn,\r\n                        {\r\n                          borderRight:\r\n                            index === cellArr.length - 1 ? \"none\" : null,\r\n                          flexBasis: width,\r\n                          maxWidth: width,\r\n                          ...cellRestProps,\r\n                        },\r\n                      ]}\r\n                    >\r\n                      {content}\r\n                    </Text>\r\n                  )\r\n                )}\r\n              </View>\r\n            ))}\r\n          </View>\r\n          <View style={styles.table}>\r\n            {[\r\n              {\r\n                cells: [\r\n                  { content: \"QTY\", width: \"15%\" },\r\n                  { content: \"Description\", width: \"55%\" },\r\n                  { content: \"Unit Price\", width: \"15%\" },\r\n                  {\r\n                    content: \"Line Total (HKD)\",\r\n                    textAlign: \"right\",\r\n                    width: \"15%\",\r\n                  },\r\n                ],\r\n                backgroundColor: \"#dbe5f1\",\r\n                textTransform: \"uppercase\",\r\n              },\r\n              ...quotation.ChairStocks.map((item) => ({\r\n                cells: [\r\n                  {\r\n                    content: `${item.ChairToQuotation.qty}`,\r\n                    width: \"15%\",\r\n                  },\r\n                  {\r\n                    content: `Chair Brand: ${item.brand}\r\n                      Chair Model: ${item.model}\\n${item.withHeadrest ? \"With Headrest\" : \"Without Headrest\"}\r\n                      ${item.withAdArmrest ? \"With Adjustable Armrest\" : \"Without Adjustable Armrest\"}\r\n                      Specification: ${item.ChairToQuotation.remark}\r\n                      Other Remark: ${item.remark}\r\n                      ${JSON.parse(item.ChairToQuotation.deliveryOption)}`,\r\n                    width: \"55%\",\r\n                  },\r\n                  {\r\n                    content: `${item.ChairToQuotation.unitPrice}`,\r\n                    textAlign: \"right\",\r\n                    width: \"15%\",\r\n                  },\r\n                  {\r\n                    content: `${\r\n                      item.ChairToQuotation.unitPrice *\r\n                      item.ChairToQuotation.qty\r\n                    }`,\r\n                    textAlign: \"right\",\r\n                    width: \"15%\",\r\n                  },\r\n                ],\r\n              })),\r\n              ...quotation.DeskToQuotations.map((item) => ({\r\n                cells: [\r\n                  {\r\n                    content: `${item.qty}`,\r\n                    width: \"15%\",\r\n                  },\r\n                  {\r\n                    content: `Desk Model: ${\r\n                      quotation.DeskStocks.find(\r\n                        (stock) => stock.id === item.stockId\r\n                      ).model\r\n                    }\r\n                    Color of Legs: ${\r\n                      quotation.DeskStocks.find(\r\n                        (stock) => stock.id === item.stockId\r\n                      ).color\r\n                    }\r\n                    ArmSize: ${\r\n                      quotation.DeskStocks.find(\r\n                        (stock) => stock.id === item.stockId\r\n                      ).armSize\r\n                    }\r\n                    FeetSize: ${\r\n                      quotation.DeskStocks.find(\r\n                        (stock) => stock.id === item.stockId\r\n                      ).feetSize\r\n                    }\r\n                    Beam Size: ${\r\n                      quotation.DeskStocks.find(\r\n                        (stock) => stock.id === item.stockId\r\n                      ).beamSize\r\n                    }\r\n                    ${\r\n                      item.hasDeskTop\r\n                        ? `Table Top: ${item.topMaterial}\r\n                        Table Top Size: ${item.topLength}x${item.topWidth}x${\r\n                            item.topThickness\r\n                          }\r\n                        Table Top Color: ${item.topColor}${\r\n                            item.topRoundedCorners === 0\r\n                              ? \"\"\r\n                              : `\\nRounded Corners: ${item.topRoundedCorners}, Radius: R${item.topCornerRadius}`\r\n                          }${\r\n                            item.topHoleCount === 0\r\n                              ? \"\"\r\n                              : `\\nHoles Required: ${item.topHoleCount}, Hole Position: ${item.topHolePosition}, Holes Shaped: ${item.topHoleType}`\r\n                          }\r\n                        Specification: ${item.remark}\r\n                        Other Remark: ${quotation.DeskStocks.find((stock) => stock.id === item.stockId).remark}`\r\n                        : \"Without DeskTop\"\r\n                    }\r\n                    ${JSON.parse(item.deliveryOption)}`,\r\n                    width: \"55%\",\r\n                  },\r\n                  {\r\n                    content: `${item.unitPrice}`,\r\n                    textAlign: \"right\",\r\n                    width: \"15%\",\r\n                  },\r\n                  {\r\n                    content: `${item.unitPrice * item.qty}`,\r\n                    textAlign: \"right\",\r\n                    width: \"15%\",\r\n                  },\r\n                ],\r\n              })),\r\n              ...quotation.AccessoryStocks.map((item) => ({\r\n                cells: [\r\n                  {\r\n                    content: `${item.AccessoryToQuotation.qty}`,\r\n                    width: \"15%\",\r\n                  },\r\n                  {\r\n                    content: `${item.name}\\nAccessory Category: ${item.category }\r\n                      Specification: ${item.AccessoryToQuotation.remark}\r\n                      Other Remark: ${item.remark}\r\n                      ${JSON.parse(item.AccessoryToQuotation.deliveryOption)}`,\r\n                    width: \"55%\",\r\n                  },\r\n                  {\r\n                    content: `${item.AccessoryToQuotation.unitPrice}`,\r\n                    textAlign: \"right\",\r\n                    width: \"15%\",\r\n                  },\r\n                  {\r\n                    content: `${\r\n                      item.AccessoryToQuotation.unitPrice *\r\n                      item.AccessoryToQuotation.qty\r\n                    }`,\r\n                    textAlign: \"right\",\r\n                    width: \"15%\",\r\n                  },\r\n                ],\r\n              })),\r\n              ...quotation.ServiceToQuotations.map((item) => ({\r\n                cells: [\r\n                  {\r\n                    content: \"1\",\r\n                    width: \"15%\",\r\n                  },\r\n                  {\r\n                    content: `${item.description}`,\r\n                    width: \"55%\",\r\n                  },\r\n                  {\r\n                    content: `${item.price}`,\r\n                    textAlign: \"right\",\r\n                    width: \"15%\",\r\n                  },\r\n                  {\r\n                    content: `${item.price}`,\r\n                    textAlign: \"right\",\r\n                    width: \"15%\",\r\n                  },\r\n                ],\r\n              })),\r\n              ...Array(\r\n                Math.max(\r\n                  0,\r\n                  6 -\r\n                    quotation.ChairStocks.length -\r\n                    quotation.DeskStocks.length -\r\n                    quotation.AccessoryStocks.length -\r\n                    quotation.ServiceToQuotations.length\r\n                )\r\n              ).fill({\r\n                cells: [\r\n                  { content: \"\", width: \"15%\" },\r\n                  { content: \"\", width: \"55%\" },\r\n                  { content: \"\", width: \"15%\" },\r\n                  { content: \"\", width: \"15%\" },\r\n                ],\r\n              }),\r\n              {\r\n                cells: [\r\n                  {\r\n                    content: ``,\r\n                    width: \"70%\",\r\n                    fontSize: 12,\r\n                  },\r\n                  { content: \"SUBTOTAL\", width: \"15%\" },\r\n                  {\r\n                    content: `${\r\n                      (quotation.ChairStocks.length\r\n                        ? quotation.ChairStocks.map(\r\n                            (item) =>\r\n                              item.ChairToQuotation.unitPrice *\r\n                              item.ChairToQuotation.qty\r\n                          ).reduce((acc, cur) => acc + cur)\r\n                        : 0) +\r\n                      (quotation.DeskToQuotations.length\r\n                        ? quotation.DeskToQuotations.map(\r\n                            (item) => item.unitPrice * item.qty\r\n                          ).reduce((acc, cur) => acc + cur)\r\n                        : 0) +\r\n                      (quotation.AccessoryStocks.length\r\n                        ? quotation.AccessoryStocks.map(\r\n                            (item) =>\r\n                              item.AccessoryToQuotation.unitPrice *\r\n                              item.AccessoryToQuotation.qty\r\n                          ).reduce((acc, cur) => acc + cur)\r\n                        : 0) +\r\n                      (quotation.ServiceToQuotations.length\r\n                        ? quotation.ServiceToQuotations.map(\r\n                            (item) => item.price\r\n                          ).reduce((acc, cur) => acc + cur)\r\n                        : 0)\r\n                    }`,\r\n                    textAlign: \"right\",\r\n                    width: \"15%\",\r\n                    borderBottom: \"0.5px solid #808080\",\r\n                  },\r\n                ],\r\n                borderBottom: \"none\",\r\n              },\r\n              {\r\n                cells: [\r\n                  {\r\n                    content: ``,\r\n                    width: \"70%\",\r\n                    fontSize: 12,\r\n                  },\r\n                  { content: \"DISCOUNT\", width: \"15%\" },\r\n                  {\r\n                    content: `${\r\n                      quotation.discountType\r\n                        ? quotation.discount\r\n                        : (((quotation.ChairStocks.length\r\n                            ? quotation.ChairStocks.map(\r\n                                (item) =>\r\n                                  item.ChairToQuotation.unitPrice *\r\n                                  item.ChairToQuotation.qty\r\n                              ).reduce((acc, cur) => acc + cur)\r\n                            : 0) +\r\n                            (quotation.DeskStocks.length\r\n                              ? quotation.DeskStocks.map(\r\n                                  (item) =>\r\n                                    item.DeskToQuotation.unitPrice *\r\n                                    item.DeskToQuotation.qty\r\n                                ).reduce((acc, cur) => acc + cur)\r\n                              : 0) +\r\n                            (quotation.AccessoryStocks.length\r\n                              ? quotation.AccessoryStocks.map(\r\n                                  (item) =>\r\n                                    item.AccessoryToQuotation.unitPrice *\r\n                                    item.AccessoryToQuotation.qty\r\n                                ).reduce((acc, cur) => acc + cur)\r\n                              : 0)) *\r\n                            quotation.discount) /\r\n                          100\r\n                    }`,\r\n                    textAlign: \"right\",\r\n                    width: \"15%\",\r\n                    borderBottom: \"0.5px solid #808080\",\r\n                  },\r\n                ],\r\n                borderBottom: \"none\",\r\n              },\r\n              {\r\n                cells: [\r\n                  {\r\n                    content: ``,\r\n                    width: \"70%\",\r\n                    fontSize: 12,\r\n                  },\r\n                  { content: \"SURCHARGE\", width: \"15%\" },\r\n                  {\r\n                    content: `${\r\n                      quotation.surchargeType\r\n                        ? quotation.surcharge\r\n                        : (((quotation.ChairStocks.length\r\n                            ? quotation.ChairStocks.map(\r\n                                (item) =>\r\n                                  item.ChairToQuotation.unitPrice *\r\n                                  item.ChairToQuotation.qty\r\n                              ).reduce((acc, cur) => acc + cur)\r\n                            : 0) +\r\n                            (quotation.DeskStocks.length\r\n                              ? quotation.DeskStocks.map(\r\n                                  (item) =>\r\n                                    item.DeskToQuotation.unitPrice *\r\n                                    item.DeskToQuotation.qty\r\n                                ).reduce((acc, cur) => acc + cur)\r\n                              : 0) +\r\n                            (quotation.AccessoryStocks.length\r\n                              ? quotation.AccessoryStocks.map(\r\n                                  (item) =>\r\n                                    item.AccessoryToQuotation.unitPrice *\r\n                                    item.AccessoryToQuotation.qty\r\n                                ).reduce((acc, cur) => acc + cur)\r\n                              : 0)) *\r\n                            quotation.surcharge) /\r\n                          100\r\n                    }`,\r\n                    textAlign: \"right\",\r\n                    width: \"15%\",\r\n                    borderBottom: \"0.5px solid #808080\",\r\n                  },\r\n                ],\r\n                borderBottom: \"none\",\r\n              },\r\n              {\r\n                cells: [\r\n                  {\r\n                    content: ``,\r\n                    width: \"70%\",\r\n                    fontSize: 12,\r\n                  },\r\n                  { content: \"TOTAL\", width: \"15%\" },\r\n                  {\r\n                    content: `${\r\n                      (quotation.ChairStocks.length\r\n                        ? quotation.ChairStocks.map(\r\n                            (item) =>\r\n                              item.ChairToQuotation.unitPrice *\r\n                              item.ChairToQuotation.qty\r\n                          ).reduce((acc, cur) => acc + cur)\r\n                        : 0) +\r\n                      (quotation.DeskToQuotations.length\r\n                        ? quotation.DeskToQuotations.map(\r\n                            (item) => item.unitPrice * item.qty\r\n                          ).reduce((acc, cur) => acc + cur)\r\n                        : 0) +\r\n                      (quotation.AccessoryStocks.length\r\n                        ? quotation.AccessoryStocks.map(\r\n                            (item) =>\r\n                              item.AccessoryToQuotation.unitPrice *\r\n                              item.AccessoryToQuotation.qty\r\n                          ).reduce((acc, cur) => acc + cur)\r\n                        : 0) +\r\n                      (quotation.ServiceToQuotations.length\r\n                        ? quotation.ServiceToQuotations.map(\r\n                            (item) => item.price\r\n                          ).reduce((acc, cur) => acc + cur)\r\n                        : 0) -\r\n                      (quotation.discountType\r\n                        ? quotation.discount\r\n                        : (((quotation.ChairStocks.length\r\n                            ? quotation.ChairStocks.map(\r\n                                (item) =>\r\n                                  item.ChairToQuotation.unitPrice *\r\n                                  item.ChairToQuotation.qty\r\n                              ).reduce((acc, cur) => acc + cur)\r\n                            : 0) +\r\n                            (quotation.DeskStocks.length\r\n                              ? quotation.DeskStocks.map(\r\n                                  (item) =>\r\n                                    item.DeskToQuotation.unitPrice *\r\n                                    item.DeskToQuotation.qty\r\n                                ).reduce((acc, cur) => acc + cur)\r\n                              : 0) +\r\n                            (quotation.AccessoryStocks.length\r\n                              ? quotation.AccessoryStocks.map(\r\n                                  (item) =>\r\n                                    item.AccessoryToQuotation.unitPrice *\r\n                                    item.AccessoryToQuotation.qty\r\n                                ).reduce((acc, cur) => acc + cur)\r\n                              : 0)) *\r\n                            quotation.discount) /\r\n                          100) +\r\n                      (quotation.surchargeType\r\n                        ? quotation.surcharge\r\n                        : (((quotation.ChairStocks.length\r\n                            ? quotation.ChairStocks.map(\r\n                                (item) =>\r\n                                  item.ChairToQuotation.unitPrice *\r\n                                  item.ChairToQuotation.qty\r\n                              ).reduce((acc, cur) => acc + cur)\r\n                            : 0) +\r\n                            (quotation.DeskStocks.length\r\n                              ? quotation.DeskStocks.map(\r\n                                  (item) =>\r\n                                    item.DeskToQuotation.unitPrice *\r\n                                    item.DeskToQuotation.qty\r\n                                ).reduce((acc, cur) => acc + cur)\r\n                              : 0) +\r\n                            (quotation.AccessoryStocks.length\r\n                              ? quotation.AccessoryStocks.map(\r\n                                  (item) =>\r\n                                    item.AccessoryToQuotation.unitPrice *\r\n                                    item.AccessoryToQuotation.qty\r\n                                ).reduce((acc, cur) => acc + cur)\r\n                              : 0)) *\r\n                            quotation.surcharge) /\r\n                          100)\r\n                    }`,\r\n                    textAlign: \"right\",\r\n                    width: \"15%\",\r\n                  },\r\n                ],\r\n              },\r\n            ].map(({ cells, ...rowRestProps }, rowIndex, rowArr) => (\r\n              <View\r\n                key={rowIndex}\r\n                style={[\r\n                  styles.tableRow,\r\n                  {\r\n                    borderBottom:\r\n                      rowIndex === rowArr.length - 1 ? \"none\" : null,\r\n                    ...rowRestProps,\r\n                  },\r\n                ]}\r\n              >\r\n                {cells.map(\r\n                  ({ content, width, ...cellRestProps }, index, cellArr) => (\r\n                    <Text\r\n                      key={index}\r\n                      style={[\r\n                        styles.tableColumn,\r\n                        {\r\n                          borderRight:\r\n                            index === cellArr.length - 1 ? \"none\" : null,\r\n                          flexBasis: width,\r\n                          maxWidth: width,\r\n                          ...cellRestProps,\r\n                        },\r\n                      ]}\r\n                    >\r\n                      {content}\r\n                    </Text>\r\n                  )\r\n                )}\r\n              </View>\r\n            ))}\r\n            <Text\r\n              style={{\r\n                fontSize: 12,\r\n                padding: 3,\r\n                position: \"absolute\",\r\n                width: \"70%\",\r\n                bottom: 0,\r\n                left: 0,\r\n              }}\r\n            >\r\n              Blueocean International (HK) Ltd. \\r\\n\r\n              NOTE: Please deposit to HSBC 023-472038-838 (bank code: 004, Bank\r\n              address: 1 Queen's Road Central, Hong Kong. SWIFT code:\r\n              HSBCHKHHHKH or FPS: info@ergoseatings.com\r\n            </Text>\r\n          </View>\r\n          {[\r\n            `Should the delivery of goods involved any staircases at the provided location, there will be an additional delivery fee of HK$100 per level to be charged in advance.`,\r\n            `If you have special assembling requirements, please let us know prior to delivery.  Otherwise, all chairs will be assembled before delivery and all desks will be assembled on site.`,\r\n            `If the delivery address is located in a remote area within Hong Kong, we reserve the rights to charge the client extra for delivery charges.  In such cases, we will provide a quotation upon investigation of the detailed address.  Client will be notified of such extra cost prior to delivery.`,\r\n            `Delivery date for pre-orders stated above is an estimate only. While we will try our best to deliver the products as soon as possible, the actual delivery date may be adjusted depending on actual freight schedule. We do NOT accept refund in case of delay arising from delivery delay.`,\r\n            `You understand that pre-orders are non-refundable.  Decision to switch to another product after purchase can only be treated as store credits. `,\r\n            `You understand that a late payment penalty of 2% Interest Rate per month maybe charged for overdue payment`,\r\n          ].map((text, index) => (\r\n            <View key={index} style={{ flexDirection: \"row\", margin: \"5px 0\" }}>\r\n              <View\r\n                style={{\r\n                  width: 2,\r\n                  fontSize: 10,\r\n                  lineHeight: 1.2,\r\n                  margin: \"0 10px 0 0\",\r\n                  color: \"#888888\",\r\n                }}\r\n              >\r\n                <Text></Text>\r\n              </View>\r\n              <View\r\n                style={{\r\n                  flexGrow: 1,\r\n                  fontSize: 10,\r\n                  lineHeight: 1.2,\r\n                  color: \"#888888\",\r\n                }}\r\n              >\r\n                <Text>{text}</Text>\r\n              </View>\r\n            </View>\r\n          ))}\r\n          <Text\r\n            style={{\r\n              marginTop: \"5px\",\r\n              fontSize: 10,\r\n              lineHeight: 1.2,\r\n              color: \"#888888\",\r\n            }}\r\n          >\r\n            The warranty is effective from the date of purchase from Blueocean\r\n            International (HK) Ltd by the original purchaser. Such warranty\r\n            applies under the following terms and conditions and is covered by\r\n            the original manufacturers for specific period stated:\r\n          </Text>\r\n          {[\r\n            `Nightingale chairs: 5 years for defective parts under regular usage, by Nightingale Corp.`,\r\n            `Allseating chairs:  5 years for defective parts under regular usage, by Allseating Corp.`,\r\n            `Standing desks: 5 years by manufacturer`,\r\n            `Okamura chairs:  5 years for defective parts under regular usage, by Okamura Salotto HK Ltd.`,\r\n            `10 years for structural defective parts, under regular usage by Okamura Salotto HK Ltd, for details please refer to our website FAQ section.`,\r\n            `Bestuhl chairs: 3 years for defective parts under regular usage, by Bestuhl Co. Ltd.`,\r\n            `Duorest chairs: 3 years for defective parts under regular usage, by Duoback Co. Ltd.`,\r\n            `Wagner chairs: 5 years for defective parts under regular usage, by Topstar GMBH`,\r\n            `Topstar chairs: 3 years for defective parts under regular usage, by Topstar GMBH`,\r\n            `Ergohuman chairs: 2 years for defective parts under regular usage, by manufacturer`,\r\n            // `HAG chairs: 2 years for defective parts under regular usage, by manufacturer`,\r\n            `Atlas Headrest, 3 years for defective parts under regular usage, by Back Foley LLC`,\r\n          ].map((text, index) => (\r\n            <View\r\n              key={index}\r\n              style={{ flexDirection: \"row\", marginLeft: \"10px\" }}\r\n            >\r\n              <View\r\n                style={{\r\n                  width: 2,\r\n                  height: 2,\r\n                  margin: \"5px 10px 0 0\",\r\n                  backgroundColor: \"#888888\",\r\n                }}\r\n              />\r\n              <View\r\n                style={{\r\n                  flexGrow: 1,\r\n                  fontSize: 10,\r\n                  lineHeight: 1.2,\r\n                  color: \"#888888\",\r\n                }}\r\n              >\r\n                <Text>{text}</Text>\r\n              </View>\r\n            </View>\r\n          ))}\r\n          <Text\r\n            style={{\r\n              fontSize: 10,\r\n              lineHeight: 1.2,\r\n              marginTop: 10,\r\n              color: \"#888888\",\r\n            }}\r\n          >\r\n            Claiming of any aforementioned warranties only covers replacement of\r\n            the defective or broken parts only and does not include the\r\n            following cost, which shall be borne by the claimant. A quotation\r\n            will be provided in advance for approval by the claimant: 1) labor\r\n            costs of technician for replacing the parts; 2) transportation costs\r\n            incurred for sending the product(s) to our company and delivering\r\n            back to the claimant from our shop after service. I, the\r\n            undersigned, have read and understand these policies and agree to\r\n            all the above.\r\n          </Text>\r\n          <Text\r\n            style={{\r\n              fontSize: 10,\r\n              lineHeight: 1.2,\r\n              marginTop: 10,\r\n              color: \"#888888\",\r\n            }}\r\n          >\r\n            Agreement to this quotation represents that client understands our\r\n            refund policy and terms and condition as stated in our website\r\n            ergoseatings.com and ergoseatings.com.hk\r\n          </Text>\r\n          <Text\r\n            style={{\r\n              fontSize: 10,\r\n              lineHeight: 1.2,\r\n              marginTop: 10,\r\n              color: \"#888888\",\r\n            }}\r\n          >\r\n            Initials: _________________\r\n          </Text>\r\n          <Text\r\n            style={{\r\n              fontSize: 12,\r\n              lineHeight: 1.2,\r\n              marginTop: 12,\r\n              fontWeight: \"bold\",\r\n              textAlign: \"center\",\r\n            }}\r\n          >\r\n            Thank you for your business!\r\n          </Text>\r\n        </Page>\r\n      </Document>\r\n    </PDFViewer>\r\n  ) : (\r\n    <Backdrop\r\n      sx={{ color: \"#fff\", zIndex: (theme) => theme.zIndex.drawer + 1 }}\r\n      open={true}\r\n    >\r\n      <WarningIcon />\r\n      <Typography>This url is not a valid quotation url.</Typography>\r\n    </Backdrop>\r\n  );\r\n});\r\n","import axios from 'axios';\r\n\r\nexport const login = (data) => (dispatch) => {\r\n  return new Promise((resolve, reject) => {\r\n    axios\r\n      .post('/user/login', data)\r\n      .then((response) => {\r\n        // handle success\r\n        const { token, type } = response.data;\r\n        const isAdmin = type === 'admin' ? true : false;\r\n        axios.defaults.headers.common['Authorization'] = `Bearer ${token}`;\r\n        dispatch({ type: 'auth/loginSuccess', payload: { token, isAdmin } });\r\n        resolve();\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        reject(error);\r\n      })\r\n      .then(function () {\r\n        // always executed\r\n      });\r\n  });\r\n};\r\n\r\nexport const logout = () => (dispatch) => {\r\n  delete axios.defaults.headers.common['Authorization'];\r\n  dispatch({ type: 'auth/logout' });\r\n};\r\n","import React from 'react';\r\nimport { Link as RouterLink } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport {\r\n  Avatar,\r\n  Box,\r\n  Button,\r\n  Checkbox,\r\n  FormControlLabel,\r\n  Grid,\r\n  Link,\r\n  TextField,\r\n  Typography,\r\n} from '@mui/material';\r\nimport LockOutlinedIcon from '@mui/icons-material/LockOutlined';\r\nimport Swal from 'sweetalert2';\r\nimport LogoTitile from 'images/logo_title.png';\r\n\r\nimport { login } from 'services/auth.service';\r\n\r\nfunction mapStateToProps(state) {\r\n  const { auth } = state;\r\n  return { auth };\r\n}\r\n\r\nconst Copyright = (props) => {\r\n  return (\r\n    <Typography\r\n      variant=\"body2\"\r\n      color=\"text.secondary\"\r\n      align=\"center\"\r\n      {...props}\r\n    >\r\n      {'Copyright  '}\r\n      <Link color=\"inherit\" href=\"https://blueoceanblue.com/\">\r\n        Blueoceanblue.com\r\n      </Link>{' '}\r\n      {new Date().getFullYear()}\r\n      {'.'}\r\n    </Typography>\r\n  );\r\n};\r\n\r\nexport default connect(mapStateToProps, { login })((props) => {\r\n  const handleSubmit = (event) => {\r\n    event.preventDefault();\r\n    const form = event.currentTarget;\r\n    const data = new FormData(form);\r\n    props\r\n      .login({\r\n        email: data.get('email'),\r\n        password: data.get('password'),\r\n      })\r\n      .then()\r\n      .catch((err) => {\r\n        form.password.value = '';\r\n        Swal.fire({\r\n          icon: 'error',\r\n          title: 'Login Failure',\r\n          html: err.response.data.message.replace('\\n', '<br />'),\r\n          allowOutsideClick: false,\r\n        });\r\n      });\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Box\r\n        sx = {{\r\n          mx: 2,\r\n          mt: 8,\r\n          display: 'flex',\r\n          flexDirection: 'column',\r\n          alignItems: 'center',\r\n        }}\r\n      >\r\n        <img src = {LogoTitile} style={{ maxWidth: '100%' }} alt=\"Ergoseating\" />\r\n        <Avatar sx = {{ m: 2, bgcolor: 'secondary.main' }}>\r\n          <LockOutlinedIcon />\r\n        </Avatar>\r\n        <Typography component=\"h1\" variant=\"h5\">\r\n          Sign in\r\n        </Typography>\r\n        <Box\r\n          maxWidth = \"sm\"\r\n          width = \"100%\"\r\n          component = \"form\"\r\n          onSubmit = {handleSubmit}\r\n          noValidate\r\n          sx = {{ mt: 1 }}\r\n        >\r\n          <Grid container spacing={2}>\r\n            <Grid item xs={12}>\r\n              <TextField\r\n                required\r\n                fullWidth\r\n                id=\"email\"\r\n                label=\"Email Address\"\r\n                type=\"email\"\r\n                name=\"email\"\r\n                autoComplete=\"email\"\r\n                autoFocus\r\n              />\r\n            </Grid>\r\n            <Grid item xs={12}>\r\n              <TextField\r\n                required\r\n                fullWidth\r\n                name=\"password\"\r\n                label=\"Password\"\r\n                type=\"password\"\r\n                id=\"password\"\r\n                autoComplete=\"current-password\"\r\n              />\r\n            </Grid>\r\n          </Grid>\r\n\r\n          <FormControlLabel\r\n            control={<Checkbox value=\"remember\" color=\"primary\" />}\r\n            label=\"Remember me\"\r\n          />\r\n          <Button\r\n            type = \"submit\"\r\n            fullWidth\r\n            variant=\"contained\"\r\n            sx = {{ mt: 3, mb: 2 }}\r\n          >\r\n            Sign In\r\n          </Button>\r\n          <Grid container>\r\n            <Grid item xs>\r\n              <Link href=\"#\" variant=\"body2\">\r\n                Forgot password?\r\n              </Link>\r\n            </Grid>\r\n            <Grid item>\r\n              <Link component={RouterLink} to=\"/signup\" variant=\"body2\">\r\n                {\"Don't have an account? Sign Up\"}\r\n              </Link>\r\n            </Grid>\r\n          </Grid>\r\n        </Box>\r\n      </Box>\r\n      <Copyright sx={{ mt: 8, mb: 4 }} />\r\n    </>\r\n  );\r\n});\r\n","import React from 'react';\r\nimport { Link as RouterLink } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport {\r\n  Avatar,\r\n  Box,\r\n  Button,\r\n  FormControl,\r\n  Grid,\r\n  InputLabel,\r\n  Link,\r\n  MenuItem,\r\n  Select,\r\n  TextField,\r\n  Typography,\r\n} from '@mui/material';\r\nimport LockOutlinedIcon from '@mui/icons-material/LockOutlined';\r\nimport Swal from 'sweetalert2';\r\nimport LogoTitile from 'images/logo_title.png';\r\n\r\nimport axios from 'axios';\r\n\r\nfunction mapStateToProps(state) {\r\n  const { auth } = state;\r\n  return { auth };\r\n}\r\n\r\nconst Copyright = (props) => {\r\n  return (\r\n    <Typography\r\n      variant=\"body2\"\r\n      color=\"text.secondary\"\r\n      align=\"center\"\r\n      {...props}\r\n    >\r\n      {'Copyright  '}\r\n      <Link color=\"inherit\" href=\"https://blueoceanblue.com/\">\r\n        Blueoceanblue.com\r\n      </Link>{' '}\r\n      {new Date().getFullYear()}\r\n      {'.'}\r\n    </Typography>\r\n  );\r\n};\r\n\r\nexport default connect(mapStateToProps)((props) => {\r\n  const handleSubmit = (event) => {\r\n    event.preventDefault();\r\n    const form = event.currentTarget;\r\n    const data = new FormData(form);\r\n    axios\r\n      .post('user/register', {\r\n        firstName: data.get('firstName'),\r\n        lastName: data.get('lastName'),\r\n        email: data.get('email'),\r\n        password: data.get('password'),\r\n        prefix: data.get('prefix'),\r\n        type: data.get('type'),\r\n      })\r\n      .then(() => {\r\n        // handle success\r\n        props.history.push('/signin');\r\n        Swal.fire({\r\n          icon: 'success',\r\n          title: 'SignUp Success',\r\n          html: `Your account was successfully registered.<br>You can use your account once Adminstrator allows.`,\r\n          allowOutsideClick: false,\r\n        });\r\n      })\r\n      .catch((err) => {\r\n        // handle error\r\n        Swal.fire({\r\n          icon: 'error',\r\n          title: 'SignUp Failure',\r\n          html: err.response.data.message.replace('\\n', '<br />'),\r\n          allowOutsideClick: false,\r\n        });\r\n      })\r\n      .then(function () {\r\n        // always executed\r\n      });\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Box\r\n        sx={{\r\n          mx: 2,\r\n          mt: 8,\r\n          display: 'flex',\r\n          flexDirection: 'column',\r\n          alignItems: 'center',\r\n        }}\r\n      >\r\n        <img src={LogoTitile} style={{ maxWidth: '100%' }} alt=\"Ergoseating\" />\r\n        <Avatar sx={{ m: 2, bgcolor: 'secondary.main' }}>\r\n          <LockOutlinedIcon />\r\n        </Avatar>\r\n        <Typography component=\"h1\" variant=\"h5\">\r\n          Sign Up\r\n        </Typography>\r\n        <Box\r\n          maxWidth=\"sm\"\r\n          width=\"100%\"\r\n          component=\"form\"\r\n          onSubmit={handleSubmit}\r\n          noValidate\r\n          sx={{ mt: 1 }}\r\n        >\r\n          <Grid container spacing={2}>\r\n            <Grid item xs={12} sm={6}>\r\n              <TextField\r\n                required\r\n                fullWidth\r\n                label=\"First Name\"\r\n                type=\"text\"\r\n                name=\"firstName\"\r\n                autoComplete=\"fname\"\r\n                autoFocus\r\n              />\r\n            </Grid>\r\n            <Grid item xs={12} sm={6}>\r\n              <TextField\r\n                required\r\n                fullWidth\r\n                label=\"Last Name\"\r\n                type=\"text\"\r\n                name=\"lastName\"\r\n                autoComplete=\"lname\"\r\n              />\r\n            </Grid>\r\n            <Grid item xs={12}>\r\n              <TextField\r\n                required\r\n                fullWidth\r\n                id=\"email\"\r\n                label=\"Email Address\"\r\n                type=\"email\"\r\n                name=\"email\"\r\n                autoComplete=\"email\"\r\n              />\r\n            </Grid>\r\n            <Grid item xs={12}>\r\n              <TextField\r\n                required\r\n                fullWidth\r\n                name=\"password\"\r\n                label=\"Password\"\r\n                type=\"password\"\r\n                autoComplete=\"current-password\"\r\n              />\r\n            </Grid>\r\n            <Grid item xs={12} sm={6}>\r\n              <TextField\r\n                required\r\n                fullWidth\r\n                name=\"prefix\"\r\n                label=\"Prefix\"\r\n                type=\"text\"\r\n                autoComplete=\"prefix\"\r\n              />\r\n            </Grid>\r\n            <Grid item xs={12} sm={6}>\r\n              <FormControl fullWidth>\r\n                <InputLabel id=\"user-type-select-label\" size=\"small\">\r\n                  Type\r\n                </InputLabel>\r\n                <Select\r\n                  labelId=\"user-type-select-label\"\r\n                  id=\"user-type-select\"\r\n                  defaultValue=\"\"\r\n                  name=\"type\"\r\n                  label=\"Type\"\r\n                >\r\n                  <MenuItem value=\"salesman\">Salesman</MenuItem>\r\n                  <MenuItem value=\"driver\">Driver</MenuItem>\r\n                </Select>\r\n              </FormControl>\r\n            </Grid>\r\n          </Grid>\r\n          <Button\r\n            type=\"submit\"\r\n            fullWidth\r\n            variant=\"contained\"\r\n            sx={{ mt: 3, mb: 2 }}\r\n          >\r\n            Sign Up\r\n          </Button>\r\n          <Grid container justifyContent=\"flex-end\">\r\n            <Grid item>\r\n              <Link component={RouterLink} to=\"/signin\" variant=\"body2\">\r\n                {'Already have an account? Sign In'}\r\n              </Link>\r\n            </Grid>\r\n          </Grid>\r\n        </Box>\r\n      </Box>\r\n      <Copyright sx={{ mt: 8, mb: 4 }} />\r\n    </>\r\n  );\r\n});\r\n","import React from 'react';\r\nimport { AppBar, IconButton, Toolbar, Typography } from '@mui/material';\r\nimport { Menu as MenuIcon } from '@mui/icons-material';\r\nimport { connect } from 'react-redux';\r\nimport PropTypes from 'prop-types';\r\n\r\nconst AppHeader = ({\r\n  component: Component,\r\n  auth,\r\n  drawerHeight,\r\n  handleDrawerToggle,\r\n  title,\r\n  ...rest\r\n}) => (\r\n  <AppBar\r\n    position=\"static\"\r\n    sx={{\r\n      backgroundColor: '#5664d2',\r\n      flexBasis: `${drawerHeight}px`,\r\n      maxHeight: `${drawerHeight}px`,\r\n    }}\r\n  >\r\n    <Toolbar variant=\"dense\">\r\n      <IconButton\r\n        color=\"inherit\"\r\n        aria-label=\"open drawer\"\r\n        edge=\"start\"\r\n        onClick={handleDrawerToggle}\r\n        sx={{ mr: 2, display: { sm: 'none' } }}\r\n      >\r\n        <MenuIcon />\r\n      </IconButton>\r\n      <Typography variant=\"h6\" noWrap component=\"div\">\r\n        {title}\r\n      </Typography>\r\n    </Toolbar>\r\n  </AppBar>\r\n);\r\n\r\nAppHeader.propTypes = {\r\n  auth: PropTypes.object.isRequired,\r\n  drawerHeight: PropTypes.number.isRequired,\r\n  handleDrawerToggle: PropTypes.func.isRequired,\r\n  title: PropTypes.string,\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n  auth: state.auth,\r\n});\r\n\r\nexport default connect(mapStateToProps)(AppHeader);\r\n","import React, { useState } from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\nimport {\r\n  Box,\r\n  Collapse,\r\n  Divider,\r\n  List,\r\n  ListItem,\r\n  ListItemIcon,\r\n  ListItemText,\r\n  Typography,\r\n} from '@mui/material';\r\nimport { makeStyles } from '@mui/styles';\r\nimport {\r\n  Logout as LogoutIcon,\r\n  ExpandMore as ExpandMoreIcon,\r\n} from '@mui/icons-material';\r\nimport PropTypes from 'prop-types';\r\n\r\nconst useFixedSidebarStyles = makeStyles({\r\n  root: {\r\n    boxSizing: 'border-box',\r\n    paddingTop: '10px',\r\n    width: (props) => props.drawerWidth,\r\n    backgroundColor: '#fff',\r\n    borderRight: '1px solid rgba(0, 0, 0, 0.12)',\r\n    '& a': {\r\n      textDecoration: 'none',\r\n    },\r\n    overflow: 'auto',\r\n    '&::-webkit-scrollbar': {\r\n      width: 8,\r\n    },\r\n    '&::-webkit-scrollbar-thumb': {\r\n      backgroundColor: '#6b778c',\r\n      borderRadius: 4,\r\n    },\r\n  },\r\n  navlink: {\r\n    color: '#6b778c',\r\n    '&:hover': {\r\n      // backgroundColor: '#5664d20a',\r\n    },\r\n    transition: 'background-color ease .5s',\r\n\r\n    '& .MuiListItemIcon-root': {\r\n      minWidth: '40px',\r\n    },\r\n    '& .MuiListItemIcon-root, & .MuiListItemText-root': {\r\n      '.active &': {\r\n        color: '#5664d2',\r\n      },\r\n    },\r\n  },\r\n});\r\n\r\nconst FixedSidebar = ({ drawerWidth, handleLogout, lists }) => {\r\n  const classes = useFixedSidebarStyles({ drawerWidth });\r\n  const [expList, setExpList] = useState(-1);\r\n  const [expIndex, setExpIndex] = useState(-1);\r\n\r\n  return (\r\n    <Box\r\n      className = {classes.root}\r\n      sx = {{\r\n        display: { xs: 'none', sm: 'block' },\r\n      }}\r\n    >\r\n      {lists.map((list, listIndex) => [\r\n        <List key={`list-${listIndex}`}>\r\n          {list.category ? (\r\n            <Typography variant=\"h6\" sx={{ pl: '10px' }}>\r\n              {list.category}\r\n            </Typography>\r\n          ) : null}\r\n          {list.content.map((listitem, itemIndex) =>\r\n            listitem.children ? (\r\n              [\r\n                <ListItem\r\n                  key={`listitem-${itemIndex}`}\r\n                  button\r\n                  className={classes.navlink}\r\n                  onClick={() => {\r\n                    if (expIndex === itemIndex && expList === listIndex) {\r\n                      setExpIndex(-1);\r\n                      setExpList(-1);\r\n                    } else {\r\n                      setExpIndex(itemIndex);\r\n                      setExpList(listIndex);\r\n                    }\r\n                  }}\r\n                  secondaryAction={\r\n                    <ExpandMoreIcon\r\n                      sx={{\r\n                        transition: 'transform ease .3s',\r\n                        transform:\r\n                          expIndex === itemIndex && expList === listIndex\r\n                            ? ''\r\n                            : 'Rotate(-90deg)',\r\n                      }}\r\n                    />\r\n                  }\r\n                >\r\n                  <ListItemIcon>{listitem.icon}</ListItemIcon>\r\n                  <ListItemText primary={listitem.label} />\r\n                </ListItem>,\r\n                <Collapse\r\n                  key={`listcollapse-${itemIndex}`}\r\n                  in={expIndex === itemIndex && expList === listIndex}\r\n                >\r\n                  <List disablePadding>\r\n                    {listitem.children.map((child, childIndex) => (\r\n                      <NavLink\r\n                        key={childIndex}\r\n                        to={child.path}\r\n                        exact\r\n                        activeClassName=\"active\"\r\n                      >\r\n                        <ListItem button className={classes.navlink}>\r\n                          <ListItemIcon>{null}</ListItemIcon>\r\n                          <ListItemText primary={child.label} />\r\n                        </ListItem>\r\n                      </NavLink>\r\n                    ))}\r\n                  </List>\r\n                </Collapse>,\r\n              ]\r\n            ) : (\r\n              <NavLink\r\n                key={`listitem-${itemIndex}`}\r\n                activeClassName=\"active\"\r\n                {...listitem}\r\n              >\r\n                <ListItem button className={classes.navlink}>\r\n                  <ListItemIcon>{listitem.icon}</ListItemIcon>\r\n                  <ListItemText primary={listitem.label} />\r\n                </ListItem>\r\n              </NavLink>\r\n            )\r\n          )}\r\n        </List>,\r\n        <Divider key={`listdivider-${listIndex}`} />,\r\n      ])}\r\n      <List>\r\n        <ListItem button className={classes.navlink} onClick={handleLogout}>\r\n          <ListItemIcon>\r\n            <LogoutIcon />\r\n          </ListItemIcon>\r\n          <ListItemText primary=\"Logout\" />\r\n        </ListItem>\r\n      </List>\r\n    </Box>\r\n  );\r\n};\r\n\r\nFixedSidebar.propTypes = {\r\n  drawerWidth: PropTypes.number.isRequired,\r\n  handleLogout: PropTypes.func.isRequired,\r\n  lists: PropTypes.array.isRequired,\r\n};\r\n\r\nexport default FixedSidebar;\r\n","import React, { useState } from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\nimport {\r\n  Collapse,\r\n  Divider,\r\n  Drawer,\r\n  List,\r\n  ListItem,\r\n  ListItemIcon,\r\n  ListItemText,\r\n  Typography,\r\n} from '@mui/material';\r\nimport { makeStyles } from '@mui/styles';\r\nimport {\r\n  Logout as LogoutIcon,\r\n  ExpandMore as ExpandMoreIcon,\r\n} from '@mui/icons-material';\r\nimport PropTypes from 'prop-types';\r\n\r\nconst useFixedSidebarStyles = makeStyles({\r\n  root: {\r\n    boxSizing: 'border-box',\r\n    paddingTop: '10px',\r\n    width: (props) => props.drawerWidth,\r\n    backgroundColor: '#fff',\r\n    borderRight: '1px solid rgba(0, 0, 0, 0.12)',\r\n    '& a': {\r\n      textDecoration: 'none',\r\n    },\r\n  },\r\n  navlink: {\r\n    color: '#6b778c',\r\n    '&:hover': {\r\n      // backgroundColor: '#5664d20a',\r\n    },\r\n    transition: 'background-color ease .5s',\r\n\r\n    '& .MuiListItemIcon-root': {\r\n      minWidth: '40px',\r\n    },\r\n    '& .MuiListItemIcon-root, & .MuiListItemText-root': {\r\n      '.active &': {\r\n        color: '#5664d2',\r\n      },\r\n    },\r\n  },\r\n});\r\n\r\nconst FixedSidebar = ({\r\n  drawerWidth,\r\n  handleLogout,\r\n  handleDrawerClose,\r\n  lists,\r\n  mobileOpen,\r\n}) => {\r\n  const classes = useFixedSidebarStyles({ drawerWidth });\r\n  const [expList, setExpList] = useState(-1);\r\n  const [expIndex, setExpIndex] = useState(-1);\r\n\r\n  return (\r\n    <Drawer\r\n      variant=\"temporary\"\r\n      open={mobileOpen}\r\n      onClose={handleDrawerClose}\r\n      ModalProps={{\r\n        keepMounted: true, // Better open performance on mobile.\r\n      }}\r\n      PaperProps={{\r\n        className: classes.root,\r\n      }}\r\n      sx={{\r\n        display: { xs: 'block', sm: 'none' },\r\n      }}\r\n    >\r\n      {lists.map((list, listIndex) => [\r\n        <List key = {`list-${listIndex}`}>\r\n          { list.category ? (\r\n            <Typography variant=\"h6\" sx={{ pl: '10px' }}>\r\n              {list.category}\r\n            </Typography>\r\n          ) : null }\r\n          { list.content.map((listitem, itemIndex) =>\r\n            listitem.children ? (\r\n              [\r\n                <ListItem\r\n                  key = { `listitem-${itemIndex}` }\r\n                  button\r\n                  className = {classes.navlink}\r\n                  onClick = { () => {\r\n                    if (expIndex === itemIndex && expList === listIndex) {\r\n                      setExpIndex(-1);\r\n                      setExpList(-1);\r\n                    } else {\r\n                      setExpIndex(itemIndex);\r\n                      setExpList(listIndex);\r\n                    }\r\n                  }}\r\n                  secondaryAction={\r\n                    <ExpandMoreIcon\r\n                      sx={{\r\n                        transition: 'transform ease .3s',\r\n                        transform:\r\n                          expIndex === itemIndex && expList === listIndex\r\n                            ? ''\r\n                            : 'Rotate(-90deg)',\r\n                      }}\r\n                    />\r\n                  }\r\n                >\r\n                  <ListItemIcon>{listitem.icon}</ListItemIcon>\r\n                  <ListItemText primary={listitem.label} />\r\n                </ListItem>,\r\n                <Collapse\r\n                  key = { `listcollapse-${itemIndex}` }\r\n                  in = { expIndex === itemIndex && expList === listIndex }\r\n                >\r\n                  <List disablePadding>\r\n                    {listitem.children.map((child, childIndex) => (\r\n                      <NavLink\r\n                        key={childIndex}\r\n                        to={child.path}\r\n                        exact\r\n                        activeClassName=\"active\"\r\n                      >\r\n                        <ListItem button className={classes.navlink}>\r\n                          <ListItemIcon>{null}</ListItemIcon>\r\n                          <ListItemText primary={child.label} />\r\n                        </ListItem>\r\n                      </NavLink>\r\n                    ))}\r\n                  </List>\r\n                </Collapse>,\r\n              ]\r\n            ) : (\r\n              <NavLink\r\n                key = {`listitem-${itemIndex}`}\r\n                {...listitem}\r\n                activeClassName = \"active\"\r\n              >\r\n                <ListItem button className={classes.navlink}>\r\n                  <ListItemIcon>{listitem.icon}</ListItemIcon>\r\n                  <ListItemText primary={listitem.label} />\r\n                </ListItem>\r\n              </NavLink>\r\n            )\r\n          )}\r\n        </List>,\r\n        <Divider key={`listdivider-${listIndex}`} />,\r\n      ])}\r\n      <List>\r\n        <ListItem\r\n          button\r\n          className = {classes.navlink}\r\n          onClick = {(e) => {\r\n            handleDrawerClose(e);\r\n            handleLogout(e);\r\n          }}\r\n        >\r\n          <ListItemIcon>\r\n            <LogoutIcon />\r\n          </ListItemIcon>\r\n          <ListItemText primary = \"Logout\" />\r\n        </ListItem>\r\n      </List>\r\n    </Drawer>\r\n  );\r\n};\r\n\r\nFixedSidebar.propTypes = {\r\n  drawerWidth: PropTypes.number.isRequired,\r\n  handleLogout: PropTypes.func.isRequired,\r\n  handleDrawerClose: PropTypes.func.isRequired,\r\n  lists: PropTypes.array.isRequired,\r\n  mobileOpen: PropTypes.bool.isRequired,\r\n};\r\n\r\nexport default FixedSidebar;\r\n","import React, { useEffect, useRef, useState } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { alpha } from '@mui/material/styles';\r\nimport Box from '@mui/material/Box';\r\nimport {\r\n  Table,\r\n  TableBody,\r\n  TableCell,\r\n  TableContainer,\r\n  TableHead,\r\n  TablePagination,\r\n  TableRow,\r\n  tableCellClasses,\r\n  TableSortLabel,\r\n} from '@mui/material';\r\nimport { grey, teal } from '@mui/material/colors';\r\nimport Toolbar from '@mui/material/Toolbar';\r\nimport Typography from '@mui/material/Typography';\r\nimport Paper from '@mui/material/Paper';\r\nimport Checkbox from '@mui/material/Checkbox';\r\nimport IconButton from '@mui/material/IconButton';\r\nimport Tooltip from '@mui/material/Tooltip';\r\nimport {\r\n  ArrowDropDown as ArrowDropDownIcon,\r\n  Delete as DeleteIcon,\r\n  Edit as EditIcon,\r\n} from '@mui/icons-material';\r\nimport { makeStyles } from '@mui/styles';\r\n\r\nfunction descendingComparator(a, b, orderBy) {\r\n  if (b[orderBy] < a[orderBy]) {\r\n    return -1;\r\n  }\r\n  if (b[orderBy] > a[orderBy]) {\r\n    return 1;\r\n  }\r\n  return 0;\r\n}\r\n\r\nfunction getComparator(order, orderBy) {\r\n  return order === 'desc'\r\n    ? (a, b) => descendingComparator(a, b, orderBy)\r\n    : (a, b) => -descendingComparator(a, b, orderBy);\r\n}\r\n\r\n// This method is created for cross-browser compatibility, if you don't\r\n// need to support IE11, you can use Array.prototype.sort() directly\r\nfunction stableSort(array, comparator) {\r\n  const stabilizedThis = array.map((el, index) => [el, index]);\r\n  stabilizedThis.sort((a, b) => {\r\n    const order = comparator(a[0], b[0]);\r\n    if (order !== 0) {\r\n      return order;\r\n    }\r\n    return a[1] - b[1];\r\n  });\r\n  return stabilizedThis.map((el) => el[0]);\r\n}\r\n\r\nfunction EnhancedTableHead(props) {\r\n  const {\r\n    columns,\r\n    onSelectAllClick,\r\n    order,\r\n    orderBy,\r\n    numSelected,\r\n    nonSelect,\r\n    rowCount,\r\n    onRequestSort,\r\n  } = props;\r\n\r\n  const createSortHandler = (property) => (event) => {\r\n    onRequestSort(event, property);\r\n  };\r\n\r\n  return (\r\n    <TableHead>\r\n      <TableRow>\r\n        {!nonSelect && (\r\n          <TableCell padding=\"checkbox\">\r\n            <Checkbox\r\n              color=\"primary\"\r\n              indeterminate={numSelected > 0 && numSelected < rowCount}\r\n              checked={rowCount > 0 && numSelected === rowCount}\r\n              onChange={onSelectAllClick}\r\n              inputProps={{\r\n                'aria-label': 'select all desserts',\r\n              }}\r\n            />\r\n          </TableCell>\r\n        )}\r\n        {columns.map(({ id, label, nonSort, sx, ...restProps }) => (\r\n          <TableCell\r\n            key={id}\r\n            align=\"left\"\r\n            sx={{ p: '3px 0 3px 5px', ...sx }}\r\n            sortDirection={orderBy === id ? order : false}\r\n            {...restProps}\r\n          >\r\n            {nonSort ? (\r\n              label\r\n            ) : (\r\n              <TableSortLabel\r\n                active={orderBy === id}\r\n                direction={orderBy === id ? order : 'asc'}\r\n                onClick={createSortHandler(id)}\r\n                IconComponent={ArrowDropDownIcon}\r\n              >\r\n                {label}\r\n              </TableSortLabel>\r\n            )}\r\n          </TableCell>\r\n        ))}\r\n      </TableRow>\r\n    </TableHead>\r\n  );\r\n}\r\n\r\nEnhancedTableHead.propTypes = {\r\n  columns: PropTypes.arrayOf(Object).isRequired,\r\n  numSelected: PropTypes.number.isRequired,\r\n  onRequestSort: PropTypes.func.isRequired,\r\n  onSelectAllClick: PropTypes.func.isRequired,\r\n  order: PropTypes.oneOf(['asc', 'desc']).isRequired,\r\n  orderBy: PropTypes.string.isRequired,\r\n  rowCount: PropTypes.number.isRequired,\r\n};\r\n\r\nconst EnhancedTableToolbar = (props) => {\r\n  const { title, numSelected, onBulkEditClick, onBulkRemoveClick } = props;\r\n\r\n  return (\r\n    <Toolbar\r\n      sx={{\r\n        pl: { sm: 2 },\r\n        pr: { xs: 1, sm: 1 },\r\n        ...(numSelected > 0 && {\r\n          bgcolor: (theme) =>\r\n            alpha(\r\n              theme.palette.primary.main,\r\n              theme.palette.action.activatedOpacity\r\n            ),\r\n        }),\r\n      }}\r\n    >\r\n      {numSelected > 0 ? (\r\n        <Typography\r\n          sx={{ flex: '1 1 100%' }}\r\n          color=\"inherit\"\r\n          variant=\"subtitle1\"\r\n          component=\"div\"\r\n        >\r\n          {numSelected} selected\r\n        </Typography>\r\n      ) : (\r\n        <Typography\r\n          sx={{ flex: '1 1 100%' }}\r\n          variant=\"h6\"\r\n          id=\"tableTitle\"\r\n          component=\"div\"\r\n        >\r\n          {title}\r\n        </Typography>\r\n      )}\r\n\r\n      {numSelected > 0 && (\r\n        <>\r\n          {onBulkEditClick && (\r\n            <Tooltip title=\"Edit\">\r\n              <IconButton onClick={onBulkEditClick}>\r\n                <EditIcon />\r\n              </IconButton>\r\n            </Tooltip>\r\n          )}\r\n          {onBulkRemoveClick && (\r\n            <Tooltip title=\"Delete\">\r\n              <IconButton onClick={onBulkRemoveClick}>\r\n                <DeleteIcon />\r\n              </IconButton>\r\n            </Tooltip>\r\n          )}\r\n        </>\r\n      )}\r\n    </Toolbar>\r\n  );\r\n};\r\n\r\nEnhancedTableToolbar.propTypes = {\r\n  title: PropTypes.string,\r\n  numSelected: PropTypes.number,\r\n  onBulkEditClick: PropTypes.func,\r\n  onBulkRemoveClick: PropTypes.func,\r\n};\r\n\r\nconst useDataGridStyles = makeStyles((theme) => ({\r\n  table: {\r\n    [`& .MuiTableCell-root.${tableCellClasses.head}`]: {\r\n      backgroundColor: teal[400],\r\n      '&, & *': { color: teal[50] },\r\n      fontSize: 16,\r\n      fontWeight: 600,\r\n    },\r\n    [`& .MuiTableCell-root.${tableCellClasses.body}`]: {\r\n      fontSize: 14,\r\n    },\r\n    '& .MuiTableRow-root': {\r\n      height: 40,\r\n      '&:nth-of-type(odd)': {\r\n        backgroundColor: grey[50],\r\n      },\r\n      '&:last-child td, &:last-child th': {\r\n        border: 0,\r\n      },\r\n    },\r\n  },\r\n}));\r\n\r\nconst DataGrid = (props) => {\r\n  const {\r\n    title,\r\n    columns,\r\n    nonSelect,\r\n    onBulkEditClick,\r\n    onBulkRemoveClick,\r\n    rows,\r\n  } = props;\r\n\r\n  const classes = useDataGridStyles();\r\n\r\n  const [order, setOrder] = useState('asc');\r\n  const [orderBy, setOrderBy] = useState('index');\r\n  const [selected, setSelected] = useState([]);\r\n  const [page, setPage] = useState(0);\r\n  const [rowsPerPage, setRowsPerPage] = useState(10);\r\n  const [rowsLength, setRowsLength] = useState(rows.length)\r\n\r\n  const prevRows = useRef();\r\n\r\n  useEffect(() => {\r\n    if (prevRows.current !== rows.map((tmp) => tmp.id).join(',')) {\r\n      prevRows.current = rows.map((tmp) => tmp.id).join(',');\r\n      setSelected(\r\n        selected.filter((item) => rows.map((row) => row.id).includes(item))\r\n      );\r\n    }\r\n\r\n    if (rows.length !== rowsLength) {\r\n      setPage(0);\r\n      setRowsLength(rows.length)\r\n    }\r\n  }, [rows, selected]);\r\n\r\n  const handleRequestSort = (event, property) => {\r\n    const isAsc = orderBy === property && order === 'asc';\r\n    setOrder(isAsc ? 'desc' : 'asc');\r\n    setOrderBy(property);\r\n  };\r\n\r\n  const handleSelectAllClick = (event) => {\r\n    if (event.target.checked) {\r\n      const newSelecteds = rows.map((n) => n.id);\r\n      setSelected(newSelecteds);\r\n      return;\r\n    }\r\n    setSelected([]);\r\n  };\r\n\r\n  const handleClick = (event, id) => {\r\n    const selectedIndex = selected.indexOf(id);\r\n    let newSelected = [];\r\n\r\n    if (selectedIndex === -1) {\r\n      newSelected = newSelected.concat(selected, id);\r\n    } else if (selectedIndex === 0) {\r\n      newSelected = newSelected.concat(selected.slice(1));\r\n    } else if (selectedIndex === selected.length - 1) {\r\n      newSelected = newSelected.concat(selected.slice(0, -1));\r\n    } else if (selectedIndex > 0) {\r\n      newSelected = newSelected.concat(\r\n        selected.slice(0, selectedIndex),\r\n        selected.slice(selectedIndex + 1)\r\n      );\r\n    }\r\n\r\n    setSelected(newSelected);\r\n  };\r\n\r\n  const handleChangePage = (event, newPage) => {\r\n    setPage(newPage);\r\n  };\r\n\r\n  const handleChangeRowsPerPage = (event) => {\r\n    setRowsPerPage(parseInt(event.target.value, 10));\r\n    setPage(0);\r\n  };\r\n\r\n  const isSelected = (id) => selected.indexOf(id) !== -1;\r\n\r\n  // Avoid a layout jump when reaching the last page with empty rows.\r\n  const emptyRows =\r\n    page > 0 ? Math.max(0, (1 + page) * rowsPerPage - rows.length) : 0;\r\n\r\n  return (\r\n    <Box sx={{ width: '100%' }}>\r\n      <Paper sx={{ width: '100%', mt: 2 }}>\r\n        <EnhancedTableToolbar\r\n          title={title}\r\n          numSelected={selected.length}\r\n          onBulkEditClick={\r\n            onBulkEditClick\r\n              ? (event) => {\r\n                event.preventDefault();\r\n                onBulkEditClick(selected);\r\n              }\r\n              : null\r\n          }\r\n          onBulkRemoveClick={\r\n            onBulkRemoveClick\r\n              ? (event) => {\r\n                event.preventDefault();\r\n                onBulkRemoveClick(selected);\r\n              }\r\n              : null\r\n          }\r\n        />\r\n        <TableContainer>\r\n          <Table\r\n            className={classes.table}\r\n            sx={{ minWidth: 750 }}\r\n            aria-labelledby=\"tableTitle\"\r\n            size=\"small\"\r\n          >\r\n            <EnhancedTableHead\r\n              columns={columns}\r\n              numSelected={selected.length}\r\n              order={order}\r\n              orderBy={orderBy}\r\n              onSelectAllClick={handleSelectAllClick}\r\n              onRequestSort={handleRequestSort}\r\n              nonSelect={nonSelect}\r\n              rowCount={rows.length}\r\n            />\r\n            <TableBody>\r\n              {/* if you don't need to support IE11, you can replace the `stableSort` call with:\r\n                 rows.slice().sort(getComparator(order, orderBy)) */}\r\n              {stableSort(rows, getComparator(order, orderBy))\r\n                .slice(page * rowsPerPage, page * rowsPerPage + rowsPerPage)\r\n                .map((row, index) => {\r\n                  const isItemSelected = isSelected(row.id);\r\n                  const labelId = `enhanced-table-checkbox-${index}`;\r\n\r\n                  return (\r\n                    <TableRow\r\n                      role=\"checkbox\"\r\n                      aria-checked={isItemSelected}\r\n                      tabIndex={-1}\r\n                      key={index}\r\n                      selected={isItemSelected}\r\n                      style={row.bkColor === 1 ? { backgroundColor: \"#cccccc\"} : {}}\r\n                    >\r\n                      {!nonSelect && (\r\n                        <TableCell padding=\"checkbox\">\r\n                          <Checkbox\r\n                            onClick={(event) => handleClick(event, row.id)}\r\n                            color=\"primary\"\r\n                            checked={isItemSelected}\r\n                            inputProps={{\r\n                              'aria-labelledby': labelId,\r\n                            }}\r\n                          />\r\n                        </TableCell>\r\n                      )}\r\n\r\n                      {columns.map(\r\n                        (\r\n                          { id, label, nonSort, sx, ...restProps },\r\n                          filedIndex\r\n                        ) => (\r\n                          <TableCell\r\n                            key={filedIndex}\r\n                            component=\"th\"\r\n                            id={filedIndex === 0 ? labelId : ''}\r\n                            scope=\"row\"\r\n                            sx={{ p: '3px 0 3px 5px', ...sx }}\r\n                            {...restProps}\r\n                          >\r\n                            {id === 'index' ? row[id] + 1 : row[id]}\r\n                          </TableCell>\r\n                        )\r\n                      )}\r\n                    </TableRow>\r\n                  );\r\n                })}\r\n              {emptyRows > 0 && (\r\n                <TableRow\r\n                  style={{\r\n                    height: 33 * emptyRows,\r\n                  }}\r\n                >\r\n                  <TableCell colSpan={6} />\r\n                </TableRow>\r\n              )}\r\n            </TableBody>\r\n          </Table>\r\n        </TableContainer>\r\n        <TablePagination\r\n          rowsPerPageOptions={[5, 10, 25]}\r\n          component=\"div\"\r\n          count={rows.length}\r\n          rowsPerPage={rowsPerPage}\r\n          page={page}\r\n          onPageChange={handleChangePage}\r\n          onRowsPerPageChange={handleChangeRowsPerPage}\r\n        />\r\n      </Paper>\r\n    </Box>\r\n  );\r\n};\r\n\r\nDataGrid.propTypes = {\r\n  title: PropTypes.string,\r\n  nonSelect: PropTypes.bool,\r\n  columns: PropTypes.array.isRequired,\r\n  rows: PropTypes.array.isRequired,\r\n  onBulkRemoveClick: PropTypes.func,\r\n  onBulkEditClick: PropTypes.func,\r\n};\r\n\r\nexport default DataGrid;\r\n","import React, { useEffect, useState } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport {\r\n  Button,\r\n  Checkbox,\r\n  Dialog,\r\n  DialogActions,\r\n  DialogContent,\r\n  DialogContentText,\r\n  DialogTitle,\r\n  FormControl,\r\n  IconButton,\r\n  InputLabel,\r\n  MenuItem,\r\n  Select,\r\n  Stack,\r\n  TextField,\r\n} from '@mui/material';\r\nimport { Edit as EditIcon, Delete as DeleteIcon } from '@mui/icons-material';\r\nimport axios from 'axios';\r\nimport Swal from 'sweetalert2';\r\n\r\nimport DataGrid from 'components/Common/DataGrid';\r\n\r\nconst columns = [\r\n  {\r\n    id: 'email',\r\n    label: 'Email',\r\n  },\r\n  {\r\n    id: 'firstName',\r\n    label: 'First Name',\r\n  },\r\n  {\r\n    id: 'lastName',\r\n    label: 'Last Name',\r\n  },\r\n  {\r\n    id: 'type',\r\n    label: 'Type',\r\n  },\r\n  {\r\n    id: 'prefix',\r\n    label: 'Prefix',\r\n  },\r\n  {\r\n    id: 'isActive',\r\n    label: 'Active',\r\n  },\r\n  {\r\n    nonSort: true,\r\n    id: 'edit',\r\n    sx: { maxWidth: 45, width: 45 },\r\n  },\r\n  {\r\n    nonSort: true,\r\n    id: 'delete',\r\n    sx: { maxWidth: 45, width: 45 },\r\n  },\r\n];\r\n\r\nfunction mapStateToProps(state) {\r\n  const { auth } = state;\r\n  return { auth };\r\n}\r\n\r\nexport default connect(mapStateToProps)((props) => {\r\n  const [users, setUsers] = useState([]);\r\n  const [editOpen, setEditOpen] = useState(false);\r\n\r\n  const [id, setID] = useState('');\r\n  const [formProps, setFormProps] = useState([]);\r\n  const [type, setType] = useState('');\r\n\r\n  const handleEditClick = (index) => {\r\n    if (index < users.length && index >= 0) {\r\n      setID(users[index].id);\r\n      setFormProps([\r\n        {\r\n          name: 'email',\r\n          defaultValue: users[index].email,\r\n          label: 'Email',\r\n          width: '100%',\r\n        },\r\n        {\r\n          name: 'firstName',\r\n          defaultValue: users[index].firstName,\r\n          label: 'First Name',\r\n          width: '100%',\r\n        },\r\n        {\r\n          name: 'lastName',\r\n          defaultValue: users[index].lastName,\r\n          label: 'Last Name',\r\n          width: '100%',\r\n        },\r\n        {\r\n          name: 'prefix',\r\n          defaultValue: users[index].prefix,\r\n          label: 'Prefix',\r\n          width: '100%',\r\n        },\r\n      ]);\r\n      setType(users[index].type);\r\n    }\r\n    setEditOpen(true);\r\n  };\r\n\r\n  const handleRemoveClick = (index) => {\r\n    if (index < users.length && index >= 0) {\r\n      Swal.fire({\r\n        title: 'Are you sure?',\r\n        text: 'This action will remove current account permanently.',\r\n        icon: 'question',\r\n        showCancelButton: true,\r\n        confirmButtonText: 'Yes, Remove!',\r\n        cancelButtonText: 'No, Keep this account.',\r\n        allowOutsideClick: false,\r\n      }).then((result) => {\r\n        if (result.isConfirmed) {\r\n          axios\r\n            .delete(`/user/${users[index].id}`)\r\n            .then((response) => {\r\n              // handle success\r\n              getUsers();\r\n            })\r\n            .catch(function (error) {\r\n              // handle error\r\n              Swal.fire({\r\n                icon: 'error',\r\n                title: 'Error',\r\n                text: error.response.data.message,\r\n                allowOutsideClick: false,\r\n              });\r\n              console.log(error);\r\n            })\r\n            .then(function () {\r\n              // always executed\r\n            });\r\n        }\r\n      });\r\n    }\r\n  };\r\n\r\n  const handleBulkRemoveClick = (selected) => {\r\n    Swal.fire({\r\n      title: 'Are you sure?',\r\n      text: 'This action will remove selected ChairColors permanently.',\r\n      icon: 'question',\r\n      showCancelButton: true,\r\n      confirmButtonText: 'Yes, Remove!',\r\n      cancelButtonText: 'No, Keep Them.',\r\n      allowOutsideClick: false,\r\n    }).then((result) => {\r\n      if (result.isConfirmed) {\r\n        axios\r\n          .delete('/user', { data: { ids: selected } })\r\n          .then((response) => {\r\n            // handle success\r\n            getUsers();\r\n          })\r\n          .catch(function (error) {\r\n            // handle error\r\n            Swal.fire({\r\n              icon: 'error',\r\n              title: 'Error',\r\n              text: error.response.data.message,\r\n              allowOutsideClick: false,\r\n            });\r\n            console.log(error);\r\n          })\r\n          .then(function () {\r\n            // always executed\r\n          });\r\n      }\r\n    });\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setEditOpen(false);\r\n  };\r\n\r\n  const handleSave = (e) => {\r\n    e.preventDefault();\r\n    const data = new FormData(e.currentTarget);\r\n    new axios.put(`/user/${id}`, {\r\n      email: data.get('email'),\r\n      firstName: data.get('firstName'),\r\n      lastName: data.get('lastName'),\r\n      type: type,\r\n      prefix: data.get('prefix'),\r\n    })\r\n      .then((response) => {\r\n        // handle success\r\n        setEditOpen(false);\r\n        getUsers();\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        setEditOpen(false);\r\n        Swal.fire({\r\n          icon: 'error',\r\n          title: 'Error',\r\n          text: error.response.data.message,\r\n          allowOutsideClick: false,\r\n        }).then(() => {\r\n          setEditOpen(true);\r\n        });\r\n        console.log(error);\r\n      })\r\n      .then(function () {\r\n        // always executed\r\n      });\r\n  };\r\n\r\n  const getUsers = (cancelToken) => {\r\n    axios\r\n      .get('/user', { cancelToken: cancelToken })\r\n      .then((response) => {\r\n        // handle success\r\n        setUsers(response.data);\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        console.log(error);\r\n      })\r\n      .then(function () {\r\n        // always executed\r\n      });\r\n  };\r\n\r\n  useEffect(() => {\r\n    let source = axios.CancelToken.source();\r\n    getUsers(source.token);\r\n    return () => source.cancel('Users Component got unmounted');\r\n  }, []);\r\n\r\n  return (\r\n    <>\r\n      <DataGrid\r\n        title=\"Users\"\r\n        rows={users.map(({ isActive, ...restProps }, index) => ({\r\n          index,\r\n          isActive: (\r\n            <Checkbox\r\n              checked={isActive}\r\n              onClick={(event) => {\r\n                event.stopPropagation();\r\n                event.preventDefault();\r\n                axios\r\n                  .put(`/user/${restProps.id}`, {\r\n                    isActive: !isActive,\r\n                  })\r\n                  .then(() => {\r\n                    getUsers();\r\n                  })\r\n                  .catch(function (error) {\r\n                    // handle error\r\n                    Swal.fire({\r\n                      icon: 'error',\r\n                      title: 'Error',\r\n                      text: error.response.data.message,\r\n                      allowOutsideClick: false,\r\n                    });\r\n                  })\r\n                  .then(function () {\r\n                    // always executed\r\n                  });\r\n              }}\r\n            />\r\n          ),\r\n          edit: (\r\n            <IconButton\r\n              onClick={(event) => {\r\n                event.preventDefault();\r\n                handleEditClick(index);\r\n              }}\r\n            >\r\n              <EditIcon />\r\n            </IconButton>\r\n          ),\r\n          delete: (\r\n            <IconButton\r\n              onClick={(event) => {\r\n                event.preventDefault();\r\n                handleRemoveClick(index);\r\n              }}\r\n            >\r\n              <DeleteIcon />\r\n            </IconButton>\r\n          ),\r\n          ...restProps,\r\n        }))}\r\n        columns={columns}\r\n        onEditClick={handleEditClick}\r\n        onRemoveClick={handleRemoveClick}\r\n        onBulkRemoveClick={handleBulkRemoveClick}\r\n      />\r\n      <Dialog\r\n        open={editOpen}\r\n        PaperProps={{ component: 'form', onSubmit: handleSave }}\r\n      >\r\n        <DialogTitle>Edit User</DialogTitle>\r\n        <DialogContent>\r\n          <Stack spacing={2}>\r\n            <DialogContentText>\r\n              Please Edit the User information and Click Save button.\r\n            </DialogContentText>\r\n            {formProps.map(({ width, ...restProps }, index) => (\r\n              <TextField\r\n                key={index}\r\n                sx={{ flexBasis: width, minWidth: width }}\r\n                {...restProps}\r\n              />\r\n            ))}\r\n            <FormControl>\r\n              <InputLabel id=\"user-type-select-label\" size=\"small\">\r\n                Type\r\n              </InputLabel>\r\n              <Select\r\n                labelId=\"user-type-select-label\"\r\n                id=\"user-type-select\"\r\n                value={type}\r\n                label=\"Type\"\r\n                onChange={(event) => {\r\n                  event.preventDefault();\r\n                  setType(event.target.value);\r\n                }}\r\n              >\r\n                <MenuItem value=\"admin\">Admin</MenuItem>\r\n                <MenuItem value=\"salesman\">Salesman</MenuItem>\r\n                <MenuItem value=\"driver\">Driver</MenuItem>\r\n              </Select>\r\n            </FormControl>\r\n          </Stack>\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button onClick={handleClose}>Cancel</Button>\r\n          <Button type=\"submit\">Save</Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    </>\r\n  );\r\n});\r\n","import React from \"react\";\r\nimport Checkbox from \"@mui/material/Checkbox\";\r\nimport InputLabel from \"@mui/material/InputLabel\";\r\nimport ListItemIcon from \"@mui/material/ListItemIcon\";\r\nimport ListItemText from \"@mui/material/ListItemText\";\r\nimport MenuItem from \"@mui/material/MenuItem\";\r\nimport FormControl from \"@mui/material/FormControl\";\r\nimport Select from \"@mui/material/Select\";\r\nimport { makeStyles } from \"@mui/styles\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    formControl: {\r\n      marginTop: 30,\r\n      marginRight: 20,\r\n      width: '40%',\r\n      float: \"right\"\r\n    },\r\n    indeterminateColor: {\r\n      color: \"#f50057\"\r\n    },\r\n    selectAllText: {\r\n      fontWeight: 500\r\n    },\r\n    selectedAll: {\r\n      backgroundColor: \"rgba(0, 0, 0, 0.08)\",\r\n      \"&:hover\": {\r\n        backgroundColor: \"rgba(0, 0, 0, 0.08)\"\r\n      }\r\n    }\r\n  }));\r\n  \r\n  const ITEM_HEIGHT = 48;\r\n  const ITEM_PADDING_TOP = 1;\r\n  const MenuProps = {\r\n    PaperProps: {\r\n      style: {\r\n        maxHeight: ITEM_HEIGHT * 4.5 + ITEM_PADDING_TOP,\r\n        width: 250\r\n      }\r\n    },\r\n    anchorOrigin: {\r\n      vertical: \"bottom\",\r\n      horizontal: \"center\"\r\n    },\r\n    transformOrigin: {\r\n      vertical: \"top\",\r\n      horizontal: \"center\"\r\n    },\r\n    variant: \"menu\"\r\n};\r\n\r\nfunction CheckableMultiSelect(props) {\r\n    const { options, onChange, selected } = props\r\n    const classes = useStyles();\r\n    // const [selected, setSelected] = useState([]);\r\n    const isAllSelected =\r\n        options.length > 0 && selected.length === options.length;\r\n\r\n    const handleChange = (event) => {\r\n        const value = event.target.value;\r\n        if (value[value.length - 1] === \"all\") {\r\n            onChange(selected.length === options.length ? [] : options);\r\n        return;\r\n        }\r\n        onChange(value);\r\n    };\r\n\r\n    return (\r\n        <FormControl className={classes.formControl} variant=\"outlined\" >\r\n            <InputLabel htmlFor=\"mutiple-select-label\">Select columns</InputLabel>\r\n            <Select\r\n                multiple\r\n                value={selected}\r\n                onChange={handleChange}\r\n                renderValue={(selected) => selected.join(\", \")}\r\n                MenuProps={MenuProps}\r\n                label=\"Select columns\"\r\n                size=\"normal\"\r\n            >\r\n                <MenuItem\r\n                value=\"all\"\r\n                classes={{\r\n                    root: isAllSelected ? classes.selectedAll : \"\"\r\n                }}\r\n                >\r\n                <ListItemIcon>\r\n                    <Checkbox\r\n                    classes={{ indeterminate: classes.indeterminateColor }}\r\n                    checked={isAllSelected}\r\n                    indeterminate={\r\n                        selected.length > 0 && selected.length < options.length\r\n                    }\r\n                    />\r\n                </ListItemIcon>\r\n                <ListItemText\r\n                    classes={{ primary: classes.selectAllText }}\r\n                    primary=\"Select All\"\r\n                />\r\n                </MenuItem>\r\n                {options.map((option) => (\r\n                <MenuItem key={option} value={option}>\r\n                    <ListItemIcon>\r\n                    <Checkbox checked={selected.indexOf(option) > -1} />\r\n                    </ListItemIcon>\r\n                    <ListItemText primary={option} />\r\n                </MenuItem>\r\n                ))}\r\n            </Select>\r\n        </FormControl>\r\n    );\r\n}\r\n\r\nexport default CheckableMultiSelect;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport {\r\n  Autocomplete,\r\n  Button,\r\n  Box,\r\n  Checkbox,\r\n  Dialog,\r\n  DialogActions,\r\n  DialogContent,\r\n  DialogTitle,\r\n  FormControlLabel,\r\n  IconButton,\r\n  Paper,\r\n  TextField,\r\n} from \"@mui/material\";\r\nimport {\r\n  Add as AddIcon,\r\n  Edit as EditIcon,\r\n  Delete as DeleteIcon,\r\n  Remove as RemoveIcon,\r\n} from \"@mui/icons-material\";\r\nimport { useTheme } from \"@mui/material/styles\";\r\nimport useMediaQuery from \"@mui/material/useMediaQuery\";\r\nimport axios from \"axios\";\r\nimport Swal from \"sweetalert2\";\r\n\r\nimport DataGrid from \"components/Common/DataGrid\";\r\nimport CheckableMultiSelect from \"components/Common/MultiSelect\";\r\n\r\nconst columns = [\r\n  {\r\n    id: \"thumbnail\",\r\n    sx: { width: 100 },\r\n    nonSort: true,\r\n  },\r\n  {\r\n    id: \"brand\",\r\n    label: \"Brand\",\r\n  },\r\n  {\r\n    id: \"model\",\r\n    label: \"Model\",\r\n  },\r\n  {\r\n    id: \"unitPrice\",\r\n    label: \"Price\",\r\n  },\r\n  {\r\n    id: \"balance\",\r\n    label: \"Balance\",\r\n  },\r\n  {\r\n    id: \"qty\",\r\n    label: \"QTY\",\r\n  },\r\n  {\r\n    id: \"frameColor\",\r\n    label: \"Frame Color\",\r\n  },\r\n  {\r\n    id: \"backColor\",\r\n    label: \"Back Color\",\r\n  },\r\n  {\r\n    id: \"seatColor\",\r\n    label: \"Seat Color\",\r\n  },\r\n  {\r\n    id: \"backMaterial\",\r\n    label: \"Back Material\",\r\n  },\r\n  {\r\n    id: \"seatMaterial\",\r\n    label: \"Seat Material\",\r\n  },\r\n  {\r\n    id: \"withHeadrest\",\r\n    label: \"Headrest\",\r\n  },\r\n  {\r\n    id: \"withAdArmrest\",\r\n    label: \"Adjustable Armrests\",\r\n  },\r\n  {\r\n    id: \"remark\",\r\n    label: \"Other Remark\",\r\n  },\r\n  {\r\n    id: \"shipmentDate\",\r\n    label: \"Shipment\",\r\n  },\r\n  {\r\n    id: \"arrivalDate\",\r\n    label: \"Arrival\",\r\n  },\r\n  {\r\n    id: \"edit\",\r\n    nonSort: true,\r\n  },\r\n  {\r\n    id: \"delete\",\r\n    nonSort: true,\r\n  },\r\n];\r\n\r\nconst hideColumns = [\r\n  \"Frame Color\",\r\n  \"Back Color\",\r\n  \"Seat Color\",\r\n  \"Back Material\",\r\n  \"Seat Material\",\r\n  \"Headrest\",\r\n  \"Adjustable Armrests\",\r\n  \"Other Remark\",\r\n  \"Shipment\",\r\n  \"Arrival\",\r\n];\r\n\r\nfunction mapStateToProps(state) {\r\n  const { auth } = state;\r\n  return { auth };\r\n}\r\n\r\nconst Stock = connect(mapStateToProps)((props) => {\r\n  const theme = useTheme();\r\n\r\n  const [formMode, setFormMode] = useState(\"create\");\r\n\r\n  const [stocks, setStocks] = useState([]);\r\n  const [formOpen, setFormOpen] = useState(false);\r\n  const [formProps, setFormProps] = useState([]);\r\n\r\n  const [id, setID] = useState(\"\");\r\n\r\n  const [balance, setBalance] = useState(0);\r\n  const [unitPrice, setUnitPrice] = useState(1000);\r\n  const [shipmentQty, setShipmentQty] = useState(0);\r\n\r\n  const [features, setFeatures] = useState([]);\r\n\r\n  const [filterBrand, setFilterBrand] = useState(null);\r\n  const [filterModel, setFilterModel] = useState(null);\r\n\r\n  const [selectedHideColumns, setSelectedHideColumns] = useState([]);\r\n\r\n  const handleEditClick = (index) => {\r\n    if (index < stocks.length && index >= 0) {\r\n      setID(stocks[index].id);\r\n      setFormProps([\r\n        {\r\n          name: \"brand\",\r\n          label: \"Brand\",\r\n          type: \"text\",\r\n          defaultValue: stocks[index].brand,\r\n          width: \"48%\",\r\n        },\r\n        {\r\n          name: \"model\",\r\n          label: \"Model\",\r\n          type: \"text\",\r\n          defaultValue: stocks[index].model,\r\n          width: \"48%\",\r\n        },\r\n        {\r\n          name: \"frameColor\",\r\n          label: \"Frame Color\",\r\n          type: \"text\",\r\n          defaultValue: stocks[index].frameColor,\r\n          width: \"30%\",\r\n        },\r\n        {\r\n          name: \"backColor\",\r\n          label: \"Back Color\",\r\n          type: \"text\",\r\n          defaultValue: stocks[index].backColor,\r\n          width: \"30%\",\r\n        },\r\n        {\r\n          name: \"seatColor\",\r\n          label: \"Seat Color\",\r\n          type: \"text\",\r\n          defaultValue: stocks[index].seatColor,\r\n          width: \"30%\",\r\n        },\r\n        {\r\n          name: \"backMaterial\",\r\n          label: \"Back Material\",\r\n          type: \"text\",\r\n          defaultValue: stocks[index].backMaterial,\r\n          width: \"48%\",\r\n        },\r\n        {\r\n          name: \"seatMaterial\",\r\n          label: \"Seat Material\",\r\n          type: \"text\",\r\n          defaultValue: stocks[index].seatMaterial,\r\n          width: \"48%\",\r\n        },\r\n        {\r\n          name: \"remark\",\r\n          label: \"Other Remark\",\r\n          multiline: true,\r\n          type: \"text\",\r\n          defaultValue: stocks[index].remark,\r\n          width: \"100%\",\r\n        },\r\n        {\r\n          name: \"withHeadrest\",\r\n          label: \"Headrest\",\r\n          type: \"checkbox\",\r\n          defaultValue: stocks[index].withHeadrest,\r\n          width: \"48%\",\r\n        },\r\n        {\r\n          name: \"withAdArmrest\",\r\n          label: \"Adjustable Armrest\",\r\n          type: \"checkbox\",\r\n          defaultValue: stocks[index].withAdArmrest,\r\n          width: \"48%\",\r\n        },\r\n        {\r\n          name: \"shipmentDate\",\r\n          label: \"Shipment Date\",\r\n          type: \"date\",\r\n          defaultValue: stocks[index].shipmentDate,\r\n          width: \"48%\",\r\n        },\r\n        {\r\n          name: \"arrivalDate\",\r\n          label: \"Arrival Date\",\r\n          type: \"date\",\r\n          defaultValue: stocks[index].arrivalDate,\r\n          width: \"48%\",\r\n        },\r\n      ]);\r\n      setBalance(stocks[index].balance);\r\n      setUnitPrice(stocks[index].unitPrice);\r\n      setShipmentQty(stocks[index].qty - stocks[index].balance);\r\n    }\r\n    setFormMode(\"edit\");\r\n    setFormOpen(true);\r\n  };\r\n\r\n  const handleRemoveClick = (index) => {\r\n    if (index < stocks.length && index >= 0) {\r\n      Swal.fire({\r\n        title: \"Are you sure?\",\r\n        text: \"This action will remove current ChairStock permanently.\",\r\n        icon: \"question\",\r\n        showCancelButton: true,\r\n        confirmButtonText: \"Yes, Remove!\",\r\n        cancelButtonText: \"No, Keep It.\",\r\n        allowOutsideClick: false,\r\n      }).then((result) => {\r\n        if (result.isConfirmed) {\r\n          axios\r\n            .delete(`/chairStock/${stocks[index].id}`)\r\n            .then((response) => {\r\n              // handle success\r\n              getStocks();\r\n            })\r\n            .catch(function (error) {\r\n              // handle error\r\n              Swal.fire({\r\n                icon: \"error\",\r\n                title: \"Error\",\r\n                text: error.response.data.message,\r\n                allowOutsideClick: false,\r\n              });\r\n              console.log(error);\r\n            })\r\n            .then(function () {\r\n              // always executed\r\n            });\r\n        }\r\n      });\r\n    }\r\n  };\r\n\r\n  const handleBulkRemoveClick = (selected) => {\r\n    Swal.fire({\r\n      title: \"Are you sure?\",\r\n      text: \"This action will remove selected ChairStocks permanently.\",\r\n      icon: \"question\",\r\n      showCancelButton: true,\r\n      confirmButtonText: \"Yes, Remove!\",\r\n      cancelButtonText: \"No, Keep Them.\",\r\n      allowOutsideClick: false,\r\n    }).then((result) => {\r\n      if (result.isConfirmed) {\r\n        axios\r\n          .delete(\"/chairStock\", {\r\n            data: { ids: selected },\r\n          })\r\n          .then((response) => {\r\n            // handle success\r\n            getStocks();\r\n          })\r\n          .catch(function (error) {\r\n            // handle error\r\n            Swal.fire({\r\n              icon: \"error\",\r\n              title: \"Error\",\r\n              text: error.response.data.message,\r\n              allowOutsideClick: false,\r\n            });\r\n            console.log(error);\r\n          })\r\n          .then(function () {\r\n            // always executed\r\n          });\r\n      }\r\n    });\r\n  };\r\n\r\n  const handleSave = async (event) => {\r\n    event.preventDefault();\r\n    const data = new FormData(event.currentTarget);\r\n    let thumbnailURL = \"\";\r\n    if (data.get(\"thumbnail\").name) {\r\n      const uploadData = new FormData();\r\n      uploadData.append(\"file\", data.get(\"thumbnail\"));\r\n      try {\r\n        const response = await axios.post(`/chairStock/upload`, uploadData, {\r\n          headers: {\r\n            \"Content-Type\": \"application/x-www-form-urlencoded\",\r\n          },\r\n        });\r\n        thumbnailURL = response.data.url;\r\n      } catch (err) {}\r\n    }\r\n    axios\r\n      .put(`/chairStock/${id}`, {\r\n        brand: data.get(\"brand\"),\r\n        model: data.get(\"model\"),\r\n        frameColor: data.get(\"frameColor\"),\r\n        backColor: data.get(\"backColor\"),\r\n        seatColor: data.get(\"seatColor\"),\r\n        backMaterial: data.get(\"backMaterial\"),\r\n        seatMaterial: data.get(\"seatMaterial\"),\r\n        withHeadrest: Boolean(data.get(\"withHeadrest\")),\r\n        withAdArmrest: Boolean(data.get(\"withAdArmrest\")),\r\n        remark: data.get(\"remark\"),\r\n        thumbnailURL,\r\n        unitPrice: data.get(\"unitPrice\"),\r\n        shipmentDate: data.get(\"shipmentDate\") || null,\r\n        arrivalDate: data.get(\"arrivalDate\") || null,\r\n        balance: balance,\r\n        qty: Number(balance) + Number(shipmentQty),\r\n      })\r\n      .then((response) => {\r\n        // handle success\r\n        setFormOpen(false);\r\n        getStocks();\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        setFormOpen(false);\r\n        Swal.fire({\r\n          icon: \"error\",\r\n          title: \"Error\",\r\n          html: error.response.data.message.replace(\"\\n\", \"<br />\"),\r\n          allowOutsideClick: false,\r\n        }).then(() => {\r\n          setFormOpen(true);\r\n        });\r\n        console.log(error);\r\n      })\r\n      .then(function () {\r\n        // always executed\r\n      });\r\n  };\r\n\r\n  const handleCreate = async (event) => {\r\n    event.preventDefault();\r\n    const data = new FormData(event.currentTarget);\r\n    let thumbnailURL = \"\";\r\n    if (data.get(\"thumbnail\").name) {\r\n      const uploadData = new FormData();\r\n      uploadData.append(\"file\", data.get(\"thumbnail\"));\r\n      try {\r\n        const response = await axios.post(`/chairStock/upload`, uploadData, {\r\n          headers: {\r\n            \"Content-Type\": \"application/x-www-form-urlencoded\",\r\n          },\r\n        });\r\n        thumbnailURL = response.data.url;\r\n      } catch (err) {}\r\n    }\r\n    axios\r\n      .post(`/chairStock/create`, {\r\n        brand: data.get(\"brand\"),\r\n        model: data.get(\"model\"),\r\n        frameColor: data.get(\"frameColor\"),\r\n        backColor: data.get(\"backColor\"),\r\n        seatColor: data.get(\"seatColor\"),\r\n        backMaterial: data.get(\"backMaterial\"),\r\n        seatMaterial: data.get(\"seatMaterial\"),\r\n        withHeadrest: Boolean(data.get(\"withHeadrest\")),\r\n        withAdArmrest: Boolean(data.get(\"withAdArmrest\")),\r\n        remark: data.get(\"remark\"),\r\n        thumbnailURL,\r\n        unitPrice: data.get(\"unitPrice\"),\r\n        shipmentDate: data.get(\"shipmentDate\") || null,\r\n        arrivalDate: data.get(\"arrivalDate\") || null,\r\n        balance: balance,\r\n        qty: Number(balance) + Number(shipmentQty),\r\n      })\r\n      .then((response) => {\r\n        // handle success\r\n        setFormOpen(false);\r\n        getStocks();\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        setFormOpen(false);\r\n        Swal.fire({\r\n          icon: \"error\",\r\n          title: \"Error\",\r\n          text: error.response.data.message,\r\n          allowOutsideClick: false,\r\n        }).then(() => {\r\n          setFormOpen(true);\r\n        });\r\n        console.log(error);\r\n      })\r\n      .then(function () {\r\n        // always executed\r\n      });\r\n  };\r\n\r\n  const getFeatures = (cancelToken) => {\r\n    axios\r\n      .get(\"/chairStock/features\", { cancelToken })\r\n      .then((response) => {\r\n        // handle success\r\n        setFeatures(response.data);\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        console.log(error);\r\n      })\r\n      .then(function () {\r\n        // always executed\r\n      });\r\n  };\r\n\r\n  const getStocks = (cancelToken) => {\r\n    axios\r\n      .get(\"/chairStock\", { cancelToken })\r\n      .then((response) => {\r\n        // handle success\r\n        setStocks(response.data);\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        console.log(error);\r\n      })\r\n      .then(function () {\r\n        // always executed\r\n      });\r\n  };\r\n\r\n  const onHideColumnChanged = (values) => {\r\n    setSelectedHideColumns(values);\r\n  };\r\n\r\n  useEffect(() => {\r\n    const source = axios.CancelToken.source();\r\n    getFeatures(source.token);\r\n    getStocks(source.token);\r\n    return () => source.cancel(\"Stock Component got unmounted\");\r\n  }, []);\r\n\r\n  return (\r\n    <Box\r\n      sx={{\r\n        height: \"100%\",\r\n        overflow: \"auto\",\r\n        padding: \"10px 20px\",\r\n      }}\r\n    >\r\n      <Button\r\n        startIcon={<AddIcon />}\r\n        onClick={() => {\r\n          setFormProps([\r\n            {\r\n              name: \"brand\",\r\n              label: \"Brand\",\r\n              type: \"text\",\r\n              width: \"48%\",\r\n            },\r\n            {\r\n              name: \"model\",\r\n              label: \"Model\",\r\n              type: \"text\",\r\n              width: \"48%\",\r\n            },\r\n            {\r\n              name: \"frameColor\",\r\n              label: \"Frame Color\",\r\n              type: \"text\",\r\n              width: \"30%\",\r\n            },\r\n            {\r\n              name: \"backColor\",\r\n              label: \"Back Color\",\r\n              type: \"text\",\r\n              width: \"30%\",\r\n            },\r\n            {\r\n              name: \"seatColor\",\r\n              label: \"Seat Color\",\r\n              type: \"text\",\r\n              width: \"30%\",\r\n            },\r\n            {\r\n              name: \"backMaterial\",\r\n              label: \"Back Material\",\r\n              type: \"text\",\r\n              width: \"48%\",\r\n            },\r\n            {\r\n              name: \"seatMaterial\",\r\n              label: \"Seat Material\",\r\n              type: \"text\",\r\n              width: \"48%\",\r\n            },\r\n            {\r\n              name: \"remark\",\r\n              label: \"Other Remark\",\r\n              type: \"text\",\r\n              width: \"100%\",\r\n            },\r\n            {\r\n              name: \"withHeadrest\",\r\n              label: \"Headrest\",\r\n              type: \"checkbox\",\r\n              width: \"48%\",\r\n            },\r\n            {\r\n              name: \"withAdArmrest\",\r\n              label: \"Adjustable Armrest\",\r\n              type: \"checkbox\",\r\n              width: \"48%\",\r\n            },\r\n            {\r\n              name: \"shipmentDate\",\r\n              label: \"Shipment Date\",\r\n              type: \"date\",\r\n              width: \"48%\",\r\n            },\r\n            {\r\n              name: \"arrivalDate\",\r\n              label: \"Arrival Date\",\r\n              type: \"date\",\r\n              width: \"48%\",\r\n            },\r\n          ]);\r\n          setBalance(0);\r\n          setUnitPrice(1000);\r\n          setShipmentQty(0);\r\n          setFormMode(\"create\");\r\n          setFormOpen(true);\r\n        }}\r\n      >\r\n        New Stock\r\n      </Button>\r\n      <label htmlFor=\"contained-button-file\">\r\n        <input\r\n          accept=\".xlsx\"\r\n          id=\"contained-button-file\"\r\n          type=\"file\"\r\n          style={{ display: \"none\" }}\r\n          onChange={async (e) => {\r\n            e.preventDefault();\r\n            try {\r\n              if (e.target.files.length > 0) {\r\n                const uploadData = new FormData();\r\n                uploadData.append(\"file\", e.target.files[0]);\r\n                await axios.post(\r\n                  `/chairStock/uploadCreate`,\r\n                  uploadData,\r\n                  {\r\n                    headers: {\r\n                      \"Content-Type\": \"application/x-www-form-urlencoded\",\r\n                    },\r\n                  }\r\n                );\r\n                getStocks();\r\n              }\r\n            } catch (error) {\r\n              console.log(error);\r\n            } finally {\r\n              e.target.value = null;\r\n            }\r\n          }}\r\n        />\r\n        <Button component=\"span\" sx={{ ml: 2 }}>\r\n          Bulk Upload\r\n        </Button>\r\n      </label>\r\n      <Paper\r\n        sx={{\r\n          marginTop: \"10px\",\r\n          padding: \"5px 10px\",\r\n          display: \"flex\",\r\n          flexWrap: \"wrap\",\r\n          justifyContent: \"space-around\",\r\n        }}\r\n      >\r\n        {[\r\n          {\r\n            label: \"Brand\",\r\n            value: filterBrand,\r\n            onChange: (event, value) => {\r\n              event.preventDefault();\r\n              setFilterBrand(value);\r\n              setFilterModel(null);\r\n            },\r\n            options: features\r\n              .map((item) => item.brand)\r\n              .filter((c, index, chars) => chars.indexOf(c) === index),\r\n          },\r\n          {\r\n            label: \"Model\",\r\n            value: filterModel,\r\n            onChange: (event, value) => {\r\n              event.preventDefault();\r\n              setFilterModel(value);\r\n            },\r\n            options: features\r\n              .filter((item) => !filterBrand || item.brand === filterBrand)\r\n              .map((item) => item.model)\r\n              .filter((c, index, chars) => chars.indexOf(c) === index),\r\n          },\r\n        ].map(({ label, ...props }, index) => (\r\n          <Autocomplete\r\n            key={index}\r\n            sx={{ flexBasis: \"200px\", maxWidth: \"200px\" }}\r\n            renderInput={(params) => <TextField {...params} label={label} />}\r\n            {...props}\r\n          />\r\n        ))}\r\n      </Paper>\r\n      <CheckableMultiSelect\r\n        options={hideColumns}\r\n        onChange={onHideColumnChanged}\r\n        selected={selectedHideColumns}\r\n      />\r\n      <DataGrid\r\n        title=\"Chair Stocks\"\r\n        rows={stocks\r\n          .map(\r\n            (\r\n              {\r\n                withHeadrest,\r\n                withAdArmrest,\r\n                thumbnailURL,\r\n                shipmentDate,\r\n                arrivalDate,\r\n                ...restProps\r\n              },\r\n              index\r\n            ) => ({\r\n              thumbnail: (\r\n                <a\r\n                  href=\"/\"\r\n                  onClick={(e) => {\r\n                    e.preventDefault();\r\n                    Swal.fire({\r\n                      html: `<img alt=\"\" width=\"400px\" src=\"${thumbnailURL}\" />`,\r\n                      showCloseButton: true,\r\n                      showConfirmButton: false,\r\n                      allowOutsideClick: false,\r\n                    });\r\n                  }}\r\n                >\r\n                  <img\r\n                    alt=\"\"\r\n                    width=\"80px\"\r\n                    src={thumbnailURL}\r\n                    style={{ marginTop: \"5px\" }}\r\n                  />\r\n                </a>\r\n              ),\r\n              withHeadrest: withHeadrest ? \"Yes\" : \"No\",\r\n              withAdArmrest: withAdArmrest ? \"Yes\" : \"No\",\r\n              edit: (\r\n                <IconButton\r\n                  onClick={(event) => {\r\n                    event.preventDefault();\r\n                    handleEditClick(index);\r\n                  }}\r\n                >\r\n                  <EditIcon />\r\n                </IconButton>\r\n              ),\r\n              delete: (\r\n                <IconButton\r\n                  onClick={(event) => {\r\n                    event.preventDefault();\r\n                    handleRemoveClick(index);\r\n                  }}\r\n                >\r\n                  <DeleteIcon />\r\n                </IconButton>\r\n              ),\r\n              shipmentDate: shipmentDate || \"No\",\r\n              arrivalDate: arrivalDate || \"No\",\r\n              ...restProps,\r\n            })\r\n          )\r\n          .filter(\r\n            (item) =>\r\n              (!filterBrand || item.brand === filterBrand) &&\r\n              (!filterModel || item.model === filterModel)\r\n          )}\r\n        columns={columns\r\n          .map((column, i) => {\r\n            if (i > 5 && i < 16) {\r\n              if (selectedHideColumns.find((hideColumn) => hideColumn === column.label)              )\r\n                return column;\r\n              else\r\n                return undefined;\r\n            }\r\n            return column\r\n          })\r\n          .filter((column) => column !== undefined)}\r\n        onEditClick={handleEditClick}\r\n        onRemoveClick={handleRemoveClick}\r\n        onBulkRemoveClick={handleBulkRemoveClick}\r\n      />\r\n      <Dialog\r\n        fullWidth\r\n        fullScreen={useMediaQuery(theme.breakpoints.down(\"sm\"))}\r\n        maxWidth=\"sm\"\r\n        open={formOpen}\r\n        PaperProps={{\r\n          component: \"form\",\r\n          onSubmit: formMode === \"create\" ? handleCreate : handleSave,\r\n        }}\r\n      >\r\n        <DialogTitle>\r\n          {formMode === \"create\" ? \"New Stock\" : \"Edit Stock\"}\r\n        </DialogTitle>\r\n        <DialogContent>\r\n          <Paper\r\n            sx={{\r\n              mt: \"5px\",\r\n              p: \"10px\",\r\n              display: \"flex\",\r\n              flexWrap: \"wrap\",\r\n              justifyContent: \"space-between\",\r\n            }}\r\n          >\r\n            {formProps.map(({ type, width, ...restParams }, index) => {\r\n              if (type === \"text\") {\r\n                return (\r\n                  <TextField\r\n                    key={index}\r\n                    sx={{ flexBasis: width, minWidth: width }}\r\n                    {...restParams}\r\n                  />\r\n                );\r\n              } else if (type === \"date\") {\r\n                return (\r\n                  <TextField\r\n                    key={index}\r\n                    type=\"date\"\r\n                    InputLabelProps={{ shrink: true }}\r\n                    sx={{ flexBasis: width, minWidth: width }}\r\n                    {...restParams}\r\n                  />\r\n                );\r\n              } else if (type === \"checkbox\") {\r\n                const { defaultValue, label, name } = restParams;\r\n                return (\r\n                  <FormControlLabel\r\n                    key={index}\r\n                    control={\r\n                      <Checkbox name={name} defaultChecked={defaultValue} />\r\n                    }\r\n                    label={label}\r\n                  />\r\n                );\r\n              } else return null;\r\n            })}\r\n            <TextField\r\n              label=\"Thumbnail\"\r\n              name=\"thumbnail\"\r\n              type=\"file\"\r\n              sx={{ flexBasis: [\"100%\", \"48%\"], minWidth: [\"100%\", \"48%\"] }}\r\n              inputProps={{\r\n                accept: \"image/png, image/gif, image/jpeg\",\r\n              }}\r\n              InputLabelProps={{ shrink: true }}\r\n            />\r\n            <FormControlLabel\r\n              sx={{\r\n                flexBasis: [\"100%\", \"48%\"],\r\n                minWidth: [\"100%\", \"48%\"],\r\n                alignItems: \"baseline\",\r\n                m: 0,\r\n              }}\r\n              control={\r\n                <TextField\r\n                  label=\"Unit Price\"\r\n                  type=\"number\"\r\n                  name=\"unitPrice\"\r\n                  defaultValue={unitPrice}\r\n                  fullWidth\r\n                  sx={{ m: \"10px 5px 0 0\" }}\r\n                />\r\n              }\r\n              label=\"HKD\"\r\n            />\r\n            <Box\r\n              display=\"flex\"\r\n              justifyContent=\"center\"\r\n              alignItems=\"center\"\r\n              sx={{ flexBasis: [\"100%\", \"48%\"], minWidth: [\"100%\", \"48%\"] }}\r\n            >\r\n              <IconButton\r\n                onClick={() => {\r\n                  setBalance(balance > 1 ? balance - 1 : 0);\r\n                }}\r\n              >\r\n                <RemoveIcon />\r\n              </IconButton>\r\n              <TextField\r\n                label=\"Balance\"\r\n                value={balance}\r\n                type=\"number\"\r\n                sx={{ width: \"80px\", mx: \"5px\" }}\r\n                onChange={(e) => {\r\n                  if (e.target.value > 0) setBalance(e.target.value);\r\n                  else setBalance(0);\r\n                  setUnitPrice(1000);\r\n                }}\r\n              />\r\n              <IconButton\r\n                onClick={() => {\r\n                  setBalance(balance + 1);\r\n                }}\r\n              >\r\n                <AddIcon />\r\n              </IconButton>\r\n            </Box>\r\n            <Box\r\n              display=\"flex\"\r\n              justifyContent=\"center\"\r\n              alignItems=\"center\"\r\n              sx={{ flexBasis: [\"100%\", \"48%\"], minWidth: [\"100%\", \"48%\"] }}\r\n            >\r\n              <IconButton\r\n                onClick={() => {\r\n                  setShipmentQty(Math.max(shipmentQty - 1, 0));\r\n                }}\r\n              >\r\n                <RemoveIcon />\r\n              </IconButton>\r\n              <TextField\r\n                label=\"Shipment\"\r\n                value={shipmentQty}\r\n                type=\"number\"\r\n                sx={{ width: \"80px\", mx: \"5px\" }}\r\n                onChange={(e) => {\r\n                  setShipmentQty(Math.max(e.target.value, 0));\r\n                }}\r\n              />\r\n              <IconButton\r\n                onClick={() => {\r\n                  setShipmentQty(shipmentQty + 1);\r\n                }}\r\n              >\r\n                <AddIcon />\r\n              </IconButton>\r\n            </Box>\r\n          </Paper>\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button\r\n            onClick={() => {\r\n              setFormOpen(false);\r\n            }}\r\n          >\r\n            Cancel\r\n          </Button>\r\n          <Button type=\"submit\">\r\n            {formMode === \"create\" ? \"Create\" : \"Save\"}\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    </Box>\r\n  );\r\n});\r\n\r\nexport default Stock;\r\n","import React, { useEffect, useState } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport {\r\n  Autocomplete,\r\n  Button,\r\n  Box,\r\n  Checkbox,\r\n  Dialog,\r\n  DialogActions,\r\n  DialogContent,\r\n  DialogTitle,\r\n  FormControlLabel,\r\n  IconButton,\r\n  Paper,\r\n  TextField,\r\n} from '@mui/material';\r\nimport {\r\n  Add as AddIcon,\r\n  Edit as EditIcon,\r\n  Delete as DeleteIcon,\r\n  Remove as RemoveIcon,\r\n} from '@mui/icons-material';\r\nimport { useTheme } from '@mui/material/styles';\r\nimport useMediaQuery from '@mui/material/useMediaQuery';\r\nimport axios from 'axios';\r\nimport Swal from 'sweetalert2';\r\n\r\nimport DataGrid from 'components/Common/DataGrid';\r\nimport CheckableMultiSelect from 'components/Common/MultiSelect';\r\n\r\nconst columns = [\r\n  {\r\n    id: 'thumbnail',\r\n    sx: { width: 100 },\r\n    nonSort: true,\r\n  },\r\n  {\r\n    id: 'supplierCode',\r\n    label: 'Supplier',\r\n  },\r\n  {\r\n    id: 'model',\r\n    label: 'Model',\r\n  },\r\n  {\r\n    id: 'unitPrice',\r\n    label: 'Price',\r\n  },\r\n  {\r\n    id: 'balance',\r\n    label: 'Balance',\r\n  },\r\n  {\r\n    id: 'qty',\r\n    label: 'QTY',\r\n  },\r\n  {\r\n    id: 'color',\r\n    label: 'Color',\r\n  },\r\n  {\r\n    id: 'armSize',\r\n    label: 'Arm Size',\r\n  },\r\n  {\r\n    id: 'feetSize',\r\n    label: 'Feet Size',\r\n  },\r\n  {\r\n    id: 'beamSize',\r\n    label: 'Beam Size',\r\n  },\r\n  {\r\n    id: 'remark',\r\n    label: 'Other Remark',\r\n  },\r\n  {\r\n    id: 'shipmentDate',\r\n    label: 'Shipment',\r\n  },\r\n  {\r\n    id: 'arrivalDate',\r\n    label: 'Arrival',\r\n  },\r\n  {\r\n    id: 'edit',\r\n    nonSort: true,\r\n  },\r\n  {\r\n    id: 'delete',\r\n    nonSort: true,\r\n  },\r\n];\r\n\r\nconst hideColumns = [\r\n  'Color',\r\n  'Arm Size',\r\n  'Feet Size',\r\n  'Beam Size',\r\n  'Other Remark',\r\n  'Shipment',\r\n  'Arrival'\r\n];\r\n\r\nfunction mapStateToProps(state) {\r\n  const { auth } = state;\r\n  return { auth };\r\n}\r\n\r\nconst Stock = connect(mapStateToProps)((props) => {\r\n  const theme = useTheme();\r\n  const [stocks, setStocks] = useState([]);\r\n  const [formMode, setFormMode] = useState('create');\r\n  const [formOpen, setFormOpen] = useState(false);\r\n  const [formProps, setFormProps] = useState([]);\r\n\r\n  const [id, setID] = useState('');\r\n\r\n  const [balance, setBalance] = useState(0);\r\n  const [unitPrice, setUnitPrice] = useState(1000);\r\n  const [shipmentQty, setShipmentQty] = useState(0);\r\n\r\n  const [features, setFeatures] = useState([]);\r\n\r\n  const [filterSupplier, setFilterSupplier] = useState(null);\r\n  const [filterModel, setFilterModel] = useState(null);\r\n  const [filterColor, setFilterColor] = useState(null);\r\n\r\n  const [selectedHideColumns, setSelectedHideColumns] = useState([])\r\n\r\n  const handleEditClick = (index) => {\r\n    if (index < stocks.length && index >= 0) {\r\n      setID(stocks[index].id);\r\n      setFormProps([\r\n        {\r\n          name: 'supplierCode',\r\n          label: 'Supplier',\r\n          type: 'autocomplete',\r\n          defaultValue: stocks[index].supplierCode,\r\n          options: ['AK', 'JC', 'AW', 'LK'],\r\n          width: '30%',\r\n        },\r\n        {\r\n          name: 'model',\r\n          label: 'Model',\r\n          type: 'text',\r\n          defaultValue: stocks[index].model,\r\n          width: '30%',\r\n        },\r\n        {\r\n          name: 'color',\r\n          label: 'Color',\r\n          type: 'text',\r\n          defaultValue: stocks[index].color,\r\n          width: '30%',\r\n        },\r\n        {\r\n          name: 'armSize',\r\n          label: 'Arm Size',\r\n          type: 'autocomplete',\r\n          defaultValue: stocks[index].armSize,\r\n          options: ['400', '500', '600'],\r\n          width: '30%',\r\n        },\r\n        {\r\n          name: 'feetSize',\r\n          label: 'FeetSize',\r\n          type: 'autocomplete',\r\n          defaultValue: stocks[index].feetSize,\r\n          options: ['400', '500', '600', '700'],\r\n          width: '30%',\r\n        },\r\n        {\r\n          name: 'beamSize',\r\n          label: 'BeamSize',\r\n          type: 'autocomplete',\r\n          defaultValue: stocks[index].beamSize,\r\n          options: ['740-1100', 'Regular'],\r\n          width: '30%',\r\n        },\r\n        {\r\n          name: 'remark',\r\n          label: 'Other Remark',\r\n          multiline: true,\r\n          type: 'text',\r\n          defaultValue: stocks[index].remark,\r\n          width: '100%',\r\n        },\r\n        {\r\n          name: 'shipmentDate',\r\n          label: 'Shipment Date',\r\n          type: 'date',\r\n          width: '48%',\r\n        },\r\n        {\r\n          name: 'arrivalDate',\r\n          label: 'Arrival Date',\r\n          type: 'date',\r\n          width: '48%',\r\n        },\r\n      ]);\r\n      setBalance(stocks[index].balance);\r\n      setUnitPrice(stocks[index].unitPrice);\r\n      setShipmentQty(stocks[index].qty);\r\n    }\r\n    setFormMode('edit');\r\n    setFormOpen(true);\r\n  };\r\n\r\n  const handleRemoveClick = (index) => {\r\n    if (index < stocks.length && index >= 0) {\r\n      Swal.fire({\r\n        title: 'Are you sure?',\r\n        text: 'This action will remove current DeskStock permanently.',\r\n        icon: 'question',\r\n        showCancelButton: true,\r\n        confirmButtonText: 'Yes, Remove!',\r\n        cancelButtonText: 'No, Keep It.',\r\n        allowOutsideClick: false,\r\n      }).then((result) => {\r\n        if (result.isConfirmed) {\r\n          axios\r\n            .delete(`/deskStock/${stocks[index].id}`)\r\n            .then((response) => {\r\n              // handle success\r\n              getStocks();\r\n            })\r\n            .catch(function (error) {\r\n              // handle error\r\n              Swal.fire({\r\n                icon: 'error',\r\n                title: 'Error',\r\n                text: error.response.data.message,\r\n                allowOutsideClick: false,\r\n              });\r\n              console.log(error);\r\n            })\r\n            .then(function () {\r\n              // always executed\r\n            });\r\n        }\r\n      });\r\n    }\r\n  };\r\n\r\n  const handleBulkRemoveClick = (selected) => {\r\n    Swal.fire({\r\n      title: 'Are you sure?',\r\n      text: 'This action will remove selected DeskStocks permanently.',\r\n      icon: 'question',\r\n      showCancelButton: true,\r\n      confirmButtonText: 'Yes, Remove!',\r\n      cancelButtonText: 'No, Keep Them.',\r\n      allowOutsideClick: false,\r\n    }).then((result) => {\r\n      if (result.isConfirmed) {\r\n        axios\r\n          .delete('/deskStock', {\r\n            data: { ids: selected },\r\n          })\r\n          .then((response) => {\r\n            // handle success\r\n            getStocks();\r\n          })\r\n          .catch(function (error) {\r\n            // handle error\r\n            Swal.fire({\r\n              icon: 'error',\r\n              title: 'Error',\r\n              text: error.response.data.message,\r\n              allowOutsideClick: false,\r\n            });\r\n            console.log(error);\r\n          })\r\n          .then(function () {\r\n            // always executed\r\n          });\r\n      }\r\n    });\r\n  };\r\n\r\n  const handleSave = async (event) => {\r\n    event.preventDefault();\r\n    const data = new FormData(event.currentTarget);\r\n    let thumbnailURL = '';\r\n    if (data.get('thumbnail').name) {\r\n      const uploadData = new FormData();\r\n      uploadData.append('file', data.get('thumbnail'));\r\n      try {\r\n        const response = await axios.post(`/chairStock/upload`, uploadData, {\r\n          headers: {\r\n            'Content-Type': 'application/x-www-form-urlencoded',\r\n          },\r\n        });\r\n        thumbnailURL = response.data.url;\r\n      } catch (err) {}\r\n    }\r\n    axios\r\n      .put(`/deskStock/${id}`, {\r\n        supplierCode: data.get('supplierCode'),\r\n        model: data.get('model'),\r\n        color: data.get('color'),\r\n        armSize: data.get('armSize'),\r\n        feetSize: data.get('feetSize'),\r\n        beamSize: data.get('beamSize'),\r\n        remark: data.get('remark'),\r\n        thumbnailURL,\r\n        unitPrice: data.get('unitPrice'),\r\n        shipmentDate: data.get('shipmentDate') || null,\r\n        arrivalDate: data.get('arrivalDate') || null,\r\n        balance: balance,\r\n        qty: Number(balance) + Number(shipmentQty),\r\n      })\r\n      .then((response) => {\r\n        // handle success\r\n        setFormOpen(false);\r\n        getStocks();\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        setFormOpen(false);\r\n        Swal.fire({\r\n          icon: 'error',\r\n          title: 'Error',\r\n          html: error.response.data.message.replace('\\n', '<br />'),\r\n          allowOutsideClick: false,\r\n        }).then(() => {\r\n          setFormOpen(true);\r\n        });\r\n        console.log(error);\r\n      })\r\n      .then(function () {\r\n        // always executed\r\n      });\r\n  };\r\n\r\n  const handleCreate = async (event) => {\r\n    event.preventDefault();\r\n    const data = new FormData(event.currentTarget);\r\n    let thumbnailURL = '';\r\n    if (data.get('thumbnail').name) {\r\n      const uploadData = new FormData();\r\n      uploadData.append('file', data.get('thumbnail'));\r\n      try {\r\n        const response = await axios.post(`/chairStock/upload`, uploadData, {\r\n          headers: {\r\n            'Content-Type': 'application/x-www-form-urlencoded',\r\n          },\r\n        });\r\n        thumbnailURL = response.data.url;\r\n      } catch (err) {}\r\n    }\r\n    axios\r\n      .post(`/deskStock/create`, {\r\n        supplierCode: data.get('supplierCode'),\r\n        model: data.get('model'),\r\n        color: data.get('color'),\r\n        armSize: data.get('armSize'),\r\n        feetSize: data.get('feetSize'),\r\n        beamSize: data.get('beamSize'),\r\n        remark: data.get('remark'),\r\n        thumbnailURL,\r\n        unitPrice: data.get('unitPrice'),\r\n        shipmentDate: data.get('shipmentDate') || null,\r\n        arrivalDate: data.get('arrivalDate') || null,\r\n        balance: balance,\r\n        qty: Number(balance) + Number(shipmentQty),\r\n      })\r\n      .then((response) => {\r\n        // handle success\r\n        setFormOpen(false);\r\n        getStocks();\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        setFormOpen(false);\r\n        Swal.fire({\r\n          icon: 'error',\r\n          title: 'Error',\r\n          text: error.response.data.message,\r\n          allowOutsideClick: false,\r\n        }).then(() => {\r\n          setFormOpen(true);\r\n        });\r\n        console.log(error);\r\n      })\r\n      .then(function () {\r\n        // always executed\r\n      });\r\n  };\r\n\r\n  const getFeatures = (cancelToken) => {\r\n    axios\r\n      .get('/deskStock/features', { cancelToken })\r\n      .then((response) => {\r\n        // handle success\r\n        setFeatures(response.data);\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        console.log(error);\r\n      })\r\n      .then(function () {\r\n        // always executed\r\n      });\r\n  };\r\n\r\n  const getStocks = (cancelToken) => {\r\n    axios\r\n      .get('/deskStock', { cancelToken })\r\n      .then((response) => {\r\n        // handle success\r\n        setStocks(response.data);\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        console.log(error);\r\n      })\r\n      .then(function () {\r\n        // always executed\r\n      });\r\n  };\r\n\r\n  const onHideColumnChanged = (values) => {\r\n    setSelectedHideColumns(values)\r\n  }\r\n\r\n  useEffect(() => {\r\n    const source = axios.CancelToken.source();\r\n    getFeatures(source.token);\r\n    getStocks(source.token);\r\n    return () => source.cancel('Stock Component got unmounted');\r\n  }, []);\r\n\r\n  return (\r\n    <Box\r\n      sx={{\r\n        height: '100%',\r\n        overflow: 'auto',\r\n        padding: '10px 20px',\r\n      }}\r\n    >\r\n      <Button\r\n        startIcon={<AddIcon />}\r\n        onClick={() => {\r\n          setFormProps([\r\n            {\r\n              name: 'supplierCode',\r\n              label: 'Supplier',\r\n              type: 'autocomplete',\r\n              options: ['AK', 'JC', 'AW', 'LK'],\r\n              width: '30%',\r\n            },\r\n            {\r\n              name: 'model',\r\n              label: 'Model',\r\n              type: 'text',\r\n              width: '30%',\r\n            },\r\n            {\r\n              name: 'color',\r\n              label: 'Color',\r\n              type: 'text',\r\n              width: '30%',\r\n            },\r\n            {\r\n              name: 'armSize',\r\n              label: 'Arm Size',\r\n              type: 'autocomplete',\r\n              options: ['400', '500', '600'],\r\n              width: '30%',\r\n            },\r\n            {\r\n              name: 'feetSize',\r\n              label: 'FeetSize',\r\n              type: 'autocomplete',\r\n              options: ['400', '500', '600', '700'],\r\n              width: '30%',\r\n            },\r\n            {\r\n              name: 'beamSize',\r\n              label: 'BeamSize',\r\n              type: 'autocomplete',\r\n              options: ['740-1100', 'Regular'],\r\n              width: '30%',\r\n            },\r\n            {\r\n              name: 'remark',\r\n              label: 'Other Remark',\r\n              type: 'text',\r\n              width: '100%',\r\n            },\r\n            {\r\n              name: 'shipmentDate',\r\n              label: 'Shipment Date',\r\n              type: 'date',\r\n              width: '48%',\r\n            },\r\n            {\r\n              name: 'arrivalDate',\r\n              label: 'Arrival Date',\r\n              type: 'date',\r\n              width: '48%',\r\n            },\r\n          ]);\r\n          setBalance(0);\r\n          setUnitPrice(1000);\r\n          setShipmentQty(0);\r\n          setFormMode('create');\r\n          setFormOpen(true);\r\n        }}\r\n      >\r\n        New Stock\r\n      </Button>\r\n      <label htmlFor=\"contained-button-file\">\r\n        <input\r\n          accept=\".xlsx\"\r\n          id=\"contained-button-file\"\r\n          type=\"file\"\r\n          style={{ display: 'none' }}\r\n          onChange={async (e) => {\r\n            e.preventDefault();\r\n            try {\r\n              if (e.target.files.length > 0) {\r\n                const uploadData = new FormData();\r\n                uploadData.append('file', e.target.files[0]);\r\n                await axios.post(\r\n                  `/chairStock/uploadCreate`,\r\n                  uploadData,\r\n                  {\r\n                    headers: {\r\n                      'Content-Type': 'application/x-www-form-urlencoded',\r\n                    },\r\n                  }\r\n                );\r\n                getStocks();\r\n              }\r\n            } catch (error) {\r\n              console.log(error);\r\n            } finally {\r\n              e.target.value = null;\r\n            }\r\n          }}\r\n        />\r\n        <Button component=\"span\" sx={{ ml: 2 }}>\r\n          Bulk Upload\r\n        </Button>\r\n      </label>\r\n      <Paper\r\n        sx={{\r\n          marginTop: '10px',\r\n          padding: '5px 10px',\r\n          display: 'flex',\r\n          flexWrap: 'wrap',\r\n          justifyContent: 'space-around',\r\n        }}\r\n      >\r\n        {[\r\n          {\r\n            label: 'Supplier',\r\n            value: filterSupplier,\r\n            onChange: (event, value) => {\r\n              event.preventDefault();\r\n              setFilterSupplier(value);\r\n              setFilterModel(null);\r\n              setFilterColor(null);\r\n            },\r\n            options: features\r\n              .map((item) => item.supplierCode)\r\n              .filter((c, index, chars) => chars.indexOf(c) === index),\r\n          },\r\n          {\r\n            label: 'Model',\r\n            value: filterModel,\r\n            onChange: (event, value) => {\r\n              event.preventDefault();\r\n              setFilterModel(value);\r\n              setFilterColor(null);\r\n            },\r\n            options: features\r\n              .filter(\r\n                (item) =>\r\n                  !filterSupplier || item.supplierCode === filterSupplier\r\n              )\r\n              .map((item) => item.model)\r\n              .filter((c, index, chars) => chars.indexOf(c) === index),\r\n          },\r\n          {\r\n            label: 'Color',\r\n            value: filterColor,\r\n            onChange: (event, value) => {\r\n              event.preventDefault();\r\n              setFilterColor(value);\r\n            },\r\n            options: features\r\n              .filter(\r\n                (item) =>\r\n                  (!filterSupplier || item.supplierCode === filterSupplier) &&\r\n                  (!filterModel || item.model === filterModel)\r\n              )\r\n              .map((item) => item.color)\r\n              .filter((c, index, chars) => chars.indexOf(c) === index),\r\n          },\r\n        ].map(({ label, ...props }, index) => (\r\n          <Autocomplete\r\n            key={index}\r\n            sx={{ flexBasis: '200px', maxWidth: '200px' }}\r\n            renderInput={(params) => <TextField {...params} label={label} />}\r\n            {...props}\r\n          />\r\n        ))}\r\n      </Paper>\r\n      <CheckableMultiSelect \r\n        options={hideColumns}\r\n        onChange={onHideColumnChanged}\r\n        selected={selectedHideColumns} \r\n      />\r\n      <DataGrid\r\n        title=\"Desk Leg Stocks\"\r\n        rows={stocks\r\n          .map(\r\n            (\r\n              {\r\n                withHeadrest,\r\n                withAdArmrest,\r\n                thumbnailURL,\r\n                shipmentDate,\r\n                arrivalDate,\r\n                ...restProps\r\n              },\r\n              index\r\n            ) => ({\r\n              thumbnail: (\r\n                <a\r\n                  href=\"/\"\r\n                  onClick={(e) => {\r\n                    e.preventDefault();\r\n                    Swal.fire({\r\n                      html: `<img alt=\"\" width=\"400px\" src=\"${thumbnailURL}\" />`,\r\n                      showCloseButton: true,\r\n                      showConfirmButton: false,\r\n                      allowOutsideClick: false,\r\n                    });\r\n                  }}\r\n                >\r\n                  <img\r\n                    alt=\"\"\r\n                    width=\"80px\"\r\n                    src={thumbnailURL}\r\n                    style={{ marginTop: '5px' }}\r\n                  />\r\n                </a>\r\n              ),\r\n              withHeadrest: withHeadrest ? 'Yes' : 'No',\r\n              withAdArmrest: withAdArmrest ? 'Yes' : 'No',\r\n              edit: (\r\n                <IconButton\r\n                  onClick={(event) => {\r\n                    event.preventDefault();\r\n                    handleEditClick(index);\r\n                  }}\r\n                >\r\n                  <EditIcon />\r\n                </IconButton>\r\n              ),\r\n              delete: (\r\n                <IconButton\r\n                  onClick={(event) => {\r\n                    event.preventDefault();\r\n                    handleRemoveClick(index);\r\n                  }}\r\n                >\r\n                  <DeleteIcon />\r\n                </IconButton>\r\n              ),\r\n              shipmentDate: shipmentDate || 'No',\r\n              arrivalDate: arrivalDate || 'No',\r\n              ...restProps,\r\n            })\r\n          )\r\n          .filter(\r\n            (item) =>\r\n              (!filterSupplier || item.supplierCode === filterSupplier) &&\r\n              (!filterModel || item.model === filterModel) &&\r\n              (!filterColor || item.color === filterColor)\r\n          )}\r\n        columns={\r\n          columns.map((column, i) => {\r\n            if (i > 5 && i < 13) {\r\n              if (selectedHideColumns.find(hideColumn=>hideColumn === column.label)) \r\n                return column\r\n              else\r\n                return undefined\r\n            }\r\n            return column\r\n          }).filter(column=>column !== undefined)\r\n        }\r\n        onEditClick={handleEditClick}\r\n        onRemoveClick={handleRemoveClick}\r\n        onBulkRemoveClick={handleBulkRemoveClick}\r\n      />\r\n      <Dialog\r\n        fullWidth\r\n        fullScreen={useMediaQuery(theme.breakpoints.down('sm'))}\r\n        maxWidth=\"sm\"\r\n        open={formOpen}\r\n        PaperProps={{\r\n          component: 'form',\r\n          onSubmit: formMode === 'create' ? handleCreate : handleSave,\r\n        }}\r\n      >\r\n        <DialogTitle>\r\n          {formMode === 'create' ? 'New Stock' : 'Edit Stock'}\r\n        </DialogTitle>\r\n        <DialogContent>\r\n          <Paper\r\n            sx={{\r\n              mt: '5px',\r\n              p: '10px',\r\n              display: 'flex',\r\n              flexWrap: 'wrap',\r\n              justifyContent: 'space-between',\r\n            }}\r\n          >\r\n            {formProps.map(({ type, width, ...restParams }, index) => {\r\n              if (type === 'text') {\r\n                return (\r\n                  <TextField\r\n                    key={index}\r\n                    sx={{ flexBasis: width, minWidth: width }}\r\n                    {...restParams}\r\n                  />\r\n                );\r\n              } else if (type === 'date') {\r\n                return (\r\n                  <TextField\r\n                    key={index}\r\n                    type=\"date\"\r\n                    InputLabelProps={{ shrink: true }}\r\n                    sx={{ flexBasis: width, minWidth: width }}\r\n                    {...restParams}\r\n                  />\r\n                );\r\n              } else if (type === 'checkbox') {\r\n                const { defaultValue, label, name } = restParams;\r\n                return (\r\n                  <FormControlLabel\r\n                    key={index}\r\n                    control={\r\n                      <Checkbox name={name} defaultChecked={defaultValue} />\r\n                    }\r\n                    label={label}\r\n                    sx={{ flexBasis: width, minWidth: width }}\r\n                  />\r\n                );\r\n              } else if (type === 'autocomplete') {\r\n                const { name, label, ...autocomParams } = restParams;\r\n                return (\r\n                  <Autocomplete\r\n                    key={index}\r\n                    sx={{ flexBasis: width, minWidth: width }}\r\n                    renderInput={(params) => (\r\n                      <TextField {...params} name={name} label={label} />\r\n                    )}\r\n                    {...autocomParams}\r\n                  />\r\n                );\r\n              } else return null;\r\n            })}\r\n            <TextField\r\n              label=\"Thumbnail\"\r\n              name=\"thumbnail\"\r\n              type=\"file\"\r\n              sx={{ flexBasis: ['100%', '48%'], minWidth: ['100%', '48%'] }}\r\n              inputProps={{\r\n                accept: 'image/png, image/gif, image/jpeg',\r\n              }}\r\n              InputLabelProps={{ shrink: true }}\r\n            />\r\n            <FormControlLabel\r\n              sx={{\r\n                flexBasis: ['100%', '48%'],\r\n                minWidth: ['100%', '48%'],\r\n                alignItems: 'baseline',\r\n                m: 0,\r\n              }}\r\n              control={\r\n                <TextField\r\n                  label=\"Unit Price\"\r\n                  type=\"number\"\r\n                  name=\"unitPrice\"\r\n                  defaultValue={unitPrice}\r\n                  fullWidth\r\n                  sx={{ m: '10px 5px 0 0' }}\r\n                />\r\n              }\r\n              label=\"HKD\"\r\n            />\r\n            <Box\r\n              display=\"flex\"\r\n              justifyContent=\"center\"\r\n              alignItems=\"center\"\r\n              sx={{ flexBasis: ['100%', '48%'], minWidth: ['100%', '48%'] }}\r\n            >\r\n              <IconButton\r\n                onClick={() => {\r\n                  setBalance(balance > 1 ? balance - 1 : 0);\r\n                }}\r\n              >\r\n                <RemoveIcon />\r\n              </IconButton>\r\n              <TextField\r\n                label=\"Balance\"\r\n                value={balance}\r\n                type=\"number\"\r\n                sx={{ width: '80px', mx: '5px' }}\r\n                onChange={(e) => {\r\n                  if (e.target.value > 0) setBalance(e.target.value);\r\n                  else setBalance(0);\r\n                  setUnitPrice(1000);\r\n                }}\r\n              />\r\n              <IconButton\r\n                onClick={() => {\r\n                  setBalance(balance + 1);\r\n                }}\r\n              >\r\n                <AddIcon />\r\n              </IconButton>\r\n            </Box>\r\n            <Box\r\n              display=\"flex\"\r\n              justifyContent=\"center\"\r\n              alignItems=\"center\"\r\n              sx={{ flexBasis: ['100%', '48%'], minWidth: ['100%', '48%'] }}\r\n            >\r\n              <IconButton\r\n                onClick={() => {\r\n                  setShipmentQty(Math.max(shipmentQty - 1, 0));\r\n                }}\r\n              >\r\n                <RemoveIcon />\r\n              </IconButton>\r\n              <TextField\r\n                label=\"Shipment\"\r\n                value={shipmentQty}\r\n                type=\"number\"\r\n                sx={{ width: '80px', mx: '5px' }}\r\n                onChange={(e) => {\r\n                  setShipmentQty(Math.max(e.target.value, 0));\r\n                }}\r\n              />\r\n              <IconButton\r\n                onClick={() => {\r\n                  setShipmentQty(shipmentQty + 1);\r\n                }}\r\n              >\r\n                <AddIcon />\r\n              </IconButton>\r\n            </Box>\r\n          </Paper>\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button\r\n            onClick={() => {\r\n              setFormOpen(false);\r\n            }}\r\n          >\r\n            Cancel\r\n          </Button>\r\n          <Button type=\"submit\">\r\n            {formMode === 'create' ? 'Create' : 'Save'}\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    </Box>\r\n  );\r\n});\r\n\r\nexport default Stock;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport {\r\n  Button,\r\n  Box,\r\n  Checkbox,\r\n  Dialog,\r\n  DialogActions,\r\n  DialogContent,\r\n  DialogTitle,\r\n  FormControlLabel,\r\n  IconButton,\r\n  Paper,\r\n  TextField,\r\n  InputLabel,\r\n  MenuItem,\r\n  FormControl,\r\n  Select,\r\n} from \"@mui/material\";\r\nimport {\r\n  Add as AddIcon,\r\n  Edit as EditIcon,\r\n  Delete as DeleteIcon,\r\n  Remove as RemoveIcon,\r\n} from \"@mui/icons-material\";\r\nimport { useTheme } from \"@mui/material/styles\";\r\nimport useMediaQuery from \"@mui/material/useMediaQuery\";\r\nimport axios from \"axios\";\r\nimport Swal from \"sweetalert2\";\r\n\r\nimport DataGrid from \"components/Common/DataGrid\";\r\n\r\nconst columns = [\r\n  {\r\n    id: \"thumbnail\",\r\n    sx: { width: 100 },\r\n    nonSort: true,\r\n  },\r\n  {\r\n    id: \"name\",\r\n    label: \"Name\",\r\n  },\r\n  {\r\n    id: \"category\",\r\n    label: \"Category\",\r\n  },\r\n  {\r\n    id: \"unitPrice\",\r\n    label: \"Price\",\r\n  },\r\n  {\r\n    id: \"balance\",\r\n    label: \"Balance\",\r\n  },\r\n  {\r\n    id: \"qty\",\r\n    label: \"QTY\",\r\n  },\r\n  {\r\n    id: \"remark\",\r\n    label: \"Other Remark\",\r\n  },\r\n  {\r\n    id: \"shipmentDate\",\r\n    label: \"Shipment\",\r\n  },\r\n  {\r\n    id: \"arrivalDate\",\r\n    label: \"Arrival\",\r\n  },\r\n  {\r\n    id: \"edit\",\r\n    nonSort: true,\r\n  },\r\n  {\r\n    id: \"delete\",\r\n    nonSort: true,\r\n  },\r\n];\r\n\r\nfunction mapStateToProps(state) {\r\n  const { auth } = state;\r\n  return { auth };\r\n}\r\n\r\nconst Stock = connect(mapStateToProps)((props) => {\r\n  const theme = useTheme();\r\n\r\n  const [formMode, setFormMode] = useState(\"create\");\r\n\r\n  const [stocks, setStocks] = useState([]);\r\n  const [initStocks, setInitStocks] = useState([]);\r\n  const [formOpen, setFormOpen] = useState(false);\r\n  const [formProps, setFormProps] = useState([]);\r\n\r\n  const [id, setID] = useState(\"\");\r\n\r\n  const [balance, setBalance] = useState(0);\r\n  const [unitPrice, setUnitPrice] = useState(1000);\r\n  const [shipmentQty, setShipmentQty] = useState(0);\r\n\r\n  // const [features, setFeatures] = useState([]);\r\n\r\n  const [filterCategory, setFilterCategory] = useState(\"All\");\r\n\r\n  const handleEditClick = (index) => {\r\n    if (index < stocks.length && index >= 0) {\r\n      setID(stocks[index].id);\r\n      setFormProps([\r\n        {\r\n          name: \"name\",\r\n          label: \"Name\",\r\n          type: \"text\",\r\n          defaultValue: stocks[index].name,\r\n          width: \"48%\",\r\n        },\r\n        {\r\n          name: \"category\",\r\n          label: \"Category\",\r\n          type: \"select\",\r\n          defaultValue: stocks[index].category,\r\n          width: \"48%\",\r\n        },\r\n        {\r\n          name: \"remark\",\r\n          label: \"Other Remark\",\r\n          multiline: true,\r\n          type: \"text\",\r\n          defaultValue: stocks[index].remark,\r\n          width: \"100%\",\r\n        },\r\n        {\r\n          name: \"shipmentDate\",\r\n          label: \"Shipment Date\",\r\n          type: \"date\",\r\n          defaultValue: stocks[index].shipmentDate,\r\n          width: \"48%\",\r\n        },\r\n        {\r\n          name: \"arrivalDate\",\r\n          label: \"Arrival Date\",\r\n          type: \"date\",\r\n          defaultValue: stocks[index].arrivalDate,\r\n          width: \"48%\",\r\n        },\r\n      ]);\r\n      setBalance(stocks[index].balance);\r\n      setUnitPrice(stocks[index].unitPrice);\r\n      setShipmentQty(stocks[index].qty - stocks[index].balance);\r\n    }\r\n    setFormMode(\"edit\");\r\n    setFormOpen(true);\r\n  };\r\n\r\n  const handleRemoveClick = (index) => {\r\n    if (index < stocks.length && index >= 0) {\r\n      Swal.fire({\r\n        title: \"Are you sure?\",\r\n        text: \"This action will remove current AccessoryStock permanently.\",\r\n        icon: \"question\",\r\n        showCancelButton: true,\r\n        confirmButtonText: \"Yes, Remove!\",\r\n        cancelButtonText: \"No, Keep It.\",\r\n        allowOutsideClick: false,\r\n      }).then((result) => {\r\n        if (result.isConfirmed) {\r\n          axios\r\n            .delete(`/accessoryStock/${stocks[index].id}`)\r\n            .then((response) => {\r\n              // handle success\r\n              getStocks();\r\n            })\r\n            .catch(function (error) {\r\n              // handle error\r\n              Swal.fire({\r\n                icon: \"error\",\r\n                title: \"Error\",\r\n                text: error.response.data.message,\r\n                allowOutsideClick: false,\r\n              });\r\n              console.log(error);\r\n            })\r\n            .then(function () {\r\n              // always executed\r\n            });\r\n        }\r\n      });\r\n    }\r\n  };\r\n\r\n  const handleBulkRemoveClick = (selected) => {\r\n    Swal.fire({\r\n      title: \"Are you sure?\",\r\n      text: \"This action will remove selected AccessoryStocks permanently.\",\r\n      icon: \"question\",\r\n      showCancelButton: true,\r\n      confirmButtonText: \"Yes, Remove!\",\r\n      cancelButtonText: \"No, Keep Them.\",\r\n      allowOutsideClick: false,\r\n    }).then((result) => {\r\n      if (result.isConfirmed) {\r\n        axios\r\n          .delete(\"/accessoryStock\", {\r\n            data: { ids: selected },\r\n          })\r\n          .then((response) => {\r\n            // handle success\r\n            getStocks();\r\n          })\r\n          .catch(function (error) {\r\n            // handle error\r\n            Swal.fire({\r\n              icon: \"error\",\r\n              title: \"Error\",\r\n              text: error.response.data.message,\r\n              allowOutsideClick: false,\r\n            });\r\n            console.log(error);\r\n          })\r\n          .then(function () {\r\n            // always executed\r\n          });\r\n      }\r\n    });\r\n  };\r\n\r\n  const handleSave = async (event) => {\r\n    event.preventDefault();\r\n    const data = new FormData(event.currentTarget);\r\n    let thumbnailURL = \"\";\r\n    if (data.get(\"thumbnail\").name) {\r\n      const uploadData = new FormData();\r\n      uploadData.append(\"file\", data.get(\"thumbnail\"));\r\n      try {\r\n        const response = await axios.post(\r\n          `/accessoryStock/upload`,\r\n          uploadData,\r\n          {\r\n            headers: {\r\n              \"Content-Type\": \"application/x-www-form-urlencoded\",\r\n            },\r\n          }\r\n        );\r\n        thumbnailURL = response.data.url;\r\n      } catch (err) {}\r\n    }\r\n    axios\r\n      .put(`/accessoryStock/${id}`, {\r\n        name: data.get(\"name\"),\r\n        category: data.get(\"category\"),\r\n        remark: data.get(\"remark\"),\r\n        thumbnailURL,\r\n        unitPrice: data.get(\"unitPrice\"),\r\n        shipmentDate: data.get(\"shipmentDate\") || null,\r\n        arrivalDate: data.get(\"arrivalDate\") || null,\r\n        balance: balance,\r\n        qty: Number(balance) + Number(shipmentQty),\r\n      })\r\n      .then((response) => {\r\n        // handle success\r\n        setFormOpen(false);\r\n        getStocks();\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        setFormOpen(false);\r\n        Swal.fire({\r\n          icon: \"error\",\r\n          title: \"Error\",\r\n          html: error.response.data.message.replace(\"\\n\", \"<br />\"),\r\n          allowOutsideClick: false,\r\n        }).then(() => {\r\n          setFormOpen(true);\r\n        });\r\n        console.log(error);\r\n      })\r\n      .then(function () {\r\n        // always executed\r\n      });\r\n  };\r\n\r\n  const handleCreate = async (event) => {\r\n    event.preventDefault();\r\n    const data = new FormData(event.currentTarget);\r\n    let thumbnailURL = \"\";\r\n    if (data.get(\"thumbnail\").name) {\r\n      const uploadData = new FormData();\r\n      uploadData.append(\"file\", data.get(\"thumbnail\"));\r\n      try {\r\n        const response = await axios.post(\r\n          `/accessoryStock/upload`,\r\n          uploadData,\r\n          {\r\n            headers: {\r\n              \"Content-Type\": \"application/x-www-form-urlencoded\",\r\n            },\r\n          }\r\n        );\r\n        thumbnailURL = response.data.url;\r\n      } catch (err) {}\r\n    }\r\n    axios\r\n      .post(`/accessoryStock/create`, {\r\n        name: data.get(\"name\"),\r\n        category: data.get(\"category\"),\r\n        remark: data.get(\"remark\"),\r\n        thumbnailURL,\r\n        unitPrice: data.get(\"unitPrice\"),\r\n        shipmentDate: data.get(\"shipmentDate\") || null,\r\n        arrivalDate: data.get(\"arrivalDate\") || null,\r\n        balance: balance,\r\n        qty: Number(balance) + Number(shipmentQty),\r\n      })\r\n      .then((response) => {\r\n        // handle success\r\n        setFormOpen(false);\r\n        getStocks();\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        setFormOpen(false);\r\n        Swal.fire({\r\n          icon: \"error\",\r\n          title: \"Error\",\r\n          text: error.response.data.message,\r\n          allowOutsideClick: false,\r\n        }).then(() => {\r\n          setFormOpen(true);\r\n        });\r\n        console.log(error);\r\n      })\r\n      .then(function () {\r\n        // always executed\r\n      });\r\n  };\r\n\r\n  const getFeatures = (cancelToken) => {\r\n    axios\r\n      .get(\"/accessoryStock/features\", { cancelToken })\r\n      .then((response) => {\r\n        // handle success\r\n        // setFeatures(response.data);\r\n        console.log(\"Feature commented\");\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        console.log(error);\r\n      })\r\n      .then(function () {\r\n        // always executed\r\n      });\r\n  };\r\n\r\n  const getStocks = (cancelToken) => {\r\n    axios\r\n      .get(\"/accessoryStock\", { cancelToken })\r\n      .then((response) => {\r\n        // handle success\r\n        setStocks(response.data);\r\n        setInitStocks(response.data);\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        console.log(error);\r\n      })\r\n      .then(function () {\r\n        // always executed\r\n      });\r\n  };\r\n\r\n  useEffect(() => {\r\n    const source = axios.CancelToken.source();\r\n    getFeatures(source.token);\r\n    getStocks(source.token);\r\n    return () => source.cancel(\"Stock Component got unmounted\");\r\n  }, []);\r\n\r\n  const handleFilterCategory = (e) => {\r\n    var selected_category = e.target.value;\r\n    setFilterCategory(selected_category);\r\n    if (selected_category === \"All\") {\r\n      setStocks(initStocks);\r\n    } else {\r\n      setStocks(\r\n        initStocks.filter((stock) => stock.category === selected_category)\r\n      );\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Box\r\n      sx={{\r\n        height: \"100%\",\r\n        overflow: \"auto\",\r\n        padding: \"10px 20px\",\r\n      }}\r\n    >\r\n      <Button\r\n        startIcon={<AddIcon />}\r\n        onClick={() => {\r\n          setFormProps([\r\n            {\r\n              name: \"name\",\r\n              label: \"Name\",\r\n              type: \"text\",\r\n              width: \"48%\",\r\n            },\r\n            {\r\n              name: \"category\",\r\n              label: \"Category\",\r\n              type: \"select\",\r\n              width: \"48%\",\r\n            },\r\n            {\r\n              name: \"remark\",\r\n              label: \"Remark\",\r\n              type: \"text\",\r\n              width: \"100%\",\r\n            },\r\n            {\r\n              name: \"shipmentDate\",\r\n              label: \"Shipment Date\",\r\n              type: \"date\",\r\n              width: \"48%\",\r\n            },\r\n            {\r\n              name: \"arrivalDate\",\r\n              label: \"Arrival Date\",\r\n              type: \"date\",\r\n              width: \"48%\",\r\n            },\r\n          ]);\r\n          setBalance(0);\r\n          setUnitPrice(1000);\r\n          setShipmentQty(0);\r\n          setFormMode(\"create\");\r\n          setFormOpen(true);\r\n        }}\r\n      >\r\n        New Stock\r\n      </Button>\r\n      <Paper\r\n        sx={{\r\n          marginTop: \"10px\",\r\n          padding: \"5px 10px\",\r\n          display: \"flex\",\r\n          flexWrap: \"wrap\",\r\n          justifyContent: \"space-around\",\r\n        }}\r\n      >\r\n        <FormControl\r\n          size=\"small\"\r\n          sx={{ flexBasis: \"200px\", maxWidth: \"200px\" }}\r\n        >\r\n          <InputLabel id=\"category_filter\">Category</InputLabel>\r\n          <Select\r\n            labelId=\"category_filter\"\r\n            label=\"Category\"\r\n            value={filterCategory}\r\n            onChange={handleFilterCategory}\r\n          >\r\n            <MenuItem value=\"All\">All</MenuItem>\r\n            <MenuItem value=\"Desk Accessories\">Desk Accessories</MenuItem>\r\n            <MenuItem value=\"Chair Accessories\">Chair Accessories</MenuItem>\r\n            <MenuItem value=\"Desk on Desk\">Desk on Desk</MenuItem>\r\n            <MenuItem value=\"Monitor Arms\">Monitor Arms</MenuItem>\r\n            <MenuItem value=\"Cabinet\">Cabinet</MenuItem>\r\n            <MenuItem value=\"Drawer\">Drawer</MenuItem>\r\n          </Select>\r\n        </FormControl>\r\n      </Paper>\r\n      <DataGrid\r\n        title=\"Accessory Stocks\"\r\n        rows={stocks.map(\r\n          (\r\n            { thumbnailURL, shipmentDate, arrivalDate, ...restProps },\r\n            index\r\n          ) => ({\r\n            thumbnail: (\r\n              <a\r\n                href=\"/\"\r\n                onClick={(e) => {\r\n                  e.preventDefault();\r\n                  Swal.fire({\r\n                    html: `<img alt=\"\" width=\"400px\" src=\"${thumbnailURL}\" />`,\r\n                    showCloseButton: true,\r\n                    showConfirmButton: false,\r\n                    allowOutsideClick: false,\r\n                  });\r\n                }}\r\n              >\r\n                <img\r\n                  alt=\"\"\r\n                  width=\"80px\"\r\n                  src={thumbnailURL}\r\n                  style={{ marginTop: \"5px\" }}\r\n                />\r\n              </a>\r\n            ),\r\n            edit: (\r\n              <IconButton\r\n                onClick={(event) => {\r\n                  event.preventDefault();\r\n                  handleEditClick(index);\r\n                }}\r\n              >\r\n                <EditIcon />\r\n              </IconButton>\r\n            ),\r\n            delete: (\r\n              <IconButton\r\n                onClick={(event) => {\r\n                  event.preventDefault();\r\n                  handleRemoveClick(index);\r\n                }}\r\n              >\r\n                <DeleteIcon />\r\n              </IconButton>\r\n            ),\r\n            shipmentDate: shipmentDate || \"No\",\r\n            arrivalDate: arrivalDate || \"No\",\r\n            ...restProps,\r\n          })\r\n        )}\r\n        columns={columns}\r\n        onEditClick={handleEditClick}\r\n        onRemoveClick={handleRemoveClick}\r\n        onBulkRemoveClick={handleBulkRemoveClick}\r\n      />\r\n      <Dialog\r\n        fullWidth\r\n        fullScreen={useMediaQuery(theme.breakpoints.down(\"sm\"))}\r\n        maxWidth=\"sm\"\r\n        open={formOpen}\r\n        PaperProps={{\r\n          component: \"form\",\r\n          onSubmit: formMode === \"create\" ? handleCreate : handleSave,\r\n        }}\r\n      >\r\n        <DialogTitle>\r\n          {formMode === \"create\" ? \"New Stock\" : \"Edit Stock\"}\r\n        </DialogTitle>\r\n        <DialogContent>\r\n          <Paper\r\n            sx={{\r\n              mt: \"5px\",\r\n              p: \"10px\",\r\n              display: \"flex\",\r\n              flexWrap: \"wrap\",\r\n              justifyContent: \"space-between\",\r\n            }}\r\n          >\r\n            {formProps.map(({ type, width, ...restParams }, index) => {\r\n              if (type === \"text\") {\r\n                return (\r\n                  <TextField\r\n                    key={index}\r\n                    size=\"small\"\r\n                    sx={{ flexBasis: width, minWidth: width }}\r\n                    {...restParams}\r\n                  />\r\n                );\r\n              } else if (type === \"date\") {\r\n                return (\r\n                  <TextField\r\n                    key={index}\r\n                    size=\"small\"\r\n                    type=\"date\"\r\n                    InputLabelProps={{ shrink: true }}\r\n                    sx={{ flexBasis: width, minWidth: width }}\r\n                    {...restParams}\r\n                  />\r\n                );\r\n              } else if (type === \"checkbox\") {\r\n                const { defaultValue, label, name } = restParams;\r\n                return (\r\n                  <FormControlLabel\r\n                    key={index}\r\n                    control={\r\n                      <Checkbox name={name} defaultChecked={defaultValue} />\r\n                    }\r\n                    label={label}\r\n                  />\r\n                );\r\n              } else if (type === \"select\") {\r\n                return (\r\n                  <FormControl\r\n                    key={index}\r\n                    size=\"small\"\r\n                    sx={{ flexBasis: width, minWidth: width }}\r\n                  >\r\n                    <InputLabel id=\"category_select\">Category</InputLabel>\r\n                    <Select labelId=\"category_select\" {...restParams}>\r\n                      <MenuItem value=\"Desk Accessories\">\r\n                        Desk Accessories\r\n                      </MenuItem>\r\n                      <MenuItem value=\"Chair Accessories\">\r\n                        Chair Accessories\r\n                      </MenuItem>\r\n                      <MenuItem value=\"Desk on Desk\">Desk on Desk</MenuItem>\r\n                      <MenuItem value=\"Monitor Arms\">Monitor Arms</MenuItem>\r\n                      <MenuItem value=\"Cabinet\">Cabinet</MenuItem>\r\n                      <MenuItem value=\"Drawer\">Drawer</MenuItem>\r\n                    </Select>\r\n                  </FormControl>\r\n                );\r\n              } else return null;\r\n            })}\r\n            <TextField\r\n              label=\"Thumbnail\"\r\n              name=\"thumbnail\"\r\n              type=\"file\"\r\n              sx={{ flexBasis: [\"100%\", \"48%\"], minWidth: [\"100%\", \"48%\"] }}\r\n              inputProps={{\r\n                accept: \"image/png, image/gif, image/jpeg\",\r\n              }}\r\n              InputLabelProps={{ shrink: true }}\r\n            />\r\n            <FormControlLabel\r\n              sx={{\r\n                flexBasis: [\"100%\", \"48%\"],\r\n                minWidth: [\"100%\", \"48%\"],\r\n                alignItems: \"baseline\",\r\n                m: 0,\r\n              }}\r\n              control={\r\n                <TextField\r\n                  label=\"Unit Price\"\r\n                  type=\"number\"\r\n                  name=\"unitPrice\"\r\n                  defaultValue={unitPrice}\r\n                  fullWidth\r\n                  sx={{ m: \"10px 5px 0 0\" }}\r\n                />\r\n              }\r\n              label=\"HKD\"\r\n            />\r\n            <Box\r\n              display=\"flex\"\r\n              justifyContent=\"center\"\r\n              alignItems=\"center\"\r\n              sx={{ flexBasis: [\"100%\", \"48%\"], minWidth: [\"100%\", \"48%\"] }}\r\n            >\r\n              <IconButton\r\n                onClick={() => {\r\n                  setBalance(balance > 1 ? balance - 1 : 0);\r\n                }}\r\n              >\r\n                <RemoveIcon />\r\n              </IconButton>\r\n              <TextField\r\n                label=\"Balance\"\r\n                value={balance}\r\n                type=\"number\"\r\n                sx={{ width: \"80px\", mx: \"5px\" }}\r\n                onChange={(e) => {\r\n                  if (e.target.value > 0) setBalance(e.target.value);\r\n                  else setBalance(0);\r\n                  setUnitPrice(1000);\r\n                }}\r\n              />\r\n              <IconButton\r\n                onClick={() => {\r\n                  setBalance(balance + 1);\r\n                }}\r\n              >\r\n                <AddIcon />\r\n              </IconButton>\r\n            </Box>\r\n            <Box\r\n              display=\"flex\"\r\n              justifyContent=\"center\"\r\n              alignItems=\"center\"\r\n              sx={{ flexBasis: [\"100%\", \"48%\"], minWidth: [\"100%\", \"48%\"] }}\r\n            >\r\n              <IconButton\r\n                onClick={() => {\r\n                  setShipmentQty(Math.max(shipmentQty - 1, 0));\r\n                }}\r\n              >\r\n                <RemoveIcon />\r\n              </IconButton>\r\n              <TextField\r\n                label=\"Shipment\"\r\n                value={shipmentQty}\r\n                type=\"number\"\r\n                sx={{ width: \"80px\", mx: \"5px\" }}\r\n                onChange={(e) => {\r\n                  setShipmentQty(Math.max(e.target.value, 0));\r\n                }}\r\n              />\r\n              <IconButton\r\n                onClick={() => {\r\n                  setShipmentQty(shipmentQty + 1);\r\n                }}\r\n              >\r\n                <AddIcon />\r\n              </IconButton>\r\n            </Box>\r\n          </Paper>\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button\r\n            onClick={() => {\r\n              setFormOpen(false);\r\n            }}\r\n          >\r\n            Cancel\r\n          </Button>\r\n          <Button type=\"submit\">\r\n            {formMode === \"create\" ? \"Create\" : \"Save\"}\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    </Box>\r\n  );\r\n});\r\n\r\nexport default Stock;\r\n","import { Box, List, ListItem, ListItemText, Typography } from '@mui/material';\r\nimport { styled } from '@mui/material/styles';\r\nimport {\r\n  indigo,\r\n  teal,\r\n} from '@mui/material/colors';\r\n\r\nexport const ProductList = styled(List)(({ theme }) => ({\r\n  backgroundColor: teal[600],\r\n  padding: '10px',\r\n}));\r\n\r\nexport const ProductListItem = styled(ListItem)(({ theme }) => ({\r\n  backgroundColor: teal[300],\r\n  boxShadow: `0px 2px 1px -1px rgb(0 0 0 / 20%)`,\r\n  margin: '10px 0',\r\n  flexWrap: 'wrap',\r\n}));\r\n\r\nexport const ProductListItemText = styled(ListItemText)(({ theme }) => ({\r\n  color: indigo[900],\r\n}));\r\n\r\nexport const ProductPriceAmount = ({ unitPrice, amount, deliveryOption }) => {\r\n  return (\r\n    <Box flexBasis=\"100%\" display=\"flex\" flexWrap=\"wrap\" alignItems=\"center\">\r\n      {[unitPrice, amount, deliveryOption].map((item, index) => (\r\n        <Typography\r\n          key={index}\r\n          variant=\"span\"\r\n          sx={{\r\n            color: 'white',\r\n            width: index === 2 ? 150 : 80,\r\n            whiteSpace: 'noWrap',\r\n            overflow: 'hidden',\r\n            textOverflow: 'ellipsis',\r\n            textAlign: 'center',\r\n            backgroundColor: indigo[400],\r\n            fontSize: ['10px', '12px'],\r\n            padding: '3px 0',\r\n            margin: '3px 10px 3px 0',\r\n            flexShrink: 0,\r\n            borderRadius: '2px',\r\n          }}\r\n        >\r\n          {item}\r\n        </Typography>\r\n      ))}\r\n    </Box>\r\n  );\r\n};\r\n","import React, { useEffect, useRef, useState } from \"react\";\r\nimport { Link as RouterLink } from \"react-router-dom\";\r\nimport ReactDOMServer from \"react-dom/server\";\r\nimport { connect } from \"react-redux\";\r\nimport {\r\n  Badge,\r\n  Box,\r\n  Button,\r\n  Checkbox,\r\n  Dialog,\r\n  DialogActions,\r\n  DialogContent,\r\n  DialogTitle,\r\n  FormControlLabel,\r\n  IconButton,\r\n  Paper,\r\n  Stack,\r\n  TextField,\r\n} from \"@mui/material\";\r\nimport {\r\n  Add as AddIcon,\r\n  Deck as DeckIcon,\r\n  Delete as DeleteIcon,\r\n  Edit as EditIcon,\r\n  Email as EmailIcon,\r\n  // PictureAsPdf as PictureAsPdfIcon,\r\n  WhatsApp as WhatsAppIcon,\r\n  Receipt as ReceiptIcon,\r\n} from \"@mui/icons-material\";\r\nimport MuiPhoneNumber from \"material-ui-phone-number\";\r\nimport { useTheme } from \"@mui/material/styles\";\r\nimport useMediaQuery from \"@mui/material/useMediaQuery\";\r\nimport axios from \"axios\";\r\nimport Swal from \"sweetalert2\";\r\nimport QRCode from \"react-qr-code\";\r\n\r\nimport DataGrid from \"components/Common/DataGrid\";\r\nimport {\r\n  ProductList,\r\n  ProductListItem,\r\n  ProductListItemText,\r\n  ProductPriceAmount,\r\n} from \"../ProductList\";\r\nimport CheckableMultiSelect from \"components/Common/MultiSelect\";\r\n\r\nconst columns = [\r\n  {\r\n    id: \"invoiceNum\",\r\n    label: \"Invoice\",\r\n  },\r\n  {\r\n    id: \"name\",\r\n    label: \"Client\",\r\n  },\r\n  {\r\n    id: \"seller\",\r\n    label: \"Seller\",\r\n  },\r\n  {\r\n    id: \"orderDate\",\r\n    label: \"Order\",\r\n  },\r\n  {\r\n    id: \"clientAddress\",\r\n    label: \"Address\",\r\n  },\r\n  {\r\n    id: \"timeLine\",\r\n    label: \"TimeLine\",\r\n  },\r\n  {\r\n    id: \"isPreOrder\",\r\n    label: \"PreOrder\",\r\n  },\r\n  {\r\n    id: \"remark\",\r\n    label: \"Remark\",\r\n  },\r\n  {\r\n    id: \"discount\",\r\n    label: \"Discount\",\r\n  },\r\n  {\r\n    id: \"surcharge\",\r\n    label: \"SurCharge\",\r\n  },\r\n  {\r\n    id: \"products\",\r\n    label: \"Products\",\r\n  },\r\n  {\r\n    id: \"paid\",\r\n    label: \"Paid\",\r\n  },\r\n  {\r\n    id: \"receiptIcon\",\r\n    nonSort: true,\r\n    label: \"Receipt\",\r\n    sx: { maxWidth: 75, width: 45 },\r\n  },\r\n  // {\r\n  //   id: \"shipment\",\r\n  //   label: \"Shipment\",\r\n  //   nonSort: true,\r\n  //   align: \"center\",\r\n  //   sx: { maxWidth: 100, width: 100 },\r\n  // },\r\n  {\r\n    id: \"emailIcon\",\r\n    nonSort: true,\r\n    label: \"Email\",\r\n    align: \"right\",\r\n    sx: { maxWidth: 45, width: 45 },\r\n  },\r\n  {\r\n    id: \"whatsappIcon\",\r\n    nonSort: true,\r\n    label: \"Phone\",\r\n    align: \"left\",\r\n    sx: { maxWidth: 45, width: 45, paddingLeft: 0 },\r\n  },\r\n  {\r\n    id: \"edit\",\r\n    nonSort: true,\r\n    sx: { maxWidth: 45, width: 45 },\r\n  },\r\n  {\r\n    nonSort: true,\r\n    id: \"delete\",\r\n    sx: { maxWidth: 45, width: 45 },\r\n  },\r\n];\r\n\r\nconst hideColumns = [\r\n  \"Address\",\r\n  \"TimeLine\",\r\n  \"PreOrder\",\r\n  \"Remark\",\r\n  \"Discount\",\r\n  \"SurCharge\",\r\n  \"Products\",\r\n  \"Paid\",\r\n  \"Receipt\",\r\n  \"Email\",\r\n  \"Phone\",\r\n];\r\n\r\nfunction mapStateToProps(state) {\r\n  const { auth } = state;\r\n  return { auth };\r\n}\r\n\r\nexport default connect(mapStateToProps)((props) => {\r\n  const theme = useTheme();\r\n\r\n  const [orders, setOrders] = useState([]);\r\n  const [initOrders, setInitOrders] = useState([]);\r\n  const [name, setName] = useState(\"\");\r\n  const [email, setEmail] = useState(\"\");\r\n  const [phone, setPhone] = useState(\"\");\r\n  const [whatsAppOpen, setWhatsAppOpen] = useState(false);\r\n  const [emailOpen, setEmailOpen] = useState(false);\r\n  const [detailOpen, setDetailOpen] = useState(false);\r\n  const whatsAppMessage = useRef(null);\r\n  const emailContent = useRef(null);\r\n  const [filterAnchor, setFilterAnchor] = useState(null);\r\n\r\n  const [orderIndex, setOrderIndex] = useState(0);\r\n\r\n  const [paymentLink, setPaymentLink] = useState(\"\");\r\n\r\n  const [selectedHideColumns, setSelectedHideColumns] = useState([]);\r\n\r\n  const [searchInvoiceNumber, setSearchInvoiceNumber] = useState(\"\");\r\n  const [searchPhoneNumber, setSearchPhoneNumber] = useState(\"\");\r\n\r\n  const chairDeliveries = useRef([]);\r\n  const deskDeliveries = useRef([]);\r\n  const accessoryDeliveries = useRef([]);\r\n\r\n  const handleFilterClick = (e) => {\r\n    e.preventDefault();\r\n    if (filterAnchor === null) setFilterAnchor(e.currentTarget);\r\n    else setFilterAnchor(null);\r\n  };\r\n\r\n  const handleWhatsAppSend = (event) => {\r\n    event.preventDefault();\r\n    axios\r\n      .post(\"whatsapp/send\", {\r\n        phone: phone,\r\n        message: whatsAppMessage.current.value,\r\n      })\r\n      .then(() => {\r\n        setWhatsAppOpen(false);\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        setWhatsAppOpen(false);\r\n        Swal.fire({\r\n          icon: \"error\",\r\n          title: \"Error\",\r\n          text: error.response.data.message,\r\n          allowOutsideClick: false,\r\n        }).then(() => {\r\n          setWhatsAppOpen(true);\r\n        });\r\n      })\r\n      .then(function () {\r\n        // always executed\r\n      });\r\n  };\r\n\r\n  const handleEmailSend = (event) => {\r\n    event.preventDefault();\r\n    axios\r\n      .post(\"email/send\", {\r\n        email: email,\r\n        message: emailContent.current.value,\r\n        link: paymentLink,\r\n      })\r\n      .then(() => {\r\n        setEmailOpen(false);\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        setEmailOpen(false);\r\n        Swal.fire({\r\n          icon: \"error\",\r\n          title: \"Error\",\r\n          text: error.response.data.message,\r\n          allowOutsideClick: false,\r\n        }).then(() => {\r\n          setEmailOpen(true);\r\n        });\r\n      })\r\n      .then(function () {\r\n        // always executed\r\n      });\r\n  };\r\n\r\n  const handleRemoveClick = (index) => {\r\n    if (index < orders.length && index >= 0) {\r\n      Swal.fire({\r\n        title: \"Are you sure?\",\r\n        text: \"This action will remove current Order permanently.\",\r\n        icon: \"question\",\r\n        showCancelButton: true,\r\n        confirmButtonText: \"Yes, Remove!\",\r\n        cancelButtonText: \"No, Keep It.\",\r\n        allowOutsideClick: false,\r\n      }).then((result) => {\r\n        if (result.isConfirmed) {\r\n          axios\r\n            .delete(`/sales/${orders[index].id}`)\r\n            .then((response) => {\r\n              // handle success\r\n              getOrders();\r\n            })\r\n            .catch(function (error) {\r\n              // handle error\r\n              Swal.fire({\r\n                icon: \"error\",\r\n                title: \"Error\",\r\n                text: error.response.data.message,\r\n                allowOutsideClick: false,\r\n              });\r\n              console.log(error);\r\n            })\r\n            .then(function () {\r\n              // always executed\r\n            });\r\n        }\r\n      });\r\n    }\r\n  };\r\n\r\n  const handleBulkRemoveClick = (selected) => {\r\n    Swal.fire({\r\n      title: \"Are you sure?\",\r\n      text: \"This action will remove selected Orders permanently.\",\r\n      icon: \"question\",\r\n      showCancelButton: true,\r\n      confirmButtonText: \"Yes, Remove!\",\r\n      cancelButtonText: \"No, Keep Them.\",\r\n      allowOutsideClick: false,\r\n    }).then((result) => {\r\n      if (result.isConfirmed) {\r\n        axios\r\n          .delete(\"/sales\", {\r\n            data: { ids: selected },\r\n          })\r\n          .then((response) => {\r\n            // handle success\r\n            getOrders();\r\n          })\r\n          .catch(function (error) {\r\n            // handle error\r\n            Swal.fire({\r\n              icon: \"error\",\r\n              title: \"Error\",\r\n              text: error.response.data.message,\r\n              allowOutsideClick: false,\r\n            });\r\n            console.log(error);\r\n          })\r\n          .then(function () {\r\n            // always executed\r\n          });\r\n      }\r\n    });\r\n  };\r\n\r\n  const getOrders = (cancelToken) => {\r\n    axios\r\n      .get(\"/sales\", { cancelToken })\r\n      .then((response) => {\r\n        // handle success\r\n        let orders = [];\r\n        response.data.map(item => {\r\n          let order = item;\r\n          order.isSentToShipment = false;\r\n          if (order.AccessoryToOrders.length !== 0 && order.AccessoryToOrders[0].shipmentId != null)\r\n            order.isSentToShipment = true;\r\n          if (order.ChairToOrders.length !== 0 && order.ChairToOrders[0].shipmentId != null)\r\n            order.isSentToShipment = true;\r\n          if (order.DeskToOrders.length !== 0 && order.DeskToOrders[0].shipmentId != null)\r\n            order.isSentToShipment = true;\r\n\r\n          orders.push(order);\r\n          return item;\r\n        });\r\n        setOrders(orders);\r\n        setInitOrders(orders);\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        console.log(error);\r\n      })\r\n      .then(function () {\r\n        // always executed\r\n      });\r\n  };\r\n\r\n  const onHideColumnChanged = (values) => {\r\n    setSelectedHideColumns(values);\r\n  };\r\n\r\n  const onKeyPressed = (e) => {\r\n    if (e.key === \"Enter\") {\r\n      const searchedOrders = initOrders\r\n        .filter((order) =>\r\n          order.invoiceNum\r\n            .toLowerCase()\r\n            .includes(searchInvoiceNumber.toLowerCase())\r\n        )\r\n        .filter((order) => order.phone.includes(searchPhoneNumber));\r\n      setOrders(searchedOrders);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    const source = axios.CancelToken.source();\r\n    getOrders(source.token);\r\n    return () => source.cancel(\"Brand Component got unmounted\");\r\n  }, []);\r\n\r\n  return (\r\n    <Box\r\n      sx={{\r\n        height: \"100%\",\r\n        overflow: \"auto\",\r\n        padding: \"10px 20px\",\r\n      }}\r\n    >\r\n      <Button\r\n        component={RouterLink}\r\n        to=\"/admin/sales/create\"\r\n        startIcon={<AddIcon />}\r\n      >\r\n        New Order\r\n      </Button>\r\n      <Paper\r\n        sx={{\r\n          marginTop: \"10px\",\r\n          padding: \"5px 10px\",\r\n          display: \"flex\",\r\n          flexWrap: \"wrap\",\r\n          justifyContent: \"space-around\",\r\n        }}\r\n      >\r\n        <TextField\r\n          label=\"Invoice Number\"\r\n          variant=\"outlined\"\r\n          onKeyPress={onKeyPressed}\r\n          value={searchInvoiceNumber}\r\n          onChange={(e) => setSearchInvoiceNumber(e.target.value)}\r\n        />\r\n        <TextField\r\n          label=\"Phone Number\"\r\n          variant=\"outlined\"\r\n          onKeyPress={onKeyPressed}\r\n          value={searchPhoneNumber}\r\n          onChange={(e) => setSearchPhoneNumber(e.target.value)}\r\n        />\r\n      </Paper>\r\n      <CheckableMultiSelect\r\n        options={hideColumns}\r\n        onChange={onHideColumnChanged}\r\n        selected={selectedHideColumns}\r\n      />\r\n      <DataGrid\r\n        title=\"Sales Order\"\r\n        rows={orders.map(\r\n          (\r\n            {\r\n              id,\r\n              invoiceNum,\r\n              district,\r\n              street,\r\n              block,\r\n              floor,\r\n              unit,\r\n              Seller,\r\n              isPreOrder,\r\n              discount,\r\n              discountType,\r\n              surcharge,\r\n              surchargeType,\r\n              createdAt,\r\n              timeLine,\r\n              paid,\r\n              ChairStocks,\r\n              DeskStocks,\r\n              AccessoryStocks,\r\n              isSentToShipment,\r\n              ...restProps\r\n            },\r\n            index\r\n          ) => ({\r\n            id,\r\n            index,\r\n            seller: (Seller.firstName || \"\").concat(\" \", Seller.lastName || \"\"),\r\n            timeLine:\r\n              timeLine % 7 !== 0\r\n                ? `${timeLine} day${timeLine === 1 ? \"\" : \"s\"}`\r\n                : `${timeLine / 7} week${timeLine / 7 === 1 ? \"\" : \"s\"}`,\r\n            orderDate: (() => {\r\n              const createdTime = new Date(createdAt);\r\n              createdTime.setMinutes(\r\n                createdTime.getMinutes() - createdTime.getTimezoneOffset()\r\n              );\r\n              return createdTime.toISOString().split(\"T\")[0];\r\n            })(),\r\n            discount: `${discount}${discountType ? \" HKD\" : \"%\"}`,\r\n            surcharge: `${surcharge}${surchargeType ? \" HKD\" : \"%\"}`,\r\n            clientAddress: [district, street, block, floor, unit].join(\", \"),\r\n            isPreOrder:\r\n              (!orders[index].ChairStocks.length ||\r\n                !orders[index].ChairStocks.reduce(\r\n                  (acc, cur) => cur.ChairToOrder.preOrder * acc\r\n                )) *\r\n                (!orders[index].DeskStocks.length ||\r\n                  !orders[index].DeskStocks.reduce(\r\n                    (acc, cur) => cur.DeskToOrder.preOrder * acc\r\n                  ))\r\n                ? \"No\"\r\n                : \"Yes\",\r\n            products: (\r\n              <IconButton\r\n                sx={{ my: \"5px\" }}\r\n                onClick={(event) => {\r\n                  event.preventDefault();\r\n                  chairDeliveries.current = [];\r\n                  deskDeliveries.current = [];\r\n                  accessoryDeliveries.current = [];\r\n                  setOrderIndex(index);\r\n                  setDetailOpen(true);\r\n                }}\r\n              >\r\n                <Badge\r\n                  badgeContent={\r\n                    ChairStocks.length +\r\n                    DeskStocks.length +\r\n                    AccessoryStocks.length\r\n                  }\r\n                  color=\"error\"\r\n                >\r\n                  <DeckIcon />\r\n                </Badge>\r\n              </IconButton>\r\n            ),\r\n            paid: (\r\n              <Checkbox\r\n                checked={paid}\r\n                onClick={(event) => {\r\n                  event.stopPropagation();\r\n                  event.preventDefault();\r\n                  axios\r\n                    .put(`/sales/withoutStock/${id}`, {\r\n                      paid: !paid,\r\n                    })\r\n                    .then(() => {\r\n                      getOrders();\r\n                    })\r\n                    .catch(function (error) {\r\n                      // handle error\r\n                      Swal.fire({\r\n                        icon: \"error\",\r\n                        title: \"Error\",\r\n                        text: error.response.data.message,\r\n                        allowOutsideClick: false,\r\n                      });\r\n                    })\r\n                    .then(function () {\r\n                      // always executed\r\n                    });\r\n                }}\r\n              />\r\n            ),\r\n            invoiceNum: (\r\n              <RouterLink to={`/invoice/${id}`} target=\"_blank\">\r\n                {invoiceNum}\r\n              </RouterLink>\r\n            ),\r\n            receiptIcon: paid && (\r\n              <IconButton\r\n                component={RouterLink}\r\n                to={`/receipt/${id}`}\r\n                target=\"_blank\"\r\n              >\r\n                <ReceiptIcon />\r\n              </IconButton>\r\n            ),\r\n            // shipment: (\r\n            //   <Button color=\"primary\" disabled={isSentToShipment} onClick={() => createSingleOrder(id)}>Single</Button>\r\n            // ),\r\n            emailIcon: (\r\n              <IconButton\r\n                onClick={() => {\r\n                  setName(restProps.name);\r\n                  setEmail(restProps.email);\r\n                  setEmailOpen(true);\r\n                }}\r\n              >\r\n                <EmailIcon />\r\n              </IconButton>\r\n            ),\r\n            whatsappIcon: (\r\n              <IconButton\r\n                onClick={() => {\r\n                  axios\r\n                    .get(\"whatsapp/checkauth\")\r\n                    .then(() => {\r\n                      setName(restProps.name);\r\n                      setPhone(restProps.phone);\r\n                      setWhatsAppOpen(true);\r\n                    })\r\n                    .catch(function (error) {\r\n                      // handle error\r\n                      axios\r\n                        .get(\"whatsapp/getqr\")\r\n                        .then((response) => {\r\n                          Swal.fire({\r\n                            icon: \"info\",\r\n                            title:\r\n                              \"Please signin with this QRCode and Click the button again.\",\r\n                            html: ReactDOMServer.renderToStaticMarkup(\r\n                              <QRCode\r\n                                value={`${response.data.qrcode}`}\r\n                                level=\"H\"\r\n                              />\r\n                            ),\r\n                            allowOutsideClick: false,\r\n                          });\r\n                        })\r\n                        .catch(function (qrerror) {\r\n                          // handle error\r\n                          Swal.fire({\r\n                            icon: \"error\",\r\n                            title: \"Error\",\r\n                            text: \"Unable to use WhatsApp Messaging.\",\r\n                            allowOutsideClick: false,\r\n                          });\r\n                        })\r\n                        .then(function () {\r\n                          // always executed\r\n                        });\r\n                    })\r\n                    .then(function () {\r\n                      // always executed\r\n                    });\r\n                }}\r\n              >\r\n                <WhatsAppIcon />\r\n              </IconButton>\r\n            ),\r\n            edit: (\r\n              <IconButton\r\n                component={RouterLink}\r\n                to={{\r\n                  pathname: \"/admin/sales/edit\",\r\n                  state: { order: orders[index] },\r\n                }}\r\n              >\r\n                <EditIcon />\r\n              </IconButton>\r\n            ),\r\n            delete: (\r\n              <IconButton\r\n                onClick={(event) => {\r\n                  event.preventDefault();\r\n                  handleRemoveClick(index);\r\n                }}\r\n              >\r\n                <DeleteIcon />\r\n              </IconButton>\r\n            ),\r\n            ...restProps,\r\n          })\r\n        )}\r\n        columns={columns\r\n          .map((column, i) => {\r\n            if (i > 3 && i < 15) {\r\n              if (selectedHideColumns.find((hideColumn) => hideColumn === column.label))\r\n                return column;\r\n              else\r\n                return undefined;\r\n            }\r\n            return column;\r\n          })\r\n          .filter((column) => column !== undefined)}\r\n        onRemoveClick={handleRemoveClick}\r\n        onBulkRemoveClick={handleBulkRemoveClick}\r\n        onFilterClick={handleFilterClick}\r\n      />\r\n      <Dialog\r\n        fullWidth\r\n        fullScreen={useMediaQuery(theme.breakpoints.down(\"sm\"))}\r\n        maxWidth=\"sm\"\r\n        open={whatsAppOpen}\r\n      >\r\n        <DialogTitle>Send WhatsApp Message to the Client</DialogTitle>\r\n        <DialogContent>\r\n          <Stack spacing={2}>\r\n            <MuiPhoneNumber\r\n              variant=\"outlined\"\r\n              label=\"Phone Number\"\r\n              onlyCountries={[\"hk\"]}\r\n              defaultCountry={\"hk\"}\r\n              value={phone}\r\n              InputProps={{\r\n                readOnly: true,\r\n              }}\r\n            />\r\n\r\n            <TextField\r\n              inputRef={whatsAppMessage}\r\n              label=\"Message\"\r\n              fullWidth\r\n              defaultValue={`Hello ${name},\\nThank you for your order! Please find here (payment link URL) for your payment.\\nOnce finished, your order will be processed accordingly.`}\r\n              multiline\r\n              minRows={4}\r\n              maxRows={10}\r\n            // onChange={(e) => {\r\n            //   setWhatsAppMessage(e.target.value);\r\n            // }}\r\n            />\r\n          </Stack>\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button\r\n            onClick={(event) => {\r\n              event.preventDefault();\r\n              setWhatsAppOpen(false);\r\n            }}\r\n          >\r\n            Cancel\r\n          </Button>\r\n          <Button onClick={handleWhatsAppSend}>Send</Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n      <Dialog\r\n        fullWidth\r\n        fullScreen={useMediaQuery(theme.breakpoints.down(\"sm\"))}\r\n        maxWidth=\"sm\"\r\n        open={emailOpen}\r\n      >\r\n        <DialogTitle>Send Email to the Client</DialogTitle>\r\n        <DialogContent>\r\n          <Stack spacing={2}>\r\n            <TextField\r\n              label=\"Email\"\r\n              type=\"email\"\r\n              value={email}\r\n              InputProps={{\r\n                readOnly: true,\r\n              }}\r\n            />\r\n\r\n            <TextField\r\n              inputRef={emailContent}\r\n              label=\"Message\"\r\n              fullWidth\r\n              defaultValue={`Hello ${name},\\nThank you for your order! Please find here (payment link URL) for your payment.\\nOnce finished, your order will be processed accordingly.`}\r\n              multiline\r\n              minRows={4}\r\n              maxRows={10}\r\n            />\r\n\r\n            <TextField\r\n              label=\"Link\"\r\n              type=\"text\"\r\n              value={paymentLink}\r\n              onChange={(e) => setPaymentLink(e.target.value)}\r\n            />\r\n          </Stack>\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button\r\n            onClick={(event) => {\r\n              event.preventDefault();\r\n              setEmailOpen(false);\r\n            }}\r\n          >\r\n            Cancel\r\n          </Button>\r\n          <Button onClick={handleEmailSend}>Send</Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n      <Dialog\r\n        maxWidth=\"sm\"\r\n        fullWidth\r\n        fullScreen={useMediaQuery(theme.breakpoints.down(\"sm\"))}\r\n        open={detailOpen}\r\n      >\r\n        <DialogTitle>Products Details</DialogTitle>\r\n        <DialogContent>\r\n          <ProductList>\r\n            {orderIndex < orders.length &&\r\n              orders[orderIndex].ChairStocks.map((item, index) => (\r\n                <ProductListItem key={index}>\r\n                  <ProductListItemText\r\n                    primary={`Chair: ${item.brand}, ${item.model}, ${item.frameColor}, ${item.backColor}, ${item.seatColor}`}\r\n                    secondary={`${item.withHeadrest ? \"Headrest, \" : \"\"}${item.withAdArmrest ? \"Armrest\" : \"\"\r\n                      }`}\r\n                  />\r\n                  <ProductPriceAmount\r\n                    unitPrice={`${item.ChairToOrder.unitPrice} HKD`}\r\n                    amount={`Amount: ${item.ChairToOrder.qty}`}\r\n                    deliveryOption={`${item.ChairToOrder.deliveryOption}`}\r\n                  />\r\n                  <Button\r\n                    variant=\"contained\"\r\n                    sx={{ mt: \"5px\" }}\r\n                    component={RouterLink}\r\n                    target=\"_blank\"\r\n                    to={`/deliveryPDF/chair/${item.ChairToOrder.id}`}\r\n                  >\r\n                    Delivery Note\r\n                  </Button>\r\n                  {orders[orderIndex].paid && (\r\n                    <Paper\r\n                      ref={(ref) => chairDeliveries.current.push(ref)}\r\n                      component=\"form\"\r\n                      sx={{\r\n                        flexBasis: \"100%\",\r\n                        display: \"flex\",\r\n                        flexWrap: \"wrap\",\r\n                        alignItems: \"center\",\r\n                        justifyContent: \"space-between\",\r\n                        marginTop: \"10px\",\r\n                        padding: \"10px\",\r\n                      }}\r\n                    >\r\n                      <input\r\n                        name=\"id\"\r\n                        type=\"hidden\"\r\n                        value={item.ChairToOrder.id}\r\n                      />\r\n                      <TextField\r\n                        name=\"proDeliveryDate\"\r\n                        type=\"date\"\r\n                        label=\"Proposed Delivery Date\"\r\n                        defaultValue={item.ChairToOrder.proDeliveryDate}\r\n                        InputLabelProps={{ shrink: true }}\r\n                        sx={{\r\n                          flexBasis: \"100%\",\r\n                          my: \"5px\",\r\n                        }}\r\n                      />\r\n                      <TextField\r\n                        name=\"estDeliveryDate\"\r\n                        type=\"date\"\r\n                        label=\"Est. Delivery Date\"\r\n                        defaultValue={item.ChairToOrder.estDeliveryDate}\r\n                        InputLabelProps={{ shrink: true }}\r\n                        sx={{\r\n                          flexBasis: \"100%\",\r\n                          my: \"5px\",\r\n                        }}\r\n                      />\r\n                      <TextField\r\n                        name=\"from\"\r\n                        type=\"time\"\r\n                        label=\"From\"\r\n                        defaultValue={item.ChairToOrder.from}\r\n                        InputLabelProps={{ shrink: true }}\r\n                        sx={{ flexBasis: \"48%\", my: \"5px\" }}\r\n                      />\r\n                      <TextField\r\n                        name=\"to\"\r\n                        type=\"time\"\r\n                        label=\"To\"\r\n                        defaultValue={item.ChairToOrder.to}\r\n                        InputLabelProps={{ shrink: true }}\r\n                        sx={{ flexBasis: \"48%\", my: \"5px\" }}\r\n                      />\r\n                      <FormControlLabel\r\n                        key={index}\r\n                        control={\r\n                          <Checkbox\r\n                            name=\"delivered\"\r\n                            defaultChecked={item.ChairToOrder.delivered}\r\n                          />\r\n                        }\r\n                        label=\"Delivered\"\r\n                      />\r\n                    </Paper>\r\n                  )}\r\n                </ProductListItem>\r\n              ))}\r\n            {orderIndex < orders.length &&\r\n              orders[orderIndex].DeskToOrders.map((item, index) => (\r\n                <ProductListItem key={index}>\r\n                  <ProductListItemText\r\n                    primary={`Desk:\r\n                      ${orders[orderIndex].DeskStocks.find(\r\n                      (stock) => stock.id === item.stockId\r\n                    ).supplierCode\r\n                      },\r\n                      ${orders[orderIndex].DeskStocks.find(\r\n                        (stock) => stock.id === item.stockId\r\n                      ).model\r\n                      },\r\n                      ${orders[orderIndex].DeskStocks.find(\r\n                        (stock) => stock.id === item.stockId\r\n                      ).color\r\n                      },\r\n                      ${orders[orderIndex].DeskStocks.find(\r\n                        (stock) => stock.id === item.stockId\r\n                      ).armSize\r\n                      },\r\n                      ${orders[orderIndex].DeskStocks.find(\r\n                        (stock) => stock.id === item.stockId\r\n                      ).feetSize\r\n                      },\r\n                      ${orders[orderIndex].DeskStocks.find(\r\n                        (stock) => stock.id === item.stockId\r\n                      ).beamSize\r\n                      }`}\r\n                    secondary={\r\n                      item.hasDeskTop ? (\r\n                        <span>\r\n                          {`${item.topMaterial},\r\n                            ${item.topColor},\r\n                            ${item.topLength}x${item.topWidth}x${item.topThickness},\r\n                            ${item.topRoundedCorners}-R${item.topCornerRadius},\r\n                            ${item.topHoleCount}-${item.topHoleType} `}\r\n                          <a href={item.topSketchURL} target=\"_blank\" rel=\"noreferrer\">\r\n                            Sketch\r\n                          </a>\r\n                        </span>\r\n                      ) : (\r\n                        \"Without DeskTop\"\r\n                      )\r\n                    }\r\n                  />\r\n                  <ProductPriceAmount\r\n                    unitPrice={`${item.unitPrice} HKD`}\r\n                    amount={`Amount: ${item.qty}`}\r\n                    deliveryOption={`${item.deliveryOption}`}\r\n                  />\r\n                  <Button\r\n                    variant=\"contained\"\r\n                    sx={{ mt: \"5px\" }}\r\n                    component={RouterLink}\r\n                    target=\"_blank\"\r\n                    to={`/deliveryPDF/desk/${item.id}`}\r\n                  >\r\n                    Delivery Note\r\n                  </Button>\r\n                  {orders[orderIndex].paid && (\r\n                    <Paper\r\n                      ref={(ref) => deskDeliveries.current.push(ref)}\r\n                      component=\"form\"\r\n                      sx={{\r\n                        flexBasis: \"100%\",\r\n                        display: \"flex\",\r\n                        flexWrap: \"wrap\",\r\n                        alignItems: \"center\",\r\n                        justifyContent: \"space-between\",\r\n                        marginTop: \"10px\",\r\n                        padding: \"10px\",\r\n                      }}\r\n                    >\r\n                      <input name=\"id\" type=\"hidden\" value={item.id} />\r\n                      <TextField\r\n                        name=\"proDeliveryDate\"\r\n                        type=\"date\"\r\n                        label=\"Proposed Delivery Date\"\r\n                        defaultValue={item.proDeliveryDate}\r\n                        InputLabelProps={{ shrink: true }}\r\n                        sx={{\r\n                          flexBasis: \"100%\",\r\n                          my: \"5px\",\r\n                        }}\r\n                      />\r\n                      <TextField\r\n                        name=\"estDeliveryDate\"\r\n                        type=\"date\"\r\n                        label=\"Est. Delivery Date\"\r\n                        defaultValue={item.estDeliveryDate}\r\n                        InputLabelProps={{ shrink: true }}\r\n                        sx={{\r\n                          flexBasis: \"100%\",\r\n                          my: \"5px\",\r\n                        }}\r\n                      />\r\n                      <TextField\r\n                        name=\"from\"\r\n                        type=\"time\"\r\n                        label=\"From\"\r\n                        defaultValue={item.from}\r\n                        InputLabelProps={{ shrink: true }}\r\n                        sx={{ flexBasis: \"48%\", my: \"5px\" }}\r\n                      />\r\n                      <TextField\r\n                        name=\"to\"\r\n                        type=\"time\"\r\n                        label=\"To\"\r\n                        defaultValue={item.to}\r\n                        InputLabelProps={{ shrink: true }}\r\n                        sx={{ flexBasis: \"48%\", my: \"5px\" }}\r\n                      />\r\n                      <FormControlLabel\r\n                        key={index}\r\n                        control={\r\n                          <Checkbox\r\n                            name=\"delivered\"\r\n                            defaultChecked={item.delivered}\r\n                          />\r\n                        }\r\n                        label=\"Delivered\"\r\n                      />\r\n                    </Paper>\r\n                  )}\r\n                </ProductListItem>\r\n              ))}\r\n            {orderIndex < orders.length &&\r\n              orders[orderIndex].AccessoryStocks.map((item, index) => (\r\n                <ProductListItem key={index}>\r\n                  <ProductListItemText\r\n                    primary={`Accessory: ${item.name}`}\r\n                    secondary={`${item.remark}`}\r\n                  />\r\n                  <ProductPriceAmount\r\n                    unitPrice={`${item.AccessoryToOrder.unitPrice} HKD`}\r\n                    amount={`Amount: ${item.AccessoryToOrder.qty}`}\r\n                    deliveryOption={`${item.AccessoryToOrder.deliveryOption}`}\r\n                  />\r\n                  <Button\r\n                    variant=\"contained\"\r\n                    sx={{ mt: \"5px\" }}\r\n                    component={RouterLink}\r\n                    target=\"_blank\"\r\n                    to={`/deliveryPDF/accessory/${item.AccessoryToOrder.id}`}\r\n                  >\r\n                    Delivery Note\r\n                  </Button>\r\n                  {orders[orderIndex].paid && (\r\n                    <Paper\r\n                      ref={(ref) => accessoryDeliveries.current.push(ref)}\r\n                      component=\"form\"\r\n                      sx={{\r\n                        flexBasis: \"100%\",\r\n                        display: \"flex\",\r\n                        flexWrap: \"wrap\",\r\n                        alignItems: \"center\",\r\n                        justifyContent: \"space-between\",\r\n                        marginTop: \"10px\",\r\n                        padding: \"10px\",\r\n                      }}\r\n                    >\r\n                      <input\r\n                        name=\"id\"\r\n                        type=\"hidden\"\r\n                        value={item.AccessoryToOrder.id}\r\n                      />\r\n                      <TextField\r\n                        name=\"proDeliveryDate\"\r\n                        type=\"date\"\r\n                        label=\"Proposed Delivery Date\"\r\n                        defaultValue={item.AccessoryToOrder.proDeliveryDate}\r\n                        InputLabelProps={{ shrink: true }}\r\n                        sx={{\r\n                          flexBasis: \"100%\",\r\n                          my: \"5px\",\r\n                        }}\r\n                      />\r\n                      <TextField\r\n                        name=\"estDeliveryDate\"\r\n                        type=\"date\"\r\n                        label=\"Est Delivery Date\"\r\n                        defaultValue={item.AccessoryToOrder.estDeliveryDate}\r\n                        InputLabelProps={{ shrink: true }}\r\n                        sx={{\r\n                          flexBasis: \"100%\",\r\n                          my: \"5px\",\r\n                        }}\r\n                      />\r\n                      <TextField\r\n                        name=\"from\"\r\n                        type=\"time\"\r\n                        label=\"From\"\r\n                        defaultValue={item.AccessoryToOrder.from}\r\n                        InputLabelProps={{ shrink: true }}\r\n                        sx={{ flexBasis: \"48%\", my: \"5px\" }}\r\n                      />\r\n                      <TextField\r\n                        name=\"to\"\r\n                        type=\"time\"\r\n                        label=\"To\"\r\n                        defaultValue={item.AccessoryToOrder.to}\r\n                        InputLabelProps={{ shrink: true }}\r\n                        sx={{ flexBasis: \"48%\", my: \"5px\" }}\r\n                      />\r\n                      <FormControlLabel\r\n                        key={index}\r\n                        control={\r\n                          <Checkbox\r\n                            name=\"delivered\"\r\n                            defaultChecked={item.AccessoryToOrder.delivered}\r\n                          />\r\n                        }\r\n                        label=\"Delivered\"\r\n                      />\r\n                    </Paper>\r\n                  )}\r\n                </ProductListItem>\r\n              ))}\r\n          </ProductList>\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button\r\n            onClick={(event) => {\r\n              event.preventDefault();\r\n              setDetailOpen(false);\r\n            }}\r\n          >\r\n            Cancel\r\n          </Button>\r\n          <Button\r\n            onClick={(event) => {\r\n              event.preventDefault();\r\n              const chairToOrders = chairDeliveries.current.map((item) => ({\r\n                id: item.id.value,\r\n                proDeliveryDate: item.proDeliveryDate.value || null,\r\n                estDeliveryDate: item.estDeliveryDate.value || null,\r\n                from: item.from.value || null,\r\n                to: item.to.value || null,\r\n                delivered: item.delivered.checked,\r\n              }));\r\n              const deskToOrders = deskDeliveries.current.map((item) => ({\r\n                id: item.id.value,\r\n                proDeliveryDate: item.proDeliveryDate.value || null,\r\n                estDeliveryDate: item.estDeliveryDate.value || null,\r\n                from: item.from.value || null,\r\n                to: item.to.value || null,\r\n                delivered: item.delivered.checked,\r\n              }));\r\n              const accessoryToOrders = accessoryDeliveries.current.map(\r\n                (item) => ({\r\n                  id: item.id.value,\r\n                  proDeliveryDate: item.proDeliveryDate.value || null,\r\n                  estDeliveryDate: item.estDeliveryDate.value || null,\r\n                  from: item.from.value || null,\r\n                  to: item.to.value || null,\r\n                  delivered: item.delivered.checked,\r\n                })\r\n              );\r\n              axios\r\n                .post(\"/sales/products\", {\r\n                  chairToOrders,\r\n                  deskToOrders,\r\n                  accessoryToOrders,\r\n                })\r\n                .then(() => {\r\n                  // handle success\r\n                  getOrders();\r\n                })\r\n                .catch(function (error) {\r\n                  // handle error\r\n                  console.log(error);\r\n                })\r\n                .then(function () {\r\n                  // always executed\r\n                  setDetailOpen(false);\r\n                });\r\n            }}\r\n          >\r\n            OK\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    </Box>\r\n  );\r\n});\r\n","import React, { useEffect, useRef, useState, Fragment } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { connect } from \"react-redux\";\r\nimport {\r\n  Autocomplete,\r\n  Box,\r\n  Button,\r\n  Checkbox,\r\n  Dialog,\r\n  DialogActions,\r\n  DialogContent,\r\n  DialogTitle,\r\n  Divider,\r\n  FormControl,\r\n  FormControlLabel,\r\n  IconButton,\r\n  InputAdornment,\r\n  InputLabel,\r\n  MenuItem,\r\n  Paper,\r\n  Radio,\r\n  RadioGroup,\r\n  Select,\r\n  Step,\r\n  Stepper,\r\n  StepLabel,\r\n  Tab,\r\n  Tabs,\r\n  TextField,\r\n  Typography,\r\n  Card,\r\n  Grid,\r\n} from \"@mui/material\";\r\nimport {\r\n  Add as AddIcon,\r\n  Delete as DeleteIcon,\r\n  Remove as RemoveIcon,\r\n  Close as CloseIcon,\r\n  Edit as EditIcon,\r\n} from \"@mui/icons-material\";\r\nimport { useTheme } from \"@mui/material/styles\";\r\nimport useMediaQuery from \"@mui/material/useMediaQuery\";\r\nimport MuiPhoneNumber from \"material-ui-phone-number\";\r\nimport axios from \"axios\";\r\nimport Swal from \"sweetalert2\";\r\n\r\nimport DataGrid from \"components/Common/DataGrid\";\r\nimport {\r\n  ProductList,\r\n  ProductListItem,\r\n  ProductListItemText,\r\n  ProductPriceAmount,\r\n} from \"../ProductList\";\r\nimport { v4 as uuidv4 } from \"uuid\";\r\nimport CheckableMultiSelect from \"components/Common/MultiSelect\";\r\n\r\nconst TabPanel = (props) => {\r\n  const { children, value, index, ...other } = props;\r\n\r\n  return (\r\n    <div\r\n      role=\"tabpanel\"\r\n      hidden={value !== index}\r\n      id={`simple-tabpanel-${index}`}\r\n      aria-labelledby={`simple-tab-${index}`}\r\n      {...other}\r\n    >\r\n      {value === index && <Box sx={{ p: \"0 10px 10px 10px\" }}>{children}</Box>}\r\n    </div>\r\n  );\r\n};\r\n\r\nTabPanel.propTypes = {\r\n  children: PropTypes.node,\r\n  index: PropTypes.number.isRequired,\r\n  value: PropTypes.number.isRequired,\r\n};\r\n\r\nfunction mapStateToProps(state) {\r\n  const { auth } = state;\r\n  return { auth };\r\n}\r\n\r\nconst chairColumns = [\r\n  {\r\n    id: \"add\",\r\n  },\r\n  {\r\n    id: \"thumbnail\",\r\n    sx: { width: 100 },\r\n    nonSort: true,\r\n  },\r\n  {\r\n    id: \"brand\",\r\n    label: \"Brand\",\r\n  },\r\n  {\r\n    id: \"model\",\r\n    label: \"Model\",\r\n  },\r\n  {\r\n    id: \"unitPrice\",\r\n    label: \"Price\",\r\n  },\r\n  {\r\n    id: \"balance\",\r\n    label: \"Balance\",\r\n  },\r\n  {\r\n    id: \"qty\",\r\n    label: \"QTY\",\r\n  },\r\n  {\r\n    id: \"frameColor\",\r\n    label: \"Frame Color\",\r\n  },\r\n  {\r\n    id: \"backColor\",\r\n    label: \"Back Color\",\r\n  },\r\n  {\r\n    id: \"seatColor\",\r\n    label: \"Seat Color\",\r\n  },\r\n  {\r\n    id: \"backMaterial\",\r\n    label: \"Back Material\",\r\n  },\r\n  {\r\n    id: \"seatMaterial\",\r\n    label: \"Seat Material\",\r\n  },\r\n  {\r\n    id: \"withHeadrest\",\r\n    label: \"Headrest\",\r\n  },\r\n  {\r\n    id: \"withAdArmrest\",\r\n    label: \"Adjustable Armrests\",\r\n  },\r\n  {\r\n    id: \"remark\",\r\n    label: \"Other Remark\",\r\n  },\r\n  {\r\n    id: \"shipmentDate\",\r\n    label: \"Shipment\",\r\n  },\r\n  {\r\n    id: \"arrivalDate\",\r\n    label: \"Arrival\",\r\n  },\r\n];\r\n\r\nconst hideChairColumns = [\r\n  \"Frame Color\",\r\n  \"Back Color\",\r\n  \"Seat Color\",\r\n  \"Back Material\",\r\n  \"Seat Material\",\r\n  \"Headrest\",\r\n  \"Adjustable Armrests\",\r\n  \"Other Remark\",\r\n  \"Shipment\",\r\n  \"Arrival\",\r\n];\r\n\r\nconst deskColumns = [\r\n  {\r\n    id: \"add\",\r\n  },\r\n  {\r\n    id: \"thumbnail\",\r\n    sx: { width: 100 },\r\n    nonSort: true,\r\n  },\r\n  {\r\n    id: \"supplierCode\",\r\n    label: \"Supplier\",\r\n  },\r\n  {\r\n    id: \"model\",\r\n    label: \"Model\",\r\n  },\r\n  {\r\n    id: \"unitPrice\",\r\n    label: \"Price\",\r\n  },\r\n  {\r\n    id: \"balance\",\r\n    label: \"Balance\",\r\n  },\r\n  {\r\n    id: \"qty\",\r\n    label: \"QTY\",\r\n  },\r\n  {\r\n    id: \"color\",\r\n    label: \"Color\",\r\n  },\r\n  {\r\n    id: \"armSize\",\r\n    label: \"Arm Size\",\r\n  },\r\n  {\r\n    id: \"feetSize\",\r\n    label: \"Feet Size\",\r\n  },\r\n  {\r\n    id: \"beamSize\",\r\n    label: \"Beam Size\",\r\n  },\r\n  {\r\n    id: \"remark\",\r\n    label: \"Other Remark\",\r\n  },\r\n  {\r\n    id: \"shipmentDate\",\r\n    label: \"Shipment\",\r\n  },\r\n  {\r\n    id: \"arrivalDate\",\r\n    label: \"Arrival\",\r\n  },\r\n];\r\n\r\nconst hideDeskColumns = [\r\n  \"Color\",\r\n  \"Arm Size\",\r\n  \"Feet Size\",\r\n  \"Beam Size\",\r\n  \"Other Remark\",\r\n  \"Shipment\",\r\n  \"Arrival\",\r\n];\r\n\r\nconst accessoryColumns = [\r\n  {\r\n    id: \"add\",\r\n  },\r\n  {\r\n    id: \"thumbnail\",\r\n    sx: { width: 100 },\r\n    nonSort: true,\r\n  },\r\n  {\r\n    id: \"name\",\r\n    label: \"Name\",\r\n  },\r\n  {\r\n    id: \"category\",\r\n    label: \"Category\",\r\n  },\r\n  {\r\n    id: \"unitPrice\",\r\n    label: \"Price\",\r\n  },\r\n  {\r\n    id: \"balance\",\r\n    label: \"Balance\",\r\n  },\r\n  {\r\n    id: \"qty\",\r\n    label: \"QTY\",\r\n  },\r\n  {\r\n    id: \"remark\",\r\n    label: \"Other Remark\",\r\n  },\r\n  {\r\n    id: \"shipmentDate\",\r\n    label: \"Shipment\",\r\n  },\r\n  {\r\n    id: \"arrivalDate\",\r\n    label: \"Arrival\",\r\n  },\r\n];\r\n\r\nconst materialOptions = [\r\n  \"Melamine\",\r\n  \"Laminate\",\r\n  \"North American Walnut\",\r\n  \"South American Walnut\",\r\n  \"Red Oak\",\r\n  \"Maple\",\r\n  \"Bamboo\",\r\n  \"Melamine with glass top\",\r\n  \"Toppal Plyedge\",\r\n];\r\n\r\nexport default connect(mapStateToProps)((props) => {\r\n  const theme = useTheme();\r\n  const { componentType, initialClient, initialCart, initialServices } = props;\r\n  const [topHoleCount, setTopHoleCount] = useState(0);\r\n  const [topHolePosition, setTopHolePosition] = useState(\"Left\");\r\n  const [topHoleType, setTopHoleType] = useState(\"Rounded\");\r\n  const [topMaterial, setTopMaterial] = useState(\"Melamine\");\r\n  const [topColor, setTopColor] = useState(\"\");\r\n  const [topLength, setTopLength] = useState(700);\r\n  const [topWidth, setTopWidth] = useState(400);\r\n  const [topThickness, setTopThickness] = useState(25);\r\n  const [topRoundedCorners, setTopRoundedCorners] = useState(0);\r\n  const [topCornerRadius, setTopCornerRadius] = useState(50);\r\n  const [sketchUrl, setSketchUrl] = useState(\"\");\r\n  const [remark, setRemark] = useState(\"\");\r\n\r\n  const steps = [\r\n    \"Input Client Info\",\r\n    \"Select Products\",\r\n    \"Input Payment Details\",\r\n  ];\r\n  const clientForm = useRef(null);\r\n  const [currentStep, setCurrentStep] = useState(0);\r\n\r\n  const [addOpen, setAddOpen] = useState(false);\r\n  const [deskAddOpen, setDeskAddOpen] = useState(false);\r\n\r\n  const [hasDeskTop, setHasDeskTop] = useState(false);\r\n\r\n  const [productType, setProductType] = useState(\"chair\");\r\n  const [productId, setProductId] = useState(\"\");\r\n  const [productDetail, setProductDetail] = useState(\"\");\r\n  const [productPrice, setProductPrice] = useState(1000);\r\n  const [productAmount, setProductAmount] = useState(0);\r\n  const [productRemark, setProductRemark] = useState(\"\");\r\n\r\n  const [deliveryChecked0, setDeliveryChecked0] = useState(false);\r\n  const [deliveryChecked1, setDeliveryChecked1] = useState(false);\r\n  const [deliveryChecked2, setDeliveryChecked2] = useState(false);\r\n  const [deliveryChecked3, setDeliveryChecked3] = useState(false);\r\n\r\n  const [cart, setCart] = useState(initialCart);\r\n  const [cartItemStatus, setCartItemStatus] = useState(\"add\");\r\n\r\n  const [paid, setPaid] = useState(initialClient.paid);\r\n\r\n  const [chairStocks, setChairStocks] = useState([]);\r\n  const [deskStocks, setDeskStocks] = useState([]);\r\n  const [accessoryStocks, setAccessoryStocks] = useState([]);\r\n  const [initAccessoryStocks, setInitAccessoryStocks] = useState([]);\r\n  const [stocksIndex, setStocksIndex] = useState(0);\r\n\r\n  const [chairFeatures, setChairFeatures] = useState([]);\r\n  const [deskFeatures, setDeskFeatures] = useState([]);\r\n  // const [accessoryFeatures, setAccessoryFeatures] = useState([]);\r\n\r\n  const [chairFilterBrand, setChairFilterBrand] = useState(null);\r\n  const [chairFilterModel, setChairFilterModel] = useState(null);\r\n  const [deskFilterSupplier, setDeskFilterSupplier] = useState(null);\r\n  const [deskFilterModel, setDeskFilterModel] = useState(null);\r\n  const [deskFilterColor, setDeskFilterColor] = useState(null);\r\n  const [accessoryFilterCategory, setAccessoryFilterCategory] = useState(\"All\");\r\n\r\n  let initServices = initialServices\r\n    ? initialServices.map((service) =>\r\n      Object.assign(service, { productType: \"misc\" })\r\n    )\r\n    : [];\r\n  const [services, setServices] = useState(initServices);\r\n\r\n  const [selectedHideChairColumns, setSelectedHideChairColumns] = useState([]);\r\n  const [selectedHideDeskColumns, setSelectedHideDeskColumns] = useState([]);\r\n\r\n  const getChairFeatures = (cancelToken) => {\r\n    axios\r\n      .get(\"/chairStock/features\", { cancelToken })\r\n      .then((response) => {\r\n        // handle success\r\n        setChairFeatures(response.data);\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        console.log(error);\r\n      })\r\n      .then(function () {\r\n        // always executed\r\n      });\r\n  };\r\n\r\n  const getDeskFeatures = (cancelToken) => {\r\n    axios\r\n      .get(\"/deskStock/features\", { cancelToken })\r\n      .then((response) => {\r\n        // handle success\r\n        setDeskFeatures(response.data);\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        console.log(error);\r\n      })\r\n      .then(function () {\r\n        // always executed\r\n      });\r\n  };\r\n\r\n  const getAccessoryFeatures = (cancelToken) => {\r\n    axios\r\n      .get(\"/accessoryStock/features\", { cancelToken })\r\n      .then((response) => {\r\n        // handle success\r\n        // setAccessoryFeatures(response.data);\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        console.log(error);\r\n      })\r\n      .then(function () {\r\n        // always executed\r\n      });\r\n  };\r\n\r\n  const getChairStocks = (cancelToken) => {\r\n    axios\r\n      .get(\"/chairStock\", { cancelToken })\r\n      .then((response) => {\r\n        // handle success\r\n        setChairStocks(response.data);\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        console.log(error);\r\n      })\r\n      .then(function () {\r\n        // always executed\r\n      });\r\n  };\r\n\r\n  const getDeskStocks = (cancelToken) => {\r\n    axios\r\n      .get(\"/deskStock\", { cancelToken })\r\n      .then((response) => {\r\n        // handle success\r\n        setDeskStocks(response.data);\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        console.log(error);\r\n      })\r\n      .then(function () {\r\n        // always executed\r\n      });\r\n  };\r\n\r\n  const getAccessoryStocks = (cancelToken) => {\r\n    axios\r\n      .get(\"/accessoryStock\", { cancelToken })\r\n      .then((response) => {\r\n        // handle success\r\n        setAccessoryStocks(response.data);\r\n        setInitAccessoryStocks(response.data);\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        console.log(error);\r\n      })\r\n      .then(function () {\r\n        // always executed\r\n      });\r\n  };\r\n\r\n  useEffect(() => {\r\n    const source = axios.CancelToken.source();\r\n    getChairFeatures(source.token);\r\n    getDeskFeatures(source.token);\r\n    getAccessoryFeatures(source.token);\r\n    getChairStocks(source.token);\r\n    getDeskStocks(source.token);\r\n    getAccessoryStocks(source.token);\r\n    return () => source.cancel(\"Stock Component got unmounted\");\r\n  }, []);\r\n\r\n  const isStepFailed = (step) => {\r\n    if (clientForm.current !== null && currentStep > 0 && step === 0)\r\n      return !clientForm.current.checkValidity();\r\n    else if (\r\n      cart.length === 0 &&\r\n      services.length === 0 &&\r\n      currentStep > 1 &&\r\n      step === 1\r\n    )\r\n      return true;\r\n    else return false;\r\n  };\r\n\r\n  const handleAccessoryFilterCategory = (e) => {\r\n    var selected_category = e.target.value;\r\n    setAccessoryFilterCategory(selected_category);\r\n    if (selected_category === \"All\") {\r\n      setAccessoryStocks(initAccessoryStocks);\r\n    } else {\r\n      setAccessoryStocks(\r\n        initAccessoryStocks.filter(\r\n          (stock) => stock.category === selected_category\r\n        )\r\n      );\r\n    }\r\n  };\r\n\r\n  const onAddService = () => {\r\n    const newService = {\r\n      id: uuidv4(),\r\n      description: \"\",\r\n      price: 0,\r\n      productType: \"misc\",\r\n    };\r\n    setServices([...services, newService]);\r\n  };\r\n\r\n  const onDeleteService = (serviceId) => {\r\n    const newServices = services.filter((service) => service.id !== serviceId);\r\n    setServices(newServices);\r\n  };\r\n\r\n  const onChangeServiceDes = (e, serviceId) => {\r\n    const newServices = services.map((service) => {\r\n      if (service.id === serviceId) {\r\n        return Object.assign({}, service, { description: e.target.value });\r\n      }\r\n      return service;\r\n    });\r\n    setServices(newServices);\r\n  };\r\n\r\n  const onChangeServicePrice = (e, serviceId) => {\r\n    const newServices = services.map((service) => {\r\n      if (service.id === serviceId) {\r\n        return Object.assign({}, service, {\r\n          price: parseFloat(e.target.value),\r\n        });\r\n      }\r\n      return service;\r\n    });\r\n    setServices(newServices);\r\n  };\r\n\r\n  const onHideChairColumnChanged = (values) => {\r\n    setSelectedHideChairColumns(values);\r\n  };\r\n\r\n  const onHideDeskColumnChanged = (values) => {\r\n    setSelectedHideDeskColumns(values);\r\n  };\r\n\r\n  const onEditCartProduct = (item) => {\r\n    setCartItemStatus(\"edit\");\r\n    setProductType(item.productType);\r\n    setProductId(item.id);\r\n    setProductDetail(item.productDetail);\r\n    setProductRemark(item.remark);\r\n    setProductPrice(item.productPrice);\r\n    setProductAmount(item.productAmount);\r\n    const deliveryOptions = JSON.parse(item.productDeliveryOption);\r\n\r\n    if (deliveryOptions.includes(\"Delivery Included\"))\r\n      setDeliveryChecked0(true);\r\n    if (deliveryOptions.includes(\"Delivery and installation included\"))\r\n      setDeliveryChecked1(true);\r\n    if (deliveryOptions.includes(\"Remote Area Surcharge\"))\r\n      setDeliveryChecked2(true);\r\n    if (deliveryOptions.includes(\"Stairs Surcharge\")) setDeliveryChecked3(true);\r\n\r\n    if (item.productType === \"chair\" || item.productType === \"accessory\") {\r\n      setAddOpen(true);\r\n    } else if (item.productType === \"desk\") {\r\n      setHasDeskTop(item.hasDeskTop);\r\n      setTopColor(item.topColor);\r\n      setTopCornerRadius(item.topCornerRadius);\r\n      setTopHoleCount(item.topHoleCount);\r\n      setTopHolePosition(item.topHolePosition);\r\n      setTopHoleType(item.topHoleType);\r\n      setTopLength(item.topLength);\r\n      setTopMaterial(item.topMaterial);\r\n      setTopRoundedCorners(item.topRoundedCorners);\r\n      setTopThickness(item.topThickness);\r\n      setTopWidth(item.topWidth);\r\n      setSketchUrl(item.topSketchURL);\r\n\r\n      setDeskAddOpen(true);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Box\r\n      sx={{\r\n        height: \"100%\",\r\n        overflow: \"auto\",\r\n        padding: \"20px 20px 10px 20px\",\r\n      }}\r\n    >\r\n      <Stepper activeStep={currentStep} sx={{ flexWrap: \"wrap\" }}>\r\n        {steps.map((label, index) => {\r\n          const labelProps = {};\r\n          if (isStepFailed(index)) {\r\n            labelProps.optional = (\r\n              <Typography variant=\"caption\" color=\"error\">\r\n                {[\"Invalid Input\", \"Products cannot be empty\"][index]}\r\n              </Typography>\r\n            );\r\n\r\n            labelProps.error = true;\r\n          }\r\n\r\n          return (\r\n            <Step key={label} sx={{ my: \"10px\" }}>\r\n              <StepLabel {...labelProps}>{label}</StepLabel>\r\n            </Step>\r\n          );\r\n        })}\r\n      </Stepper>\r\n      <Box\r\n        sx={{ mx: \"auto\", mt: \"50px\" }}\r\n        ref={clientForm}\r\n        hidden={currentStep !== 0}\r\n        component=\"form\"\r\n        maxWidth=\"sm\"\r\n        fullWidth\r\n        onSubmit={(e) => {\r\n          e.preventDefault();\r\n          setCurrentStep(1);\r\n        }}\r\n      >\r\n        <Paper\r\n          sx={{\r\n            p: \"10px\",\r\n            display: \"flex\",\r\n            flexWrap: \"wrap\",\r\n            justifyContent: \"space-between\",\r\n          }}\r\n        >\r\n          <Typography variant=\"h6\" sx={{ flexBasis: \"100%\", minWidth: \"100%\" }}>\r\n            Client Info\r\n          </Typography>\r\n          {[\r\n            { name: \"name\", label: \"Name\", type: \"text\", width: \"100%\", defaultValue: initialClient.name, required: true },\r\n            { name: \"phone\", label: \"Phone\", type: \"text\", value: initialClient.phone, onChange: initialClient.setPhone, width: \"48%\" },\r\n            { name: \"email\", label: \"Email\", type: \"email\", defaultValue: initialClient.email, width: \"48%\" },\r\n            { name: \"district\", label: \"District\", type: \"text\", defaultValue: initialClient.district, width: \"55%\" },\r\n            { name: \"street\", label: \"Street\", type: \"text\", defaultValue: initialClient.street, width: \"40%\" },\r\n            { name: \"block\", label: \"Block\", type: \"text\", defaultValue: initialClient.block, width: \"30%\" },\r\n            { name: \"floor\", label: \"Floor\", type: \"text\", defaultValue: initialClient.floor, width: \"30%\" },\r\n            { name: \"unit\", label: \"Unit\", type: \"text\", defaultValue: initialClient.unit, width: \"30%\" },\r\n          ].map(({ setValue, width, ...restProps }, index) =>\r\n            restProps.label === \"Phone\" ? (\r\n              <MuiPhoneNumber\r\n                key={index}\r\n                variant=\"outlined\"\r\n                onlyCountries={[\"hk\"]}\r\n                defaultCountry={\"hk\"}\r\n                sx={{ flexBasis: width, minWidth: width }}\r\n                margin=\"dense\"\r\n                size=\"small\"\r\n                {...restProps}\r\n              />\r\n            ) : (\r\n              <TextField\r\n                key={index}\r\n                sx={{ flexBasis: width, minWidth: width }}\r\n                {...restProps}\r\n              />\r\n            )\r\n          )}\r\n          <TextField\r\n            sx={{ flexBasis: [\"100%\", \"30%\"], minWidth: [\"100%\", \"30%\"] }}\r\n            name=\"timeLine\"\r\n            label=\"TimeLine\"\r\n            type=\"number\"\r\n            inputProps={{ min: 0 }}\r\n            defaultValue={initialClient.timeLine || 0}\r\n          />\r\n          <RadioGroup\r\n            row\r\n            name=\"timeLineFormat\"\r\n            defaultValue=\"day\"\r\n            sx={{\r\n              flexBasis: [\"100%\", \"70%\"],\r\n              minWidth: [\"100%\", \"70%\"],\r\n              justifyContent: \"flex-end\",\r\n            }}\r\n          >\r\n            <FormControlLabel value=\"day\" control={<Radio />} label=\"Days\" />\r\n            <FormControlLabel value=\"week\" control={<Radio />} label=\"Weeks\" />\r\n          </RadioGroup>\r\n          <TextField\r\n            sx={{ flexBasis: [\"100%\", \"100%\"], minWidth: [\"100%\", \"100%\"] }}\r\n            name=\"remark\" label=\"Delivery Remark\" type=\"text\"\r\n            defaultValue={initialClient.remark || ''}\r\n          />\r\n        </Paper>\r\n        <Button type=\"submit\" sx={{ marginTop: \"10px\", float: \"right\" }}>\r\n          Next\r\n        </Button>\r\n      </Box>\r\n      {currentStep === 1 && (\r\n        <>\r\n          {cart.length > 0 && (\r\n            <Paper>\r\n              <ProductList sx={{ px: \"10px\" }}>\r\n                {cart.map((item, index) => (\r\n                  <ProductListItem\r\n                    key={index}\r\n                    secondaryAction={\r\n                      <Fragment>\r\n                        <IconButton\r\n                          onClick={(event) => {\r\n                            event.preventDefault();\r\n                            onEditCartProduct(item);\r\n                          }}\r\n                        >\r\n                          <EditIcon />\r\n                        </IconButton>\r\n                        <IconButton\r\n                          onClick={(event) => {\r\n                            event.preventDefault();\r\n                            setCart(\r\n                              cart.filter(\r\n                                (product, productIndex) =>\r\n                                  productIndex !== index\r\n                              )\r\n                            );\r\n                          }}\r\n                        >\r\n                          <DeleteIcon />\r\n                        </IconButton>\r\n                      </Fragment>\r\n                    }\r\n                  >\r\n                    {item.productType === \"chair\" && (\r\n                      <ProductListItemText\r\n                        primary={`Chair: ${item.productDetail.brand}, ${item.productDetail.model}, ${item.remark}`}\r\n                        secondary={`${item.productDetail.withHeadrest ? \"Headrest, \" : \"\"\r\n                          }${item.productDetail.withAdArmrest ? \"Armrest\" : \"\"}`}\r\n                      />\r\n                    )}\r\n                    {item.productType === \"desk\" && (\r\n                      <ProductListItemText\r\n                        primary={`Desk: ${item.productDetail.supplierCode}, ${item.productDetail.model}, ${item.productDetail.color}, ${item.productDetail.armSize}, ${item.productDetail.feetSize}, ${item.productDetail.beamSize}`}\r\n                        secondary={\r\n                          item.hasDeskTop\r\n                            ? `${item.topMaterial}, ${item.topColor}, ${item.topLength}x${item.topWidth}x${item.topThickness}, ${item.topRoundedCorners}-R${item.topCornerRadius}, ${item.topHoleCount}-${item.topHoleType}`\r\n                            : \"Without DeskTop\"\r\n                        }\r\n                      />\r\n                    )}\r\n                    {item.productType === \"accessory\" && (\r\n                      <ProductListItemText\r\n                        primary={`Accessory: ${item.productDetail.category}`}\r\n                        secondary={`${item.remark}`}\r\n                      />\r\n                    )}\r\n                    <ProductPriceAmount\r\n                      unitPrice={`${item.productPrice} HKD`}\r\n                      amount={`Amount: ${item.productAmount}`}\r\n                      deliveryOption={`${item.productDeliveryOption}`}\r\n                    />\r\n                  </ProductListItem>\r\n                ))}\r\n              </ProductList>\r\n            </Paper>\r\n          )}\r\n          <Paper sx={{ my: \"10px\" }}>\r\n            <Box sx={{ borderBottom: 1, borderColor: \"divider\" }}>\r\n              <Tabs\r\n                value={stocksIndex}\r\n                onChange={(event, value) => {\r\n                  event.preventDefault();\r\n                  setStocksIndex(value);\r\n                }}\r\n                aria-label=\"basic tabs example\"\r\n              >\r\n                <Tab label=\"Chairs\" />\r\n                <Tab label=\"Desks\" />\r\n                <Tab label=\"Accessories\" />\r\n                <Tab label=\"Miscs\" />\r\n              </Tabs>\r\n            </Box>\r\n            <TabPanel value={stocksIndex} index={0}>\r\n              <Paper\r\n                sx={{\r\n                  marginTop: \"10px\",\r\n                  padding: \"5px 10px\",\r\n                  display: \"flex\",\r\n                  flexWrap: \"wrap\",\r\n                  justifyContent: \"space-around\",\r\n                }}\r\n              >\r\n                {[\r\n                  {\r\n                    label: \"Brand\",\r\n                    value: chairFilterBrand,\r\n                    onChange: (event, value) => {\r\n                      event.preventDefault();\r\n                      setChairFilterBrand(value);\r\n                      setChairFilterModel(null);\r\n                    },\r\n                    options: chairFeatures\r\n                      .map((item) => item.brand)\r\n                      .filter((c, index, chars) => chars.indexOf(c) === index),\r\n                  },\r\n                  {\r\n                    label: \"Model\",\r\n                    value: chairFilterModel,\r\n                    onChange: (event, value) => {\r\n                      event.preventDefault();\r\n                      setChairFilterModel(value);\r\n                    },\r\n                    options: chairFeatures\r\n                      .filter(\r\n                        (item) =>\r\n                          !chairFilterBrand || item.brand === chairFilterBrand\r\n                      )\r\n                      .map((item) => item.model)\r\n                      .filter((c, index, chars) => chars.indexOf(c) === index),\r\n                  },\r\n                ].map(({ label, ...props }, index) => (\r\n                  <Autocomplete\r\n                    key={index}\r\n                    sx={{ flexBasis: \"200px\", maxWidth: \"200px\" }}\r\n                    renderInput={(params) => (\r\n                      <TextField {...params} label={label} />\r\n                    )}\r\n                    {...props}\r\n                  />\r\n                ))}\r\n              </Paper>\r\n              <CheckableMultiSelect\r\n                options={hideChairColumns}\r\n                onChange={onHideChairColumnChanged}\r\n                selected={selectedHideChairColumns}\r\n              />\r\n              <DataGrid\r\n                nonSelect={true}\r\n                title=\"Chair Stocks\"\r\n                rows={chairStocks\r\n                  .map(\r\n                    (\r\n                      {\r\n                        thumbnailURL,\r\n                        withHeadrest,\r\n                        withAdArmrest,\r\n                        shipmentDate,\r\n                        arrivalDate,\r\n                        ...restProps\r\n                      },\r\n                      index\r\n                    ) => ({\r\n                      thumbnail: (\r\n                        <a\r\n                          href=\"/\"\r\n                          onClick={(e) => {\r\n                            e.preventDefault();\r\n                            Swal.fire({\r\n                              html: `<img alt=\"\" width=\"400px\" src=\"${thumbnailURL}\" />`,\r\n                              showCloseButton: true,\r\n                              showConfirmButton: false,\r\n                              allowOutsideClick: false,\r\n                            });\r\n                          }}\r\n                        >\r\n                          <img\r\n                            alt=\"\"\r\n                            width=\"80px\"\r\n                            src={thumbnailURL}\r\n                            style={{ marginTop: \"5px\" }}\r\n                          />\r\n                        </a>\r\n                      ),\r\n                      withHeadrest: withHeadrest ? \"Yes\" : \"No\",\r\n                      withAdArmrest: withAdArmrest ? \"Yes\" : \"No\",\r\n                      add: (\r\n                        <IconButton\r\n                          onClick={(event) => {\r\n                            event.preventDefault();\r\n                            if (\r\n                              cart.find(\r\n                                (item) =>\r\n                                  item.productType === \"chair\" &&\r\n                                  item.productDetail.id ===\r\n                                  chairStocks[index].id\r\n                              )\r\n                            ) {\r\n                              Swal.fire({\r\n                                icon: \"warning\",\r\n                                title: \"Warning\",\r\n                                text: \"This product is already added.\",\r\n                                allowOutsideClick: false,\r\n                              });\r\n                              return;\r\n                            }\r\n                            setProductType(\"chair\");\r\n                            setProductId(\"\");\r\n                            setProductDetail(chairStocks[index]);\r\n                            // let frameColor =\r\n                            //   chairStocks[index].frameColor === \"\"\r\n                            //     ? \"___\"\r\n                            //     : chairStocks[index].frameColor;\r\n                            // let seatColor =\r\n                            //   chairStocks[index].seatColor === \"\"\r\n                            //     ? \"___\"\r\n                            //     : chairStocks[index].seatColor;\r\n                            // let backColor =\r\n                            //   chairStocks[index].backColor === \"\"\r\n                            //     ? \"___\"\r\n                            //     : chairStocks[index].backColor;\r\n                            // let remark =\r\n                            //   \"FrameColor:\" +\r\n                            //   frameColor +\r\n                            //   \", SeatColor:\" +\r\n                            //   seatColor +\r\n                            //   \", BackColor:\" +\r\n                            //   backColor;\r\n                            // setProductRemark(remark);\r\n                            setProductPrice(chairStocks[index].unitPrice);\r\n                            setProductAmount(1);\r\n                            setAddOpen(true);\r\n                          }}\r\n                        >\r\n                          <AddIcon />\r\n                        </IconButton>\r\n                      ),\r\n                      shipmentDate: (() => {\r\n                        if (shipmentDate === null) return \"No\";\r\n                        const createdTime = new Date(shipmentDate);\r\n                        createdTime.setMinutes(\r\n                          createdTime.getMinutes() -\r\n                          createdTime.getTimezoneOffset()\r\n                        );\r\n                        return createdTime.toISOString().split(\"T\")[0];\r\n                      })(),\r\n                      arrivalDate: (() => {\r\n                        if (arrivalDate === null) return \"No\";\r\n                        const createdTime = new Date(arrivalDate);\r\n                        createdTime.setMinutes(\r\n                          createdTime.getMinutes() -\r\n                          createdTime.getTimezoneOffset()\r\n                        );\r\n                        return createdTime.toISOString().split(\"T\")[0];\r\n                      })(),\r\n                      ...restProps,\r\n                    })\r\n                  )\r\n                  .filter(\r\n                    (item) =>\r\n                      (!chairFilterBrand || item.brand === chairFilterBrand) &&\r\n                      (!chairFilterModel || item.model === chairFilterModel)\r\n                  )}\r\n                columns={chairColumns\r\n                  .map((column, i) => {\r\n                    if (i > 6) {\r\n                      if (\r\n                        selectedHideChairColumns.find(\r\n                          (hideColumn) => hideColumn === column.label\r\n                        )\r\n                      )\r\n                        return column;\r\n                    }\r\n                    return column;\r\n                  })\r\n                  .filter((column) => column !== undefined)}\r\n              />\r\n            </TabPanel>\r\n            <TabPanel value={stocksIndex} index={1}>\r\n              <Paper\r\n                sx={{\r\n                  marginTop: \"10px\",\r\n                  padding: \"5px 10px\",\r\n                  display: \"flex\",\r\n                  flexWrap: \"wrap\",\r\n                  justifyContent: \"space-around\",\r\n                }}\r\n              >\r\n                {[\r\n                  {\r\n                    label: \"Supplier\",\r\n                    value: deskFilterSupplier,\r\n                    onChange: (event, value) => {\r\n                      event.preventDefault();\r\n                      setDeskFilterSupplier(value);\r\n                      setDeskFilterModel(null);\r\n                      setDeskFilterColor(null);\r\n                    },\r\n                    options: deskFeatures\r\n                      .map((item) => item.supplierCode)\r\n                      .filter((c, index, chars) => chars.indexOf(c) === index),\r\n                  },\r\n                  {\r\n                    label: \"Model\",\r\n                    value: deskFilterModel,\r\n                    onChange: (event, value) => {\r\n                      event.preventDefault();\r\n                      setDeskFilterModel(value);\r\n                      setDeskFilterColor(null);\r\n                    },\r\n                    options: deskFeatures\r\n                      .filter(\r\n                        (item) =>\r\n                          !deskFilterSupplier ||\r\n                          item.supplierCode === deskFilterSupplier\r\n                      )\r\n                      .map((item) => item.model)\r\n                      .filter((c, index, chars) => chars.indexOf(c) === index),\r\n                  },\r\n                  {\r\n                    label: \"Color\",\r\n                    value: deskFilterColor,\r\n                    onChange: (event, value) => {\r\n                      event.preventDefault();\r\n                      setDeskFilterColor(value);\r\n                    },\r\n                    options: deskFeatures\r\n                      .filter(\r\n                        (item) =>\r\n                          !deskFilterModel || item.model === deskFilterModel\r\n                      )\r\n                      .map((item) => item.color)\r\n                      .filter((c, index, chars) => chars.indexOf(c) === index),\r\n                  },\r\n                ].map(({ label, ...props }, index) => (\r\n                  <Autocomplete\r\n                    key={index}\r\n                    sx={{ flexBasis: \"200px\", maxWidth: \"200px\" }}\r\n                    renderInput={(params) => (\r\n                      <TextField {...params} label={label} />\r\n                    )}\r\n                    {...props}\r\n                  />\r\n                ))}\r\n              </Paper>\r\n              <CheckableMultiSelect\r\n                options={hideDeskColumns}\r\n                onChange={onHideDeskColumnChanged}\r\n                selected={selectedHideDeskColumns}\r\n              />\r\n              <DataGrid\r\n                nonSelect={true}\r\n                title=\"Desk Leg Stocks\"\r\n                rows={deskStocks\r\n                  .map(\r\n                    (\r\n                      { thumbnailURL, shipmentDate, arrivalDate, ...restProps },\r\n                      index\r\n                    ) => ({\r\n                      thumbnail: (\r\n                        <a\r\n                          href=\"/\"\r\n                          onClick={(e) => {\r\n                            e.preventDefault();\r\n                            Swal.fire({\r\n                              html: `<img alt=\"\" width=\"400px\" src=\"${thumbnailURL}\" />`,\r\n                              showCloseButton: true,\r\n                              showConfirmButton: false,\r\n                              allowOutsideClick: false,\r\n                            });\r\n                          }}\r\n                        >\r\n                          <img\r\n                            alt=\"\"\r\n                            width=\"80px\"\r\n                            src={thumbnailURL}\r\n                            style={{ marginTop: \"5px\" }}\r\n                          />\r\n                        </a>\r\n                      ),\r\n                      add: (\r\n                        <IconButton\r\n                          onClick={(event) => {\r\n                            setProductType(\"desk\");\r\n                            setProductId(\"\");\r\n                            setProductDetail(deskStocks[index]);\r\n                            setProductPrice(deskStocks[index].unitPrice);\r\n                            setProductAmount(1);\r\n                            setHasDeskTop(false);\r\n                            setDeskAddOpen(true);\r\n                          }}\r\n                        >\r\n                          <AddIcon />\r\n                        </IconButton>\r\n                      ),\r\n                      shipmentDate: (() => {\r\n                        if (shipmentDate === null) return \"No\";\r\n                        const createdTime = new Date(shipmentDate);\r\n                        createdTime.setMinutes(\r\n                          createdTime.getMinutes() -\r\n                          createdTime.getTimezoneOffset()\r\n                        );\r\n                        return createdTime.toISOString().split(\"T\")[0];\r\n                      })(),\r\n                      arrivalDate: (() => {\r\n                        if (arrivalDate === null) return \"No\";\r\n                        const createdTime = new Date(arrivalDate);\r\n                        createdTime.setMinutes(\r\n                          createdTime.getMinutes() -\r\n                          createdTime.getTimezoneOffset()\r\n                        );\r\n                        return createdTime.toISOString().split(\"T\")[0];\r\n                      })(),\r\n                      ...restProps,\r\n                    })\r\n                  )\r\n                  .filter(\r\n                    (item) =>\r\n                      (!deskFilterSupplier ||\r\n                        item.supplierCode === deskFilterSupplier) &&\r\n                      (!deskFilterModel || item.model === deskFilterModel) &&\r\n                      (!deskFilterColor || item.color === deskFilterColor)\r\n                  )}\r\n                columns={deskColumns\r\n                  .map((column, i) => {\r\n                    if (i > 6) {\r\n                      if (\r\n                        selectedHideDeskColumns.find(\r\n                          (hideColumn) => hideColumn === column.label\r\n                        )\r\n                      )\r\n                        return column;\r\n                    }\r\n                    return column;\r\n                  })\r\n                  .filter((column) => column !== undefined)}\r\n              />\r\n            </TabPanel>\r\n            <TabPanel value={stocksIndex} index={2}>\r\n              <Paper\r\n                sx={{\r\n                  marginTop: \"10px\",\r\n                  padding: \"5px 10px\",\r\n                  display: \"flex\",\r\n                  flexWrap: \"wrap\",\r\n                  justifyContent: \"space-around\",\r\n                }}\r\n              >\r\n                <FormControl\r\n                  size=\"small\"\r\n                  sx={{ flexBasis: \"200px\", maxWidth: \"200px\" }}\r\n                >\r\n                  <InputLabel id=\"category_filter\">Category</InputLabel>\r\n                  <Select\r\n                    labelId=\"category_filter\"\r\n                    label=\"Category\"\r\n                    value={accessoryFilterCategory}\r\n                    onChange={handleAccessoryFilterCategory}\r\n                  >\r\n                    <MenuItem value=\"All\">All</MenuItem>\r\n                    <MenuItem value=\"Desk Accessories\">\r\n                      Desk Accessories\r\n                    </MenuItem>\r\n                    <MenuItem value=\"Chair Accessories\">\r\n                      Chair Accessories\r\n                    </MenuItem>\r\n                    <MenuItem value=\"Desk on Desk\">Desk on Desk</MenuItem>\r\n                    <MenuItem value=\"Monitor Arms\">Monitor Arms</MenuItem>\r\n                    <MenuItem value=\"Cabinet\">Cabinet</MenuItem>\r\n                    <MenuItem value=\"Drawer\">Drawer</MenuItem>\r\n                  </Select>\r\n                </FormControl>\r\n              </Paper>\r\n              <DataGrid\r\n                nonSelect={true}\r\n                title=\"Accessory Stocks\"\r\n                rows={accessoryStocks.map(\r\n                  (\r\n                    { thumbnailURL, shipmentDate, arrivalDate, ...restProps },\r\n                    index\r\n                  ) => ({\r\n                    thumbnail: (\r\n                      <a\r\n                        href=\"/\"\r\n                        onClick={(e) => {\r\n                          e.preventDefault();\r\n                          Swal.fire({\r\n                            html: `<img alt=\"\" width=\"400px\" src=\"${thumbnailURL}\" />`,\r\n                            showCloseButton: true,\r\n                            showConfirmButton: false,\r\n                            allowOutsideClick: false,\r\n                          });\r\n                        }}\r\n                      >\r\n                        <img\r\n                          alt=\"\"\r\n                          width=\"80px\"\r\n                          src={thumbnailURL}\r\n                          style={{ marginTop: \"5px\" }}\r\n                        />\r\n                      </a>\r\n                    ),\r\n                    add: (\r\n                      <IconButton\r\n                        onClick={(event) => {\r\n                          event.preventDefault();\r\n                          setProductType(\"accessory\");\r\n                          setProductId(\"\");\r\n                          setProductDetail(accessoryStocks[index]);\r\n                          setProductRemark(accessoryStocks[index].remark);\r\n                          setProductPrice(accessoryStocks[index].unitPrice);\r\n                          setProductAmount(1);\r\n                          if (\r\n                            cart.find(\r\n                              (item) =>\r\n                                item.productType === \"accessory\" &&\r\n                                item.productDetail.id ===\r\n                                accessoryStocks[index].id\r\n                            )\r\n                          ) {\r\n                            Swal.fire({\r\n                              icon: \"warning\",\r\n                              title: \"Warning\",\r\n                              text: \"This product is already added.\",\r\n                              allowOutsideClick: false,\r\n                            });\r\n                            return;\r\n                          }\r\n                          setAddOpen(true);\r\n                        }}\r\n                      >\r\n                        <AddIcon />\r\n                      </IconButton>\r\n                    ),\r\n                    shipmentDate: (() => {\r\n                      if (shipmentDate === null) return \"No\";\r\n                      const createdTime = new Date(shipmentDate);\r\n                      createdTime.setMinutes(\r\n                        createdTime.getMinutes() -\r\n                        createdTime.getTimezoneOffset()\r\n                      );\r\n                      return createdTime.toISOString().split(\"T\")[0];\r\n                    })(),\r\n                    arrivalDate: (() => {\r\n                      if (arrivalDate === null) return \"No\";\r\n                      const createdTime = new Date(arrivalDate);\r\n                      createdTime.setMinutes(\r\n                        createdTime.getMinutes() -\r\n                        createdTime.getTimezoneOffset()\r\n                      );\r\n                      return createdTime.toISOString().split(\"T\")[0];\r\n                    })(),\r\n                    ...restProps,\r\n                  })\r\n                )}\r\n                columns={accessoryColumns}\r\n              />\r\n            </TabPanel>\r\n            <TabPanel value={stocksIndex} index={3}>\r\n              <Box sx={{ m: 3 }}>\r\n                <Button\r\n                  variant=\"contained\"\r\n                  sx={{ mb: 2 }}\r\n                  onClick={onAddService}\r\n                >\r\n                  + New Service\r\n                </Button>\r\n                <Grid container spacing={2}>\r\n                  {services.map((service) => (\r\n                    <Grid item xs={4} key={service.id}>\r\n                      <Card sx={{ px: 2, pb: 2 }}>\r\n                        <Box\r\n                          sx={{ display: \"flex\", justifyContent: \"flex-end\" }}\r\n                        >\r\n                          <IconButton\r\n                            aria-label=\"settings\"\r\n                            size=\"small\"\r\n                            onClick={() => onDeleteService(service.id)}\r\n                          >\r\n                            <CloseIcon fontSize=\"small\" />\r\n                          </IconButton>\r\n                        </Box>\r\n                        <TextField\r\n                          label=\"Description\"\r\n                          multiline\r\n                          rows={5}\r\n                          sx={{ flexBasis: \"100%\", minWidth: \"100%\" }}\r\n                          value={service.description}\r\n                          onChange={(e) => onChangeServiceDes(e, service.id)}\r\n                        />\r\n                        <TextField\r\n                          type=\"number\"\r\n                          sx={{ flexBasis: \"100%\", minWidth: \"100%\" }}\r\n                          label=\"Price\"\r\n                          value={service.price}\r\n                          onChange={(e) => onChangeServicePrice(e, service.id)}\r\n                        />\r\n                      </Card>\r\n                    </Grid>\r\n                  ))}\r\n                </Grid>\r\n              </Box>\r\n            </TabPanel>\r\n          </Paper>\r\n          <Button\r\n            onClick={(e) => {\r\n              e.preventDefault();\r\n              setCurrentStep(0);\r\n            }}\r\n          >\r\n            Previous\r\n          </Button>\r\n          <Button\r\n            sx={{ float: \"right\" }}\r\n            onClick={(e) => {\r\n              e.preventDefault();\r\n              if (cart.length === 0 && services.length === 0) {\r\n                Swal.fire({\r\n                  icon: \"warning\",\r\n                  title: \"Warning\",\r\n                  text: \"Products and services list cannot be empty\",\r\n                  allowOutsideClick: false,\r\n                });\r\n                return;\r\n              }\r\n              setCurrentStep(2);\r\n            }}\r\n          >\r\n            Next\r\n          </Button>\r\n        </>\r\n      )}\r\n      <Box\r\n        sx={{ mx: \"auto\", mt: \"50px\" }}\r\n        hidden={currentStep !== 2}\r\n        component=\"form\"\r\n        maxWidth=\"sm\"\r\n        fullWidth\r\n        onSubmit={(e) => {\r\n          e.preventDefault();\r\n          const clientData = new FormData(clientForm.current);\r\n          const paymentData = new FormData(e.currentTarget);\r\n          if (componentType === \"create\")\r\n            axios\r\n              .post(`/sales/create`, {\r\n                name: clientData.get(\"name\"),\r\n                phone: clientData.get(\"phone\"),\r\n                email: clientData.get(\"email\"),\r\n                district: clientData.get(\"district\"),\r\n                street: clientData.get(\"street\"),\r\n                block: clientData.get(\"block\"),\r\n                floor: clientData.get(\"floor\"),\r\n                unit: clientData.get(\"unit\"),\r\n                timeLine:\r\n                  Math.max(clientData.get(\"timeLine\"), 0) *\r\n                  (clientData.get(\"timeLineFormat\") === \"day\" ? 1 : 7),\r\n                remark: clientData.get(\"remark\"),\r\n                products: cart\r\n                  .map(({ productDetail, ...restProps }) => ({\r\n                    productId: productDetail.id,\r\n                    productCategory: productDetail.category ?? \"\",\r\n                    ...restProps,\r\n                  }))\r\n                  .concat(services),\r\n                paymentTerms: paymentData.get(\"paymentTerms\"),\r\n                paid: Boolean(paymentData.get(\"paid\")),\r\n                dueDate: paymentData.get(\"dueDate\") || null,\r\n                discount: Math.max(\r\n                  paymentData.get(\"discountType\") > 0\r\n                    ? paymentData.get(\"discount\")\r\n                    : Math.min(paymentData.get(\"discount\"), 100),\r\n                  0\r\n                ),\r\n                discountType: paymentData.get(\"discountType\"),\r\n                surcharge: Math.max(\r\n                  paymentData.get(\"surchargeType\") > 0\r\n                    ? paymentData.get(\"surcharge\")\r\n                    : Math.min(paymentData.get(\"surcharge\"), 100),\r\n                  0\r\n                ),\r\n                surchargeType: paymentData.get(\"surchargeType\"),\r\n              })\r\n              .then(() => {\r\n                // handle success\r\n                props.history.push(\"/admin/sales\");\r\n              })\r\n              .catch(function (error) {\r\n                // handle error\r\n                Swal.fire({\r\n                  icon: \"error\",\r\n                  title: \"Error\",\r\n                  text: error.response.data.message,\r\n                  allowOutsideClick: false,\r\n                }).then(() => { });\r\n                console.log(error);\r\n              })\r\n              .then(function () {\r\n                // always executed\r\n              });\r\n          else {  // componentType === \"edit\"\r\n            axios\r\n              .put(`/sales/${initialClient.id}`, {\r\n                name: clientData.get(\"name\"),\r\n                phone: clientData.get(\"phone\"),\r\n                email: clientData.get(\"email\"),\r\n                district: clientData.get(\"district\"),\r\n                street: clientData.get(\"street\"),\r\n                block: clientData.get(\"block\"),\r\n                floor: clientData.get(\"floor\"),\r\n                unit: clientData.get(\"unit\"),\r\n                timeLine:\r\n                  clientData.get(\"timeLine\") *\r\n                  (clientData.get(\"timeLineFormat\") === \"day\" ? 1 : 7),\r\n                remark: clientData.get(\"remark\"),\r\n                products: cart\r\n                  .map(({ productDetail, ...restProps }) => ({\r\n                    productId: productDetail.id,\r\n                    productCategory: productDetail.category ?? \"\",\r\n                    ...restProps,\r\n                  }))\r\n                  .concat(services),\r\n                paymentTerms: paymentData.get(\"paymentTerms\"),\r\n                paid: Boolean(paymentData.get(\"paid\")),\r\n                dueDate: paymentData.get(\"dueDate\") || null,\r\n                discount: Math.max(\r\n                  paymentData.get(\"discountType\") > 0\r\n                    ? paymentData.get(\"discount\")\r\n                    : Math.min(paymentData.get(\"discount\"), 100),\r\n                  0\r\n                ),\r\n                discountType: paymentData.get(\"discountType\"),\r\n                surcharge: Math.max(\r\n                  paymentData.get(\"surchargeType\") > 0\r\n                    ? paymentData.get(\"surcharge\")\r\n                    : Math.min(paymentData.get(\"surcharge\"), 100),\r\n                  0\r\n                ),\r\n                surchargeType: paymentData.get(\"surchargeType\"),\r\n              })\r\n              .then(() => {\r\n                // handle success\r\n                props.history.push(\"/admin/sales\");\r\n              })\r\n              .catch(function (error) {\r\n                // handle error\r\n                Swal.fire({\r\n                  icon: \"error\",\r\n                  title: \"Error\",\r\n                  text: 'error.response.data.message',\r\n                  allowOutsideClick: false,\r\n                }).then(() => { });\r\n                console.log(error);\r\n              })\r\n              .then(function () {\r\n                // always executed\r\n              });\r\n          }\r\n        }}\r\n      >\r\n        <Paper\r\n          sx={{\r\n            p: \"10px\",\r\n            display: \"flex\",\r\n            flexWrap: \"wrap\",\r\n            justifyContent: \"space-between\",\r\n          }}\r\n        >\r\n          <Typography variant=\"h6\" sx={{ flexBasis: \"100%\", minWidth: \"100%\" }}>\r\n            Payment Details\r\n          </Typography>\r\n          <Typography variant=\"h7\" sx={{ flexBasis: \"100%\", minWidth: \"100%\" }}>\r\n            Sub Total:{\" \"}\r\n            {cart.reduce(\r\n              (p, c) => p + c.productAmount * parseFloat(c.productPrice),\r\n              0\r\n            ) + services.reduce((p, c) => p + c.price, 0)}\r\n          </Typography>\r\n          <TextField\r\n            name=\"paymentTerms\"\r\n            size=\"small\"\r\n            sx={{ flexBasis: \"100%\", minWidth: \"100%\" }}\r\n            defaultValue={initialClient.paymentTerms}\r\n            label=\"Payment Terms\"\r\n          />\r\n          <FormControlLabel\r\n            sx={{\r\n              flexBasis: \"30%\",\r\n              minWidth: \"30%\",\r\n              marginRight: 0,\r\n            }}\r\n            control={\r\n              <Checkbox\r\n                name=\"paid\"\r\n                checked={paid}\r\n                onChange={(e) => {\r\n                  setPaid(e.target.checked);\r\n                }}\r\n              />\r\n            }\r\n            label=\"Paid\"\r\n          />\r\n          <TextField\r\n            type=\"date\"\r\n            disabled={paid}\r\n            name=\"dueDate\"\r\n            label=\"Due Date\"\r\n            sx={{\r\n              flexBasis: \"70%\",\r\n              minWidth: \"70%\",\r\n            }}\r\n            defaultValue={initialClient.dueDate}\r\n            InputLabelProps={{ shrink: true }}\r\n          />\r\n          <TextField\r\n            sx={{\r\n              flexBasis: [\"58%\", \"68%\"],\r\n              minWidth: [\"58%\", \"68%\"],\r\n              alignItems: \"baseline\",\r\n              m: 0,\r\n            }}\r\n            label=\"Discount\"\r\n            type=\"number\"\r\n            name=\"discount\"\r\n            inputProps={{\r\n              min: 0,\r\n            }}\r\n            defaultValue={initialClient.discount}\r\n            fullWidth\r\n          />\r\n          <Select\r\n            sx={{\r\n              flexBasis: [\"40%\", \"30%\"],\r\n              minWidth: [\"40%\", \"30%\"],\r\n              alignItems: \"baseline\",\r\n              m: 0,\r\n            }}\r\n            name=\"discountType\"\r\n            defaultValue={initialClient.discountType}\r\n          >\r\n            <MenuItem value={0}>%</MenuItem>\r\n            <MenuItem value={1}>HKD</MenuItem>\r\n          </Select>\r\n          <TextField\r\n            sx={{\r\n              flexBasis: [\"58%\", \"68%\"],\r\n              minWidth: [\"58%\", \"68%\"],\r\n              alignItems: \"baseline\",\r\n              mt: \"10px\",\r\n              mb: 0,\r\n            }}\r\n            label=\"Surcharge\"\r\n            type=\"number\"\r\n            name=\"surcharge\"\r\n            inputProps={{\r\n              min: 0,\r\n            }}\r\n            defaultValue={initialClient.surcharge}\r\n            fullWidth\r\n          />\r\n          <Select\r\n            sx={{\r\n              flexBasis: [\"40%\", \"30%\"],\r\n              minWidth: [\"40%\", \"30%\"],\r\n              alignItems: \"baseline\",\r\n              mt: \"10px\",\r\n              mb: 0,\r\n            }}\r\n            name=\"surchargeType\"\r\n            defaultValue={initialClient.surchargeType}\r\n          >\r\n            <MenuItem value={0}>%</MenuItem>\r\n            <MenuItem value={1}>HKD</MenuItem>\r\n          </Select>\r\n        </Paper>\r\n        <Button\r\n          sx={{ marginTop: \"10px\" }}\r\n          onClick={(e) => {\r\n            e.preventDefault();\r\n            setCurrentStep(1);\r\n          }}\r\n        >\r\n          Previous\r\n        </Button>\r\n        <Button sx={{ float: \"right\", marginTop: \"10px\" }} type=\"submit\">\r\n          Finish\r\n        </Button>\r\n      </Box>\r\n      <Dialog\r\n        open={addOpen}\r\n        maxWidth=\"sm\"\r\n        fullWidth\r\n        fullScreen={useMediaQuery(theme.breakpoints.down(\"sm\"))}\r\n        PaperProps={{\r\n          component: \"form\",\r\n          onSubmit: (e) => {\r\n            e.preventDefault();\r\n            const data = new FormData(e.currentTarget);\r\n\r\n            setDeliveryChecked0(false);\r\n            setDeliveryChecked1(false);\r\n            setDeliveryChecked2(false);\r\n            setDeliveryChecked3(false);\r\n\r\n            setAddOpen(false);\r\n            if (cartItemStatus === \"add\") {\r\n              if (\r\n                cart.find(\r\n                  (item) =>\r\n                    item.productType === productType &&\r\n                    item.productDetail.id === productDetail.id\r\n                )\r\n              ) {\r\n                Swal.fire({\r\n                  icon: \"warning\",\r\n                  title: \"Warning\",\r\n                  text: \"This product is already added.\",\r\n                  allowOutsideClick: false,\r\n                });\r\n                return;\r\n              }\r\n              setCart(\r\n                cart.concat({\r\n                  productType,\r\n                  productDetail,\r\n                  productAmount,\r\n                  productDeliveryOption: JSON.stringify(\r\n                    [\r\n                      \"Delivery Included\",\r\n                      \"Delivery and installation included\",\r\n                      \"Remote Area Surcharge\",\r\n                      \"Stairs Surcharge\",\r\n                    ].filter((item, index) =>\r\n                      Boolean(data.get(`deliveryOption_${index}`))\r\n                    )\r\n                  ),\r\n                  productPrice: e.currentTarget.unitPrice.value,\r\n                  remark: productRemark,\r\n                })\r\n              );\r\n            } else if (cartItemStatus === \"edit\") {\r\n              const newCart = cart.map((item) => {\r\n                if (\r\n                  item.productType === productType &&\r\n                  item.productDetail.id === productDetail.id\r\n                )\r\n                  return {\r\n                    productType,\r\n                    productDetail,\r\n                    productAmount,\r\n                    productDeliveryOption: JSON.stringify(\r\n                      [\r\n                        \"Delivery Included\",\r\n                        \"Delivery and installation included\",\r\n                        \"Remote Area Surcharge\",\r\n                        \"Stairs Surcharge\",\r\n                      ].filter((item, index) =>\r\n                        Boolean(data.get(`deliveryOption_${index}`))\r\n                      )\r\n                    ),\r\n                    productPrice: e.currentTarget.unitPrice.value,\r\n                    remark: productRemark,\r\n                  };\r\n                else return item;\r\n              });\r\n              setCart(newCart);\r\n            }\r\n          },\r\n        }}\r\n      >\r\n        <DialogTitle>Price and Amount</DialogTitle>\r\n        <DialogContent sx={{ textAlign: \"center\" }}>\r\n          <TextField\r\n            label=\"Unit Price\"\r\n            type=\"number\"\r\n            name=\"unitPrice\"\r\n            value={productPrice}\r\n            sx={{ width: 200 }}\r\n            InputProps={{\r\n              readOnly: true,\r\n              endAdornment: <InputAdornment position=\"end\">HKD</InputAdornment>,\r\n            }}\r\n          />\r\n          <Box\r\n            sx={{\r\n              display: \"flex\",\r\n              alignItems: \"center\",\r\n              width: \"200px\",\r\n              border: \"1px solid #0000003b\",\r\n              borderRadius: \"4px\",\r\n              my: \"10px\",\r\n              mx: \"auto\",\r\n              p: \"5px 3px\"\r\n            }}\r\n          >\r\n            <Typography variant=\"span\" sx={{ flexGrow: 1 }}>\r\n              Amount\r\n            </Typography>\r\n            <IconButton\r\n              onClick={(e) => {\r\n                e.preventDefault();\r\n                setProductAmount(Math.max(productAmount - 1, 1));\r\n              }}\r\n            >\r\n              <RemoveIcon />\r\n            </IconButton>\r\n            <Typography variant=\"span\" sx={{ ml: \"10px\" }}>\r\n              {productAmount}\r\n            </Typography>\r\n            <IconButton\r\n              onClick={(e) => {\r\n                e.preventDefault();\r\n                setProductAmount(Math.min(productAmount + 1, 99));\r\n              }}\r\n            >\r\n              <AddIcon />\r\n            </IconButton>\r\n          </Box>\r\n          <Box\r\n            sx={{\r\n              alignItems: \"center\",\r\n              width: \"500px\",\r\n              my: \"10px\",\r\n              mx: \"auto\",\r\n              p: \"5px 3px\"\r\n            }}\r\n          >\r\n            <TextField\r\n              label=\"Specification\"\r\n              name=\"remark\"\r\n              value={productRemark}\r\n              sx={{ width: 400, mx: \"5px\" }}\r\n              onChange={(e) => setProductRemark(e.target.value)}\r\n            />\r\n          </Box>\r\n          <FormControlLabel\r\n            sx={{ display: \"block\", textAlign: \"left\", marginLeft: \"100px\" }}\r\n            control={\r\n              <Checkbox\r\n                name=\"deliveryOption_0\"\r\n                checked={deliveryChecked0}\r\n                onChange={(e) => setDeliveryChecked0(e.target.checked)}\r\n              />\r\n            }\r\n            label=\"Delivery Included\"\r\n          />\r\n          <FormControlLabel\r\n            sx={{ display: \"block\", textAlign: \"left\", marginLeft: \"100px\" }}            \r\n            control={\r\n              <Checkbox\r\n                name=\"deliveryOption_1\"\r\n                checked={deliveryChecked1}\r\n                onChange={(e) => setDeliveryChecked1(e.target.checked)}\r\n              />\r\n            }\r\n            label=\"Delivery and installation included\"\r\n          />\r\n          <FormControlLabel\r\n            sx={{ display: \"block\", textAlign: \"left\", marginLeft: \"100px\" }}\r\n            control={\r\n              <Checkbox\r\n                name=\"deliveryOption_2\"\r\n                checked={deliveryChecked2}\r\n                onChange={(e) => setDeliveryChecked2(e.target.checked)}\r\n              />\r\n            }\r\n            label=\"Remote Area Surcharge\"\r\n          />\r\n          <FormControlLabel\r\n            sx={{ display: \"block\", textAlign: \"left\", marginLeft: \"100px\" }}\r\n            control={\r\n              <Checkbox\r\n                name=\"deliveryOption_3\"\r\n                checked={deliveryChecked3}\r\n                onChange={(e) => setDeliveryChecked3(e.target.checked)}\r\n              />\r\n            }\r\n            label=\"Stairs Surcharge\"\r\n          />\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button\r\n            onClick={(e) => {\r\n              setDeliveryChecked0(false);\r\n              setDeliveryChecked1(false);\r\n              setDeliveryChecked2(false);\r\n              setDeliveryChecked3(false);\r\n              setAddOpen(false);\r\n            }}\r\n          >\r\n            Cancel\r\n          </Button>\r\n          <Button type=\"submit\">OK</Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n      <Dialog\r\n        open={deskAddOpen}\r\n        maxWidth=\"sm\"\r\n        fullWidth\r\n        fullScreen={useMediaQuery(theme.breakpoints.down(\"sm\"))}\r\n        PaperProps={{\r\n          component: \"form\",\r\n          onSubmit: async (e) => {\r\n            e.preventDefault();\r\n\r\n            setTopHoleCount(0);\r\n            setTopHolePosition(\"Left\");\r\n            setTopHoleType(\"Rounded\");\r\n            setTopMaterial(\"Melamine\");\r\n            setTopColor(\"\");\r\n            setTopLength(700);\r\n            setTopWidth(400);\r\n            setTopThickness(25);\r\n            setTopRoundedCorners(0);\r\n            setTopCornerRadius(50);\r\n            setSketchUrl(\"\");\r\n\r\n            setDeliveryChecked0(false);\r\n            setDeliveryChecked1(false);\r\n            setDeliveryChecked2(false);\r\n            setDeliveryChecked3(false);\r\n\r\n            setDeskAddOpen(false);\r\n\r\n            const data = new FormData(e.currentTarget);\r\n\r\n            if (cartItemStatus === \"add\") {\r\n              if (\r\n                !hasDeskTop &&\r\n                cart.find(\r\n                  (item) =>\r\n                    item.productType === \"desk\" &&\r\n                    item.productDetail.id === productDetail.id &&\r\n                    !item.hasDeskTop\r\n                )\r\n              ) {\r\n                Swal.fire({\r\n                  icon: \"warning\",\r\n                  title: \"Warning\",\r\n                  text: \"This product is already added.\",\r\n                  allowOutsideClick: false,\r\n                });\r\n                return;\r\n              }\r\n\r\n              let topSketchURL = \"\";\r\n              if (data.get(\"topSketchImg\") && data.get(\"topSketchImg\").name) {\r\n                const uploadData = new FormData();\r\n                uploadData.append(\"file\", data.get(\"topSketchImg\"));\r\n                try {\r\n                  const response = await axios.post(`/upload`, uploadData, {\r\n                    headers: {\r\n                      \"Content-Type\": \"application/x-www-form-urlencoded\",\r\n                    },\r\n                  });\r\n                  topSketchURL = response.data.url;\r\n                } catch (err) { }\r\n              }\r\n\r\n              setCart(\r\n                cart.concat({\r\n                  productType,\r\n                  productDetail,\r\n                  productAmount,\r\n                  productDeliveryOption: JSON.stringify(\r\n                    [\r\n                      \"Delivery Included\",\r\n                      \"Delivery and installation included\",\r\n                      \"Remote Area Surcharge\",\r\n                      \"Stairs Surcharge\",\r\n                    ].filter((item, index) =>\r\n                      Boolean(data.get(`deliveryOption_${index}`))\r\n                    )\r\n                  ),\r\n                  productPrice: Boolean(data.get(\"hasDeskTop\"))\r\n                    ? Number(data.get(\"deskTotalPrice\"))\r\n                    : Number(data.get(\"deskLegPrice\")),\r\n                  hasDeskTop: Boolean(data.get(\"hasDeskTop\")) || false,\r\n                  topMaterial: data.get(\"topMaterial\") || \"\",\r\n                  topColor: data.get(\"topColor\") || \"\",\r\n                  topLength: data.get(\"topLength\") || 0,\r\n                  topWidth: data.get(\"topWidth\") || 0,\r\n                  topThickness: data.get(\"topThickness\") || 0,\r\n                  topRoundedCorners: data.get(\"topRoundedCorners\") || 0,\r\n                  topCornerRadius: data.get(\"topCornerRadius\") || 50,\r\n                  topHoleCount: data.get(\"topHoleCount\") || 0,\r\n                  topHoleType: data.get(\"topHoleType\") || \"\",\r\n                  topHolePosition: topHolePosition || \"\",\r\n                  remark: data.get(\"remark\") || \"\",\r\n                  topSketchURL: topSketchURL,\r\n                })\r\n              );\r\n            } else if (cartItemStatus === \"edit\") {\r\n              let topSketchURL = sketchUrl;\r\n              if (data.get(\"topSketchImg\") && data.get(\"topSketchImg\").name) {\r\n                const uploadData = new FormData();\r\n                uploadData.append(\"file\", data.get(\"topSketchImg\"));\r\n                try {\r\n                  const response = await axios.post(`/upload`, uploadData, {\r\n                    headers: {\r\n                      \"Content-Type\": \"application/x-www-form-urlencoded\",\r\n                    },\r\n                  });\r\n                  topSketchURL = response.data.url;\r\n                } catch (err) { }\r\n              }\r\n              const newCart = cart.map((item) => {\r\n                if (\r\n                  item.productType !== \"desk\" ||\r\n                  item.id !== productId\r\n                )\r\n                  return item;\r\n\r\n                return {\r\n                  productType,\r\n                  productDetail,\r\n                  productAmount,\r\n                  productDeliveryOption: JSON.stringify(\r\n                    [\r\n                      \"Delivery Included\",\r\n                      \"Delivery and installation included\",\r\n                      \"Remote Area Surcharge\",\r\n                      \"Stairs Surcharge\",\r\n                    ].filter((item, index) =>\r\n                      Boolean(data.get(`deliveryOption_${index}`))\r\n                    )\r\n                  ),\r\n                  productPrice: Boolean(data.get(\"hasDeskTop\"))\r\n                    ? Number(data.get(\"deskTotalPrice\"))\r\n                    : Number(data.get(\"deskLegPrice\")),\r\n                  hasDeskTop: Boolean(data.get(\"hasDeskTop\")) || false,\r\n                  topMaterial: data.get(\"topMaterial\") || \"\",\r\n                  topColor: data.get(\"topColor\") || \"\",\r\n                  topLength: data.get(\"topLength\") || 0,\r\n                  topWidth: data.get(\"topWidth\") || 0,\r\n                  topThickness: data.get(\"topThickness\") || 0,\r\n                  topRoundedCorners: data.get(\"topRoundedCorners\") || 0,\r\n                  topCornerRadius: data.get(\"topCornerRadius\") || 50,\r\n                  topHoleCount: data.get(\"topHoleCount\") || 0,\r\n                  topHoleType: data.get(\"topHoleType\") || \"\",\r\n                  topHolePosition: topHolePosition || \"\",\r\n                  remark: data.get(\"remark\") || \"\",\r\n                  topSketchURL: topSketchURL,\r\n                };\r\n              });\r\n              setCart(newCart);\r\n            }\r\n          },\r\n        }}\r\n      >\r\n        <DialogTitle>Price and Amount</DialogTitle>\r\n        <DialogContent sx={{ textAlign: \"center\" }}>\r\n          <TextField\r\n            label=\"Desk Leg Price\"\r\n            type=\"number\"\r\n            name=\"deskLegPrice\"\r\n            value={productPrice}\r\n            sx={{ width: 200, visibility: hasDeskTop ? \"hidden\" : \"visible\" }}\r\n            InputProps={{\r\n              readOnly: true,\r\n              endAdornment: <InputAdornment position=\"end\">HKD</InputAdornment>,\r\n            }}\r\n          />\r\n          <Divider sx={{ my: \"10px\" }} />\r\n          <Box display=\"flex\" flexWrap=\"wrap\" justifyContent=\"space-between\">\r\n            <FormControlLabel\r\n              control={\r\n                <Checkbox\r\n                  name=\"hasDeskTop\"\r\n                  checked={hasDeskTop}\r\n                  onChange={(e) => {\r\n                    setHasDeskTop(e.currentTarget.checked);\r\n                  }}\r\n                />\r\n              }\r\n              label=\"with Table Top\"\r\n              sx={{ flexBasis: \"100%\", minWidth: \"100%\" }}\r\n            />\r\n            {[\r\n              {\r\n                name: \"topMaterial\",\r\n                label: \"Material\",\r\n                type: \"autocomplete\",\r\n                value: topMaterial,\r\n                onChange: (e, newVal) => {\r\n                  e.preventDefault();\r\n                  setTopMaterial(newVal);\r\n                },\r\n                options: materialOptions,\r\n                width: \"65%\",\r\n              },\r\n              {\r\n                name: \"topColor\",\r\n                label: \"Color\",\r\n                type: \"text\",\r\n                width: \"30%\",\r\n                value: topColor,\r\n                onChange: (e) => {\r\n                  e.preventDefault();\r\n                  setTopColor(e.target.value);\r\n                },\r\n              },\r\n              {\r\n                name: \"topLength\",\r\n                label: \"Length\",\r\n                type: \"suffixNumber\",\r\n                suffix: \"mm\",\r\n                inputProps: { min: 0 },\r\n                width: \"30%\",\r\n                value: topLength,\r\n                onChange: (e) => {\r\n                  e.preventDefault();\r\n                  setTopLength(e.target.value);\r\n                },\r\n              },\r\n              {\r\n                name: \"topWidth\",\r\n                label: \"Width\",\r\n                type: \"suffixNumber\",\r\n                suffix: \"mm\",\r\n                inputProps: { min: 0 },\r\n                width: \"30%\",\r\n                value: topWidth,\r\n                onChange: (e) => {\r\n                  e.preventDefault();\r\n                  setTopWidth(e.target.value);\r\n                },\r\n              },\r\n              {\r\n                name: \"topThickness\",\r\n                label: \"Thickness\",\r\n                type: \"suffixNumber\",\r\n                suffix: \"mm\",\r\n                inputProps: { min: 0 },\r\n                width: \"30%\",\r\n                value: topThickness,\r\n                onChange: (e) => {\r\n                  e.preventDefault();\r\n                  setTopThickness(e.target.value);\r\n                },\r\n              },\r\n              {\r\n                name: \"topRoundedCorners\",\r\n                label: \"Rounded Corners\",\r\n                type: \"select\",\r\n                options: [0, 1, 2, 3, 4],\r\n                width: \"48%\",\r\n                value: topRoundedCorners,\r\n                onChange: (e) => {\r\n                  e.preventDefault();\r\n                  setTopRoundedCorners(e.target.value);\r\n                },\r\n              },\r\n              {\r\n                name: \"topCornerRadius\",\r\n                label: \"Corner Radius\",\r\n                type: \"number\",\r\n                inputProps: { min: 0 },\r\n                width: \"48%\",\r\n                value: topCornerRadius,\r\n                onChange: (e) => {\r\n                  e.preventDefault();\r\n                  setTopCornerRadius(e.target.value);\r\n                },\r\n              },\r\n              {\r\n                name: \"topHoleCount\",\r\n                label: \"Number of Holes\",\r\n                type: \"select\",\r\n                value: topHoleCount,\r\n                onChange: (e) => {\r\n                  e.preventDefault();\r\n                  setTopHoleCount(e.target.value);\r\n                  if (e.target.value === 1) setTopHolePosition(\"Left\");\r\n                  else if (e.target.value === 2)\r\n                    setTopHolePosition(\"Left_Right\");\r\n                  else if (e.target.value === 3)\r\n                    setTopHolePosition(\"Left_Right_Center\");\r\n                },\r\n                options: [0, 1, 2, 3],\r\n                width: \"48%\",\r\n              },\r\n              {\r\n                name: \"topHoleType\",\r\n                label: \"Type of Holes\",\r\n                type: \"select\",\r\n                value: topHoleType,\r\n                onChange: (e) => {\r\n                  e.preventDefault();\r\n                  setTopHoleType(e.target.value);\r\n                },\r\n                options: [\"Rounded\", \"Rectangular\"],\r\n                width: \"48%\",\r\n              },\r\n              {\r\n                name: \"topHolePosition\",\r\n                label: \"Hole Position\",\r\n                type: \"select\",\r\n                value: topHolePosition,\r\n                onChange: (e) => {\r\n                  e.preventDefault();\r\n                  setTopHolePosition(e.target.value);\r\n                },\r\n                options:\r\n                  topHoleCount === 1\r\n                    ? [\"Left\", \"Right\", \"Center\"]\r\n                    : [\r\n                      \"Left\",\r\n                      \"Right\",\r\n                      \"Center\",\r\n                      \"Left_Right\",\r\n                      \"Left_Right_Center\",\r\n                    ],\r\n                disabled: topHoleCount !== 1, // || topHoleType !== \"Rounded\",\r\n                visible: \"true\", //topHoleType === \"Rounded\",\r\n                width: \"48%\",\r\n              },\r\n              {\r\n                name: \"remark\",\r\n                label: \"Specification\",\r\n                type: \"text\",\r\n                width: \"100%\",\r\n                value: productRemark,\r\n                onChange: (e) => {\r\n                  e.preventDefault();\r\n                  setProductRemark(e.target.value);\r\n                },\r\n              },\r\n              {\r\n                name: \"topSketchImg\",\r\n                label: \"Sketch Image (Optional)\",\r\n                type: \"file\",\r\n                inputProps: {\r\n                  accept: \"image/png, image/gif, image/jpeg\",\r\n                },\r\n                InputLabelProps: { shrink: true },\r\n                width: \"100%\",\r\n              },\r\n            ].map(({ type, width, ...restParams }, index) => {\r\n              if (type === \"autocomplete\") {\r\n                const { name, label, ...autocomParams } = restParams;\r\n                return (\r\n                  <Autocomplete\r\n                    key={index}\r\n                    sx={{ flexBasis: width, minWidth: width }}\r\n                    renderInput={(params) => (\r\n                      <TextField {...params} name={name} label={label} />\r\n                    )}\r\n                    disabled={!hasDeskTop}\r\n                    {...autocomParams}\r\n                  />\r\n                );\r\n              } else if (type === \"suffixNumber\") {\r\n                const { suffix, ...fieldParams } = restParams;\r\n                return (\r\n                  <FormControlLabel\r\n                    key={index}\r\n                    sx={{\r\n                      flexBasis: width,\r\n                      minWidth: width,\r\n                      alignItems: \"baseline\",\r\n                      mx: 0,\r\n                    }}\r\n                    control={\r\n                      <TextField\r\n                        fullWidth\r\n                        sx={{ m: \"10px 5px 0 0\" }}\r\n                        type=\"number\"\r\n                        disabled={!hasDeskTop}\r\n                        {...fieldParams}\r\n                      />\r\n                    }\r\n                    label={suffix}\r\n                  />\r\n                );\r\n              } else if (type === \"select\") {\r\n                const { name, label, options, ...selectParams } = restParams;\r\n                if (name === \"topHolePosition\")\r\n                  if (selectParams.visible)\r\n                    return (\r\n                      <FormControl\r\n                        key={index}\r\n                        sx={{ flexBasis: width, minWidth: width }}\r\n                      >\r\n                        <InputLabel id={`desk-top-${name}-select-label`}>\r\n                          {label}\r\n                        </InputLabel>\r\n                        <Select\r\n                          labelId={`desk-top-${name}-select-label`}\r\n                          id={`desk-top-${name}-select`}\r\n                          name={name}\r\n                          label={label}\r\n                          size=\"small\"\r\n                          disabled={!hasDeskTop}\r\n                          {...selectParams}\r\n                        >\r\n                          {options.map((selectOption, selectOptionIndex) => (\r\n                            <MenuItem\r\n                              key={selectOptionIndex}\r\n                              value={selectOption}\r\n                            >\r\n                              {selectOption}\r\n                            </MenuItem>\r\n                          ))}\r\n                        </Select>\r\n                      </FormControl>\r\n                    );\r\n                  else return \"\";\r\n                else\r\n                  return (\r\n                    <FormControl\r\n                      key={index}\r\n                      sx={{ flexBasis: width, minWidth: width }}\r\n                    >\r\n                      <InputLabel id={`desk-top-${name}-select-label`}>\r\n                        {label}\r\n                      </InputLabel>\r\n                      <Select\r\n                        labelId={`desk-top-${name}-select-label`}\r\n                        id={`desk-top-${name}-select`}\r\n                        name={name}\r\n                        label={label}\r\n                        size=\"small\"\r\n                        disabled={!hasDeskTop}\r\n                        {...selectParams}\r\n                      >\r\n                        {options.map((selectOption, selectOptionIndex) => (\r\n                          <MenuItem\r\n                            key={selectOptionIndex}\r\n                            value={selectOption}\r\n                          >\r\n                            {selectOption}\r\n                          </MenuItem>\r\n                        ))}\r\n                      </Select>\r\n                    </FormControl>\r\n                  );\r\n              } else\r\n                return (\r\n                  <TextField\r\n                    key={index}\r\n                    type={type}\r\n                    sx={{ flexBasis: width, minWidth: width }}\r\n                    disabled={!hasDeskTop}\r\n                    {...restParams}\r\n                  />\r\n                );\r\n            })}\r\n            <TextField\r\n              label=\"Desk Total Price\"\r\n              type=\"number\"\r\n              name=\"deskTotalPrice\"\r\n              defaultValue={productPrice}\r\n              sx={{ flexBasis: 200, minWidth: 200, mx: \"auto\" }}\r\n              disabled={!hasDeskTop}\r\n              InputProps={{\r\n                endAdornment: (\r\n                  <InputAdornment position=\"end\">HKD</InputAdornment>\r\n                ),\r\n              }}\r\n            />\r\n          </Box>\r\n          <Divider sx={{ my: \"10px\" }} />\r\n          <Box\r\n            sx={{\r\n              display: \"flex\",\r\n              alignItems: \"left\",\r\n              width: \"200px\",\r\n              border: \"1px solid #0000003b\",\r\n              borderRadius: \"4px\",\r\n              mt: \"10px\",\r\n              mx: \"auto\",\r\n              p: \"5px 3px\",\r\n            }}\r\n          >\r\n            <Typography variant=\"span\" sx={{ flexGrow: 1, marginTop: \"8px\"}}>\r\n              Amount\r\n            </Typography>\r\n            <IconButton\r\n              onClick={(e) => {\r\n                e.preventDefault();\r\n                setProductAmount(Math.max(productAmount - 1, 1));\r\n              }}\r\n            >\r\n              <RemoveIcon />\r\n            </IconButton>\r\n            <Typography variant=\"span\" sx={{ ml: \"10px\", marginTop: \"8px\" }}>\r\n              {productAmount}\r\n            </Typography>\r\n            <IconButton\r\n              onClick={(e) => {\r\n                e.preventDefault();\r\n                setProductAmount(Math.min(productAmount + 1, 99));\r\n              }}\r\n            >\r\n              <AddIcon />\r\n            </IconButton>\r\n          </Box>\r\n          <FormControlLabel\r\n            sx={{ display: \"block\", textAlign: \"left\", marginLeft: \"100px\" }}\r\n            control={\r\n              <Checkbox\r\n                name=\"deliveryOption_0\"\r\n                checked={deliveryChecked0}\r\n                onChange={(e) => setDeliveryChecked0(e.target.checked)}\r\n                sx={{ textAlign: \"left\" }}\r\n              />\r\n            }\r\n            label=\"Delivery Included\"\r\n          />\r\n          <FormControlLabel\r\n            sx={{ display: \"block\", textAlign: \"left\", marginLeft: \"100px\" }}\r\n            control={\r\n              <Checkbox\r\n                name=\"deliveryOption_1\"\r\n                checked={deliveryChecked1}\r\n                onChange={(e) => setDeliveryChecked1(e.target.checked)}\r\n              />\r\n            }\r\n            label=\"Delivery and installation included\"\r\n          />\r\n          <FormControlLabel\r\n            sx={{ display: \"block\", textAlign: \"left\", marginLeft: \"100px\" }}\r\n            control={\r\n              <Checkbox\r\n                name=\"deliveryOption_2\"\r\n                checked={deliveryChecked2}\r\n                onChange={(e) => setDeliveryChecked2(e.target.checked)}\r\n              />\r\n            }\r\n            label=\"Remote Area Surcharge\"\r\n          />\r\n          <FormControlLabel\r\n            sx={{ display: \"block\", textAlign: \"left\", marginLeft: \"100px\" }}\r\n            control={\r\n              <Checkbox\r\n                name=\"deliveryOption_3\"\r\n                checked={deliveryChecked3}\r\n                onChange={(e) => setDeliveryChecked3(e.target.checked)}\r\n              />\r\n            }\r\n            label=\"Stairs Surcharge\"\r\n          />\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button\r\n            onClick={(e) => {\r\n              e.preventDefault();\r\n              setTopHoleCount(0);\r\n              setTopHolePosition(\"Left\");\r\n              setTopHoleType(\"Rounded\");\r\n              setTopMaterial(\"Melamine\");\r\n              setTopColor(\"\");\r\n              setTopLength(700);\r\n              setTopWidth(400);\r\n              setTopThickness(25);\r\n              setTopRoundedCorners(0);\r\n              setTopCornerRadius(50);\r\n              setSketchUrl(\"\");\r\n\r\n              setDeliveryChecked0(false);\r\n              setDeliveryChecked1(false);\r\n              setDeliveryChecked2(false);\r\n              setDeliveryChecked3(false);\r\n\r\n              setDeskAddOpen(false);\r\n            }}\r\n          >\r\n            Cancel\r\n          </Button>\r\n          <Button type=\"submit\">OK</Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    </Box >\r\n  );\r\n});\r\n","import React, { useState } from 'react';\r\nimport Detail from './Detail';\r\n\r\nconst Create = (props) => {\r\n  const [phone, setPhone] = useState('');\r\n  return (\r\n    <Detail\r\n      componentType=\"create\"\r\n      initialClient={{\r\n        phone,\r\n        setPhone,\r\n        paid: true,\r\n        discountType: 1,\r\n        surchargeType: 1,\r\n        dueDate: '',\r\n        remark: '',\r\n      }}\r\n      initialCart={[]}\r\n      {...props}\r\n    />\r\n  );\r\n};\r\n\r\nexport default Create;\r\n","import React, { useState } from 'react';\r\nimport Detail from './Detail';\r\nimport { Redirect, useLocation } from 'react-router-dom';\r\n\r\nconst Edit = (props) => {\r\n  const location = useLocation();\r\n  const { order } = location.state || {};\r\n  const {\r\n    ChairStocks,\r\n    DeskStocks,\r\n    AccessoryStocks,\r\n    DeskToOrders,\r\n    ServiceToOrders,\r\n    Seller,\r\n    sellerId,\r\n    remark,\r\n    ...client\r\n  } = order || {};\r\n\r\n  const [phone, setPhone] = useState(client.phone);\r\n\r\n  return order ? (\r\n    <Detail\r\n      componentType=\"edit\"\r\n      initialClient={{\r\n        ...client,\r\n        phone,\r\n        setPhone,\r\n        remark,\r\n      }}\r\n      initialCart={ChairStocks.map(({ ChairToOrder, ...restProps }) => ({\r\n        productType: 'chair',\r\n        productDetail: {\r\n          ...restProps\r\n        },\r\n        remark: ChairToOrder.remark,\r\n        productPrice: ChairToOrder.unitPrice,\r\n        productAmount: ChairToOrder.qty,\r\n        productDeliveryOption: ChairToOrder.deliveryOption,\r\n      }))\r\n        .concat(\r\n          DeskToOrders.map((DeskToOrder) => {\r\n            const {\r\n              stockId,\r\n              unitPrice,\r\n              qty,\r\n              deliveryOption,\r\n              ...deskTopProps\r\n            } = DeskToOrder;\r\n\r\n            const stock = DeskStocks.find(function(val) {\r\n              return val.id === stockId\r\n            })\r\n\r\n            return {\r\n              productType: 'desk',\r\n              productDetail: stock,\r\n              productPrice: unitPrice,\r\n              productAmount: qty,\r\n              productDeliveryOption: deliveryOption,\r\n              ...deskTopProps,\r\n            };\r\n          })\r\n        )\r\n        .concat(\r\n          AccessoryStocks.map(({ AccessoryToOrder, ...restProps }) => ({\r\n            productType: 'accessory',\r\n            productDetail: {\r\n              ...restProps\r\n            },\r\n            remark: AccessoryToOrder.remark,\r\n            productPrice: AccessoryToOrder.unitPrice,\r\n            productAmount: AccessoryToOrder.qty,\r\n            productDeliveryOption: AccessoryToOrder.deliveryOption,\r\n          }))\r\n        )}\r\n      initialServices = { ServiceToOrders }\r\n      {...props}\r\n    />\r\n  ) : (\r\n    <Redirect to=\"/admin/sales\" />\r\n  );\r\n};\r\n\r\nexport default Edit;\r\n","import React, { useEffect, useRef, useState } from \"react\";\r\nimport { Link as RouterLink } from \"react-router-dom\";\r\nimport ReactDOMServer from \"react-dom/server\";\r\nimport { connect } from \"react-redux\";\r\nimport {\r\n  Badge,\r\n  Box,\r\n  Button,\r\n  Checkbox,\r\n  Dialog,\r\n  DialogActions,\r\n  DialogContent,\r\n  DialogTitle,\r\n  IconButton,\r\n  Stack,\r\n  TextField,\r\n} from \"@mui/material\";\r\nimport {\r\n  Add as AddIcon,\r\n  Deck as DeckIcon,\r\n  Delete as DeleteIcon,\r\n  Edit as EditIcon,\r\n  Email as EmailIcon,\r\n  // PictureAsPdf as PictureAsPdfIcon,\r\n  WhatsApp as WhatsAppIcon,\r\n  DriveFolderUpload as DriveFolderUploadIcon,\r\n} from \"@mui/icons-material\";\r\nimport MuiPhoneNumber from \"material-ui-phone-number\";\r\nimport { useTheme } from \"@mui/material/styles\";\r\nimport useMediaQuery from \"@mui/material/useMediaQuery\";\r\nimport axios from \"axios\";\r\nimport Swal from \"sweetalert2\";\r\nimport QRCode from \"react-qr-code\";\r\n\r\nimport DataGrid from \"components/Common/DataGrid\";\r\nimport {\r\n  ProductList,\r\n  ProductListItem,\r\n  ProductListItemText,\r\n  ProductPriceAmount,\r\n} from \"../ProductList\";\r\nimport CheckableMultiSelect from \"components/Common/MultiSelect\";\r\n\r\nconst columns = [\r\n  {\r\n    id: \"quotationNum\",\r\n    label: \"Quotation\",\r\n  },\r\n  {\r\n    id: \"name\",\r\n    label: \"Client\",\r\n  },\r\n  {\r\n    id: \"seller\",\r\n    label: \"Seller\",\r\n  },\r\n  {\r\n    id: \"quotationDate\",\r\n    label: \"Quotation\",\r\n  },\r\n  {\r\n    id: \"clientAddress\",\r\n    label: \"Address\",\r\n  },\r\n  {\r\n    id: \"timeLine\",\r\n    label: \"TimeLine\",\r\n  },\r\n  {\r\n    id: \"remark\",\r\n    label: \"Remark\",\r\n  },\r\n  {\r\n    id: \"discount\",\r\n    label: \"Discount\",\r\n  },\r\n  {\r\n    id: \"surcharge\",\r\n    label: \"SurCharge\",\r\n  },\r\n  {\r\n    id: \"products\",\r\n    label: \"Products\",\r\n  },\r\n  {\r\n    id: \"paid\",\r\n    label: \"Paid\",\r\n  },\r\n  {\r\n    id: \"emailIcon\",\r\n    nonSort: true,\r\n    label: \"Con\",\r\n    align: \"right\",\r\n    sx: { maxWidth: 45, width: 45 },\r\n  },\r\n  {\r\n    id: \"whatsappIcon\",\r\n    nonSort: true,\r\n    label: \"tact\",\r\n    align: \"left\",\r\n    sx: { maxWidth: 45, width: 45, paddingLeft: 0 },\r\n  },\r\n  {\r\n    id: \"toInvoice\",\r\n    nonSort: true,\r\n    label: \"To Invoice\",\r\n    sx: { maxWidth: 45 },\r\n  },\r\n  {\r\n    id: \"edit\",\r\n    nonSort: true,\r\n    sx: { maxWidth: 45, width: 45 },\r\n  },\r\n  {\r\n    nonSort: true,\r\n    id: \"delete\",\r\n    sx: { maxWidth: 45, width: 45 },\r\n  },\r\n];\r\nconst hideColumns = [\r\n  \"Address\",\r\n  \"TimeLine\",\r\n  \"Remark\",\r\n  \"Discount\",\r\n  \"SurCharge\",\r\n  \"Products\",\r\n  \"Paid\",\r\n  \"Con\",\r\n  \"tact\",\r\n];\r\n\r\nfunction mapStateToProps(state) {\r\n  const { auth } = state;\r\n  return { auth };\r\n}\r\n\r\nexport default connect(mapStateToProps)((props) => {\r\n  const theme = useTheme();\r\n\r\n  const [quotations, setquotations] = useState([]);\r\n  const [name, setName] = useState(\"\");\r\n  const [email, setEmail] = useState(\"\");\r\n  const [phone, setPhone] = useState(\"\");\r\n  const [whatsAppOpen, setWhatsAppOpen] = useState(false);\r\n  const [emailOpen, setEmailOpen] = useState(false);\r\n  const [detailOpen, setDetailOpen] = useState(false);\r\n  const whatsAppMessage = useRef(null);\r\n  const emailContent = useRef(null);\r\n  const [filterAnchor, setFilterAnchor] = useState(null);\r\n\r\n  const [quotationIndex, setquotationIndex] = useState(0);\r\n\r\n  const [selectedHideColumns, setSelectedHideColumns] = useState([]);\r\n\r\n  const handleFilterClick = (e) => {\r\n    e.preventDefault();\r\n    if (filterAnchor === null) setFilterAnchor(e.currentTarget);\r\n    else setFilterAnchor(null);\r\n  };\r\n\r\n  const handleWhatsAppSend = (event) => {\r\n    event.preventDefault();\r\n    axios\r\n      .post(\"whatsapp/send\", {\r\n        phone: phone,\r\n        message: whatsAppMessage.current.value,\r\n      })\r\n      .then(() => {\r\n        setWhatsAppOpen(false);\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        setWhatsAppOpen(false);\r\n        Swal.fire({\r\n          icon: \"error\",\r\n          title: \"Error\",\r\n          text: error.response.data.message,\r\n          allowOutsideClick: false,\r\n        }).then(() => {\r\n          setWhatsAppOpen(true);\r\n        });\r\n      })\r\n      .then(function () {\r\n        // always executed\r\n      });\r\n  };\r\n\r\n  const handleEmailSend = (event) => {\r\n    event.preventDefault();\r\n    axios\r\n      .post(\"email/send\", {\r\n        email: email,\r\n        message: emailContent.current.value,\r\n      })\r\n      .then(() => {\r\n        setEmailOpen(false);\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        setEmailOpen(false);\r\n        Swal.fire({\r\n          icon: \"error\",\r\n          title: \"Error\",\r\n          text: error.response.data.message,\r\n          allowOutsideClick: false,\r\n        }).then(() => {\r\n          setEmailOpen(true);\r\n        });\r\n      })\r\n      .then(function () {\r\n        // always executed\r\n      });\r\n  };\r\n\r\n  const handleEditClick = (index) => {\r\n    if (index < quotations.length && index >= 0) {\r\n    }\r\n  };\r\n\r\n  const handleRemoveClick = (index) => {\r\n    if (index < quotations.length && index >= 0) {\r\n      Swal.fire({\r\n        title: \"Are you sure?\",\r\n        text: \"This action will remove current Quotation permanently.\",\r\n        icon: \"question\",\r\n        showCancelButton: true,\r\n        confirmButtonText: \"Yes, Remove!\",\r\n        cancelButtonText: \"No, Keep It.\",\r\n        allowOutsideClick: false,\r\n      }).then((result) => {\r\n        if (result.isConfirmed) {\r\n          axios\r\n            .delete(`/quotation/${quotations[index].id}`)\r\n            .then((response) => {\r\n              // handle success\r\n              getQuotations();\r\n            })\r\n            .catch(function (error) {\r\n              // handle error\r\n              Swal.fire({\r\n                icon: \"error\",\r\n                title: \"Error\",\r\n                text: error.response.data.message,\r\n                allowOutsideClick: false,\r\n              });\r\n              console.log(error);\r\n            })\r\n            .then(function () {\r\n              // always executed\r\n            });\r\n        }\r\n      });\r\n    }\r\n  };\r\n\r\n  const handleBulkRemoveClick = (selected) => {\r\n    Swal.fire({\r\n      title: \"Are you sure?\",\r\n      text: \"This action will remove selected Quotations permanently.\",\r\n      icon: \"question\",\r\n      showCancelButton: true,\r\n      confirmButtonText: \"Yes, Remove!\",\r\n      cancelButtonText: \"No, Keep Them.\",\r\n      allowOutsideClick: false,\r\n    }).then((result) => {\r\n      if (result.isConfirmed) {\r\n        axios\r\n          .delete(\"/quotation\", {\r\n            data: { ids: selected },\r\n          })\r\n          .then((response) => {\r\n            // handle success\r\n            getQuotations();\r\n          })\r\n          .catch(function (error) {\r\n            // handle error\r\n            Swal.fire({\r\n              icon: \"error\",\r\n              title: \"Error\",\r\n              text: error.response.data.message,\r\n              allowOutsideClick: false,\r\n            });\r\n            console.log(error);\r\n          })\r\n          .then(function () {\r\n            // always executed\r\n          });\r\n      }\r\n    });\r\n  };\r\n\r\n  const handleToInvoiceClick = (index) => {\r\n    if (index < quotations.length && index >= 0) {\r\n      Swal.fire({\r\n        title: \"Are you sure?\",\r\n        text: \"This action will convert current Quotation to Invoice.\",\r\n        icon: \"question\",\r\n        showCancelButton: true,\r\n        confirmButtonText: \"Yes, Convert!\",\r\n        cancelButtonText: \"No, Cancel.\",\r\n        allowOutsideClick: false,\r\n      }).then((result) => {\r\n        if (result.isConfirmed) {\r\n          const quotation = quotations[index];\r\n\r\n          const cart = quotation.ChairStocks.map(\r\n            ({ ChairToQuotation, ...restProps }) => ({\r\n              productType: \"chair\",\r\n              productDetail: restProps,\r\n              remark: ChairToQuotation.remark,\r\n              productPrice: ChairToQuotation.unitPrice,\r\n              productAmount: ChairToQuotation.qty,\r\n              productDeliveryOption: ChairToQuotation.deliveryOption,\r\n            })\r\n          )\r\n            .concat(\r\n              quotation.DeskToQuotations.map((DeskToQuotation) => {\r\n                const {\r\n                  stockId,\r\n                  unitPrice,\r\n                  qty,\r\n                  deliveryOption,\r\n                  ...deskTopProps\r\n                } = DeskToQuotation;\r\n\r\n                const stock = quotation.DeskStocks.find(function (val) {\r\n                  return val.id === stockId;\r\n                });\r\n\r\n                return {\r\n                  productType: \"desk\",\r\n                  productDetail: stock,\r\n                  productPrice: unitPrice,\r\n                  productAmount: qty,\r\n                  productDeliveryOption: deliveryOption,\r\n                  ...deskTopProps,\r\n                };\r\n              })\r\n            )\r\n            .concat(\r\n              quotation.AccessoryStocks.map(\r\n                ({ AccessoryToQuotation, ...restProps }) => ({\r\n                  productType: \"accessory\",\r\n                  productDetail: restProps,\r\n                  remark: AccessoryToQuotation.remark,\r\n                  productPrice: AccessoryToQuotation.unitPrice,\r\n                  productAmount: AccessoryToQuotation.qty,\r\n                  productDeliveryOption: AccessoryToQuotation.deliveryOption,\r\n                })\r\n              )\r\n            ).concat(\r\n              quotation.ServiceToQuotations.map(\r\n                ({ description, id, price }) => ({\r\n                  productType: \"misc\",\r\n                  id: id,\r\n                  price: price,\r\n                  description: description\r\n                })\r\n              )\r\n            );\r\n          axios\r\n            .post(`/sales/create`, {\r\n              name: quotation.name,\r\n              phone: quotation.phone,\r\n              email: quotation.email,\r\n              district: quotation.district,\r\n              street: quotation.street,\r\n              block: quotation.block,\r\n              floor: quotation.floor,\r\n              unit: quotation.unit,\r\n              timeLine: quotation.timeLine,\r\n              remark: quotation.remark,\r\n              products: cart\r\n                .map(({ productDetail, ...restProps }) => ({\r\n                  productId: productDetail?.id,\r\n                  ...restProps,\r\n                }))\r\n                .concat(quotation.ServiceToQuotations),\r\n              paymentTerms: quotation.paymentTerms,\r\n              paid: false,\r\n              dueDate: null,\r\n              discount: quotation.discount,\r\n              discountType: quotation.discountType,\r\n              surcharge: quotation.surcharge,\r\n              surchargeType: quotation.surchargeType,\r\n            })\r\n            .then(() => {\r\n              // handle success\r\n              props.history.push(\"/admin/sales\");\r\n            })\r\n            .catch(function (error) {\r\n              // handle error\r\n              Swal.fire({\r\n                icon: \"error\",\r\n                title: \"Error\",\r\n                text: error.response.data.message,\r\n                allowOutsideClick: false,\r\n              }).then(() => { });\r\n              console.log(error);\r\n            })\r\n            .then(function () {\r\n              // always executed\r\n            });\r\n        }\r\n      });\r\n    }\r\n  };\r\n\r\n  const getQuotations = (cancelToken) => {\r\n    axios\r\n      .get(\"/quotation\", { cancelToken })\r\n      .then((response) => {\r\n        // handle success\r\n        setquotations(response.data);\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        console.log(error);\r\n      })\r\n      .then(function () {\r\n        // always executed\r\n      });\r\n  };\r\n\r\n  const onHideColumnChanged = (values) => {\r\n    setSelectedHideColumns(values);\r\n  };\r\n\r\n  useEffect(() => {\r\n    const source = axios.CancelToken.source();\r\n    getQuotations(source.token);\r\n    return () => source.cancel(\"Brand Component got unmounted\");\r\n  }, []);\r\n\r\n  return (\r\n    <Box\r\n      sx={{\r\n        height: \"100%\",\r\n        overflow: \"auto\",\r\n        padding: \"10px 20px\",\r\n      }}\r\n    >\r\n      <Button\r\n        component={RouterLink}\r\n        to=\"/admin/quotation/create\"\r\n        startIcon={<AddIcon />}\r\n      >\r\n        New Quotation\r\n      </Button>\r\n      <div>\r\n        <CheckableMultiSelect\r\n          options={hideColumns}\r\n          onChange={onHideColumnChanged}\r\n          selected={selectedHideColumns}\r\n        />\r\n      </div>\r\n      <DataGrid\r\n        title=\"Sales quotations\"\r\n        rows={quotations.map(\r\n          (\r\n            {\r\n              id,\r\n              quotationNum,\r\n              district,\r\n              street,\r\n              block,\r\n              floor,\r\n              unit,\r\n              Seller,\r\n              discount,\r\n              discountType,\r\n              surcharge,\r\n              surchargeType,\r\n              createdAt,\r\n              timeLine,\r\n              paid,\r\n              ChairStocks,\r\n              DeskStocks,\r\n              AccessoryStocks,\r\n              ...restProps\r\n            },\r\n            index\r\n          ) => ({\r\n            id,\r\n            index,\r\n            seller: (Seller.firstName || \"\").concat(\" \", Seller.lastName || \"\"),\r\n            timeLine:\r\n              timeLine % 7 !== 0\r\n                ? `${timeLine} day${timeLine === 1 ? \"\" : \"s\"}`\r\n                : `${timeLine / 7} week${timeLine / 7 === 1 ? \"\" : \"s\"}`,\r\n            quotationDate: (() => {\r\n              const createdTime = new Date(createdAt);\r\n              createdTime.setMinutes(\r\n                createdTime.getMinutes() - createdTime.getTimezoneOffset()\r\n              );\r\n              return createdTime.toISOString().split(\"T\")[0];\r\n            })(),\r\n            discount: `${discount}${discountType ? \" HKD\" : \"%\"}`,\r\n            surcharge: `${surcharge}${surchargeType ? \" HKD\" : \"%\"}`,\r\n            clientAddress: [district, street, block, floor, unit].join(\", \"),\r\n            products: (\r\n              <IconButton\r\n                sx={{ my: \"5px\" }}\r\n                onClick={(event) => {\r\n                  event.preventDefault();\r\n                  setquotationIndex(index);\r\n                  setDetailOpen(true);\r\n                }}\r\n              >\r\n                <Badge\r\n                  badgeContent={\r\n                    ChairStocks.length +\r\n                    DeskStocks.length +\r\n                    AccessoryStocks.length\r\n                  }\r\n                  color=\"error\"\r\n                >\r\n                  <DeckIcon />\r\n                </Badge>\r\n              </IconButton>\r\n            ),\r\n            paid: (\r\n              <Checkbox\r\n                checked={paid}\r\n                onClick={(event) => {\r\n                  event.stopPropagation();\r\n                  event.preventDefault();\r\n                  axios\r\n                    .put(`/quotation/withoutStock/${id}`, {\r\n                      paid: !paid,\r\n                    })\r\n                    .then(() => {\r\n                      getQuotations();\r\n                    })\r\n                    .catch(function (error) {\r\n                      // handle error\r\n                      Swal.fire({\r\n                        icon: \"error\",\r\n                        title: \"Error\",\r\n                        text: error.response.data.message,\r\n                        allowOutsideClick: false,\r\n                      });\r\n                    })\r\n                    .then(function () {\r\n                      // always executed\r\n                    });\r\n                }}\r\n              />\r\n            ),\r\n            quotationNum: (\r\n              <RouterLink to={`/quotation/${id}`} target=\"_blank\">\r\n                {quotationNum}\r\n              </RouterLink>\r\n            ),\r\n            emailIcon: (\r\n              <IconButton\r\n                onClick={() => {\r\n                  setName(restProps.name);\r\n                  setEmail(restProps.email);\r\n                  setEmailOpen(true);\r\n                }}\r\n              >\r\n                <EmailIcon />\r\n              </IconButton>\r\n            ),\r\n            whatsappIcon: (\r\n              <IconButton\r\n                onClick={() => {\r\n                  axios\r\n                    .get(\"whatsapp/checkauth\")\r\n                    .then(() => {\r\n                      setName(restProps.name);\r\n                      setPhone(restProps.phone);\r\n                      setWhatsAppOpen(true);\r\n                    })\r\n                    .catch(function (error) {\r\n                      // handle error\r\n                      axios\r\n                        .get(\"whatsapp/getqr\")\r\n                        .then((response) => {\r\n                          Swal.fire({\r\n                            icon: \"info\",\r\n                            title:\r\n                              \"Please signin with this QRCode and Click the button again.\",\r\n                            html: ReactDOMServer.renderToStaticMarkup(\r\n                              <QRCode\r\n                                value={`${response.data.qrcode}`}\r\n                                level=\"H\"\r\n                              />\r\n                            ),\r\n                            allowOutsideClick: false,\r\n                          });\r\n                        })\r\n                        .catch(function (qrerror) {\r\n                          // handle error\r\n                          Swal.fire({\r\n                            icon: \"error\",\r\n                            title: \"Error\",\r\n                            text: \"Unable to use WhatsApp Messaging.\",\r\n                            allowOutsideClick: false,\r\n                          });\r\n                        })\r\n                        .then(function () {\r\n                          // always executed\r\n                        });\r\n                    })\r\n                    .then(function () {\r\n                      // always executed\r\n                    });\r\n                }}\r\n              >\r\n                <WhatsAppIcon />\r\n              </IconButton>\r\n            ),\r\n            toInvoice: (\r\n              <IconButton\r\n                onClick={(event) => {\r\n                  event.preventDefault();\r\n                  handleToInvoiceClick(index);\r\n                }}\r\n              >\r\n                <DriveFolderUploadIcon />\r\n              </IconButton>\r\n            ),\r\n            edit: (\r\n              <IconButton\r\n                component={RouterLink}\r\n                to={{\r\n                  pathname: \"/admin/quotation/edit\",\r\n                  state: { quotation: quotations[index] },\r\n                }}\r\n              >\r\n                <EditIcon />\r\n              </IconButton>\r\n            ),\r\n            delete: (\r\n              <IconButton\r\n                onClick={(event) => {\r\n                  event.preventDefault();\r\n                  handleRemoveClick(index);\r\n                }}\r\n              >\r\n                <DeleteIcon />\r\n              </IconButton>\r\n            ),\r\n            ...restProps,\r\n          })\r\n        )}\r\n        columns={columns\r\n          .map((column, i) => {\r\n            if (i > 3 && i < 13) {\r\n              if (selectedHideColumns.find((hideColumn) => hideColumn === column.label)              )\r\n                return column;\r\n              else\r\n                return undefined;\r\n            }\r\n            return column;\r\n          })\r\n          .filter((column) => column !== undefined)}\r\n        onEditClick={handleEditClick}\r\n        onRemoveClick={handleRemoveClick}\r\n        onBulkRemoveClick={handleBulkRemoveClick}\r\n        onFilterClick={handleFilterClick}\r\n      />\r\n      <Dialog\r\n        fullWidth\r\n        fullScreen={useMediaQuery(theme.breakpoints.down(\"sm\"))}\r\n        maxWidth=\"sm\"\r\n        open={whatsAppOpen}\r\n      >\r\n        <DialogTitle>Send WhatsApp Message to the Client</DialogTitle>\r\n        <DialogContent>\r\n          <Stack spacing={2}>\r\n            <MuiPhoneNumber\r\n              variant=\"outlined\"\r\n              label=\"Phone Number\"\r\n              onlyCountries={[\"hk\"]}\r\n              defaultCountry={\"hk\"}\r\n              value={phone}\r\n              InputProps={{\r\n                readOnly: true,\r\n              }}\r\n            />\r\n\r\n            <TextField\r\n              inputRef={whatsAppMessage}\r\n              label=\"Message\"\r\n              fullWidth\r\n              defaultValue={`Hello ${name}.`}\r\n              multiline\r\n              minRows={4}\r\n              maxRows={10}\r\n            // onChange={(e) => {\r\n            //   setWhatsAppMessage(e.target.value);\r\n            // }}\r\n            />\r\n          </Stack>\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button\r\n            onClick={(event) => {\r\n              event.preventDefault();\r\n              setWhatsAppOpen(false);\r\n            }}\r\n          >\r\n            Cancel\r\n          </Button>\r\n          <Button onClick={handleWhatsAppSend}>Send</Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n      <Dialog\r\n        fullWidth\r\n        fullScreen={useMediaQuery(theme.breakpoints.down(\"sm\"))}\r\n        maxWidth=\"sm\"\r\n        open={emailOpen}\r\n      >\r\n        <DialogTitle>Send Email to the Client</DialogTitle>\r\n        <DialogContent>\r\n          <Stack spacing={2}>\r\n            <TextField\r\n              label=\"Email\"\r\n              type=\"email\"\r\n              value={email}\r\n              InputProps={{\r\n                readOnly: true,\r\n              }}\r\n            />\r\n\r\n            <TextField\r\n              inputRef={emailContent}\r\n              label=\"Message\"\r\n              fullWidth\r\n              defaultValue={`Hello ${name}.`}\r\n              multiline\r\n              minRows={4}\r\n              maxRows={10}\r\n            />\r\n          </Stack>\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button\r\n            onClick={(event) => {\r\n              event.preventDefault();\r\n              setEmailOpen(false);\r\n            }}\r\n          >\r\n            Cancel\r\n          </Button>\r\n          <Button onClick={handleEmailSend}>Send</Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n      <Dialog\r\n        maxWidth=\"sm\"\r\n        fullWidth\r\n        open={detailOpen}\r\n        onClose={(event) => {\r\n          event.preventDefault();\r\n          setDetailOpen(false);\r\n        }}\r\n      >\r\n        <DialogTitle>Products Details</DialogTitle>\r\n        <DialogContent>\r\n          <ProductList>\r\n            {quotationIndex < quotations.length &&\r\n              quotations[quotationIndex].ChairStocks.map((item, index) => (\r\n                <ProductListItem key={index}>\r\n                  <ProductListItemText\r\n                    primary={`Chair: ${item.brand}, ${item.model}, ${item.frameColor}, ${item.backColor}, ${item.seatColor}`}\r\n                    secondary={`${item.withHeadrest ? \"Headrest, \" : \"\"}${item.withAdArmrest ? \"Armrest\" : \"\"\r\n                      }`}\r\n                  />\r\n                  <ProductPriceAmount\r\n                    unitPrice={`${item.ChairToQuotation.unitPrice} HKD`}\r\n                    amount={`Amount: ${item.ChairToQuotation.qty}`}\r\n                    deliveryOption={`${item.ChairToQuotation.deliveryOption}`}\r\n                  />\r\n                </ProductListItem>\r\n              ))}\r\n            {quotationIndex < quotations.length &&\r\n              quotations[quotationIndex].DeskToQuotations.map((item, index) => (\r\n                <ProductListItem key={index}>\r\n                  <ProductListItemText\r\n                    primary={`Desk:\r\n                      ${quotations[quotationIndex].DeskStocks.find(\r\n                      (stock) => stock.id === item.stockId\r\n                    ).supplierCode\r\n                      },\r\n                      ${quotations[quotationIndex].DeskStocks.find(\r\n                        (stock) => stock.id === item.stockId\r\n                      ).model\r\n                      },\r\n                      ${quotations[quotationIndex].DeskStocks.find(\r\n                        (stock) => stock.id === item.stockId\r\n                      ).color\r\n                      },\r\n                      ${quotations[quotationIndex].DeskStocks.find(\r\n                        (stock) => stock.id === item.stockId\r\n                      ).armSize\r\n                      },\r\n                      ${quotations[quotationIndex].DeskStocks.find(\r\n                        (stock) => stock.id === item.stockId\r\n                      ).feetSize\r\n                      },\r\n                      ${quotations[quotationIndex].DeskStocks.find(\r\n                        (stock) => stock.id === item.stockId\r\n                      ).beamSize\r\n                      }`}\r\n                    secondary={\r\n                      item.hasDeskTop ? (\r\n                        <span>\r\n                          {`${item.topMaterial},\r\n                            ${item.topColor},\r\n                            ${item.topLength}x${item.topWidth}x${item.topThickness},\r\n                            ${item.topRoundedCorners}-R${item.topCornerRadius},\r\n                            ${item.topHoleCount}-${item.topHoleType} `}\r\n                          <a href={item.topSketchURL} target=\"_blank\" rel=\"noreferrer\">\r\n                            Sketch\r\n                          </a>\r\n                        </span>\r\n                      ) : (\r\n                        \"Without DeskTop\"\r\n                      )\r\n                    }\r\n                  />\r\n                  <ProductPriceAmount\r\n                    unitPrice={`${item.unitPrice} HKD`}\r\n                    amount={`Amount: ${item.qty}`}\r\n                    deliveryOption={`${item.deliveryOption}`}\r\n                  />\r\n                </ProductListItem>\r\n              ))}\r\n            {quotationIndex < quotations.length &&\r\n              quotations[quotationIndex].AccessoryStocks.map((item, index) => (\r\n                <ProductListItem key={index}>\r\n                  <ProductListItemText\r\n                    primary={`Accessory: ${item.name}`}\r\n                    secondary={`${item.remark}`}\r\n                  />\r\n                  <ProductPriceAmount\r\n                    unitPrice={`${item.AccessoryToQuotation.unitPrice} HKD`}\r\n                    amount={`Amount: ${item.AccessoryToQuotation.qty}`}\r\n                    deliveryOption={`${item.AccessoryToQuotation.deliveryOption}`}\r\n                  />\r\n                </ProductListItem>\r\n              ))}\r\n          </ProductList>\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button\r\n            onClick={(event) => {\r\n              event.preventDefault();\r\n              setDetailOpen(false);\r\n            }}\r\n          >\r\n            OK\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    </Box>\r\n  );\r\n});\r\n","import React, { useEffect, useRef, useState, Fragment } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { connect } from \"react-redux\";\r\nimport {\r\n  Autocomplete,\r\n  Box,\r\n  Button,\r\n  Checkbox,\r\n  Dialog,\r\n  DialogActions,\r\n  DialogContent,\r\n  DialogTitle,\r\n  Divider,\r\n  FormControl,\r\n  FormControlLabel,\r\n  IconButton,\r\n  InputAdornment,\r\n  InputLabel,\r\n  MenuItem,\r\n  Paper,\r\n  Radio,\r\n  RadioGroup,\r\n  Select,\r\n  Step,\r\n  Stepper,\r\n  StepLabel,\r\n  Tab,\r\n  Tabs,\r\n  TextField,\r\n  Typography,\r\n  Card,\r\n  Grid,\r\n} from \"@mui/material\";\r\nimport {\r\n  Add as AddIcon,\r\n  Delete as DeleteIcon,\r\n  Remove as RemoveIcon,\r\n  Close as CloseIcon,\r\n  Edit as EditIcon,\r\n} from \"@mui/icons-material\";\r\nimport { useTheme } from \"@mui/material/styles\";\r\nimport useMediaQuery from \"@mui/material/useMediaQuery\";\r\nimport MuiPhoneNumber from \"material-ui-phone-number\";\r\nimport axios from \"axios\";\r\nimport Swal from \"sweetalert2\";\r\n\r\nimport DataGrid from \"components/Common/DataGrid\";\r\nimport {\r\n  ProductList,\r\n  ProductListItem,\r\n  ProductListItemText,\r\n  ProductPriceAmount,\r\n} from \"../ProductList\";\r\nimport { v4 as uuidv4 } from \"uuid\";\r\nimport CheckableMultiSelect from \"components/Common/MultiSelect\";\r\n\r\nconst TabPanel = (props) => {\r\n  const { children, value, index, ...other } = props;\r\n\r\n  return (\r\n    <div\r\n      role=\"tabpanel\"\r\n      hidden={value !== index}\r\n      id={`simple-tabpanel-${index}`}\r\n      aria-labelledby={`simple-tab-${index}`}\r\n      {...other}\r\n    >\r\n      {value === index && <Box sx={{ p: \"0 10px 10px 10px\" }}>{children}</Box>}\r\n    </div>\r\n  );\r\n};\r\n\r\nTabPanel.propTypes = {\r\n  children: PropTypes.node,\r\n  index: PropTypes.number.isRequired,\r\n  value: PropTypes.number.isRequired,\r\n};\r\n\r\nfunction mapStateToProps(state) {\r\n  const { auth } = state;\r\n  return { auth };\r\n}\r\n\r\nconst chairColumns = [\r\n  {\r\n    id: \"add\",\r\n  },\r\n  {\r\n    id: \"thumbnail\",\r\n    sx: { width: 100 },\r\n    nonSort: true,\r\n  },\r\n  {\r\n    id: \"brand\",\r\n    label: \"Brand\",\r\n  },\r\n  {\r\n    id: \"model\",\r\n    label: \"Model\",\r\n  },\r\n  {\r\n    id: \"unitPrice\",\r\n    label: \"Price\",\r\n  },\r\n  {\r\n    id: \"balance\",\r\n    label: \"Balance\",\r\n  },\r\n  {\r\n    id: \"qty\",\r\n    label: \"QTY\",\r\n  },\r\n  {\r\n    id: \"frameColor\",\r\n    label: \"Frame Color\",\r\n  },\r\n  {\r\n    id: \"backColor\",\r\n    label: \"Back Color\",\r\n  },\r\n  {\r\n    id: \"seatColor\",\r\n    label: \"Seat Color\",\r\n  },\r\n  {\r\n    id: \"backMaterial\",\r\n    label: \"Back Material\",\r\n  },\r\n  {\r\n    id: \"seatMaterial\",\r\n    label: \"Seat Material\",\r\n  },\r\n  {\r\n    id: \"withHeadrest\",\r\n    label: \"Headrest\",\r\n  },\r\n  {\r\n    id: \"withAdArmrest\",\r\n    label: \"Adjustable Armrests\",\r\n  },\r\n  {\r\n    id: \"remark\",\r\n    label: \"Other Remark\",\r\n  },\r\n  {\r\n    id: \"shipmentDate\",\r\n    label: \"Shipment\",\r\n  },\r\n  {\r\n    id: \"arrivalDate\",\r\n    label: \"Arrival\",\r\n  },\r\n];\r\n\r\nconst hideChairColumns = [\r\n  \"Frame Color\",\r\n  \"Back Color\",\r\n  \"Seat Color\",\r\n  \"Back Material\",\r\n  \"Seat Material\",\r\n  \"Headrest\",\r\n  \"Adjustable Armrests\",\r\n  \"Other Remark\",\r\n  \"Shipment\",\r\n  \"Arrival\",\r\n];\r\n\r\nconst deskColumns = [\r\n  {\r\n    id: \"add\",\r\n  },\r\n  {\r\n    id: \"thumbnail\",\r\n    sx: { width: 100 },\r\n    nonSort: true,\r\n  },\r\n  {\r\n    id: \"supplierCode\",\r\n    label: \"Supplier\",\r\n  },\r\n  {\r\n    id: \"model\",\r\n    label: \"Model\",\r\n  },\r\n  {\r\n    id: \"unitPrice\",\r\n    label: \"Price\",\r\n  },\r\n  {\r\n    id: \"balance\",\r\n    label: \"Balance\",\r\n  },\r\n  {\r\n    id: \"qty\",\r\n    label: \"QTY\",\r\n  },\r\n  {\r\n    id: \"color\",\r\n    label: \"Color\",\r\n  },\r\n  {\r\n    id: \"armSize\",\r\n    label: \"Arm Size\",\r\n  },\r\n  {\r\n    id: \"feetSize\",\r\n    label: \"Feet Size\",\r\n  },\r\n  {\r\n    id: \"beamSize\",\r\n    label: \"Beam Size\",\r\n  },\r\n  {\r\n    id: \"remark\",\r\n    label: \"Other Remark\",\r\n  },\r\n  {\r\n    id: \"shipmentDate\",\r\n    label: \"Shipment\",\r\n  },\r\n  {\r\n    id: \"arrivalDate\",\r\n    label: \"Arrival\",\r\n  },\r\n];\r\n\r\nconst hideDeskColumns = [\r\n  \"Color\",\r\n  \"Arm Size\",\r\n  \"Feet Size\",\r\n  \"Beam Size\",\r\n  \"Other Remark\",\r\n  \"Shipment\",\r\n  \"Arrival\",\r\n];\r\n\r\nconst accessoryColumns = [\r\n  {\r\n    id: \"add\",\r\n  },\r\n  {\r\n    id: \"thumbnail\",\r\n    sx: { width: 100 },\r\n    nonSort: true,\r\n  },\r\n  {\r\n    id: \"name\",\r\n    label: \"Name\",\r\n  },\r\n  {\r\n    id: \"category\",\r\n    label: \"Category\",\r\n  },\r\n  {\r\n    id: \"unitPrice\",\r\n    label: \"Price\",\r\n  },\r\n  {\r\n    id: \"balance\",\r\n    label: \"Balance\",\r\n  },\r\n  {\r\n    id: \"qty\",\r\n    label: \"QTY\",\r\n  },\r\n  {\r\n    id: \"remark\",\r\n    label: \"Other Remark\",\r\n  },\r\n  {\r\n    id: \"shipmentDate\",\r\n    label: \"Shipment\",\r\n  },\r\n  {\r\n    id: \"arrivalDate\",\r\n    label: \"Arrival\",\r\n  },\r\n];\r\n\r\nconst materialOptions = [\r\n  \"Melamine\",\r\n  \"Laminate\",\r\n  \"North American Walnut\",\r\n  \"South American Walnut\",\r\n  \"Red Oak\",\r\n  \"Maple\",\r\n  \"Bamboo\",\r\n  \"Melamine with glass top\",\r\n  \"Toppal Plyedge\",\r\n];\r\n\r\nexport default connect(mapStateToProps)((props) => {\r\n  const theme = useTheme();\r\n  const { componentType, initialClient, initialCart, initialServices } = props;\r\n\r\n  const [topHoleCount, setTopHoleCount] = useState(0);\r\n  const [topHolePosition, setTopHolePosition] = useState(\"Left\");\r\n  const [topHoleType, setTopHoleType] = useState(\"Rounded\");\r\n  const [topMaterial, setTopMaterial] = useState(\"Melamine\");\r\n  const [topColor, setTopColor] = useState(\"\");\r\n  const [topLength, setTopLength] = useState(700);\r\n  const [topWidth, setTopWidth] = useState(400);\r\n  const [topThickness, setTopThickness] = useState(25);\r\n  const [topRoundedCorners, setTopRoundedCorners] = useState(0);\r\n  const [topCornerRadius, setTopCornerRadius] = useState(50);\r\n  const [sketchUrl, setSketchUrl] = useState(\"\");\r\n\r\n  const steps = [\r\n    \"Input Client Info\",\r\n    \"Select Products\",\r\n    \"Input Payment Details\",\r\n  ];\r\n  const clientForm = useRef(null);\r\n  const [currentStep, setCurrentStep] = useState(0);\r\n  const [addOpen, setAddOpen] = useState(false);\r\n  const [deskAddOpen, setDeskAddOpen] = useState(false);\r\n  const [hasDeskTop, setHasDeskTop] = useState(false);\r\n  const [productType, setProductType] = useState(\"chair\");\r\n  const [productDetail, setProductDetail] = useState(\"\");\r\n  const [productPrice, setProductPrice] = useState(1000);\r\n  const [productAmount, setProductAmount] = useState(0);\r\n  const [productRemark, setProductRemark] = useState(\"\");\r\n\r\n  const [deliveryChecked0, setDeliveryChecked0] = useState(false);\r\n  const [deliveryChecked1, setDeliveryChecked1] = useState(false);\r\n  const [deliveryChecked2, setDeliveryChecked2] = useState(false);\r\n  const [deliveryChecked3, setDeliveryChecked3] = useState(false);\r\n\r\n  const [cart, setCart] = useState(initialCart);\r\n  const [cartItemStatus, setCartItemStatus] = useState(\"add\");\r\n\r\n  const [chairStocks, setChairStocks] = useState([]);\r\n  const [deskStocks, setDeskStocks] = useState([]);\r\n  const [accessoryStocks, setAccessoryStocks] = useState([]);\r\n  const [initAccessoryStocks, setInitAccessoryStocks] = useState([]);\r\n  const [stocksIndex, setStocksIndex] = useState(0);\r\n\r\n  const [chairFeatures, setChairFeatures] = useState([]);\r\n  const [deskFeatures, setDeskFeatures] = useState([]);\r\n  // const [accessoryFeatures, setAccessoryFeatures] = useState([]);\r\n\r\n  const [chairFilterBrand, setChairFilterBrand] = useState(null);\r\n  const [chairFilterModel, setChairFilterModel] = useState(null);\r\n  const [deskFilterSupplier, setDeskFilterSupplier] = useState(null);\r\n  const [deskFilterModel, setDeskFilterModel] = useState(null);\r\n  const [deskFilterColor, setDeskFilterColor] = useState(null);\r\n  const [accessoryFilterCategory, setAccessoryFilterCategory] = useState(\"All\");\r\n\r\n  let initServices = initialServices\r\n    ? initialServices.map((service) =>\r\n        Object.assign(service, { productType: \"misc\" })\r\n      )\r\n    : [];\r\n  const [services, setServices] = useState(initServices);\r\n\r\n  const [selectedHideChairColumns, setSelectedHideChairColumns] = useState([]);\r\n  const [selectedHideDeskColumns, setSelectedHideDeskColumns] = useState([]);\r\n\r\n  const getChairFeatures = (cancelToken) => {\r\n    axios\r\n      .get(\"/chairStock/features\", { cancelToken })\r\n      .then((response) => {\r\n        // handle success\r\n        setChairFeatures(response.data);\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        console.log(error);\r\n      })\r\n      .then(function () {\r\n        // always executed\r\n      });\r\n  };\r\n\r\n  const getDeskFeatures = (cancelToken) => {\r\n    axios\r\n      .get(\"/deskStock/features\", { cancelToken })\r\n      .then((response) => {\r\n        // handle success\r\n        setDeskFeatures(response.data);\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        console.log(error);\r\n      })\r\n      .then(function () {\r\n        // always executed\r\n      });\r\n  };\r\n\r\n  const getAccessoryFeatures = (cancelToken) => {\r\n    axios\r\n      .get(\"/accessoryStock/features\", { cancelToken })\r\n      .then((response) => {\r\n        // handle success\r\n        // setAccessoryFeatures(response.data);\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        console.log(error);\r\n      })\r\n      .then(function () {\r\n        // always executed\r\n      });\r\n  };\r\n\r\n  const getChairStocks = (cancelToken) => {\r\n    axios\r\n      .get(\"/chairStock\", { cancelToken })\r\n      .then((response) => {\r\n        // handle success\r\n        setChairStocks(response.data);\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        console.log(error);\r\n      })\r\n      .then(function () {\r\n        // always executed\r\n      });\r\n  };\r\n\r\n  const getDeskStocks = (cancelToken) => {\r\n    axios\r\n      .get(\"/deskStock\", { cancelToken })\r\n      .then((response) => {\r\n        // handle success\r\n        setDeskStocks(response.data);\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        console.log(error);\r\n      })\r\n      .then(function () {\r\n        // always executed\r\n      });\r\n  };\r\n\r\n  const getAccessoryStocks = (cancelToken) => {\r\n    axios\r\n      .get(\"/accessoryStock\", { cancelToken })\r\n      .then((response) => {\r\n        // handle success\r\n        setAccessoryStocks(response.data);\r\n        setInitAccessoryStocks(response.data);\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        console.log(error);\r\n      })\r\n      .then(function () {\r\n        // always executed\r\n      });\r\n  };\r\n\r\n  useEffect(() => {\r\n    const source = axios.CancelToken.source();\r\n    getChairFeatures(source.token);\r\n    getDeskFeatures(source.token);\r\n    getAccessoryFeatures(source.token);\r\n    getChairStocks(source.token);\r\n    getDeskStocks(source.token);\r\n    getAccessoryStocks(source.token);\r\n    return () => source.cancel(\"Stock Component got unmounted\");\r\n  }, []);\r\n\r\n  const isStepFailed = (step) => {\r\n    if (clientForm.current !== null && currentStep > 0 && step === 0)\r\n      return !clientForm.current.checkValidity();\r\n    else if (\r\n      cart.length === 0 &&\r\n      services.length === 0 &&\r\n      currentStep > 1 &&\r\n      step === 1\r\n    )\r\n      return true;\r\n    else return false;\r\n  };\r\n\r\n  const handleProductRemark = (e) => {\r\n    setProductRemark(e.target.value);\r\n  };\r\n\r\n  const handleAccessoryFilterCategory = (e) => {\r\n    var selected_category = e.target.value;\r\n    setAccessoryFilterCategory(selected_category);\r\n    if (selected_category === \"All\") {\r\n      setAccessoryStocks(initAccessoryStocks);\r\n    } else {\r\n      setAccessoryStocks(\r\n        initAccessoryStocks.filter(\r\n          (stock) => stock.category === selected_category\r\n        )\r\n      );\r\n    }\r\n  };\r\n\r\n  const onAddService = () => {\r\n    const newService = {\r\n      id: uuidv4(),\r\n      description: \"\",\r\n      price: 0,\r\n      productType: \"misc\",\r\n    };\r\n    setServices([...services, newService]);\r\n  };\r\n\r\n  const onDeleteService = (serviceId) => {\r\n    const newServices = services.filter((service) => service.id !== serviceId);\r\n    setServices(newServices);\r\n  };\r\n\r\n  const onChangeServiceDes = (e, serviceId) => {\r\n    const newServices = services.map((service) => {\r\n      if (service.id === serviceId) {\r\n        return Object.assign({}, service, { description: e.target.value });\r\n      }\r\n      return service;\r\n    });\r\n    setServices(newServices);\r\n  };\r\n\r\n  const onChangeServicePrice = (e, serviceId) => {\r\n    const newServices = services.map((service) => {\r\n      if (service.id === serviceId) {\r\n        return Object.assign({}, service, {\r\n          price: parseFloat(e.target.value),\r\n        });\r\n      }\r\n      return service;\r\n    });\r\n    setServices(newServices);\r\n  };\r\n\r\n  const onHideChairColumnChanged = (values) => {\r\n    setSelectedHideChairColumns(values);\r\n  };\r\n\r\n  const onHideDeskColumnChanged = (values) => {\r\n    setSelectedHideDeskColumns(values);\r\n  };\r\n\r\n  const onEditCartProduct = (item) => {\r\n    setCartItemStatus(\"edit\");\r\n    setProductType(item.productType);\r\n    setProductDetail(item.productDetail);\r\n    setProductRemark(item.remark);\r\n    setProductPrice(item.productPrice);\r\n    setProductAmount(item.productAmount);\r\n    const deliveryOptions = JSON.parse(item.productDeliveryOption);\r\n\r\n    if (deliveryOptions.includes(\"Delivery Included\"))\r\n      setDeliveryChecked0(true);\r\n    if (deliveryOptions.includes(\"Delivery and installation included\"))\r\n      setDeliveryChecked1(true);\r\n    if (deliveryOptions.includes(\"Remote Area Surcharge\"))\r\n      setDeliveryChecked2(true);\r\n    if (deliveryOptions.includes(\"Stairs Surcharge\")) setDeliveryChecked3(true);\r\n\r\n    if (item.productType === \"chair\" || item.productType === \"accessory\") {\r\n      setAddOpen(true);\r\n    } else if (item.productType === \"desk\") {\r\n      setHasDeskTop(item.hasDeskTop);\r\n      setTopColor(item.topColor);\r\n      setTopCornerRadius(item.topCornerRadius);\r\n      setTopHoleCount(item.topHoleCount);\r\n      setTopHolePosition(item.topHolePosition);\r\n      setTopHoleType(item.topHoleType);\r\n      setTopLength(item.topLength);\r\n      setTopMaterial(item.topMaterial);\r\n      setTopRoundedCorners(item.topRoundedCorners);\r\n      setTopThickness(item.topThickness);\r\n      setTopWidth(item.topWidth);\r\n      setSketchUrl(item.topSketchURL);\r\n\r\n      setDeskAddOpen(true);\r\n    }\r\n  };\r\n\r\n  console.log(\"cart----\", cart);\r\n\r\n  return (\r\n    <Box\r\n      sx={{\r\n        height: \"100%\",\r\n        overflow: \"auto\",\r\n        padding: \"20px 20px 10px 20px\",\r\n      }}\r\n    >\r\n      <Stepper activeStep={currentStep} sx={{ flexWrap: \"wrap\" }}>\r\n        {steps.map((label, index) => {\r\n          const labelProps = {};\r\n          if (isStepFailed(index)) {\r\n            labelProps.optional = (\r\n              <Typography variant=\"caption\" color=\"error\">\r\n                {[\"Invalid Input\", \"Products cannot be empty\"][index]}\r\n              </Typography>\r\n            );\r\n\r\n            labelProps.error = true;\r\n          }\r\n\r\n          return (\r\n            <Step key={label} sx={{ my: \"10px\" }}>\r\n              <StepLabel {...labelProps}>{label}</StepLabel>\r\n            </Step>\r\n          );\r\n        })}\r\n      </Stepper>\r\n      <Box\r\n        sx={{ mx: \"auto\", mt: \"50px\" }}\r\n        ref={clientForm}\r\n        hidden={currentStep !== 0}\r\n        component=\"form\"\r\n        maxWidth=\"sm\"\r\n        fullWidth\r\n        onSubmit={(e) => {\r\n          e.preventDefault();\r\n          setCurrentStep(1);\r\n        }}\r\n      >\r\n        <Paper\r\n          sx={{\r\n            p: \"10px\",\r\n            display: \"flex\",\r\n            flexWrap: \"wrap\",\r\n            justifyContent: \"space-between\",\r\n          }}\r\n        >\r\n          <Typography variant=\"h6\" sx={{ flexBasis: \"100%\", minWidth: \"100%\" }}>\r\n            Client Info\r\n          </Typography>\r\n          {[\r\n            { name: \"name\", label: \"Name\", type: \"text\", defaultValue: initialClient.name, width: \"100%\", required: true, },\r\n            { name: \"phone\", label: \"Phone\", type: \"text\", value: initialClient.phone, onChange: initialClient.setPhone, width: \"48%\", },\r\n            { name: \"email\", label: \"Email\", type: \"email\", defaultValue: initialClient.email, width: \"48%\", },\r\n            { name: \"district\", label: \"District\", type: \"text\", defaultValue: initialClient.district, width: \"55%\", },\r\n            { name: \"street\", label: \"Street\", type: \"text\", defaultValue: initialClient.street, width: \"40%\", },\r\n            { name: \"block\", label: \"Block\", type: \"text\", defaultValue: initialClient.block, width: \"30%\", },\r\n            { name: \"floor\", label: \"Floor\", type: \"text\", defaultValue: initialClient.floor, width: \"30%\", },\r\n            { name: \"unit\", label: \"Unit\", type: \"text\", defaultValue: initialClient.unit, width: \"30%\", },\r\n          ].map(({ setValue, width, ...restProps }, index) =>\r\n            restProps.label === \"Phone\" ? (\r\n              <MuiPhoneNumber\r\n                key={index}\r\n                variant=\"outlined\"\r\n                onlyCountries={[\"hk\"]}\r\n                defaultCountry={\"hk\"}\r\n                sx={{ flexBasis: width, minWidth: width }}\r\n                margin=\"dense\"\r\n                size=\"small\"\r\n                {...restProps}\r\n              />\r\n            ) : (\r\n              <TextField\r\n                key={index}\r\n                sx={{ flexBasis: width, minWidth: width }}\r\n                {...restProps}\r\n              />\r\n            )\r\n          )}\r\n          <TextField\r\n            sx={{ flexBasis: [\"100%\", \"30%\"], minWidth: [\"100%\", \"30%\"] }}\r\n            name=\"timeLine\"\r\n            label=\"TimeLine\"\r\n            type=\"number\"\r\n            inputProps={{ min: 0 }}\r\n            defaultValue={initialClient.timeLine || 0}\r\n          />\r\n          <RadioGroup\r\n            row\r\n            name=\"timeLineFormat\"\r\n            defaultValue=\"day\"\r\n            sx={{\r\n              flexBasis: [\"100%\", \"70%\"],\r\n              minWidth: [\"100%\", \"70%\"],\r\n              justifyContent: \"flex-end\",\r\n            }}\r\n          >\r\n            <FormControlLabel value=\"day\" control={<Radio />} label=\"Days\" />\r\n            <FormControlLabel value=\"week\" control={<Radio />} label=\"Weeks\" />\r\n          </RadioGroup>\r\n          <TextField\r\n            sx={{ flexBasis: [\"100%\", \"100%\"], minWidth: [\"100%\", \"100%\"] }}\r\n            name=\"remark\" label=\"Delivery Remark\" type=\"text\"\r\n            defaultValue={initialClient.remark || ''}\r\n          />\r\n        </Paper>\r\n        <Button type=\"submit\" sx={{ marginTop: \"10px\", float: \"right\" }}>\r\n          Next\r\n        </Button>\r\n      </Box>\r\n      {currentStep === 1 && (\r\n        <>\r\n          {cart.length > 0 && (\r\n            <Paper>\r\n              <ProductList sx={{ px: \"10px\" }}>\r\n                {cart.map((item, index) => (\r\n                  <ProductListItem\r\n                    key={index}\r\n                    secondaryAction={\r\n                      <Fragment>\r\n                        <IconButton\r\n                          onClick={(event) => {\r\n                            event.preventDefault();\r\n                            onEditCartProduct(item);\r\n                          }}\r\n                        >\r\n                          <EditIcon />\r\n                        </IconButton>\r\n                        <IconButton\r\n                          onClick={(event) => {\r\n                            event.preventDefault();\r\n                            setCart(\r\n                              cart.filter(\r\n                                (product, productIndex) =>\r\n                                  productIndex !== index\r\n                              )\r\n                            );\r\n                          }}\r\n                        >\r\n                          <DeleteIcon />\r\n                        </IconButton>\r\n                      </Fragment>\r\n                    }\r\n                  >\r\n                    {item.productType === \"chair\" && (\r\n                      <ProductListItemText\r\n                        primary={`Chair: ${item.productDetail.brand}, ${item.productDetail.model}, ${item.remark}`}\r\n                        secondary={`${\r\n                          item.productDetail.withHeadrest ? \"Headrest, \" : \"\"\r\n                        }${item.productDetail.withAdArmrest ? \"Armrest\" : \"\"}`}\r\n                      />\r\n                    )}\r\n                    {item.productType === \"desk\" && (\r\n                      <ProductListItemText\r\n                        primary={`Desk: ${item.productDetail.supplierCode}, ${item.productDetail.model}, ${item.productDetail.color}, ${item.productDetail.armSize}, ${item.productDetail.feetSize}, ${item.productDetail.beamSize}`}\r\n                        secondary={\r\n                          item.hasDeskTop\r\n                            ? `${item.topMaterial}, ${item.topColor}, ${item.topLength}x${item.topWidth}x${item.topThickness}, ${item.topRoundedCorners}-R${item.topCornerRadius}, ${item.topHoleCount}-${item.topHoleType}`\r\n                            : \"Without DeskTop\"\r\n                        }\r\n                      />\r\n                    )}\r\n                    {item.productType === \"accessory\" && (\r\n                      <ProductListItemText\r\n                        primary={`Accessory: ${item.productDetail.category}`}\r\n                        secondary={`${item.remark}`}\r\n                      />\r\n                    )}\r\n                    <ProductPriceAmount\r\n                      unitPrice={`${item.productPrice} HKD`}\r\n                      amount={`Amount: ${item.productAmount}`}\r\n                      deliveryOption={`${item.productDeliveryOption}`}\r\n                    />\r\n                  </ProductListItem>\r\n                ))}\r\n              </ProductList>\r\n            </Paper>\r\n          )}\r\n          <Paper sx={{ my: \"10px\" }}>\r\n            <Box sx={{ borderBottom: 1, borderColor: \"divider\" }}>\r\n              <Tabs\r\n                value={stocksIndex}\r\n                onChange={(event, value) => {\r\n                  event.preventDefault();\r\n                  setStocksIndex(value);\r\n                }}\r\n                aria-label=\"basic tabs example\"\r\n              >\r\n                <Tab label=\"Chairs\" />\r\n                <Tab label=\"Desks\" />\r\n                <Tab label=\"Accessories\" />\r\n                <Tab label=\"Miscs\" />\r\n              </Tabs>\r\n            </Box>\r\n            <TabPanel value={stocksIndex} index={0}>\r\n              <Paper\r\n                sx={{\r\n                  marginTop: \"10px\",\r\n                  padding: \"5px 10px\",\r\n                  display: \"flex\",\r\n                  flexWrap: \"wrap\",\r\n                  justifyContent: \"space-around\",\r\n                }}\r\n              >\r\n                {[\r\n                  {\r\n                    label: \"Brand\",\r\n                    value: chairFilterBrand,\r\n                    onChange: (event, value) => {\r\n                      event.preventDefault();\r\n                      setChairFilterBrand(value);\r\n                      setChairFilterModel(null);\r\n                    },\r\n                    options: chairFeatures\r\n                      .map((item) => item.brand)\r\n                      .filter((c, index, chars) => chars.indexOf(c) === index),\r\n                  },\r\n                  {\r\n                    label: \"Model\",\r\n                    value: chairFilterModel,\r\n                    onChange: (event, value) => {\r\n                      event.preventDefault();\r\n                      setChairFilterModel(value);\r\n                    },\r\n                    options: chairFeatures\r\n                      .filter(\r\n                        (item) =>\r\n                          !chairFilterBrand || item.brand === chairFilterBrand\r\n                      )\r\n                      .map((item) => item.model)\r\n                      .filter((c, index, chars) => chars.indexOf(c) === index),\r\n                  },\r\n                ].map(({ label, ...props }, index) => (\r\n                  <Autocomplete\r\n                    key={index}\r\n                    sx={{ flexBasis: \"200px\", maxWidth: \"200px\" }}\r\n                    renderInput={(params) => (\r\n                      <TextField {...params} label={label} />\r\n                    )}\r\n                    {...props}\r\n                  />\r\n                ))}\r\n              </Paper>\r\n              <CheckableMultiSelect\r\n                options={hideChairColumns}\r\n                onChange={onHideChairColumnChanged}\r\n                selected={selectedHideChairColumns}\r\n              />\r\n              <DataGrid\r\n                nonSelect={true}\r\n                title=\"Chair Stocks\"\r\n                rows={chairStocks\r\n                  .map(\r\n                    (\r\n                      {\r\n                        thumbnailURL,\r\n                        withHeadrest,\r\n                        withAdArmrest,\r\n                        shipmentDate,\r\n                        arrivalDate,\r\n                        ...restProps\r\n                      },\r\n                      index\r\n                    ) => ({\r\n                      thumbnail: (\r\n                        <a\r\n                          href=\"/\"\r\n                          onClick={(e) => {\r\n                            e.preventDefault();\r\n                            Swal.fire({\r\n                              html: `<img alt=\"\" width=\"400px\" src=\"${thumbnailURL}\" />`,\r\n                              showCloseButton: true,\r\n                              showConfirmButton: false,\r\n                              allowOutsideClick: false,\r\n                            });\r\n                          }}\r\n                        >\r\n                          <img\r\n                            alt=\"\"\r\n                            width=\"80px\"\r\n                            src={thumbnailURL}\r\n                            style={{ marginTop: \"5px\" }}\r\n                          />\r\n                        </a>\r\n                      ),\r\n                      withHeadrest: withHeadrest ? \"Yes\" : \"No\",\r\n                      withAdArmrest: withAdArmrest ? \"Yes\" : \"No\",\r\n                      add: (\r\n                        <IconButton\r\n                          onClick={(event) => {\r\n                            event.preventDefault();\r\n                            if (\r\n                              cart.find(\r\n                                (item) =>\r\n                                  item.productType === \"chair\" &&\r\n                                  item.productDetail.id ===\r\n                                    chairStocks[index].id\r\n                              )\r\n                            ) {\r\n                              Swal.fire({\r\n                                icon: \"warning\",\r\n                                title: \"Warning\",\r\n                                text: \"This product is already added.\",\r\n                                allowOutsideClick: false,\r\n                              });\r\n                              return;\r\n                            }\r\n                            setProductType(\"chair\");\r\n                            setProductDetail(chairStocks[index]);\r\n                            let frameColor =\r\n                              chairStocks[index].frameColor === \"\"\r\n                                ? \"___\"\r\n                                : chairStocks[index].frameColor;\r\n                            let seatColor =\r\n                              chairStocks[index].seatColor === \"\"\r\n                                ? \"___\"\r\n                                : chairStocks[index].seatColor;\r\n                            let backColor =\r\n                              chairStocks[index].backColor === \"\"\r\n                                ? \"___\"\r\n                                : chairStocks[index].backColor;\r\n                            let remark =\r\n                              \"FrameColor:\" +\r\n                              frameColor +\r\n                              \", SeatColor:\" +\r\n                              seatColor +\r\n                              \", BackColor:\" +\r\n                              backColor;\r\n                            setProductRemark(remark);\r\n                            setProductPrice(chairStocks[index].unitPrice);\r\n                            setProductAmount(1);\r\n                            setAddOpen(true);\r\n                          }}\r\n                        >\r\n                          <AddIcon />\r\n                        </IconButton>\r\n                      ),\r\n                      shipmentDate: (() => {\r\n                        if (shipmentDate === null) return \"No\";\r\n                        const createdTime = new Date(shipmentDate);\r\n                        createdTime.setMinutes(\r\n                          createdTime.getMinutes() -\r\n                            createdTime.getTimezoneOffset()\r\n                        );\r\n                        return createdTime.toISOString().split(\"T\")[0];\r\n                      })(),\r\n                      arrivalDate: (() => {\r\n                        if (arrivalDate === null) return \"No\";\r\n                        const createdTime = new Date(arrivalDate);\r\n                        createdTime.setMinutes(\r\n                          createdTime.getMinutes() -\r\n                            createdTime.getTimezoneOffset()\r\n                        );\r\n                        return createdTime.toISOString().split(\"T\")[0];\r\n                      })(),\r\n                      ...restProps,\r\n                    })\r\n                  )\r\n                  .filter(\r\n                    (item) =>\r\n                      (!chairFilterBrand || item.brand === chairFilterBrand) &&\r\n                      (!chairFilterModel || item.model === chairFilterModel)\r\n                  )}\r\n                columns={chairColumns\r\n                  .map((column, i) => {\r\n                    if (i > 6) {\r\n                      if (\r\n                        selectedHideChairColumns.find(\r\n                          (hideColumn) => hideColumn === column.label\r\n                        )\r\n                      )\r\n                        return column;\r\n                    }\r\n                    return column;\r\n                  })\r\n                  .filter((column) => column !== undefined)}\r\n              />\r\n            </TabPanel>\r\n            <TabPanel value={stocksIndex} index={1}>\r\n              <Paper\r\n                sx={{\r\n                  marginTop: \"10px\",\r\n                  padding: \"5px 10px\",\r\n                  display: \"flex\",\r\n                  flexWrap: \"wrap\",\r\n                  justifyContent: \"space-around\",\r\n                }}\r\n              >\r\n                {[\r\n                  {\r\n                    label: \"Supplier\",\r\n                    value: deskFilterSupplier,\r\n                    onChange: (event, value) => {\r\n                      event.preventDefault();\r\n                      setDeskFilterSupplier(value);\r\n                      setDeskFilterModel(null);\r\n                      setDeskFilterColor(null);\r\n                    },\r\n                    options: deskFeatures\r\n                      .map((item) => item.supplierCode)\r\n                      .filter((c, index, chars) => chars.indexOf(c) === index),\r\n                  },\r\n                  {\r\n                    label: \"Model\",\r\n                    value: deskFilterModel,\r\n                    onChange: (event, value) => {\r\n                      event.preventDefault();\r\n                      setDeskFilterModel(value);\r\n                      setDeskFilterColor(null);\r\n                    },\r\n                    options: deskFeatures\r\n                      .filter(\r\n                        (item) =>\r\n                          !deskFilterSupplier ||\r\n                          item.supplierCode === deskFilterSupplier\r\n                      )\r\n                      .map((item) => item.model)\r\n                      .filter((c, index, chars) => chars.indexOf(c) === index),\r\n                  },\r\n                  {\r\n                    label: \"Color\",\r\n                    value: deskFilterColor,\r\n                    onChange: (event, value) => {\r\n                      event.preventDefault();\r\n                      setDeskFilterColor(value);\r\n                    },\r\n                    options: deskFeatures\r\n                      .filter(\r\n                        (item) =>\r\n                          !deskFilterModel || item.model === deskFilterModel\r\n                      )\r\n                      .map((item) => item.color)\r\n                      .filter((c, index, chars) => chars.indexOf(c) === index),\r\n                  },\r\n                ].map(({ label, ...props }, index) => (\r\n                  <Autocomplete\r\n                    key={index}\r\n                    sx={{ flexBasis: \"200px\", maxWidth: \"200px\" }}\r\n                    renderInput={(params) => (\r\n                      <TextField {...params} label={label} />\r\n                    )}\r\n                    {...props}\r\n                  />\r\n                ))}\r\n              </Paper>\r\n              <CheckableMultiSelect\r\n                options={hideDeskColumns}\r\n                onChange={onHideDeskColumnChanged}\r\n                selected={selectedHideDeskColumns}\r\n              />\r\n              <DataGrid\r\n                nonSelect={true}\r\n                title=\"Desk Leg Stocks\"\r\n                rows={deskStocks\r\n                  .map(\r\n                    (\r\n                      { thumbnailURL, shipmentDate, arrivalDate, ...restProps },\r\n                      index\r\n                    ) => ({\r\n                      thumbnail: (\r\n                        <a\r\n                          href=\"/\"\r\n                          onClick={(e) => {\r\n                            e.preventDefault();\r\n                            Swal.fire({\r\n                              html: `<img alt=\"\" width=\"400px\" src=\"${thumbnailURL}\" />`,\r\n                              showCloseButton: true,\r\n                              showConfirmButton: false,\r\n                              allowOutsideClick: false,\r\n                            });\r\n                          }}\r\n                        >\r\n                          <img\r\n                            alt=\"\"\r\n                            width=\"80px\"\r\n                            src={thumbnailURL}\r\n                            style={{ marginTop: \"5px\" }}\r\n                          />\r\n                        </a>\r\n                      ),\r\n                      add: (\r\n                        <IconButton\r\n                          onClick={(event) => {\r\n                            setProductType(\"desk\");\r\n                            setProductDetail(deskStocks[index]);\r\n                            setProductPrice(deskStocks[index].unitPrice);\r\n                            setProductAmount(1);\r\n                            setHasDeskTop(false);\r\n                            setDeskAddOpen(true);\r\n                          }}\r\n                        >\r\n                          <AddIcon />\r\n                        </IconButton>\r\n                      ),\r\n                      shipmentDate: (() => {\r\n                        if (shipmentDate === null) return \"No\";\r\n                        const createdTime = new Date(shipmentDate);\r\n                        createdTime.setMinutes(\r\n                          createdTime.getMinutes() -\r\n                            createdTime.getTimezoneOffset()\r\n                        );\r\n                        return createdTime.toISOString().split(\"T\")[0];\r\n                      })(),\r\n                      arrivalDate: (() => {\r\n                        if (arrivalDate === null) return \"No\";\r\n                        const createdTime = new Date(arrivalDate);\r\n                        createdTime.setMinutes(\r\n                          createdTime.getMinutes() -\r\n                            createdTime.getTimezoneOffset()\r\n                        );\r\n                        return createdTime.toISOString().split(\"T\")[0];\r\n                      })(),\r\n                      ...restProps,\r\n                    })\r\n                  )\r\n                  .filter(\r\n                    (item) =>\r\n                      (!deskFilterSupplier ||\r\n                        item.supplierCode === deskFilterSupplier) &&\r\n                      (!deskFilterModel || item.model === deskFilterModel) &&\r\n                      (!deskFilterColor || item.color === deskFilterColor)\r\n                  )}\r\n                columns={deskColumns\r\n                  .map((column, i) => {\r\n                    if (i > 6) {\r\n                      if (\r\n                        selectedHideDeskColumns.find(\r\n                          (hideColumn) => hideColumn === column.label\r\n                        )\r\n                      )\r\n                        return column;\r\n                    }\r\n                    return column;\r\n                  })\r\n                  .filter((column) => column !== undefined)}\r\n              />\r\n            </TabPanel>\r\n            <TabPanel value={stocksIndex} index={2}>\r\n              <Paper\r\n                sx={{\r\n                  marginTop: \"10px\",\r\n                  padding: \"5px 10px\",\r\n                  display: \"flex\",\r\n                  flexWrap: \"wrap\",\r\n                  justifyContent: \"space-around\",\r\n                }}\r\n              >\r\n                <FormControl\r\n                  size=\"small\"\r\n                  sx={{ flexBasis: \"200px\", maxWidth: \"200px\" }}\r\n                >\r\n                  <InputLabel id=\"category_filter\">Category</InputLabel>\r\n                  <Select\r\n                    labelId=\"category_filter\"\r\n                    label=\"Category\"\r\n                    value={accessoryFilterCategory}\r\n                    onChange={handleAccessoryFilterCategory}\r\n                  >\r\n                    <MenuItem value=\"All\">All</MenuItem>\r\n                    <MenuItem value=\"Desk Accessories\">\r\n                      Desk Accessories\r\n                    </MenuItem>\r\n                    <MenuItem value=\"Chair Accessories\">\r\n                      Chair Accessories\r\n                    </MenuItem>\r\n                    <MenuItem value=\"Desk on Desk\">Desk on Desk</MenuItem>\r\n                    <MenuItem value=\"Monitor Arms\">Monitor Arms</MenuItem>\r\n                    <MenuItem value=\"Cabinet\">Cabinet</MenuItem>\r\n                    <MenuItem value=\"Drawer\">Drawer</MenuItem>\r\n                  </Select>\r\n                </FormControl>\r\n              </Paper>\r\n              <DataGrid\r\n                nonSelect={true}\r\n                title=\"Accessory Stocks\"\r\n                rows={accessoryStocks.map(\r\n                  (\r\n                    { thumbnailURL, shipmentDate, arrivalDate, ...restProps },\r\n                    index\r\n                  ) => ({\r\n                    thumbnail: (\r\n                      <a\r\n                        href=\"/\"\r\n                        onClick={(e) => {\r\n                          e.preventDefault();\r\n                          Swal.fire({\r\n                            html: `<img alt=\"\" width=\"400px\" src=\"${thumbnailURL}\" />`,\r\n                            showCloseButton: true,\r\n                            showConfirmButton: false,\r\n                            allowOutsideClick: false,\r\n                          });\r\n                        }}\r\n                      >\r\n                        <img\r\n                          alt=\"\"\r\n                          width=\"80px\"\r\n                          src={thumbnailURL}\r\n                          style={{ marginTop: \"5px\" }}\r\n                        />\r\n                      </a>\r\n                    ),\r\n                    add: (\r\n                      <IconButton\r\n                        onClick={(event) => {\r\n                          event.preventDefault();\r\n                          setProductType(\"accessory\");\r\n                          setProductDetail(accessoryStocks[index]);\r\n                          setProductRemark(accessoryStocks[index].remark);\r\n                          setProductPrice(accessoryStocks[index].unitPrice);\r\n                          setProductAmount(1);\r\n                          if (\r\n                            cart.find(\r\n                              (item) =>\r\n                                item.productType === \"accessory\" &&\r\n                                item.productDetail.id ===\r\n                                  accessoryStocks[index].id\r\n                            )\r\n                          ) {\r\n                            Swal.fire({\r\n                              icon: \"warning\",\r\n                              title: \"Warning\",\r\n                              text: \"This product is already added.\",\r\n                              allowOutsideClick: false,\r\n                            });\r\n                            return;\r\n                          }\r\n                          setAddOpen(true);\r\n                        }}\r\n                      >\r\n                        <AddIcon />\r\n                      </IconButton>\r\n                    ),\r\n                    shipmentDate: (() => {\r\n                      if (shipmentDate === null) return \"No\";\r\n                      const createdTime = new Date(shipmentDate);\r\n                      createdTime.setMinutes(\r\n                        createdTime.getMinutes() -\r\n                          createdTime.getTimezoneOffset()\r\n                      );\r\n                      return createdTime.toISOString().split(\"T\")[0];\r\n                    })(),\r\n                    arrivalDate: (() => {\r\n                      if (arrivalDate === null) return \"No\";\r\n                      const createdTime = new Date(arrivalDate);\r\n                      createdTime.setMinutes(\r\n                        createdTime.getMinutes() -\r\n                          createdTime.getTimezoneOffset()\r\n                      );\r\n                      return createdTime.toISOString().split(\"T\")[0];\r\n                    })(),\r\n                    ...restProps,\r\n                  })\r\n                )}\r\n                columns={accessoryColumns}\r\n              />\r\n            </TabPanel>\r\n            <TabPanel value={stocksIndex} index={3}>\r\n              <Box sx={{ m: 3 }}>\r\n                <Button\r\n                  variant=\"contained\"\r\n                  sx={{ mb: 2 }}\r\n                  onClick={onAddService}\r\n                >\r\n                  + New Service\r\n                </Button>\r\n                <Grid container spacing={2}>\r\n                  {services.map((service) => (\r\n                    <Grid item xs={4} key={service.id}>\r\n                      <Card sx={{ px: 2, pb: 2 }}>\r\n                        <Box\r\n                          sx={{ display: \"flex\", justifyContent: \"flex-end\" }}\r\n                        >\r\n                          <IconButton\r\n                            aria-label=\"settings\"\r\n                            size=\"small\"\r\n                            onClick={() => onDeleteService(service.id)}\r\n                          >\r\n                            <CloseIcon fontSize=\"small\" />\r\n                          </IconButton>\r\n                        </Box>\r\n                        <TextField\r\n                          label=\"Description\"\r\n                          multiline\r\n                          rows={5}\r\n                          sx={{ flexBasis: \"100%\", minWidth: \"100%\" }}\r\n                          value={service.description}\r\n                          onChange={(e) => onChangeServiceDes(e, service.id)}\r\n                        />\r\n                        <TextField\r\n                          type=\"number\"\r\n                          sx={{ flexBasis: \"100%\", minWidth: \"100%\" }}\r\n                          label=\"Price\"\r\n                          value={service.price}\r\n                          onChange={(e) => onChangeServicePrice(e, service.id)}\r\n                        />\r\n                      </Card>\r\n                    </Grid>\r\n                  ))}\r\n                </Grid>\r\n              </Box>\r\n            </TabPanel>\r\n          </Paper>\r\n          <Button\r\n            onClick={(e) => {\r\n              e.preventDefault();\r\n              setCurrentStep(0);\r\n            }}\r\n          >\r\n            Previous\r\n          </Button>\r\n          <Button\r\n            sx={{ float: \"right\" }}\r\n            onClick={(e) => {\r\n              e.preventDefault();\r\n              if (cart.length === 0 && services.length === 0) {\r\n                Swal.fire({\r\n                  icon: \"warning\",\r\n                  title: \"Warning\",\r\n                  text: \"Products and services list cannot be empty\",\r\n                  allowOutsideClick: false,\r\n                });\r\n                return;\r\n              }\r\n              setCurrentStep(2);\r\n            }}\r\n          >\r\n            Next\r\n          </Button>\r\n        </>\r\n      )}\r\n      <Box\r\n        sx={{ mx: \"auto\", mt: \"50px\" }}\r\n        hidden={currentStep !== 2}\r\n        component=\"form\"\r\n        maxWidth=\"sm\"\r\n        fullWidth\r\n        onSubmit={(e) => {\r\n          e.preventDefault();\r\n          const clientData = new FormData(clientForm.current);\r\n          const paymentData = new FormData(e.currentTarget);\r\n          if (componentType === \"create\")\r\n            axios\r\n              .post(`/quotation/create`, {\r\n                name: clientData.get(\"name\"),\r\n                phone: clientData.get(\"phone\"),\r\n                email: clientData.get(\"email\"),\r\n                district: clientData.get(\"district\"),\r\n                street: clientData.get(\"street\"),\r\n                block: clientData.get(\"block\"),\r\n                floor: clientData.get(\"floor\"),\r\n                unit: clientData.get(\"unit\"),\r\n                timeLine:\r\n                  Math.max(clientData.get(\"timeLine\"), 0) *\r\n                  (clientData.get(\"timeLineFormat\") === \"day\" ? 1 : 7),\r\n                remark: clientData.get(\"remark\"),\r\n                products: cart\r\n                  .map(({ productDetail, ...restProps }) => ({\r\n                    productId: productDetail.id,\r\n                    productCategory: productDetail.category ?? \"\",\r\n                    ...restProps,\r\n                  }))\r\n                  .concat(services),\r\n                paymentTerms: paymentData.get(\"paymentTerms\"),\r\n                paid: Boolean(paymentData.get(\"paid\")),\r\n                validTil: paymentData.get(\"validTil\") || null,\r\n                discount: Math.max(\r\n                  paymentData.get(\"discountType\") > 0\r\n                    ? paymentData.get(\"discount\")\r\n                    : Math.min(paymentData.get(\"discount\"), 100),\r\n                  0\r\n                ),\r\n                discountType: paymentData.get(\"discountType\"),\r\n                surcharge: Math.max(\r\n                  paymentData.get(\"surchargeType\") > 0\r\n                    ? paymentData.get(\"surcharge\")\r\n                    : Math.min(paymentData.get(\"surcharge\"), 100),\r\n                  0\r\n                ),\r\n                surchargeType: paymentData.get(\"surchargeType\"),\r\n              })\r\n              .then(() => {\r\n                // handle success\r\n                props.history.push(\"/admin/quotation\");\r\n              })\r\n              .catch(function (error) {\r\n                // handle error\r\n                Swal.fire({\r\n                  icon: \"error\",\r\n                  title: \"Error\",\r\n                  text: error.response.data.message,\r\n                  allowOutsideClick: false,\r\n                }).then(() => {});\r\n                console.log(error);\r\n              })\r\n              .then(function () {\r\n                // always executed\r\n              });\r\n          else {\r\n            axios\r\n              .put(`/quotation/${initialClient.id}`, {\r\n                name: clientData.get(\"name\"),\r\n                phone: clientData.get(\"phone\"),\r\n                email: clientData.get(\"email\"),\r\n                district: clientData.get(\"district\"),\r\n                street: clientData.get(\"street\"),\r\n                block: clientData.get(\"block\"),\r\n                floor: clientData.get(\"floor\"),\r\n                unit: clientData.get(\"unit\"),\r\n                timeLine:\r\n                  clientData.get(\"timeLine\") *\r\n                  (clientData.get(\"timeLineFormat\") === \"day\" ? 1 : 7),\r\n                remark: clientData.get(\"remark\"),\r\n                products: cart\r\n                  .map(({ productDetail, ...restProps }) => ({\r\n                    productId: productDetail.id,\r\n                    productCategory: productDetail.category ?? \"\",\r\n                    ...restProps,\r\n                  }))\r\n                  .concat(services),\r\n                paymentTerms: paymentData.get(\"paymentTerms\"),\r\n                paid: Boolean(paymentData.get(\"paid\")),\r\n                validTil: paymentData.get(\"validTil\") || null,\r\n                discount: Math.max(\r\n                  paymentData.get(\"discountType\") > 0\r\n                    ? paymentData.get(\"discount\")\r\n                    : Math.min(paymentData.get(\"discount\"), 100),\r\n                  0\r\n                ),\r\n                discountType: paymentData.get(\"discountType\"),\r\n                surcharge: Math.max(\r\n                  paymentData.get(\"surchargeType\") > 0\r\n                    ? paymentData.get(\"surcharge\")\r\n                    : Math.min(paymentData.get(\"surcharge\"), 100),\r\n                  0\r\n                ),\r\n                surchargeType: paymentData.get(\"surchargeType\"),\r\n              })\r\n              .then(() => {\r\n                // handle success\r\n                props.history.push(\"/admin/quotation\");\r\n              })\r\n              .catch(function (error) {\r\n                // handle error\r\n                Swal.fire({\r\n                  icon: \"error\",\r\n                  title: \"Error\",\r\n                  text: error.response.data.message,\r\n                  allowOutsideClick: false,\r\n                }).then(() => {});\r\n                console.log(error);\r\n              })\r\n              .then(function () {\r\n                // always executed\r\n              });\r\n          }\r\n        }}\r\n      >\r\n        <Paper\r\n          sx={{\r\n            p: \"10px\",\r\n            display: \"flex\",\r\n            flexWrap: \"wrap\",\r\n            justifyContent: \"space-between\",\r\n          }}\r\n        >\r\n          <Typography variant=\"h6\" sx={{ flexBasis: \"100%\", minWidth: \"100%\" }}>\r\n            Payment Details\r\n          </Typography>\r\n          <Typography variant=\"h7\" sx={{ flexBasis: \"100%\", minWidth: \"100%\" }}>\r\n            Sub Total:{\" \"}\r\n            {cart.reduce(\r\n              (p, c) => p + c.productAmount * parseFloat(c.productPrice),\r\n              0\r\n            ) + services.reduce((p, c) => p + c.price, 0)}\r\n          </Typography>\r\n          <TextField\r\n            name=\"paymentTerms\"\r\n            size=\"small\"\r\n            sx={{ flexBasis: \"100%\", minWidth: \"100%\" }}\r\n            defaultValue={initialClient.paymentTerms}\r\n            label=\"Payment Terms\"\r\n          />\r\n          <FormControlLabel\r\n            sx={{\r\n              flexBasis: \"100%\",\r\n              minWidth: \"100%\",\r\n              alignItems: \"baseline\",\r\n              m: 0,\r\n            }}\r\n            control={\r\n              <TextField\r\n                type=\"number\"\r\n                name=\"validTil\"\r\n                label=\"Valid Til\"\r\n                inputProps={{\r\n                  max: 10,\r\n                  min: 0,\r\n                }}\r\n                defaultValue={initialClient.validTil}\r\n                InputLabelProps={{ shrink: true }}\r\n                fullWidth\r\n                sx={{ m: \"10px 5px 10px 0\" }}\r\n              />\r\n            }\r\n            label=\"month(s)\"\r\n          />\r\n          <TextField\r\n            sx={{\r\n              flexBasis: [\"58%\", \"68%\"],\r\n              minWidth: [\"58%\", \"68%\"],\r\n              alignItems: \"baseline\",\r\n              m: 0,\r\n            }}\r\n            label=\"Discount\"\r\n            type=\"number\"\r\n            name=\"discount\"\r\n            inputProps={{\r\n              min: 0,\r\n            }}\r\n            defaultValue={initialClient.discount}\r\n            fullWidth\r\n          />\r\n          <Select\r\n            sx={{\r\n              flexBasis: [\"40%\", \"30%\"],\r\n              minWidth: [\"40%\", \"30%\"],\r\n              alignItems: \"baseline\",\r\n              m: 0,\r\n            }}\r\n            name=\"discountType\"\r\n            defaultValue={initialClient.discountType}\r\n          >\r\n            <MenuItem value={0}>%</MenuItem>\r\n            <MenuItem value={1}>HKD</MenuItem>\r\n          </Select>\r\n          <TextField\r\n            sx={{\r\n              flexBasis: [\"58%\", \"68%\"],\r\n              minWidth: [\"58%\", \"68%\"],\r\n              alignItems: \"baseline\",\r\n              mt: \"10px\",\r\n              mb: 0,\r\n            }}\r\n            label=\"Surcharge\"\r\n            type=\"number\"\r\n            name=\"surcharge\"\r\n            inputProps={{\r\n              min: 0,\r\n            }}\r\n            defaultValue={initialClient.surcharge}\r\n            fullWidth\r\n          />\r\n          <Select\r\n            sx={{\r\n              flexBasis: [\"40%\", \"30%\"],\r\n              minWidth: [\"40%\", \"30%\"],\r\n              alignItems: \"baseline\",\r\n              mt: \"10px\",\r\n              mb: 0,\r\n            }}\r\n            name=\"surchargeType\"\r\n            defaultValue={initialClient.surchargeType}\r\n          >\r\n            <MenuItem value={0}>%</MenuItem>\r\n            <MenuItem value={1}>HKD</MenuItem>\r\n          </Select>\r\n        </Paper>\r\n        <Button\r\n          sx={{ marginTop: \"10px\" }}\r\n          onClick={(e) => {\r\n            e.preventDefault();\r\n            setCurrentStep(1);\r\n          }}\r\n        >\r\n          Previous\r\n        </Button>\r\n        <Button sx={{ float: \"right\", marginTop: \"10px\" }} type=\"submit\">\r\n          Finish\r\n        </Button>\r\n      </Box>\r\n      <Dialog\r\n        open={addOpen}\r\n        maxWidth=\"sm\"\r\n        fullWidth\r\n        fullScreen={useMediaQuery(theme.breakpoints.down(\"sm\"))}\r\n        PaperProps={{\r\n          component: \"form\",\r\n          onSubmit: (e) => {\r\n            e.preventDefault();\r\n            const data = new FormData(e.currentTarget);\r\n\r\n            setDeliveryChecked0(false);\r\n            setDeliveryChecked1(false);\r\n            setDeliveryChecked2(false);\r\n            setDeliveryChecked3(false);\r\n\r\n            setAddOpen(false);\r\n            if (cartItemStatus === \"add\") {\r\n              if (\r\n                cart.find(\r\n                  (item) =>\r\n                    item.productType === productType &&\r\n                    item.productDetail.id === productDetail.id\r\n                )\r\n              ) {\r\n                Swal.fire({\r\n                  icon: \"warning\",\r\n                  title: \"Warning\",\r\n                  text: \"This product is already added.\",\r\n                  allowOutsideClick: false,\r\n                });\r\n                return;\r\n              }\r\n              setCart(\r\n                cart.concat({\r\n                  productType,\r\n                  productDetail,\r\n                  productAmount,\r\n                  productDeliveryOption: JSON.stringify(\r\n                    [\r\n                      \"Delivery Included\",\r\n                      \"Delivery and installation included\",\r\n                      \"Remote Area Surcharge\",\r\n                      \"Stairs Surcharge\",\r\n                    ].filter((item, index) =>\r\n                      Boolean(data.get(`deliveryOption_${index}`))\r\n                    )\r\n                  ),\r\n                  productPrice: e.currentTarget.unitPrice.value,\r\n                  remark: productRemark,\r\n                })\r\n              );\r\n            } else if (cartItemStatus === \"edit\") {\r\n              const newCart = cart.map((item) => {\r\n                if (\r\n                  item.productType === productType &&\r\n                  item.productDetail.id === productDetail.id\r\n                )\r\n                  return {\r\n                    productType,\r\n                    productDetail,\r\n                    productAmount,\r\n                    productDeliveryOption: JSON.stringify(\r\n                      [\r\n                        \"Delivery Included\",\r\n                        \"Delivery and installation included\",\r\n                        \"Remote Area Surcharge\",\r\n                        \"Stairs Surcharge\",\r\n                      ].filter((item, index) =>\r\n                        Boolean(data.get(`deliveryOption_${index}`))\r\n                      )\r\n                    ),\r\n                    productPrice: e.currentTarget.unitPrice.value,\r\n                    remark: productRemark,\r\n                  };\r\n                else return item;\r\n              });\r\n              setCart(newCart);\r\n            }\r\n          },\r\n        }}\r\n      >\r\n        <DialogTitle>Price and Amount</DialogTitle>\r\n        <DialogContent sx={{ textAlign: \"center\" }}>\r\n          <TextField\r\n            label=\"Unit Price\"\r\n            type=\"number\"\r\n            name=\"unitPrice\"\r\n            // inputProps={{ readOnly: true }}\r\n            value={productPrice}\r\n            sx={{ width: \"200px\" }}\r\n            InputProps={{\r\n              readOnly: true,\r\n              endAdornment: <InputAdornment position=\"end\">HKD</InputAdornment>,\r\n            }}\r\n          />\r\n          <Box\r\n            sx={{\r\n              display: \"flex\",\r\n              alignItems: \"center\",\r\n              width: \"200px\",\r\n              border: \"1px solid #0000003b\",\r\n              borderRadius: \"4px\",\r\n              my: \"10px\",\r\n              mx: \"auto\",\r\n              p: \"5px 3px\",\r\n            }}\r\n          >\r\n            <Typography variant=\"span\" sx={{ flexGrow: 1 }}>\r\n              Amount\r\n            </Typography>\r\n            <IconButton\r\n              onClick={(e) => {\r\n                e.preventDefault();\r\n                setProductAmount(Math.max(productAmount - 1, 1));\r\n              }}\r\n            >\r\n              <RemoveIcon />\r\n            </IconButton>\r\n            <Typography variant=\"span\" sx={{ ml: \"10px\" }}>\r\n              {productAmount}\r\n            </Typography>\r\n            <IconButton\r\n              onClick={(e) => {\r\n                e.preventDefault();\r\n                setProductAmount(Math.min(productAmount + 1, 99));\r\n              }}\r\n            >\r\n              <AddIcon />\r\n            </IconButton>\r\n          </Box>\r\n          <Box\r\n            sx={{\r\n              alignItems: \"center\",\r\n              justifyContent: \"center\",\r\n              my: \"10px\",\r\n              mx: \"auto\",\r\n              p: \"5px 3px\",\r\n            }}\r\n          >\r\n            <TextField\r\n              label=\"Specification\"\r\n              name=\"remark\"\r\n              value={productRemark}\r\n              sx={{ width: 400, mx: \"5px\" }}\r\n              onChange={handleProductRemark}\r\n            />\r\n          </Box>\r\n          <FormControlLabel\r\n            sx={{ display: \"block\", textAlign: \"left\", marginLeft: \"100px\" }}\r\n            control={\r\n              <Checkbox\r\n                name=\"deliveryOption_0\"\r\n                checked={deliveryChecked0}\r\n                onChange={(e) => setDeliveryChecked0(e.target.checked)}\r\n                sx={{ textAlign: \"left\" }}\r\n              />\r\n            }\r\n            label=\"Delivery Included\"\r\n          />\r\n          <FormControlLabel\r\n            sx={{ display: \"block\", textAlign: \"left\", marginLeft: \"100px\" }}\r\n            control={\r\n              <Checkbox\r\n                name=\"deliveryOption_1\"\r\n                checked={deliveryChecked1}\r\n                onChange={(e) => setDeliveryChecked1(e.target.checked)}\r\n              />\r\n            }\r\n            label=\"Delivery and installation included\"\r\n          />\r\n          <FormControlLabel\r\n            sx={{ display: \"block\", textAlign: \"left\", marginLeft: \"100px\" }}\r\n            control={\r\n              <Checkbox\r\n                name=\"deliveryOption_2\"\r\n                checked={deliveryChecked2}\r\n                onChange={(e) => setDeliveryChecked2(e.target.checked)}\r\n              />\r\n            }\r\n            label=\"Remote Area Surcharge\"\r\n          />\r\n          <FormControlLabel\r\n            sx={{ display: \"block\", textAlign: \"left\", marginLeft: \"100px\" }}\r\n            control={\r\n              <Checkbox\r\n                name=\"deliveryOption_3\"\r\n                checked={deliveryChecked3}\r\n                onChange={(e) => setDeliveryChecked3(e.target.checked)}\r\n              />\r\n            }\r\n            label=\"Stairs Surcharge\"\r\n          />\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button\r\n            onClick={(e) => {\r\n              setDeliveryChecked0(false);\r\n              setDeliveryChecked1(false);\r\n              setDeliveryChecked2(false);\r\n              setDeliveryChecked3(false);\r\n              setAddOpen(false);\r\n            }}\r\n          >\r\n            Cancel\r\n          </Button>\r\n          <Button type=\"submit\">OK</Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n      <Dialog\r\n        open={deskAddOpen}\r\n        maxWidth=\"sm\"\r\n        fullWidth\r\n        fullScreen={useMediaQuery(theme.breakpoints.down(\"sm\"))}\r\n        PaperProps={{\r\n          component: \"form\",\r\n          onSubmit: async (e) => {\r\n            e.preventDefault();\r\n\r\n            setTopHoleCount(0);\r\n            setTopHolePosition(\"Left\");\r\n            setTopHoleType(\"Rounded\");\r\n            setTopMaterial(\"Melamine\");\r\n            setTopColor(\"\");\r\n            setTopLength(700);\r\n            setTopWidth(400);\r\n            setTopThickness(25);\r\n            setTopRoundedCorners(0);\r\n            setTopCornerRadius(50);\r\n            setSketchUrl(\"\");\r\n\r\n            setDeliveryChecked0(false);\r\n            setDeliveryChecked1(false);\r\n            setDeliveryChecked2(false);\r\n            setDeliveryChecked3(false);\r\n\r\n            setDeskAddOpen(false);\r\n\r\n            const data = new FormData(e.currentTarget);\r\n\r\n            if (cartItemStatus === \"add\") {\r\n              if (\r\n                !hasDeskTop &&\r\n                cart.find(\r\n                  (item) =>\r\n                    item.productType === \"desk\" &&\r\n                    item.productDetail.id === productDetail.id &&\r\n                    !item.hasDeskTop\r\n                )\r\n              ) {\r\n                Swal.fire({\r\n                  icon: \"warning\",\r\n                  title: \"Warning\",\r\n                  text: \"This product is already added.\",\r\n                  allowOutsideClick: false,\r\n                });\r\n                return;\r\n              }\r\n\r\n              let topSketchURL = \"\";\r\n              if (data.get(\"topSketchImg\") && data.get(\"topSketchImg\").name) {\r\n                const uploadData = new FormData();\r\n                uploadData.append(\"file\", data.get(\"topSketchImg\"));\r\n                try {\r\n                  const response = await axios.post(`/upload`, uploadData, {\r\n                    headers: {\r\n                      \"Content-Type\": \"application/x-www-form-urlencoded\",\r\n                    },\r\n                  });\r\n                  topSketchURL = response.data.url;\r\n                } catch (err) {}\r\n              }\r\n\r\n              setCart(\r\n                cart.concat({\r\n                  productType,\r\n                  productDetail,\r\n                  productAmount,\r\n                  productDeliveryOption: JSON.stringify(\r\n                    [\r\n                      \"Delivery Included\",\r\n                      \"Delivery and installation included\",\r\n                      \"Remote Area Surcharge\",\r\n                      \"Stairs Surcharge\",\r\n                    ].filter((item, index) =>\r\n                      Boolean(data.get(`deliveryOption_${index}`))\r\n                    )\r\n                  ),\r\n                  productPrice: Boolean(data.get(\"hasDeskTop\"))\r\n                    ? Number(data.get(\"deskTotalPrice\"))\r\n                    : Number(data.get(\"deskLegPrice\")),\r\n                  hasDeskTop: Boolean(data.get(\"hasDeskTop\")) || false,\r\n                  topMaterial: data.get(\"topMaterial\") || \"\",\r\n                  topColor: data.get(\"topColor\") || \"\",\r\n                  topLength: data.get(\"topLength\") || 0,\r\n                  topWidth: data.get(\"topWidth\") || 0,\r\n                  topThickness: data.get(\"topThickness\") || 0,\r\n                  topRoundedCorners: data.get(\"topRoundedCorners\") || 0,\r\n                  topCornerRadius: data.get(\"topCornerRadius\") || 50,\r\n                  topHoleCount: data.get(\"topHoleCount\") || 0,\r\n                  topHoleType: data.get(\"topHoleType\") || \"\",\r\n                  topHolePosition: topHolePosition || \"\",\r\n                  remark: data.get(\"remark\") || \"\",\r\n                  topSketchURL: topSketchURL,\r\n                })\r\n              );\r\n            } else if (cartItemStatus === \"edit\") {\r\n              let topSketchURL = sketchUrl;\r\n              if (data.get(\"topSketchImg\") && data.get(\"topSketchImg\").name) {\r\n                const uploadData = new FormData();\r\n                uploadData.append(\"file\", data.get(\"topSketchImg\"));\r\n                try {\r\n                  const response = await axios.post(`/upload`, uploadData, {\r\n                    headers: {\r\n                      \"Content-Type\": \"application/x-www-form-urlencoded\",\r\n                    },\r\n                  });\r\n                  topSketchURL = response.data.url;\r\n                } catch (err) {}\r\n              }\r\n              const newCart = cart.map((item) => {\r\n                if (\r\n                  item.productType === \"desk\" &&\r\n                  item.productDetail.id === productDetail.id\r\n                )\r\n                  return {\r\n                    productType,\r\n                    productDetail,\r\n                    productAmount,\r\n                    productDeliveryOption: JSON.stringify(\r\n                      [\r\n                        \"Delivery Included\",\r\n                        \"Delivery and installation included\",\r\n                        \"Remote Area Surcharge\",\r\n                        \"Stairs Surcharge\",\r\n                      ].filter((item, index) =>\r\n                        Boolean(data.get(`deliveryOption_${index}`))\r\n                      )\r\n                    ),\r\n                    productPrice: Boolean(data.get(\"hasDeskTop\"))\r\n                      ? Number(data.get(\"deskTotalPrice\"))\r\n                      : Number(data.get(\"deskLegPrice\")),\r\n                    hasDeskTop: Boolean(data.get(\"hasDeskTop\")) || false,\r\n                    topMaterial: data.get(\"topMaterial\") || \"\",\r\n                    topColor: data.get(\"topColor\") || \"\",\r\n                    topLength: data.get(\"topLength\") || 0,\r\n                    topWidth: data.get(\"topWidth\") || 0,\r\n                    topThickness: data.get(\"topThickness\") || 0,\r\n                    topRoundedCorners: data.get(\"topRoundedCorners\") || 0,\r\n                    topCornerRadius: data.get(\"topCornerRadius\") || 50,\r\n                    topHoleCount: data.get(\"topHoleCount\") || 0,\r\n                    topHoleType: data.get(\"topHoleType\") || \"\",\r\n                    topHolePosition: topHolePosition || \"\",\r\n                    remark: data.get(\"remark\") || \"\",\r\n                    topSketchURL: topSketchURL,\r\n                  };\r\n                else return item;\r\n              });\r\n              setCart(newCart);\r\n            }\r\n          },\r\n        }}\r\n      >\r\n        <DialogTitle>Price and Amount</DialogTitle>\r\n        <DialogContent sx={{ textAlign: \"center\" }}>\r\n          <TextField\r\n            label=\"Desk Leg Price\"\r\n            type=\"number\"\r\n            name=\"deskLegPrice\"\r\n            value={productPrice}\r\n            sx={{ width: 200, visibility: hasDeskTop ? \"hidden\" : \"visible\" }}\r\n            InputProps={{\r\n              readOnly: true,\r\n              endAdornment: <InputAdornment position=\"end\">HKD</InputAdornment>,\r\n            }}\r\n          />\r\n          <Divider sx={{ my: \"10px\" }} />\r\n          <Box display=\"flex\" flexWrap=\"wrap\" justifyContent=\"space-between\">\r\n            <FormControlLabel\r\n              control={\r\n                <Checkbox\r\n                  name=\"hasDeskTop\"\r\n                  checked={hasDeskTop}\r\n                  onChange={(e) => {\r\n                    setHasDeskTop(e.currentTarget.checked);\r\n                  }}\r\n                />\r\n              }\r\n              label=\"with Table Top\"\r\n              sx={{ flexBasis: \"100%\", minWidth: \"100%\" }}\r\n            />\r\n            {[\r\n              {\r\n                name: \"topMaterial\",\r\n                label: \"Material\",\r\n                type: \"autocomplete\",\r\n                value: topMaterial,\r\n                onChange: (e, newVal) => {\r\n                  e.preventDefault();\r\n                  setTopMaterial(newVal);\r\n                },\r\n                options: materialOptions,\r\n                width: \"65%\",\r\n              },\r\n              {\r\n                name: \"topColor\",\r\n                label: \"Color\",\r\n                type: \"text\",\r\n                width: \"30%\",\r\n                value: topColor,\r\n                onChange: (e) => {\r\n                  e.preventDefault();\r\n                  setTopColor(e.target.value);\r\n                },\r\n              },\r\n              {\r\n                name: \"topLength\",\r\n                label: \"Length\",\r\n                type: \"suffixNumber\",\r\n                suffix: \"mm\",\r\n                inputProps: { min: 0 },\r\n                width: \"30%\",\r\n                value: topLength,\r\n                onChange: (e) => {\r\n                  e.preventDefault();\r\n                  setTopLength(e.target.value);\r\n                },\r\n              },\r\n              {\r\n                name: \"topWidth\",\r\n                label: \"Width\",\r\n                type: \"suffixNumber\",\r\n                suffix: \"mm\",\r\n                inputProps: { min: 0 },\r\n                width: \"30%\",\r\n                value: topWidth,\r\n                onChange: (e) => {\r\n                  e.preventDefault();\r\n                  setTopWidth(e.target.value);\r\n                },\r\n              },\r\n              {\r\n                name: \"topThickness\",\r\n                label: \"Thickness\",\r\n                type: \"suffixNumber\",\r\n                suffix: \"mm\",\r\n                inputProps: { min: 0 },\r\n                width: \"30%\",\r\n                value: topThickness,\r\n                onChange: (e) => {\r\n                  e.preventDefault();\r\n                  setTopThickness(e.target.value);\r\n                },\r\n              },\r\n              {\r\n                name: \"topRoundedCorners\",\r\n                label: \"Rounded Corners\",\r\n                type: \"select\",\r\n                options: [0, 1, 2, 3, 4],\r\n                width: \"48%\",\r\n                value: topRoundedCorners,\r\n                onChange: (e) => {\r\n                  e.preventDefault();\r\n                  setTopRoundedCorners(e.target.value);\r\n                },\r\n              },\r\n              {\r\n                name: \"topCornerRadius\",\r\n                label: \"Corner Radius\",\r\n                type: \"number\",\r\n                inputProps: { min: 0 },\r\n                width: \"48%\",\r\n                value: topCornerRadius,\r\n                onChange: (e) => {\r\n                  e.preventDefault();\r\n                  setTopCornerRadius(e.target.value);\r\n                },\r\n              },\r\n              {\r\n                name: \"topHoleCount\",\r\n                label: \"Number of Holes\",\r\n                type: \"select\",\r\n                value: topHoleCount,\r\n                onChange: (e) => {\r\n                  e.preventDefault();\r\n                  setTopHoleCount(e.target.value);\r\n                  if (e.target.value === 1) setTopHolePosition(\"Left\");\r\n                  else if (e.target.value === 2)\r\n                    setTopHolePosition(\"Left_Right\");\r\n                  else if (e.target.value === 3)\r\n                    setTopHolePosition(\"Left_Right_Center\");\r\n                },\r\n                options: [0, 1, 2, 3],\r\n                width: \"48%\",\r\n              },\r\n              {\r\n                name: \"topHoleType\",\r\n                label: \"Type of Holes\",\r\n                type: \"select\",\r\n                value: topHoleType,\r\n                onChange: (e) => {\r\n                  e.preventDefault();\r\n                  setTopHoleType(e.target.value);\r\n                },\r\n                options: [\"Rounded\", \"Rectangular\"],\r\n                width: \"48%\",\r\n              },\r\n              {\r\n                name: \"topHolePosition\",\r\n                label: \"Hole Position\",\r\n                type: \"select\",\r\n                value: topHolePosition,\r\n                onChange: (e) => {\r\n                  e.preventDefault();\r\n                  setTopHolePosition(e.target.value);\r\n                },\r\n                options:\r\n                  topHoleCount === 1\r\n                    ? [\"Left\", \"Right\", \"Center\"]\r\n                    : [\r\n                        \"Left\",\r\n                        \"Right\",\r\n                        \"Center\",\r\n                        \"Left_Right\",\r\n                        \"Left_Right_Center\",\r\n                      ],\r\n                disabled: topHoleCount !== 1, // || topHoleType !== \"Rounded\",\r\n                visible: \"true\", //topHoleType === \"Rounded\",\r\n                width: \"48%\",\r\n              },\r\n              {\r\n                name: \"remark\",\r\n                label: \"Specification\",\r\n                type: \"text\",\r\n                width: \"100%\",\r\n                value: productRemark,\r\n                onChange: (e) => {\r\n                  e.preventDefault();\r\n                  setProductRemark(e.target.value);\r\n                },\r\n              },\r\n              {\r\n                name: \"topSketchImg\",\r\n                label: \"Sketch Image (Optional)\",\r\n                type: \"file\",\r\n                inputProps: {\r\n                  accept: \"image/png, image/gif, image/jpeg\",\r\n                },\r\n                InputLabelProps: { shrink: true },\r\n                width: \"100%\",\r\n              },\r\n            ].map(({ type, width, ...restParams }, index) => {\r\n              if (type === \"autocomplete\") {\r\n                const { name, label, ...autocomParams } = restParams;\r\n                return (\r\n                  <Autocomplete\r\n                    key={index}\r\n                    sx={{ flexBasis: width, minWidth: width }}\r\n                    renderInput={(params) => (\r\n                      <TextField {...params} name={name} label={label} />\r\n                    )}\r\n                    disabled={!hasDeskTop}\r\n                    {...autocomParams}\r\n                  />\r\n                );\r\n              } else if (type === \"suffixNumber\") {\r\n                const { suffix, ...fieldParams } = restParams;\r\n                return (\r\n                  <FormControlLabel\r\n                    key={index}\r\n                    sx={{\r\n                      flexBasis: width,\r\n                      minWidth: width,\r\n                      alignItems: \"baseline\",\r\n                      mx: 0,\r\n                    }}\r\n                    control={\r\n                      <TextField\r\n                        fullWidth\r\n                        sx={{ m: \"10px 5px 0 0\" }}\r\n                        type=\"number\"\r\n                        disabled={!hasDeskTop}\r\n                        {...fieldParams}\r\n                      />\r\n                    }\r\n                    label={suffix}\r\n                  />\r\n                );\r\n              } else if (type === \"select\") {\r\n                const { name, label, options, ...selectParams } = restParams;\r\n                if (name === \"topHolePosition\")\r\n                  if (selectParams.visible)\r\n                    return (\r\n                      <FormControl\r\n                        key={index}\r\n                        sx={{ flexBasis: width, minWidth: width }}\r\n                      >\r\n                        <InputLabel id={`desk-top-${name}-select-label`}>\r\n                          {label}\r\n                        </InputLabel>\r\n                        <Select\r\n                          labelId={`desk-top-${name}-select-label`}\r\n                          id={`desk-top-${name}-select`}\r\n                          name={name}\r\n                          label={label}\r\n                          size=\"small\"\r\n                          disabled={!hasDeskTop}\r\n                          {...selectParams}\r\n                        >\r\n                          {options.map((selectOption, selectOptionIndex) => (\r\n                            <MenuItem\r\n                              key={selectOptionIndex}\r\n                              value={selectOption}\r\n                            >\r\n                              {selectOption}\r\n                            </MenuItem>\r\n                          ))}\r\n                        </Select>\r\n                      </FormControl>\r\n                    );\r\n                  else return \"\";\r\n                else\r\n                  return (\r\n                    <FormControl\r\n                      key={index}\r\n                      sx={{ flexBasis: width, minWidth: width }}\r\n                    >\r\n                      <InputLabel id={`desk-top-${name}-select-label`}>\r\n                        {label}\r\n                      </InputLabel>\r\n                      <Select\r\n                        labelId={`desk-top-${name}-select-label`}\r\n                        id={`desk-top-${name}-select`}\r\n                        name={name}\r\n                        label={label}\r\n                        size=\"small\"\r\n                        disabled={!hasDeskTop}\r\n                        {...selectParams}\r\n                      >\r\n                        {options.map((selectOption, selectOptionIndex) => (\r\n                          <MenuItem\r\n                            key={selectOptionIndex}\r\n                            value={selectOption}\r\n                          >\r\n                            {selectOption}\r\n                          </MenuItem>\r\n                        ))}\r\n                      </Select>\r\n                    </FormControl>\r\n                  );\r\n              } else\r\n                return (\r\n                  <TextField\r\n                    key={index}\r\n                    type={type}\r\n                    sx={{ flexBasis: width, minWidth: width }}\r\n                    disabled={!hasDeskTop}\r\n                    {...restParams}\r\n                  />\r\n                );\r\n            })}\r\n            <TextField\r\n              label=\"Desk Total Price\"\r\n              type=\"number\"\r\n              name=\"deskTotalPrice\"\r\n              defaultValue={productPrice}\r\n              sx={{ flexBasis: 200, minWidth: 200, mx: \"auto\" }}\r\n              disabled={!hasDeskTop}\r\n              InputProps={{\r\n                endAdornment: (\r\n                  <InputAdornment position=\"end\">HKD</InputAdornment>\r\n                ),\r\n              }}\r\n            />\r\n          </Box>\r\n          <Divider sx={{ my: \"10px\" }} />\r\n          <Box\r\n            sx={{\r\n              display: \"flex\",\r\n              alignItems: \"center\",\r\n              width: \"200px\",\r\n              border: \"1px solid #0000003b\",\r\n              borderRadius: \"4px\",\r\n              mt: \"10px\",\r\n              mx: \"auto\",\r\n              p: \"5px 3px\",\r\n            }}\r\n          >\r\n            <Typography variant=\"span\" sx={{ flexGrow: 1 }}>\r\n              Amount\r\n            </Typography>\r\n            <IconButton\r\n              onClick={(e) => {\r\n                e.preventDefault();\r\n                setProductAmount(Math.max(productAmount - 1, 1));\r\n              }}\r\n            >\r\n              <RemoveIcon />\r\n            </IconButton>\r\n            <Typography variant=\"span\" mx=\"10px\">\r\n              {productAmount}\r\n            </Typography>\r\n            <IconButton\r\n              onClick={(e) => {\r\n                e.preventDefault();\r\n                setProductAmount(Math.min(productAmount + 1, 99));\r\n              }}\r\n            >\r\n              <AddIcon />\r\n            </IconButton>\r\n          </Box>\r\n          <FormControlLabel\r\n            sx={{ display: \"block\" }}\r\n            control={\r\n              <Checkbox\r\n                name=\"deliveryOption_0\"\r\n                checked={deliveryChecked0}\r\n                onChange={(e) => setDeliveryChecked0(e.target.checked)}\r\n                sx={{ textAlign: \"left\" }}\r\n              />\r\n            }\r\n            label=\"Delivery Included\"\r\n          />\r\n          <FormControlLabel\r\n            sx={{ display: \"block\" }}\r\n            control={\r\n              <Checkbox\r\n                name=\"deliveryOption_1\"\r\n                checked={deliveryChecked1}\r\n                onChange={(e) => setDeliveryChecked1(e.target.checked)}\r\n              />\r\n            }\r\n            label=\"Delivery and installation included\"\r\n          />\r\n          <FormControlLabel\r\n            sx={{ display: \"block\" }}\r\n            control={\r\n              <Checkbox\r\n                name=\"deliveryOption_2\"\r\n                checked={deliveryChecked2}\r\n                onChange={(e) => setDeliveryChecked2(e.target.checked)}\r\n              />\r\n            }\r\n            label=\"Remote Area Surcharge\"\r\n          />\r\n          <FormControlLabel\r\n            sx={{ display: \"block\" }}\r\n            control={\r\n              <Checkbox\r\n                name=\"deliveryOption_3\"\r\n                checked={deliveryChecked3}\r\n                onChange={(e) => setDeliveryChecked3(e.target.checked)}\r\n              />\r\n            }\r\n            label=\"Stairs Surcharge\"\r\n          />\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button\r\n            onClick={(e) => {\r\n              e.preventDefault();\r\n              setTopHoleCount(0);\r\n              setTopHolePosition(\"Left\");\r\n              setTopHoleType(\"Rounded\");\r\n              setTopMaterial(\"Melamine\");\r\n              setTopColor(\"\");\r\n              setTopLength(700);\r\n              setTopWidth(400);\r\n              setTopThickness(25);\r\n              setTopRoundedCorners(0);\r\n              setTopCornerRadius(50);\r\n              setSketchUrl(\"\");\r\n\r\n              setDeliveryChecked0(false);\r\n              setDeliveryChecked1(false);\r\n              setDeliveryChecked2(false);\r\n              setDeliveryChecked3(false);\r\n\r\n              setDeskAddOpen(false);\r\n            }}\r\n          >\r\n            Cancel\r\n          </Button>\r\n          <Button type=\"submit\">OK</Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    </Box>\r\n  );\r\n});\r\n","import React, { useState } from 'react';\r\nimport Detail from './Detail';\r\n\r\nconst Create = (props) => {\r\n  const [phone, setPhone] = useState('');\r\n  return (\r\n    <Detail\r\n      componentType=\"create\"\r\n      initialClient={{\r\n        phone,\r\n        setPhone,\r\n        paid: true,\r\n        discountType: 1,\r\n        surchargeType: 1,\r\n        validTil: 1,\r\n        remark: '',\r\n      }}\r\n      initialCart={[]}\r\n      {...props}\r\n    />\r\n  );\r\n};\r\n\r\nexport default Create;\r\n","import React, { useState } from 'react';\r\nimport Detail from './Detail';\r\nimport { Redirect, useLocation } from 'react-router-dom';\r\n\r\nconst Edit = (props) => {\r\n  const location = useLocation();\r\n  const { quotation } = location.state || {};\r\n  const {\r\n    ChairStocks,\r\n    DeskStocks,\r\n    DeskToQuotations,\r\n    AccessoryStocks,\r\n    ServiceToQuotations,\r\n    Seller,\r\n    sellerId,\r\n    ...client\r\n  } = quotation || {};\r\n\r\n  const [phone, setPhone] = useState(client.phone);\r\n\r\n  return quotation ? (\r\n    <Detail\r\n      componentType=\"edit\"\r\n      initialClient={{\r\n        ...client,\r\n        phone,\r\n        setPhone,\r\n      }}\r\n      initialCart={ChairStocks.map(({ ChairToQuotation, ...restProps }) => ({\r\n        productType: 'chair',\r\n        productDetail: restProps,\r\n        remark: ChairToQuotation.remark,\r\n        productPrice: ChairToQuotation.unitPrice,\r\n        productAmount: ChairToQuotation.qty,\r\n        productDeliveryOption: ChairToQuotation.deliveryOption,\r\n      }))\r\n        .concat(\r\n          DeskToQuotations.map((DeskToQuotation) => {\r\n            const {\r\n              stockId,\r\n              unitPrice,\r\n              qty,\r\n              deliveryOption,\r\n              ...deskTopProps\r\n            } = DeskToQuotation;\r\n  \r\n            const stock = DeskStocks.find(function(val) {\r\n              return val.id === stockId\r\n            })\r\n  \r\n            return {\r\n              productType: 'desk',\r\n              productDetail: stock,\r\n              productPrice: unitPrice,\r\n              productAmount: qty,\r\n              productDeliveryOption: deliveryOption,\r\n              ...deskTopProps,\r\n            };\r\n          })\r\n        )\r\n        .concat(\r\n          AccessoryStocks.map(({ AccessoryToQuotation, ...restProps }) => ({\r\n            productType: 'accessory',\r\n            productDetail: restProps,\r\n            remark: AccessoryToQuotation.remark,\r\n            productPrice: AccessoryToQuotation.unitPrice,\r\n            productAmount: AccessoryToQuotation.qty,\r\n            productDeliveryOption: AccessoryToQuotation.deliveryOption,\r\n          }))\r\n        )}\r\n      initialServices = {ServiceToQuotations}\r\n      {...props}\r\n    />\r\n  ) : (\r\n    <Redirect to=\"/admin/quotation\" />\r\n  );\r\n};\r\n\r\nexport default Edit;\r\n","import React, { useEffect, useState } from 'react';\r\nimport { Link as RouterLink } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport {\r\n  Button,\r\n  Box,\r\n  Dialog,\r\n  DialogActions,\r\n  DialogContent,\r\n  DialogTitle,\r\n  IconButton,\r\n  Paper,\r\n  TextField,\r\n  useMediaQuery,\r\n} from '@mui/material';\r\nimport { useTheme } from '@mui/material/styles';\r\nimport axios from 'axios';\r\nimport { Edit as EditIcon } from '@mui/icons-material';\r\nimport Swal from 'sweetalert2';\r\n\r\nimport DataGrid from 'components/Common/DataGrid';\r\n\r\nconst columns = [\r\n  {\r\n    id: 'proDeliveryDate',\r\n    label: 'Proposed Delivery Date',\r\n    sx: { paddingLeft: '10px', minWidth: 120 },\r\n  },\r\n  { id: 'orderDate', label: 'Order Date', sx: { minWidth: 100 } },\r\n  { id: 'invoiceNum', label: 'Inovice #', sx: { minWidth: 100 } },\r\n  { id: 'poNum', label: 'PO #', sx: { minWidth: 100 } },\r\n  { id: 'district', label: 'Delivery Address' },\r\n  { id: 'name', label: 'Name' },\r\n  { id: 'phone', label: 'Phone' },\r\n  { id: 'brand', label: 'Brand' },\r\n  { id: 'model', label: 'Model' },\r\n  { id: 'frameColor', label: 'FColor' },\r\n  { id: 'backColor', label: 'BColor' },\r\n  { id: 'seatColor', label: 'SColor' },\r\n  { id: 'withHeadrest', label: 'Headrest' },\r\n  { id: 'withAdArmrest', label: 'Armrest' },\r\n  { id: 'remark', label: 'Remark' },\r\n  { id: 'deliveryPDF', label: 'Note', sx: { paddingRight: '10px' } },\r\n  { id: 'edit' },\r\n];\r\n\r\nfunction mapStateToProps(state) {\r\n  const { auth } = state;\r\n  return { auth };\r\n}\r\n\r\nexport default connect(mapStateToProps)((props) => {\r\n  const theme = useTheme();\r\n\r\n  const [deliveries, setDeliveries] = useState([]);\r\n  const [ids, setIDs] = useState([]);\r\n  const [formOpen, setFormOpen] = useState(false);\r\n  const [formProps, setFormProps] = useState([]);\r\n\r\n  const handleEditClick = (index) => {\r\n    if (index < deliveries.length && index >= 0) {\r\n      setIDs([deliveries[index].id]);\r\n      setFormProps([\r\n        {\r\n          name: 'poNum',\r\n          label: 'PO #',\r\n          type: 'text',\r\n          defaultValue: deliveries[index].poNum,\r\n          width: '100%',\r\n        },\r\n      ]);\r\n    }\r\n    setFormOpen(true);\r\n  };\r\n\r\n  const handleBulkEditClick = (selected) => {\r\n    setIDs(selected);\r\n    setFormProps([\r\n      {\r\n        name: 'poNum',\r\n        label: 'PO #',\r\n        type: 'text',\r\n        width: '100%',\r\n      },\r\n    ]);\r\n    setFormOpen(true);\r\n  };\r\n\r\n  const handleSave = (event) => {\r\n    event.preventDefault();\r\n    const data = new FormData(event.currentTarget);\r\n    axios\r\n      .put(`/delivery/chair`, {\r\n        ids,\r\n        poNum: data.get('poNum'),\r\n      })\r\n      .then((response) => {\r\n        // handle success\r\n        setFormOpen(false);\r\n        getDeliveries();\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        setFormOpen(false);\r\n        Swal.fire({\r\n          icon: 'error',\r\n          title: 'Error',\r\n          html: error.response.data.message.replace('\\n', '<br />'),\r\n          allowOutsideClick: false,\r\n        }).then(() => {\r\n          setFormOpen(true);\r\n        });\r\n        console.log(error);\r\n      })\r\n      .then(function () {\r\n        // always executed\r\n      });\r\n  };\r\n\r\n  const getDeliveries = (props) => {\r\n    axios\r\n      .get('/delivery/allChair', props)\r\n      .then((response) => {\r\n        // handle \r\n        const deliveries = response.data.filter(item => item.SalesOrder.paid===true)\r\n        setDeliveries(deliveries);\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        console.log(error);\r\n      })\r\n      .then(function () {\r\n        // always executed\r\n      });\r\n  };\r\n\r\n  useEffect(() => {\r\n    const source = axios.CancelToken.source();\r\n    getDeliveries({\r\n      cancelToken: source.token,\r\n      // params: {\r\n      //   fromDate: (() => {\r\n      //     const now = new Date();\r\n      //     now.setMinutes(now.getMinutes() - now.getTimezoneOffset());\r\n      //     now.setDate(now.getDate() - 10);\r\n      //     return now.toISOString().split('T')[0];\r\n      //   })(),\r\n      //   toDate: (() => {\r\n      //     const now = new Date();\r\n      //     now.setMinutes(now.getMinutes() - now.getTimezoneOffset());\r\n      //     return now.toISOString().split('T')[0];\r\n      //   })(),\r\n      // },\r\n    });\r\n    return () => source.cancel('Stock Component got unmounted');\r\n  }, []);\r\n\r\n  return (\r\n    <Box\r\n      sx={{\r\n        height: '100%',\r\n        overflow: 'auto',\r\n        padding: '10px 20px',\r\n      }}\r\n    >\r\n      {/* <Paper\r\n        component=\"form\"\r\n        sx={{\r\n          marginTop: '10px',\r\n          padding: '5px 10px',\r\n          display: 'flex',\r\n          flexWrap: 'wrap',\r\n          justifyContent: 'space-between',\r\n          alignItems: 'center',\r\n        }}\r\n        onSubmit={(e) => {\r\n          e.preventDefault();\r\n          const data = new FormData(e.currentTarget);\r\n          getDeliveries({\r\n            params: {\r\n              fromDate: data.get('fromDate'),\r\n              toDate: data.get('toDate'),\r\n            },\r\n          });\r\n        }}\r\n      >\r\n        {[\r\n          {\r\n            width: ['100%', '43%'],\r\n            type: 'date',\r\n            name: 'fromDate',\r\n            label: 'From Date',\r\n            defaultValue: (() => {\r\n              const now = new Date();\r\n              now.setMinutes(now.getMinutes() - now.getTimezoneOffset());\r\n              now.setDate(now.getDate() - 10);\r\n              return now.toISOString().split('T')[0];\r\n            })(),\r\n            InputLabelProps: { shrink: true },\r\n          },\r\n          {\r\n            width: ['100%', '43%'],\r\n            type: 'date',\r\n            name: 'toDate',\r\n            label: 'To Date',\r\n            defaultValue: (() => {\r\n              const now = new Date();\r\n              now.setMinutes(now.getMinutes() - now.getTimezoneOffset());\r\n              return now.toISOString().split('T')[0];\r\n            })(),\r\n            InputLabelProps: { shrink: true },\r\n          },\r\n        ].map(({ width, ...restParams }, index) => (\r\n          <TextField\r\n            key={index}\r\n            sx={{ flexBasis: width, minWidth: width }}\r\n            {...restParams}\r\n          />\r\n        ))}\r\n        <Button\r\n          type=\"submit\"\r\n          sx={{ flexBasis: ['100%', '10%'], minWidth: ['100%', '10%'] }}\r\n        >\r\n          OK\r\n        </Button>\r\n      </Paper> */}\r\n      <DataGrid\r\n        title=\"Chair Delivery\"\r\n        rows={deliveries.map(\r\n          ({ id, SalesOrder, ChairStock, ...restProps }, index) => ({\r\n            id,\r\n            orderDate: (() => {\r\n              const createdTime = new Date(SalesOrder.createdAt);\r\n              createdTime.setMinutes(\r\n                createdTime.getMinutes() - createdTime.getTimezoneOffset()\r\n              );\r\n              return createdTime.toISOString().split('T')[0];\r\n            })(),\r\n            invoiceNum: `I-${SalesOrder.Seller.prefix}${new Date(\r\n              SalesOrder.createdAt\r\n            ).getFullYear()}-${('000' + SalesOrder.invoiceNum).substr(-3)}`,\r\n            district: SalesOrder.district,\r\n            name: SalesOrder.name,\r\n            phone: SalesOrder.phone,\r\n            email: SalesOrder.email,\r\n            brand: ChairStock === null ? '' : ChairStock.brand,\r\n            model: ChairStock === null ? '' : ChairStock.model,\r\n            frameColor: ChairStock === null ? '' : ChairStock.frameColor,\r\n            backColor: ChairStock === null ? '' : ChairStock.backColor,\r\n            seatColor: ChairStock === null ? '' : ChairStock.seatColor,\r\n            withHeadrest: ChairStock === null ? 'No' : ChairStock.withHeadrest ? 'Yes' : 'No',\r\n            withAdArmrest: ChairStock === null ? 'No' : ChairStock.withAdArmrest ? 'Yes' : 'No',\r\n            remark: ChairStock === null ? '' : ChairStock.reamrk,\r\n            deliveryPDF: (\r\n              <Button\r\n                variant=\"contained\"\r\n                sx={{ my: '5px', width: 100, fontSize: 10 }}\r\n                component={RouterLink}\r\n                target=\"_blank\"\r\n                to={`/deliveryPDF/chair/${id}`}\r\n              >\r\n                Delivery Note\r\n              </Button>\r\n            ),\r\n            edit: (\r\n              <IconButton\r\n                onClick={(event) => {\r\n                  event.preventDefault();\r\n                  handleEditClick(index);\r\n                }}\r\n              >\r\n                <EditIcon />\r\n              </IconButton>\r\n            ),\r\n            ...restProps,\r\n          })\r\n        )}\r\n        columns={columns}\r\n        onBulkEditClick={handleBulkEditClick}\r\n      />\r\n      <Dialog\r\n        fullWidth\r\n        fullScreen={useMediaQuery(theme.breakpoints.down('sm'))}\r\n        maxWidth=\"sm\"\r\n        open={formOpen}\r\n        PaperProps={{\r\n          component: 'form',\r\n          onSubmit: handleSave,\r\n        }}\r\n      >\r\n        <DialogTitle>Edit PO #</DialogTitle>\r\n        <DialogContent>\r\n          <Paper\r\n            sx={{\r\n              mt: '5px',\r\n              p: '10px',\r\n              display: 'flex',\r\n              flexWrap: 'wrap',\r\n              justifyContent: 'space-between',\r\n            }}\r\n          >\r\n            {formProps.map(({ width, ...restParams }, index) => (\r\n              <TextField\r\n                key={index}\r\n                sx={{ flexBasis: width, minWidth: width }}\r\n                {...restParams}\r\n              />\r\n            ))}\r\n          </Paper>\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button\r\n            onClick={() => {\r\n              setFormOpen(false);\r\n            }}\r\n          >\r\n            Cancel\r\n          </Button>\r\n          <Button type=\"submit\">Save</Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    </Box>\r\n  );\r\n});\r\n","import React, { useEffect, useState } from 'react';\r\nimport { Link as RouterLink } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport {\r\n  Button,\r\n  Box,\r\n  Dialog,\r\n  DialogActions,\r\n  DialogContent,\r\n  DialogTitle,\r\n  IconButton,\r\n  Paper,\r\n  TextField,\r\n  useMediaQuery,\r\n} from '@mui/material';\r\nimport { useTheme } from '@mui/material/styles';\r\nimport axios from 'axios';\r\nimport { Edit as EditIcon } from '@mui/icons-material';\r\nimport Swal from 'sweetalert2';\r\n\r\nimport DataGrid from 'components/Common/DataGrid';\r\n\r\nconst columns = [\r\n  {\r\n    id: 'proDeliveryDate',\r\n    label: 'Proposed Delivery Date',\r\n    sx: { paddingLeft: '10px', minWidth: 120 },\r\n  },\r\n  { id: 'orderDate', label: 'Order Date', sx: { minWidth: 100 } },\r\n  { id: 'invoiceNum', label: 'Inovice #', sx: { minWidth: 100 } },\r\n  { id: 'akNum', label: 'AK #', sx: { minWidth: 100 } },\r\n  { id: 'heworkNum', label: 'Hework #', sx: { minWidth: 100 } },\r\n  { id: 'district', label: 'Delivery Address' },\r\n  { id: 'name', label: 'Name' },\r\n  { id: 'phone', label: 'Phone' },\r\n  { id: 'model', label: 'Model' },\r\n  { id: 'color', label: 'Color' },\r\n  { id: 'armSize', label: 'Arm Size' },\r\n  { id: 'feetSize', label: 'Feet Size' },\r\n  { id: 'beamSize', label: 'Beam Size' },\r\n  { id: 'deskTop', label: 'Table Top' },\r\n  { id: 'remark', label: 'Remark' },\r\n  { id: 'deliveryPDF', label: 'Note', sx: { paddingRight: '10px' } },\r\n  { id: 'edit' },\r\n];\r\n\r\nfunction mapStateToProps(state) {\r\n  const { auth } = state;\r\n  return { auth };\r\n}\r\n\r\nexport default connect(mapStateToProps)((props) => {\r\n  const theme = useTheme();\r\n\r\n  const [deliveries, setDeliveries] = useState([]);\r\n  const [ids, setIDs] = useState([]);\r\n  const [formOpen, setFormOpen] = useState(false);\r\n  const [formProps, setFormProps] = useState([]);\r\n\r\n  const handleEditClick = (index) => {\r\n    if (index < deliveries.length && index >= 0) {\r\n      setIDs([deliveries[index].id]);\r\n      setFormProps([\r\n        {\r\n          name: 'akNum',\r\n          label: 'AK #',\r\n          type: 'text',\r\n          defaultValue: deliveries[index].akNum,\r\n          width: '100%',\r\n        },\r\n        {\r\n          name: 'heworkNum',\r\n          label: 'Hework #',\r\n          type: 'text',\r\n          defaultValue: deliveries[index].heworkNum,\r\n          width: '100%',\r\n        },\r\n      ]);\r\n    }\r\n    setFormOpen(true);\r\n  };\r\n\r\n  const handleBulkEditClick = (selected) => {\r\n    setIDs(selected);\r\n    setFormProps([\r\n      {\r\n        name: 'akNum',\r\n        label: 'AK #',\r\n        type: 'text',\r\n        width: '100%',\r\n      },\r\n      {\r\n        name: 'heworkNum',\r\n        label: 'Hework #',\r\n        type: 'text',\r\n        width: '100%',\r\n      },\r\n    ]);\r\n    setFormOpen(true);\r\n  };\r\n\r\n  const handleSave = (event) => {\r\n    event.preventDefault();\r\n    const data = new FormData(event.currentTarget);\r\n    axios\r\n      .put(`/delivery/desk`, {\r\n        ids,\r\n        akNum: data.get('akNum'),\r\n        heworkNum: data.get('heworkNum'),\r\n      })\r\n      .then((response) => {\r\n        // handle success\r\n        setFormOpen(false);\r\n        getDeliveries();\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        setFormOpen(false);\r\n        Swal.fire({\r\n          icon: 'error',\r\n          title: 'Error',\r\n          html: error.response.data.message.replace('\\n', '<br />'),\r\n          allowOutsideClick: false,\r\n        }).then(() => {\r\n          setFormOpen(true);\r\n        });\r\n        console.log(error);\r\n      })\r\n      .then(function () {\r\n        // always executed\r\n      });\r\n  };\r\n\r\n  const getDeliveries = (props) => {\r\n    axios\r\n      .get('/delivery/allDesk', props)\r\n      .then((response) => {\r\n        // handle success\r\n        const deliveries = response.data.filter(item => item.SalesOrder.paid===true)\r\n        setDeliveries(deliveries);\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        console.log(error);\r\n      })\r\n      .then(function () {\r\n        // always executed\r\n      });\r\n  };\r\n\r\n  useEffect(() => {\r\n    const source = axios.CancelToken.source();\r\n    getDeliveries({\r\n      cancelToken: source.token,\r\n    });\r\n    return () => source.cancel('Stock Component got unmounted');\r\n  }, []);\r\n\r\n  return (\r\n    <Box\r\n      sx={{\r\n        height: '100%',\r\n        overflow: 'auto',\r\n        padding: '10px 20px',\r\n      }}\r\n    >\r\n      {/* <Paper\r\n        component=\"form\"\r\n        sx={{\r\n          marginTop: '10px',\r\n          padding: '5px 10px',\r\n          display: 'flex',\r\n          flexWrap: 'wrap',\r\n          justifyContent: 'space-between',\r\n          alignItems: 'center',\r\n        }}\r\n        onSubmit={(e) => {\r\n          e.preventDefault();\r\n          const data = new FormData(e.currentTarget);\r\n          getDeliveries({\r\n            params: {\r\n              fromDate: data.get('fromDate'),\r\n              toDate: data.get('toDate'),\r\n            },\r\n          });\r\n        }}\r\n      >\r\n        {[\r\n          {\r\n            width: ['100%', '43%'],\r\n            type: 'date',\r\n            name: 'fromDate',\r\n            label: 'From Date',\r\n            defaultValue: (() => {\r\n              const now = new Date();\r\n              now.setMinutes(now.getMinutes() - now.getTimezoneOffset());\r\n              now.setDate(now.getDate() - 10);\r\n              return now.toISOString().split('T')[0];\r\n            })(),\r\n            InputLabelProps: { shrink: true },\r\n          },\r\n          {\r\n            width: ['100%', '43%'],\r\n            type: 'date',\r\n            name: 'toDate',\r\n            label: 'To Date',\r\n            defaultValue: (() => {\r\n              const now = new Date();\r\n              now.setMinutes(now.getMinutes() - now.getTimezoneOffset());\r\n              return now.toISOString().split('T')[0];\r\n            })(),\r\n            InputLabelProps: { shrink: true },\r\n          },\r\n        ].map(({ width, ...restParams }, index) => (\r\n          <TextField\r\n            key={index}\r\n            sx={{ flexBasis: width, minWidth: width }}\r\n            {...restParams}\r\n          />\r\n        ))}\r\n        <Button\r\n          type=\"submit\"\r\n          sx={{ flexBasis: ['100%', '10%'], minWidth: ['100%', '10%'] }}\r\n        >\r\n          OK\r\n        </Button>\r\n      </Paper> */}\r\n      <DataGrid\r\n        title=\"Desk Delivery\"\r\n        rows={deliveries.map(\r\n          ({ id, SalesOrder, DeskStock, ...restProps }, index) => ({\r\n            id,\r\n            orderDate: (() => {\r\n              const createdTime = new Date(SalesOrder.createdAt);\r\n              createdTime.setMinutes(\r\n                createdTime.getMinutes() - createdTime.getTimezoneOffset()\r\n              );\r\n              return createdTime.toISOString().split('T')[0];\r\n            })(),\r\n            invoiceNum: `I-${SalesOrder.Seller.prefix}${new Date(\r\n              SalesOrder.createdAt\r\n            ).getFullYear()}-${('000' + SalesOrder.invoiceNum).substr(-3)}`,\r\n            district: SalesOrder.district,\r\n            name: SalesOrder.name,\r\n            phone: SalesOrder.phone,\r\n            model: DeskStock === null ? \"\" : DeskStock.model,\r\n            color: DeskStock === null ? \"\" : DeskStock.color,\r\n            armSize: DeskStock === null ? \"\" : DeskStock.armSize,\r\n            feetSize: DeskStock === null ? \"\" : DeskStock.feetSize,\r\n            beamSize: DeskStock === null ? \"\" : DeskStock.beamSize,\r\n            deskTop: `${\r\n              restProps.hasDeskTop\r\n                ? `${restProps.topMaterial}, ${restProps.topColor}, ${restProps.topLength}x${restProps.topWidth}x${restProps.topThickness}, ${restProps.topRoundedCorners}-R${restProps.topCornerRadius}, ${restProps.topHoleCount}-${restProps.topHoleType}`\r\n                : 'Without DeskTop'\r\n            }`,\r\n            remark: DeskStock === null ? \"\" : DeskStock.reamrk,\r\n            deliveryPDF: (\r\n              <Button\r\n                variant=\"contained\"\r\n                sx={{ my: '5px', width: 100, fontSize: 10 }}\r\n                component={RouterLink}\r\n                target=\"_blank\"\r\n                to={`/deliveryPDF/desk/${id}`}\r\n              >\r\n                Delivery Note\r\n              </Button>\r\n            ),\r\n            edit: (\r\n              <IconButton\r\n                onClick={(event) => {\r\n                  event.preventDefault();\r\n                  handleEditClick(index);\r\n                }}\r\n              >\r\n                <EditIcon />\r\n              </IconButton>\r\n            ),\r\n            ...restProps,\r\n          })\r\n        )}\r\n        columns={columns}\r\n        onBulkEditClick={handleBulkEditClick}\r\n      />\r\n      <Dialog\r\n        fullWidth\r\n        fullScreen={useMediaQuery(theme.breakpoints.down('sm'))}\r\n        maxWidth=\"sm\"\r\n        open={formOpen}\r\n        PaperProps={{\r\n          component: 'form',\r\n          onSubmit: handleSave,\r\n        }}\r\n      >\r\n        <DialogTitle>Edit AK and Hework #</DialogTitle>\r\n        <DialogContent>\r\n          <Paper\r\n            sx={{\r\n              mt: '5px',\r\n              p: '10px',\r\n              display: 'flex',\r\n              flexWrap: 'wrap',\r\n              justifyContent: 'space-between',\r\n            }}\r\n          >\r\n            {formProps.map(({ width, ...restParams }, index) => (\r\n              <TextField\r\n                key={index}\r\n                sx={{ flexBasis: width, minWidth: width }}\r\n                {...restParams}\r\n              />\r\n            ))}\r\n          </Paper>\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button\r\n            onClick={() => {\r\n              setFormOpen(false);\r\n            }}\r\n          >\r\n            Cancel\r\n          </Button>\r\n          <Button type=\"submit\">Save</Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    </Box>\r\n  );\r\n});\r\n","import React, { useEffect, useState } from 'react';\r\nimport { Link as RouterLink } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport {\r\n  Button,\r\n  Box,\r\n  Dialog,\r\n  DialogActions,\r\n  DialogContent,\r\n  DialogTitle,\r\n  IconButton,\r\n  Paper,\r\n  TextField,\r\n  useMediaQuery,\r\n} from '@mui/material';\r\nimport { useTheme } from '@mui/material/styles';\r\nimport axios from 'axios';\r\nimport { Edit as EditIcon } from '@mui/icons-material';\r\nimport Swal from 'sweetalert2';\r\n\r\nimport DataGrid from 'components/Common/DataGrid';\r\n\r\nconst columns = [\r\n  {\r\n    id: 'proDeliveryDate',\r\n    label: 'Proposed Delivery Date',\r\n    sx: { paddingLeft: '10px', minWidth: 120 },\r\n  },\r\n  { id: 'orderDate', label: 'Order Date', sx: { minWidth: 100 } },\r\n  { id: 'invoiceNum', label: 'Inovice #', sx: { minWidth: 100 } },\r\n  { id: 'poNum', label: 'PO #', sx: { minWidth: 100 } },\r\n  { id: 'district', label: 'Delivery Address' },\r\n  { id: 'name', label: 'Name' },\r\n  { id: 'phone', label: 'Phone' },\r\n  { id: 'category', label: 'Category' },\r\n  { id: 'remark', label: 'Remark' },\r\n  { id: 'deliveryPDF', label: 'Note', sx: { paddingRight: '10px' } },\r\n  { id: 'edit' },\r\n];\r\n\r\nfunction mapStateToProps(state) {\r\n  const { auth } = state;\r\n  return { auth };\r\n}\r\n\r\nexport default connect(mapStateToProps)((props) => {\r\n  const theme = useTheme();\r\n\r\n  const [deliveries, setDeliveries] = useState([]);\r\n  const [ids, setIDs] = useState([]);\r\n  const [formOpen, setFormOpen] = useState(false);\r\n  const [formProps, setFormProps] = useState([]);\r\n\r\n  const handleEditClick = (index) => {\r\n    if (index < deliveries.length && index >= 0) {\r\n      setIDs([deliveries[index].id]);\r\n      setFormProps([\r\n        {\r\n          name: 'poNum',\r\n          label: 'PO #',\r\n          type: 'text',\r\n          defaultValue: deliveries[index].poNum,\r\n          width: '100%',\r\n        },\r\n      ]);\r\n    }\r\n    setFormOpen(true);\r\n  };\r\n\r\n  const handleBulkEditClick = (selected) => {\r\n    setIDs(selected);\r\n    setFormProps([\r\n      {\r\n        name: 'poNum',\r\n        label: 'PO #',\r\n        type: 'text',\r\n        width: '100%',\r\n      },\r\n    ]);\r\n    setFormOpen(true);\r\n  };\r\n\r\n  const handleSave = (event) => {\r\n    event.preventDefault();\r\n    const data = new FormData(event.currentTarget);\r\n    axios\r\n      .put(`/delivery/accessory`, {\r\n        ids,\r\n        poNum: data.get('poNum'),\r\n      })\r\n      .then((response) => {\r\n        // handle success\r\n        setFormOpen(false);\r\n        getDeliveries();\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        setFormOpen(false);\r\n        Swal.fire({\r\n          icon: 'error',\r\n          title: 'Error',\r\n          html: error.response.data.message.replace('\\n', '<br />'),\r\n          allowOutsideClick: false,\r\n        }).then(() => {\r\n          setFormOpen(true);\r\n        });\r\n        console.log(error);\r\n      })\r\n      .then(function () {\r\n        // always executed\r\n      });\r\n  };\r\n\r\n  const getDeliveries = (props) => {\r\n    axios\r\n      .get('/delivery/allAccessory', props)\r\n      .then((response) => {\r\n        // handle success\r\n        const deliveries = response.data.filter(item => item.SalesOrder.paid===true)\r\n        setDeliveries(deliveries);\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        console.log(error);\r\n      })\r\n      .then(function () {\r\n        // always executed\r\n      });\r\n  };\r\n\r\n  useEffect(() => {\r\n    const source = axios.CancelToken.source();\r\n    getDeliveries({\r\n      cancelToken: source.token,\r\n      // params: {\r\n      //   fromDate: (() => {\r\n      //     const now = new Date();\r\n      //     now.setMinutes(now.getMinutes() - now.getTimezoneOffset());\r\n      //     now.setDate(now.getDate() - 10);\r\n      //     return now.toISOString().split('T')[0];\r\n      //   })(),\r\n      //   toDate: (() => {\r\n      //     const now = new Date();\r\n      //     now.setMinutes(now.getMinutes() - now.getTimezoneOffset());\r\n      //     return now.toISOString().split('T')[0];\r\n      //   })(),\r\n      // },\r\n    });\r\n    return () => source.cancel('Stock Component got unmounted');\r\n  }, []);\r\n\r\n  return (\r\n    <Box\r\n      sx={{\r\n        height: '100%',\r\n        overflow: 'auto',\r\n        padding: '10px 20px',\r\n      }}\r\n    >\r\n      {/* <Paper\r\n        component=\"form\"\r\n        sx={{\r\n          marginTop: '10px',\r\n          padding: '5px 10px',\r\n          display: 'flex',\r\n          flexWrap: 'wrap',\r\n          justifyContent: 'space-between',\r\n          alignItems: 'center',\r\n        }}\r\n        onSubmit={(e) => {\r\n          e.preventDefault();\r\n          const data = new FormData(e.currentTarget);\r\n          getDeliveries({\r\n            params: {\r\n              fromDate: data.get('fromDate'),\r\n              toDate: data.get('toDate'),\r\n            },\r\n          });\r\n        }}\r\n      >\r\n        {[\r\n          {\r\n            width: ['100%', '43%'],\r\n            type: 'date',\r\n            name: 'fromDate',\r\n            label: 'From Date',\r\n            defaultValue: (() => {\r\n              const now = new Date();\r\n              now.setMinutes(now.getMinutes() - now.getTimezoneOffset());\r\n              now.setDate(now.getDate() - 10);\r\n              return now.toISOString().split('T')[0];\r\n            })(),\r\n            InputLabelProps: { shrink: true },\r\n          },\r\n          {\r\n            width: ['100%', '43%'],\r\n            type: 'date',\r\n            name: 'toDate',\r\n            label: 'To Date',\r\n            defaultValue: (() => {\r\n              const now = new Date();\r\n              now.setMinutes(now.getMinutes() - now.getTimezoneOffset());\r\n              return now.toISOString().split('T')[0];\r\n            })(),\r\n            InputLabelProps: { shrink: true },\r\n          },\r\n        ].map(({ width, ...restParams }, index) => (\r\n          <TextField\r\n            key={index}\r\n            sx={{ flexBasis: width, minWidth: width }}\r\n            {...restParams}\r\n          />\r\n        ))}\r\n        <Button\r\n          type=\"submit\"\r\n          sx={{ flexBasis: ['100%', '10%'], minWidth: ['100%', '10%'] }}\r\n        >\r\n          OK\r\n        </Button>\r\n      </Paper> */}\r\n      <DataGrid\r\n        title=\"Accessory Delivery\"\r\n        rows={deliveries.map(\r\n          ({ id, SalesOrder, AccessoryStock, ...restProps }, index) => ({\r\n            id,\r\n            orderDate: (() => {\r\n              const createdTime = new Date(SalesOrder.createdAt);\r\n              createdTime.setMinutes(\r\n                createdTime.getMinutes() - createdTime.getTimezoneOffset()\r\n              );\r\n              return createdTime.toISOString().split('T')[0];\r\n            })(),\r\n            invoiceNum: `I-${SalesOrder.Seller.prefix}${new Date(\r\n              SalesOrder.createdAt\r\n            ).getFullYear()}-${('000' + SalesOrder.invoiceNum).substr(-3)}`,\r\n            district: SalesOrder.district,\r\n            name: SalesOrder.name,\r\n            phone: SalesOrder.phone,\r\n            email: SalesOrder.email,\r\n            category: AccessoryStock === null ? \"\" : AccessoryStock.category,\r\n            remark: AccessoryStock === null ? \"\" : AccessoryStock.reamrk,\r\n            deliveryPDF: (\r\n              <Button\r\n                variant=\"contained\"\r\n                sx={{ my: '5px', width: 100, fontSize: 10 }}\r\n                component={RouterLink}\r\n                target=\"_blank\"\r\n                to={`/deliveryPDF/accessory/${id}`}\r\n              >\r\n                Delivery Note\r\n              </Button>\r\n            ),\r\n            edit: (\r\n              <IconButton\r\n                onClick={(event) => {\r\n                  event.preventDefault();\r\n                  handleEditClick(index);\r\n                }}\r\n              >\r\n                <EditIcon />\r\n              </IconButton>\r\n            ),\r\n            ...restProps,\r\n          })\r\n        )}\r\n        columns={columns}\r\n        onBulkEditClick={handleBulkEditClick}\r\n      />\r\n      <Dialog\r\n        fullWidth\r\n        fullScreen={useMediaQuery(theme.breakpoints.down('sm'))}\r\n        maxWidth=\"sm\"\r\n        open={formOpen}\r\n        PaperProps={{\r\n          component: 'form',\r\n          onSubmit: handleSave,\r\n        }}\r\n      >\r\n        <DialogTitle>Edit PO #</DialogTitle>\r\n        <DialogContent>\r\n          <Paper\r\n            sx={{\r\n              mt: '5px',\r\n              p: '10px',\r\n              display: 'flex',\r\n              flexWrap: 'wrap',\r\n              justifyContent: 'space-between',\r\n            }}\r\n          >\r\n            {formProps.map(({ width, ...restParams }, index) => (\r\n              <TextField\r\n                key={index}\r\n                sx={{ flexBasis: width, minWidth: width }}\r\n                {...restParams}\r\n              />\r\n            ))}\r\n          </Paper>\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button\r\n            onClick={() => {\r\n              setFormOpen(false);\r\n            }}\r\n          >\r\n            Cancel\r\n          </Button>\r\n          <Button type=\"submit\">Save</Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    </Box>\r\n  );\r\n});\r\n","import React from 'react';\r\n\r\nconst View = () => {\r\n    return (\r\n        <div>\r\n        \r\n        </div>\r\n    )\r\n};\r\n\r\nexport default View;\r\n","import React from 'react';\r\n\r\nconst Create = () => {\r\n    return (\r\n        <div>\r\n           \r\n        </div>\r\n    )\r\n};\r\n\r\nexport default Create;\r\n","import React from 'react';\r\n\r\nconst Edit = () => {\r\n    return (\r\n        <div>\r\n           \r\n        </div>\r\n    )\r\n};\r\n\r\nexport default Edit;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { Link as RouterLink } from \"react-router-dom\";\r\nimport { connect } from \"react-redux\";\r\nimport {\r\n  Box,\r\n  Button,\r\n  IconButton,\r\n  Paper,\r\n  TextField,\r\n} from \"@mui/material\";\r\nimport {\r\n  Add as AddIcon,\r\n  Delete as DeleteIcon,\r\n  Edit as EditIcon,\r\n} from \"@mui/icons-material\";\r\n// import { useTheme } from \"@mui/material/styles\";\r\nimport axios from \"axios\";\r\nimport Swal from \"sweetalert2\";\r\nimport DataGrid from \"components/Common/DataGrid\";\r\nimport CheckableMultiSelect from \"components/Common/MultiSelect\";\r\n\r\nconst columns = [\r\n    { id: \"poNum\", label: \"P.O. Number\" },\r\n    { id: \"orderDate\", label: \"Order Date\" },\r\n    { id: \"desc\", label: \"Description\" },\r\n    { id: \"qty\", label: \"Qty\" },\r\n    { id: \"finishDate\", label: \"Finish Date\" },\r\n    { id: \"invoice\", label: \"Invoice#\" },\r\n    { id: \"orderQty\", label: \"Order Qty\" },\r\n    { id: \"location\", label: \"Location\" },\r\n    { id: \"supplier\", label: \"Supplier\" },\r\n    { id: \"beam\", label: \"BEAM\" },\r\n    { id: \"akNum\", label: \"AK#\" },\r\n    { id: \"heworkNum\", label: \"Hework#\" },\r\n    { id: \"remark\", label: \"Remark\" },\r\n    { id: \"edit\", nonSort: true, sx: { maxWidth: 45, width: 45 } },\r\n    { id: \"delete\", nonSort: true, sx: { maxWidth: 45, width: 45 } },\r\n];\r\n\r\nconst defaultHiddenColumns = [\r\n    \"Invoice\",\r\n    \"Order Qty\",\r\n    \"Location\",\r\n    \"Supplier\",\r\n    \"BEAM\",\r\n    \"AK#\",\r\n    \"Hework#\",\r\n    \"Remark\",     \r\n];\r\n\r\nfunction mapStateToProps(state) {\r\n  const { auth } = state;\r\n  return { auth };\r\n}\r\n\r\nexport default connect(mapStateToProps)((props) => {\r\n//   const theme = useTheme();\r\n\r\n    const [shipments, setShipments] = useState([]);\r\n    const [initShipments, setInitShipments] = useState([]);\r\n    const [columnsToShow, setColumnsToShow] = useState([]);\r\n    const [searchPONumber, setsearchPONumber] = useState(\"\");\r\n    const [filterAnchor, setFilterAnchor] = useState(null);\r\n\r\n    const onHideColumnChanged = (values) => {\r\n        setColumnsToShow(values);\r\n    };\r\n\r\n    const handleFilterClick = (e) => {\r\n        e.preventDefault();\r\n        if (filterAnchor === null) setFilterAnchor(e.currentTarget);\r\n        else setFilterAnchor(null);\r\n    };\r\n\r\n    const handleRemoveClick = (index) => {\r\n    if (index < shipments.length && index >= 0) {\r\n        Swal.fire({\r\n        title: \"Are you sure?\",\r\n        text: \"This action will remove current purchase permanently.\",\r\n        icon: \"question\",\r\n        showCancelButton: true,\r\n        confirmButtonText: \"Yes, Remove!\",\r\n        cancelButtonText: \"No, Keep It.\",\r\n        allowOutsideClick: false,\r\n        }).then((result) => {\r\n        if (result.isConfirmed) {\r\n            axios\r\n            .delete(`/shipment/${shipments[index].id}`)\r\n            .then((response) => {\r\n                // handle success\r\n                getShipments();\r\n            })\r\n            .catch(function (error) {\r\n                // handle error\r\n                Swal.fire({\r\n                icon: \"error\",\r\n                title: \"Error\",\r\n                text: error.response.data.message,\r\n                allowOutsideClick: false,\r\n                });\r\n            });\r\n        }\r\n        });\r\n    }\r\n    };\r\n\r\n    const handleBulkRemoveClick = (selected) => {\r\n        Swal.fire({\r\n            title: \"Are you sure?\",\r\n            text: \"This action will remove selected shipments permanently.\",\r\n            icon: \"question\",\r\n            showCancelButton: true,\r\n            confirmButtonText: \"Yes, Remove!\",\r\n            cancelButtonText: \"No, Keep Them.\",\r\n            allowOutsideClick: false,\r\n        }).then((result) => {\r\n            if (result.isConfirmed) {\r\n            axios\r\n                .delete(\"/shipments\", {\r\n                data: { ids: selected },\r\n                })\r\n                .then((response) => {\r\n                getShipments();\r\n                })\r\n                .catch(function (error) {\r\n                // handle error\r\n                Swal.fire({\r\n                    icon: \"error\",\r\n                    title: \"Error\",\r\n                    text: error.response.data.message,\r\n                    allowOutsideClick: false,\r\n                });\r\n                console.log(error);\r\n                });\r\n            }\r\n        });\r\n    };\r\n\r\n    const getShipments = (cancelToken) => {\r\n        axios.get(\"/shipment\", { cancelToken })\r\n        .then((response) => {\r\n            let shipments = [];\r\n            response.data.map(item => {\r\n                let shipment = item;\r\n            //   order.isSentToShipment = false;\r\n            //   if (order.AccessoryToOrders.length !== 0 && order.AccessoryToOrders[0].shipmentId != null)\r\n            //     order.isSentToShipment = true;\r\n            //   if (order.ChairToOrders.length !== 0 && order.ChairToOrders[0].shipmentId != null)\r\n            //     order.isSentToShipment = true;\r\n            //   if (order.DeskToOrders.length !== 0 && order.DeskToOrders[0].shipmentId != null)\r\n            //     order.isSentToShipment = true;\r\n\r\n                shipments.push(shipment);\r\n                return shipment;\r\n            });\r\n\r\n            setShipments(shipments);\r\n            setInitShipments(shipments);\r\n        })\r\n        .catch(function (error) {\r\n            // handle error\r\n            console.log(error);\r\n        })\r\n        .then(function () {\r\n            // always executed\r\n        });\r\n    };\r\n\r\n    const onKeyPressed = (e) => {\r\n        if (e.key === \"Enter\") {\r\n            const searchedShipments = initShipments\r\n            .filter((shipment) =>\r\n                shipment.poNum\r\n                    .toString()\r\n                    .toLowerCase()\r\n                    .includes(searchPONumber.toLowerCase())\r\n            )\r\n            setShipments(searchedShipments);\r\n        }\r\n    };\r\n\r\n    useEffect(() => {\r\n        const source = axios.CancelToken.source();\r\n        getShipments(source.token);\r\n        return () => source.cancel(\"Brand Component got unmounted\");\r\n    }, []);\r\n\r\n    return (\r\n        <Box\r\n            sx={{\r\n            height: \"100%\",\r\n            overflow: \"auto\",\r\n            padding: \"10px 20px\",\r\n            }}\r\n        >\r\n            <Button\r\n                component={RouterLink}\r\n                to=\"/admin/shipment/create\"\r\n                startIcon={<AddIcon />}\r\n                >\r\n                New Shipment\r\n            </Button>\r\n            <Paper\r\n                sx={{\r\n                    marginTop: \"10px\",\r\n                    padding: \"5px 10px\",\r\n                    display: \"flex\",\r\n                    flexWrap: \"wrap\",\r\n                    justifyContent: \"space-around\",\r\n                }}\r\n            >\r\n            <TextField\r\n                label=\"P.O. Number\"\r\n                variant=\"outlined\"\r\n                onKeyPress={onKeyPressed}\r\n                value={searchPONumber}\r\n                onChange={(e) => setsearchPONumber(e.target.value)}\r\n            />\r\n            </Paper>\r\n            <CheckableMultiSelect\r\n                options={defaultHiddenColumns}\r\n                onChange={onHideColumnChanged}\r\n                selected={columnsToShow}\r\n            />\r\n            <DataGrid\r\n                title=\"Shipments\"\r\n                rows={shipments.map((\r\n                        {\r\n                            id,\r\n                            poNum,\r\n                            des,\r\n                            qty,\r\n                            orderQty,\r\n                            orderDate,\r\n                            finishDate,\r\n                            location,\r\n                            supplier,\r\n                            invoice,\r\n                            remark,\r\n                            ...restProps\r\n                        },\r\n                        index\r\n                    ) => ({\r\n                        id,\r\n                        index,\r\n                        poNum: poNum,\r\n                        desc: des,\r\n                        qty: qty,\r\n                        orderQty: orderQty,\r\n                        orderDate: orderDate,\r\n                        finishDate: finishDate,\r\n                        location: location,\r\n                        supplier: supplier,\r\n                        invoice: invoice,\r\n                        remark: remark,\r\n                        edit: (\r\n                            <IconButton\r\n                                component={RouterLink}\r\n                                to={{\r\n                                    pathname: \"/admin/shipment/edit\",\r\n                                    state: { shipment: shipments[index] },\r\n                                }}\r\n                            >\r\n                                <EditIcon />\r\n                            </IconButton>\r\n                        ),\r\n                        delete: (\r\n                            <IconButton\r\n                                onClick={(event) => {\r\n                                    event.preventDefault();\r\n                                    handleRemoveClick(index);\r\n                                }}\r\n                            >\r\n                                <DeleteIcon />\r\n                            </IconButton>\r\n                        ),\r\n                        ...restProps,\r\n                    })\r\n                )}\r\n                columns={columns.map((column, i) => {\r\n                        if (i > 4 && i < 13) {\r\n                            if (columnsToShow.find((col) => col === column.label))\r\n                                return column;\r\n                            else\r\n                                return undefined;\r\n                        }\r\n                        return column;\r\n                    })\r\n                    .filter((column) => column !== undefined)\r\n                }\r\n                onRemoveClick={handleRemoveClick}\r\n                onBulkRemoveClick={handleBulkRemoveClick}\r\n                onFilterClick={handleFilterClick}\r\n            />\r\n        </Box>\r\n    );\r\n});\r\n","import { Box, List, ListItem, ListItemText, Typography } from '@mui/material';\r\nimport { styled } from '@mui/material/styles';\r\nimport {\r\n  indigo,\r\n  teal,\r\n} from '@mui/material/colors';\r\n\r\nexport const ProductList = styled(List)(({ theme }) => ({\r\n  backgroundColor: teal[600],\r\n  padding: '10px',\r\n}));\r\n\r\nexport const ProductListItem = styled(ListItem)(({ theme }) => ({\r\n  backgroundColor: teal[300],\r\n  boxShadow: `0px 2px 1px -1px rgb(0 0 0 / 20%)`,\r\n  margin: '10px 0',\r\n  flexWrap: 'wrap',\r\n}));\r\n\r\nexport const ProductListItemText = styled(ListItemText)(({ theme }) => ({\r\n  color: indigo[900],\r\n}));\r\n\r\nexport const ProductPriceAmount = ({ unitPrice, amount, deliveryOption }) => {\r\n  return (\r\n    <Box flexBasis=\"100%\" display=\"flex\" flexWrap=\"wrap\" alignItems=\"center\">\r\n      {[amount, deliveryOption].map((item, index) => (\r\n        <Typography\r\n          key={index}\r\n          variant=\"span\"\r\n          sx={{\r\n            color: 'white',\r\n            width: index === 2 ? 150 : 80,\r\n            whiteSpace: 'noWrap',\r\n            overflow: 'hidden',\r\n            textOverflow: 'ellipsis',\r\n            textAlign: 'center',\r\n            backgroundColor: indigo[400],\r\n            fontSize: ['10px', '12px'],\r\n            padding: '3px 0',\r\n            margin: '3px 10px 3px 0',\r\n            flexShrink: 0,\r\n            borderRadius: '2px',\r\n          }}\r\n        >\r\n          {item}\r\n        </Typography>\r\n      ))}\r\n    </Box>\r\n  );\r\n};\r\n","import React, { useEffect, useRef, useState, Fragment } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { connect } from \"react-redux\";\r\nimport {\r\n  Autocomplete,\r\n  Box,\r\n  Button,\r\n  Checkbox,\r\n  Dialog,\r\n  DialogActions,\r\n  DialogContent,\r\n  DialogTitle,\r\n  Divider,\r\n  FormControl,\r\n  FormControlLabel,\r\n  IconButton,\r\n  InputAdornment,\r\n  InputLabel,\r\n  MenuItem,\r\n  Paper,\r\n  Radio,\r\n  RadioGroup,\r\n  Select,\r\n  Step,\r\n  Stepper,\r\n  StepLabel,\r\n  Tab,\r\n  Tabs,\r\n  TextField,\r\n  Typography,\r\n} from \"@mui/material\";\r\nimport {\r\n  Add as AddIcon,\r\n  Delete as DeleteIcon,\r\n  Remove as RemoveIcon,\r\n  Close as CloseIcon,\r\n  Edit as EditIcon,\r\n} from \"@mui/icons-material\";\r\nimport { useTheme } from \"@mui/material/styles\";\r\nimport useMediaQuery from \"@mui/material/useMediaQuery\";\r\nimport MuiPhoneNumber from \"material-ui-phone-number\";\r\nimport axios from \"axios\";\r\nimport Swal from \"sweetalert2\";\r\n\r\nimport DataGrid from \"components/Common/DataGrid\";\r\nimport {\r\n  ProductList,\r\n  ProductListItem,\r\n  ProductListItemText,\r\n  ProductPriceAmount,\r\n} from \"./ProductList\";\r\nimport { v4 as uuidv4 } from \"uuid\";\r\nimport CheckableMultiSelect from \"components/Common/MultiSelect\";\r\n\r\nconst TabPanel = (props) => {\r\n  const { children, value, index, ...other } = props;\r\n\r\n  return (\r\n    <div\r\n      role=\"tabpanel\"\r\n      hidden={value !== index}\r\n      id={`simple-tabpanel-${index}`}\r\n      aria-labelledby={`simple-tab-${index}`}\r\n      {...other}\r\n    >\r\n      {value === index && <Box sx={{ p: \"0 10px 10px 10px\" }}>{children}</Box>}\r\n    </div>\r\n  );\r\n};\r\n\r\nTabPanel.propTypes = {\r\n  children: PropTypes.node,\r\n  index: PropTypes.number.isRequired,\r\n  value: PropTypes.number.isRequired,\r\n};\r\n\r\nfunction mapStateToProps(state) {\r\n  const { auth } = state;\r\n  return { auth };\r\n}\r\n\r\nconst chairColumns = [\r\n  {\r\n    id: \"add\",\r\n  },\r\n  {\r\n    id: \"thumbnail\",\r\n    sx: { width: 100 },\r\n    nonSort: true,\r\n  },\r\n  {\r\n    id: \"brand\",\r\n    label: \"Brand\",\r\n  },\r\n  {\r\n    id: \"model\",\r\n    label: \"Model\",\r\n  },\r\n  {\r\n    id: \"unitPrice\",\r\n    label: \"Price\",\r\n  },\r\n  {\r\n    id: \"balance\",\r\n    label: \"Balance\",\r\n  },\r\n  {\r\n    id: \"qty\",\r\n    label: \"QTY\",\r\n  },\r\n  {\r\n    id: \"frameColor\",\r\n    label: \"Frame Color\",\r\n  },\r\n  {\r\n    id: \"backColor\",\r\n    label: \"Back Color\",\r\n  },\r\n  {\r\n    id: \"seatColor\",\r\n    label: \"Seat Color\",\r\n  },\r\n  {\r\n    id: \"backMaterial\",\r\n    label: \"Back Material\",\r\n  },\r\n  {\r\n    id: \"seatMaterial\",\r\n    label: \"Seat Material\",\r\n  },\r\n  {\r\n    id: \"withHeadrest\",\r\n    label: \"Headrest\",\r\n  },\r\n  {\r\n    id: \"withAdArmrest\",\r\n    label: \"Adjustable Armrests\",\r\n  },\r\n  {\r\n    id: \"remark\",\r\n    label: \"Other Remark\",\r\n  },\r\n  {\r\n    id: \"shipmentDate\",\r\n    label: \"Shipment\",\r\n  },\r\n  {\r\n    id: \"arrivalDate\",\r\n    label: \"Arrival\",\r\n  },\r\n];\r\n\r\nconst hideChairColumns = [\r\n  \"Frame Color\",\r\n  \"Back Color\",\r\n  \"Seat Color\",\r\n  \"Back Material\",\r\n  \"Seat Material\",\r\n  \"Headrest\",\r\n  \"Adjustable Armrests\",\r\n  \"Other Remark\",\r\n  \"Shipment\",\r\n  \"Arrival\",\r\n];\r\n\r\nconst deskColumns = [\r\n  {\r\n    id: \"add\",\r\n  },\r\n  {\r\n    id: \"thumbnail\",\r\n    sx: { width: 100 },\r\n    nonSort: true,\r\n  },\r\n  {\r\n    id: \"supplierCode\",\r\n    label: \"Supplier\",\r\n  },\r\n  {\r\n    id: \"model\",\r\n    label: \"Model\",\r\n  },\r\n  {\r\n    id: \"unitPrice\",\r\n    label: \"Price\",\r\n  },\r\n  {\r\n    id: \"balance\",\r\n    label: \"Balance\",\r\n  },\r\n  {\r\n    id: \"qty\",\r\n    label: \"QTY\",\r\n  },\r\n  {\r\n    id: \"color\",\r\n    label: \"Color\",\r\n  },\r\n  {\r\n    id: \"armSize\",\r\n    label: \"Arm Size\",\r\n  },\r\n  {\r\n    id: \"feetSize\",\r\n    label: \"Feet Size\",\r\n  },\r\n  {\r\n    id: \"beamSize\",\r\n    label: \"Beam Size\",\r\n  },\r\n  {\r\n    id: \"remark\",\r\n    label: \"Other Remark\",\r\n  },\r\n  {\r\n    id: \"shipmentDate\",\r\n    label: \"Shipment\",\r\n  },\r\n  {\r\n    id: \"arrivalDate\",\r\n    label: \"Arrival\",\r\n  },\r\n];\r\n\r\nconst hideDeskColumns = [\r\n  \"Color\",\r\n  \"Arm Size\",\r\n  \"Feet Size\",\r\n  \"Beam Size\",\r\n  \"Other Remark\",\r\n  \"Shipment\",\r\n  \"Arrival\",\r\n];\r\n\r\nconst accessoryColumns = [\r\n  {\r\n    id: \"add\",\r\n  },\r\n  {\r\n    id: \"thumbnail\",\r\n    sx: { width: 100 },\r\n    nonSort: true,\r\n  },\r\n  {\r\n    id: \"name\",\r\n    label: \"Name\",\r\n  },\r\n  {\r\n    id: \"category\",\r\n    label: \"Category\",\r\n  },\r\n  {\r\n    id: \"unitPrice\",\r\n    label: \"Price\",\r\n  },\r\n  {\r\n    id: \"balance\",\r\n    label: \"Balance\",\r\n  },\r\n  {\r\n    id: \"qty\",\r\n    label: \"QTY\",\r\n  },\r\n  {\r\n    id: \"remark\",\r\n    label: \"Other Remark\",\r\n  },\r\n  {\r\n    id: \"shipmentDate\",\r\n    label: \"Shipment\",\r\n  },\r\n  {\r\n    id: \"arrivalDate\",\r\n    label: \"Arrival\",\r\n  },\r\n];\r\n\r\nconst materialOptions = [\r\n  \"Melamine\",\r\n  \"Laminate\",\r\n  \"North American Walnut\",\r\n  \"South American Walnut\",\r\n  \"Red Oak\",\r\n  \"Maple\",\r\n  \"Bamboo\",\r\n  \"Melamine with glass top\",\r\n  \"Toppal Plyedge\",\r\n];\r\n\r\nexport default connect(mapStateToProps)((props) => {\r\n  const theme = useTheme();\r\n\r\n  const { componentType, initialShipment, initialCart, } = props;\r\n\r\n  const [cart, setCart] = useState(initialCart);\r\n  const [cartItemStatus, setCartItemStatus] = useState(\"add\");\r\n  const [productType, setProductType] = useState(\"chair\");\r\n  const [productId, setProductId] = useState(\"\");\r\n  const [productQty, setProductQty] = useState(0);\r\n  const [productDesc, setProductDesc] = useState(\"\");\r\n  \r\n\r\n  const [topHoleCount, setTopHoleCount] = useState(0);\r\n  const [topHolePosition, setTopHolePosition] = useState(\"Left\");\r\n  const [topHoleType, setTopHoleType] = useState(\"Rounded\");\r\n  const [topMaterial, setTopMaterial] = useState(\"Melamine\");\r\n  const [topColor, setTopColor] = useState(\"\");\r\n  const [topLength, setTopLength] = useState(700);\r\n  const [topWidth, setTopWidth] = useState(400);\r\n  const [topThickness, setTopThickness] = useState(25);\r\n  const [topRoundedCorners, setTopRoundedCorners] = useState(0);\r\n  const [topCornerRadius, setTopCornerRadius] = useState(50);\r\n  const [sketchUrl, setSketchUrl] = useState(\"\");\r\n\r\n  const steps = [\r\n    \"Input Shipment Info\",\r\n    \"Select Products\",\r\n  ];\r\n  const basicForm = useRef(null);\r\n  const [currentStep, setCurrentStep] = useState(0);\r\n\r\n  const [addOpen, setAddOpen] = useState(false);\r\n  const [deskAddOpen, setDeskAddOpen] = useState(false);\r\n\r\n  const [hasDeskTop, setHasDeskTop] = useState(false);\r\n\r\n  \r\n  const [paid, setPaid] = useState(initialShipment.paid);\r\n\r\n  const [chairStocks, setChairStocks] = useState([]);\r\n  const [deskStocks, setDeskStocks] = useState([]);\r\n  const [accessoryStocks, setAccessoryStocks] = useState([]);\r\n  const [initAccessoryStocks, setInitAccessoryStocks] = useState([]);\r\n  const [stocksIndex, setStocksIndex] = useState(0);\r\n\r\n  const [chairFeatures, setChairFeatures] = useState([]);\r\n  const [deskFeatures, setDeskFeatures] = useState([]);\r\n  // const [accessoryFeatures, setAccessoryFeatures] = useState([]);\r\n\r\n  const [chairFilterBrand, setChairFilterBrand] = useState(null);\r\n  const [chairFilterModel, setChairFilterModel] = useState(null);\r\n  const [deskFilterSupplier, setDeskFilterSupplier] = useState(null);\r\n  const [deskFilterModel, setDeskFilterModel] = useState(null);\r\n  const [deskFilterColor, setDeskFilterColor] = useState(null);\r\n  const [accessoryFilterCategory, setAccessoryFilterCategory] = useState(\"All\");\r\n\r\n  const [selectedHideChairColumns, setSelectedHideChairColumns] = useState([]);\r\n  const [selectedHideDeskColumns, setSelectedHideDeskColumns] = useState([]);\r\n\r\n  const getChairFeatures = (cancelToken) => {\r\n    axios\r\n      .get(\"/chairStock/features\", { cancelToken })\r\n      .then((response) => {\r\n        // handle success\r\n        setChairFeatures(response.data);\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        console.log(error);\r\n      })\r\n      .then(function () {\r\n        // always executed\r\n      });\r\n  };\r\n\r\n  const getDeskFeatures = (cancelToken) => {\r\n    axios\r\n      .get(\"/deskStock/features\", { cancelToken })\r\n      .then((response) => {\r\n        // handle success\r\n        setDeskFeatures(response.data);\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        console.log(error);\r\n      })\r\n      .then(function () {\r\n        // always executed\r\n      });\r\n  };\r\n\r\n  const getAccessoryFeatures = (cancelToken) => {\r\n    axios\r\n      .get(\"/accessoryStock/features\", { cancelToken })\r\n      .then((response) => {\r\n        // handle success\r\n        // setAccessoryFeatures(response.data);\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        console.log(error);\r\n      })\r\n      .then(function () {\r\n        // always executed\r\n      });\r\n  };\r\n\r\n  const getChairStocks = (cancelToken) => {\r\n    axios\r\n      .get(\"/chairStock\", { cancelToken })\r\n      .then((response) => {\r\n        // handle success\r\n        setChairStocks(response.data);\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        console.log(error);\r\n      })\r\n      .then(function () {\r\n        // always executed\r\n      });\r\n  };\r\n\r\n  const getDeskStocks = (cancelToken) => {\r\n    axios\r\n      .get(\"/deskStock\", { cancelToken })\r\n      .then((response) => {\r\n        // handle success\r\n        setDeskStocks(response.data);\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        console.log(error);\r\n      })\r\n      .then(function () {\r\n        // always executed\r\n      });\r\n  };\r\n\r\n  const getAccessoryStocks = (cancelToken) => {\r\n    axios\r\n      .get(\"/accessoryStock\", { cancelToken })\r\n      .then((response) => {\r\n        // handle success\r\n        setAccessoryStocks(response.data);\r\n        setInitAccessoryStocks(response.data);\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        console.log(error);\r\n      })\r\n      .then(function () {\r\n        // always executed\r\n      });\r\n  };\r\n\r\n  const getShipment = (cancelToken) => {\r\n    axios\r\n      .get(\"/shipment/\" + initialShipment.id, { cancelToken })\r\n      .then((response) => {\r\n        const { chairProducts, deskProducts, accProducts } = response.data\r\n        \r\n        const products = chairProducts.map(({ pid, desc, qty, ...restProps }) => ({\r\n          productType: 'chair',\r\n          productId: pid,\r\n          productDesc: desc,\r\n          productQty: qty,\r\n        }))\r\n          .concat(\r\n            deskProducts.map(({ pid, desc, qty, ...restProps }) => ({\r\n              productType: 'desk',\r\n              productId: pid,\r\n              productDesc: desc,\r\n              productQty: qty,\r\n            }))\r\n          )\r\n          .concat(\r\n            accProducts.map(({ pid, desc, qty, ...restProps }) => ({\r\n              productType: 'accessory',\r\n              productId: pid,\r\n              productQty: qty,\r\n              productDesc: desc,\r\n            }))\r\n          )\r\n        setCart(products)\r\n      })\r\n  };\r\n\r\n  useEffect(() => {\r\n    const source = axios.CancelToken.source();\r\n    getChairFeatures(source.token);\r\n    getDeskFeatures(source.token);\r\n    getAccessoryFeatures(source.token);\r\n    getChairStocks(source.token);\r\n    getDeskStocks(source.token);\r\n    getAccessoryStocks(source.token);\r\n    getShipment(source.token);\r\n    return () => source.cancel(\"Stock Component got unmounted\");\r\n  }, []);\r\n\r\n  const isStepFailed = (step) => {\r\n    if (basicForm.current !== null && currentStep > 0 && step === 0)\r\n      return !basicForm.current.checkValidity();\r\n    else if (\r\n      cart.length === 0 &&\r\n      currentStep > 1 &&\r\n      step === 1\r\n    )\r\n      return true;\r\n    else return false;\r\n  };\r\n\r\n  const handleAccessoryFilterCategory = (e) => {\r\n    var selected_category = e.target.value;\r\n    setAccessoryFilterCategory(selected_category);\r\n    if (selected_category === \"All\") {\r\n      setAccessoryStocks(initAccessoryStocks);\r\n    } else {\r\n      setAccessoryStocks(\r\n        initAccessoryStocks.filter(\r\n          (stock) => stock.category === selected_category\r\n        )\r\n      );\r\n    }\r\n  };\r\n\r\n  const onHideChairColumnChanged = (values) => {\r\n    setSelectedHideChairColumns(values);\r\n  };\r\n\r\n  const onHideDeskColumnChanged = (values) => {\r\n    setSelectedHideDeskColumns(values);\r\n  };\r\n\r\n  const onEditCartProduct = (item) => {\r\n    setCartItemStatus(\"edit\");\r\n    setProductType(item.productType);\r\n    setProductId(item.productId);\r\n    setProductQty(item.productQty);\r\n    setProductDesc(item.productDesc);\r\n\r\n    if (item.productType === \"chair\" || item.productType === \"accessory\") {\r\n      setAddOpen(true);\r\n    } else if (item.productType === \"desk\") {\r\n      setHasDeskTop(item.hasDeskTop);\r\n      setTopColor(item.topColor);\r\n      setTopCornerRadius(item.topCornerRadius);\r\n      setTopHoleCount(item.topHoleCount);\r\n      setTopHolePosition(item.topHolePosition);\r\n      setTopHoleType(item.topHoleType);\r\n      setTopLength(item.topLength);\r\n      setTopMaterial(item.topMaterial);\r\n      setTopRoundedCorners(item.topRoundedCorners);\r\n      setTopThickness(item.topThickness);\r\n      setTopWidth(item.topWidth);\r\n      setSketchUrl(item.topSketchURL);\r\n\r\n      setDeskAddOpen(true);\r\n    }\r\n  };\r\n\r\n  const handleNext = (e) => {\r\n    e.preventDefault();\r\n    \r\n    if (cart.length === 0) {\r\n      Swal.fire({\r\n        icon: \"warning\",\r\n        title: \"Warning\",\r\n        text: \"Products list cannot be empty\",\r\n        allowOutsideClick: false,\r\n      });\r\n\r\n      return;\r\n    }\r\n    \r\n    setCurrentStep(2);\r\n  }\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    \r\n    const basicData = new FormData(basicForm.current);\r\n    if (componentType === \"create\") {\r\n      axios\r\n        .post(`/shipment/create`, {\r\n          supplier: basicData.get(\"supplier\"),\r\n          location: basicData.get(\"location\"),\r\n          remark: basicData.get(\"remark\"),\r\n          products: cart,\r\n        })\r\n        .then(() => {\r\n          // handle success\r\n          props.history.push(\"/admin/shipment\");\r\n        })\r\n        .catch(function (error) {\r\n          // handle error\r\n          Swal.fire({\r\n            icon: \"error\",\r\n            title: \"Error\",\r\n            text: error.response.data.message,\r\n            allowOutsideClick: false,\r\n          }).then(() => { });\r\n          console.log(error);\r\n        })\r\n        .then(function () {\r\n          // always executed\r\n        });\r\n    }\r\n    else {  // edit\r\n      axios\r\n        .put(`/shipment/${initialShipment.id}`, {\r\n          supplier: basicData.get(\"supplier\"),\r\n          location: basicData.get(\"location\"),\r\n          remark: basicData.get(\"remark\"),\r\n          products: cart,          \r\n        })\r\n        .then(() => {\r\n          // handle success\r\n          props.history.push(\"/admin/shipment\");\r\n        })\r\n        .catch(function (error) {\r\n          // handle error\r\n          Swal.fire({\r\n            icon: \"error\",\r\n            title: \"Error\",\r\n            text: error.response.data.message,\r\n            allowOutsideClick: false,\r\n          }).then(() => { });\r\n          console.log(error);\r\n        })\r\n        .then(function () {\r\n          // always executed\r\n        });\r\n    }\r\n  }\r\n\r\n  const handleSubmit2 = (e) => {\r\n    e.preventDefault();\r\n    const data = new FormData(e.currentTarget);\r\n\r\n    setAddOpen(false);\r\n\r\n    // Add products\r\n    if (cartItemStatus === \"add\") {\r\n      if (cart.find((item) => item.productType === productType && item.productId === productId)) {\r\n        Swal.fire({icon: \"warning\", title: \"Warning\", text: \"This product is already added.\", allowOutsideClick: false});\r\n        return;\r\n      }\r\n      setCart(cart.concat({ productType, productId, productQty, productDesc }));\r\n    } else if (cartItemStatus === \"edit\") {  // Edit products\r\n      const newCart = cart.map((item) => {\r\n        if (item.productType === productType && item.productId === productId)\r\n          return { productId, productType, productQty, productDesc };\r\n        else return item;\r\n      });\r\n      setCart(newCart);\r\n    }\r\n  }\r\n\r\n  const handleSubmit3 = async (e) => {\r\n    e.preventDefault();\r\n\r\n    setTopHoleCount(0);\r\n    setTopHolePosition(\"Left\");\r\n    setTopHoleType(\"Rounded\");\r\n    setTopMaterial(\"Melamine\");\r\n    setTopColor(\"\");\r\n    setTopLength(700);\r\n    setTopWidth(400);\r\n    setTopThickness(25);\r\n    setTopRoundedCorners(0);\r\n    setTopCornerRadius(50);\r\n    setSketchUrl(\"\");\r\n\r\n    setDeskAddOpen(false);\r\n\r\n    const data = new FormData(e.currentTarget);\r\n\r\n    if (cartItemStatus === \"add\") {\r\n      if (!hasDeskTop && cart.find((item) => item.productType === \"desk\" && item.productId === productId && !item.hasDeskTop)) {\r\n        Swal.fire({icon: \"warning\", title: \"Warning\", text: \"This product is already added.\", allowOutsideClick: false,});\r\n        return;\r\n      }\r\n\r\n      setCart(cart.concat({ productType, productId, productQty, productDesc })\r\n      );\r\n    } else if (cartItemStatus === \"edit\") {\r\n      const newCart = cart.map((item) => {\r\n        if (item.productType !== \"desk\" || item.productId !== productId)\r\n          return item;\r\n\r\n        return { productType, productId, productQty, productDesc };\r\n      });\r\n\r\n      setCart(newCart);\r\n    }\r\n  }\r\n\r\n  return (\r\n    <Box\r\n      sx={{\r\n        height: \"100%\",\r\n        overflow: \"auto\",\r\n        padding: \"20px 20px 10px 20px\",\r\n      }}\r\n    >\r\n      <Stepper activeStep={currentStep} sx={{ flexWrap: \"wrap\" }}>\r\n        {steps.map((label, index) => {\r\n          const labelProps = {};\r\n          if (isStepFailed(index)) {\r\n            labelProps.optional = (\r\n              <Typography variant=\"caption\" color=\"error\">\r\n                {[\"Invalid Input\", \"Products cannot be empty\"][index]}\r\n              </Typography>\r\n            );\r\n\r\n            labelProps.error = true;\r\n          }\r\n\r\n          return (\r\n            <Step key={label} sx={{ my: \"10px\" }}>\r\n              <StepLabel {...labelProps}>{label}</StepLabel>\r\n            </Step>\r\n          );\r\n        })}\r\n      </Stepper>\r\n      <Box\r\n        sx={{ mx: \"auto\", mt: \"50px\" }}\r\n        ref={basicForm}\r\n        hidden={currentStep !== 0}\r\n        component=\"form\"\r\n        maxWidth=\"sm\"\r\n        fullWidth\r\n        onSubmit={(e) => {\r\n          e.preventDefault();\r\n          setCurrentStep(1);\r\n        }}\r\n      >\r\n        <Paper\r\n          sx={{\r\n            p: \"10px\",\r\n            display: \"flex\",\r\n            flexWrap: \"wrap\",\r\n            justifyContent: \"space-between\",\r\n          }}\r\n        >\r\n          <Typography variant=\"h6\" sx={{ flexBasis: \"100%\", minWidth: \"100%\" }}>\r\n            Shipment Info\r\n          </Typography>\r\n          {[\r\n            { name: \"supplier\", label: \"Supplier\", type: \"text\",  defaultValue: initialShipment.supplier, width: \"100%\", required: true },\r\n            { name: \"location\", label: \"location\", type: \"text\",  defaultValue: initialShipment.location, width: \"100%\", required: true },\r\n            { name: \"remark\", label: \"Remark\", type: \"text\",  defaultValue: initialShipment.remark, width: \"100%\" },\r\n\r\n          ].map(({ setValue, width, ...restProps }, index) =>\r\n            (\r\n              <TextField\r\n                key={index}\r\n                sx={{ flexBasis: width, minWidth: width }}\r\n                InputLabelProps={{ shrink: true }}\r\n                {...restProps}\r\n              />\r\n            )\r\n          )}\r\n        </Paper>\r\n        <Button type=\"submit\" sx={{ marginTop: \"10px\", float: \"right\" }}>\r\n          Next\r\n        </Button>\r\n      </Box>\r\n      {currentStep === 1 && (\r\n        <>\r\n          {cart.length > 0 && (\r\n            <Paper>              \r\n              <ProductList sx={{ px: \"10px\" }}>\r\n                {cart.map((item, index) => (\r\n                  <ProductListItem\r\n                    key={index}\r\n                    secondaryAction={\r\n                      <Fragment>\r\n                        <IconButton\r\n                          onClick={(event) => {\r\n                            event.preventDefault();\r\n                            onEditCartProduct(item);\r\n                          }}\r\n                        >\r\n                          <EditIcon />\r\n                        </IconButton>\r\n                        <IconButton\r\n                          onClick={(event) => {\r\n                            event.preventDefault();\r\n                            setCart(\r\n                              cart.filter(\r\n                                (product, productIndex) =>\r\n                                  productIndex !== index\r\n                              )\r\n                            );\r\n                          }}\r\n                        >\r\n                          <DeleteIcon />\r\n                        </IconButton>\r\n                      </Fragment>\r\n                    }\r\n                  >\r\n                    {item.productType === \"chair\" && (\r\n                      <ProductListItemText\r\n                        primary={`Chair: ${item.productDesc}`}\r\n                        secondary={`${item.withHeadrest ? \"Headrest, \" : \"\"\r\n                          }${item.withAdArmrest ? \"Armrest\" : \"\"}`}\r\n                      />\r\n                    )}\r\n                    {item.productType === \"desk\" && (\r\n                      <ProductListItemText\r\n                        primary={`Desk: ${item.productDesc}}`}\r\n                        secondary={\r\n                          item.hasDeskTop\r\n                            ? `${item.topMaterial}, ${item.topColor}, ${item.topLength}x${item.topWidth}x${item.topThickness}, ${item.topRoundedCorners}-R${item.topCornerRadius}, ${item.topHoleCount}-${item.topHoleType}`\r\n                            : \"Without DeskTop\"\r\n                        }\r\n                      />\r\n                    )}\r\n                    {item.productType === \"accessory\" && (\r\n                      <ProductListItemText\r\n                        primary={`Accessory: ${item.productDesc}`}\r\n                        secondary={`${item.remark}`}\r\n                      />\r\n                    )}\r\n                    <ProductPriceAmount\r\n                      amount={`Qty: ${item.productQty}`}\r\n                      deliveryOption={`${item.productDeliveryOption}`}\r\n                    />\r\n                  </ProductListItem>\r\n                ))}\r\n              </ProductList>\r\n            </Paper>\r\n          )}\r\n          <Paper sx={{ my: \"10px\" }}>\r\n            <Box sx={{ borderBottom: 1, borderColor: \"divider\" }}>\r\n              <Tabs\r\n                value={stocksIndex}\r\n                onChange={(event, value) => {\r\n                  event.preventDefault();\r\n                  setStocksIndex(value);\r\n                }}\r\n                aria-label=\"basic tabs example\"\r\n              >\r\n                <Tab label=\"Chairs\" />\r\n                <Tab label=\"Desks\" />\r\n                <Tab label=\"Accessories\" />\r\n              </Tabs>\r\n            </Box>\r\n            <TabPanel value={stocksIndex} index={0}>\r\n              <Paper\r\n                sx={{\r\n                  marginTop: \"10px\",\r\n                  padding: \"5px 10px\",\r\n                  display: \"flex\",\r\n                  flexWrap: \"wrap\",\r\n                  justifyContent: \"space-around\",\r\n                }}\r\n              >\r\n                {[\r\n                  {\r\n                    label: \"Brand\",\r\n                    value: chairFilterBrand,\r\n                    onChange: (event, value) => {\r\n                      event.preventDefault();\r\n                      setChairFilterBrand(value);\r\n                      setChairFilterModel(null);\r\n                    },\r\n                    options: chairFeatures\r\n                      .map((item) => item.brand)\r\n                      .filter((c, index, chars) => chars.indexOf(c) === index),\r\n                  },\r\n                  {\r\n                    label: \"Model\",\r\n                    value: chairFilterModel,\r\n                    onChange: (event, value) => {\r\n                      event.preventDefault();\r\n                      setChairFilterModel(value);\r\n                    },\r\n                    options: chairFeatures\r\n                      .filter(\r\n                        (item) =>\r\n                          !chairFilterBrand || item.brand === chairFilterBrand\r\n                      )\r\n                      .map((item) => item.model)\r\n                      .filter((c, index, chars) => chars.indexOf(c) === index),\r\n                  },\r\n                ].map(({ label, ...props }, index) => (\r\n                  <Autocomplete\r\n                    key={index}\r\n                    sx={{ flexBasis: \"200px\", maxWidth: \"200px\" }}\r\n                    renderInput={(params) => (\r\n                      <TextField {...params} label={label} />\r\n                    )}\r\n                    {...props}\r\n                  />\r\n                ))}\r\n              </Paper>\r\n              <CheckableMultiSelect\r\n                options={hideChairColumns}\r\n                onChange={onHideChairColumnChanged}\r\n                selected={selectedHideChairColumns}\r\n              />\r\n              <DataGrid\r\n                nonSelect={true}\r\n                title=\"Chair Stocks\"\r\n                rows={chairStocks\r\n                  .map(\r\n                    (\r\n                      {\r\n                        thumbnailURL,\r\n                        withHeadrest,\r\n                        withAdArmrest,\r\n                        shipmentDate,\r\n                        arrivalDate,\r\n                        ...restProps\r\n                      },\r\n                      index\r\n                    ) => ({\r\n                      thumbnail: (\r\n                        <a\r\n                          href=\"/\"\r\n                          onClick={(e) => {\r\n                            e.preventDefault();\r\n                            Swal.fire({\r\n                              html: `<img alt=\"\" width=\"400px\" src=\"${thumbnailURL}\" />`,\r\n                              showCloseButton: true,\r\n                              showConfirmButton: false,\r\n                              allowOutsideClick: false,\r\n                            });\r\n                          }}\r\n                        >\r\n                          <img\r\n                            alt=\"\"\r\n                            width=\"80px\"\r\n                            src={thumbnailURL}\r\n                            style={{ marginTop: \"5px\" }}\r\n                          />\r\n                        </a>\r\n                      ),\r\n                      withHeadrest: withHeadrest ? \"Yes\" : \"No\",\r\n                      withAdArmrest: withAdArmrest ? \"Yes\" : \"No\",\r\n                      add: (\r\n                        <IconButton\r\n                          onClick={(event) => {\r\n                            event.preventDefault();\r\n                            if (cart.find((item) => item.productType === \"chair\" && item.productId === chairStocks[index].id)) {\r\n                              Swal.fire({icon: \"warning\", title: \"Warning\", text: \"This product is already added.\", allowOutsideClick: false});\r\n                              return;\r\n                            }\r\n                            setProductType(\"chair\");\r\n                            setProductId(chairStocks[index].id);\r\n                            setProductQty(1);\r\n                            setProductDesc(chairStocks[index].brand + \" - \" + chairStocks[index].model)\r\n                            setAddOpen(true);\r\n                          }}\r\n                        >\r\n                          <AddIcon />\r\n                        </IconButton>\r\n                      ),\r\n                      shipmentDate: (() => {\r\n                        if (shipmentDate === null) return \"No\";\r\n                        const createdTime = new Date(shipmentDate);\r\n                        createdTime.setMinutes(\r\n                          createdTime.getMinutes() -\r\n                          createdTime.getTimezoneOffset()\r\n                        );\r\n                        return createdTime.toISOString().split(\"T\")[0];\r\n                      })(),\r\n                      arrivalDate: (() => {\r\n                        if (arrivalDate === null) return \"No\";\r\n                        const createdTime = new Date(arrivalDate);\r\n                        createdTime.setMinutes(\r\n                          createdTime.getMinutes() -\r\n                          createdTime.getTimezoneOffset()\r\n                        );\r\n                        return createdTime.toISOString().split(\"T\")[0];\r\n                      })(),\r\n                      ...restProps,\r\n                    })\r\n                  )\r\n                  .filter(\r\n                    (item) =>\r\n                      (!chairFilterBrand || item.brand === chairFilterBrand) &&\r\n                      (!chairFilterModel || item.model === chairFilterModel)\r\n                  )}\r\n                columns={chairColumns\r\n                  .map((column, i) => {\r\n                    if (i > 6) {\r\n                      if (\r\n                        selectedHideChairColumns.find(\r\n                          (hideColumn) => hideColumn === column.label\r\n                        )\r\n                      )\r\n                        return column;\r\n                    }\r\n                    return column;\r\n                  })\r\n                  .filter((column) => column !== undefined)}\r\n              />\r\n            </TabPanel>\r\n            <TabPanel value={stocksIndex} index={1}>\r\n              <Paper\r\n                sx={{\r\n                  marginTop: \"10px\",\r\n                  padding: \"5px 10px\",\r\n                  display: \"flex\",\r\n                  flexWrap: \"wrap\",\r\n                  justifyContent: \"space-around\",\r\n                }}\r\n              >\r\n                {[\r\n                  {\r\n                    label: \"Supplier\",\r\n                    value: deskFilterSupplier,\r\n                    onChange: (event, value) => {\r\n                      event.preventDefault();\r\n                      setDeskFilterSupplier(value);\r\n                      setDeskFilterModel(null);\r\n                      setDeskFilterColor(null);\r\n                    },\r\n                    options: deskFeatures\r\n                      .map((item) => item.supplierCode)\r\n                      .filter((c, index, chars) => chars.indexOf(c) === index),\r\n                  },\r\n                  {\r\n                    label: \"Model\",\r\n                    value: deskFilterModel,\r\n                    onChange: (event, value) => {\r\n                      event.preventDefault();\r\n                      setDeskFilterModel(value);\r\n                      setDeskFilterColor(null);\r\n                    },\r\n                    options: deskFeatures\r\n                      .filter(\r\n                        (item) =>\r\n                          !deskFilterSupplier ||\r\n                          item.supplierCode === deskFilterSupplier\r\n                      )\r\n                      .map((item) => item.model)\r\n                      .filter((c, index, chars) => chars.indexOf(c) === index),\r\n                  },\r\n                  {\r\n                    label: \"Color\",\r\n                    value: deskFilterColor,\r\n                    onChange: (event, value) => {\r\n                      event.preventDefault();\r\n                      setDeskFilterColor(value);\r\n                    },\r\n                    options: deskFeatures\r\n                      .filter(\r\n                        (item) =>\r\n                          !deskFilterModel || item.model === deskFilterModel\r\n                      )\r\n                      .map((item) => item.color)\r\n                      .filter((c, index, chars) => chars.indexOf(c) === index),\r\n                  },\r\n                ].map(({ label, ...props }, index) => (\r\n                  <Autocomplete\r\n                    key={index}\r\n                    sx={{ flexBasis: \"200px\", maxWidth: \"200px\" }}\r\n                    renderInput={(params) => (\r\n                      <TextField {...params} label={label} />\r\n                    )}\r\n                    {...props}\r\n                  />\r\n                ))}\r\n              </Paper>\r\n              <CheckableMultiSelect\r\n                options={hideDeskColumns}\r\n                onChange={onHideDeskColumnChanged}\r\n                selected={selectedHideDeskColumns}\r\n              />\r\n              <DataGrid\r\n                nonSelect={true}\r\n                title=\"Desk Leg Stocks\"\r\n                rows={deskStocks\r\n                  .map(\r\n                    (\r\n                      { thumbnailURL, shipmentDate, arrivalDate, ...restProps },\r\n                      index\r\n                    ) => ({\r\n                      thumbnail: (\r\n                        <a\r\n                          href=\"/\"\r\n                          onClick={(e) => {\r\n                            e.preventDefault();\r\n                            Swal.fire({\r\n                              html: `<img alt=\"\" width=\"400px\" src=\"${thumbnailURL}\" />`,\r\n                              showCloseButton: true,\r\n                              showConfirmButton: false,\r\n                              allowOutsideClick: false,\r\n                            });\r\n                          }}\r\n                        >\r\n                          <img\r\n                            alt=\"\"\r\n                            width=\"80px\"\r\n                            src={thumbnailURL}\r\n                            style={{ marginTop: \"5px\" }}\r\n                          />\r\n                        </a>\r\n                      ),\r\n                      add: (\r\n                        <IconButton\r\n                          onClick={(event) => {\r\n                            setProductType(\"desk\");\r\n                            setProductId(deskStocks[index].id);\r\n                            setProductQty(1);\r\n                            setProductDesc(deskStocks[index].supplierCode + \" - \" + deskStocks[index].model)\r\n                            setHasDeskTop(false);\r\n                            setDeskAddOpen(true);\r\n                          }}\r\n                        >\r\n                          <AddIcon />\r\n                        </IconButton>\r\n                      ),\r\n                      shipmentDate: (() => {\r\n                        if (shipmentDate === null) return \"No\";\r\n                        const createdTime = new Date(shipmentDate);\r\n                        createdTime.setMinutes(\r\n                          createdTime.getMinutes() -\r\n                          createdTime.getTimezoneOffset()\r\n                        );\r\n                        return createdTime.toISOString().split(\"T\")[0];\r\n                      })(),\r\n                      arrivalDate: (() => {\r\n                        if (arrivalDate === null) return \"No\";\r\n                        const createdTime = new Date(arrivalDate);\r\n                        createdTime.setMinutes(\r\n                          createdTime.getMinutes() -\r\n                          createdTime.getTimezoneOffset()\r\n                        );\r\n                        return createdTime.toISOString().split(\"T\")[0];\r\n                      })(),\r\n                      ...restProps,\r\n                    })\r\n                  )\r\n                  .filter(\r\n                    (item) =>\r\n                      (!deskFilterSupplier ||\r\n                        item.supplierCode === deskFilterSupplier) &&\r\n                      (!deskFilterModel || item.model === deskFilterModel) &&\r\n                      (!deskFilterColor || item.color === deskFilterColor)\r\n                  )}\r\n                columns={deskColumns\r\n                  .map((column, i) => {\r\n                    if (i > 6) {\r\n                      if (\r\n                        selectedHideDeskColumns.find(\r\n                          (hideColumn) => hideColumn === column.label\r\n                        )\r\n                      )\r\n                        return column;\r\n                    }\r\n                    return column;\r\n                  })\r\n                  .filter((column) => column !== undefined)}\r\n              />\r\n            </TabPanel>\r\n            <TabPanel value={stocksIndex} index={2}>\r\n              <Paper\r\n                sx={{\r\n                  marginTop: \"10px\",\r\n                  padding: \"5px 10px\",\r\n                  display: \"flex\",\r\n                  flexWrap: \"wrap\",\r\n                  justifyContent: \"space-around\",\r\n                }}\r\n              >\r\n                <FormControl size=\"small\" sx={{ flexBasis: \"200px\", maxWidth: \"200px\" }}>\r\n                  <InputLabel id=\"category_filter\">Category</InputLabel>\r\n                  <Select\r\n                    labelId=\"category_filter\"\r\n                    label=\"Category\"\r\n                    value={accessoryFilterCategory}\r\n                    onChange={handleAccessoryFilterCategory}\r\n                  >\r\n                    <MenuItem value=\"All\">All</MenuItem>\r\n                    <MenuItem value=\"Desk Accessories\">\r\n                      Desk Accessories\r\n                    </MenuItem>\r\n                    <MenuItem value=\"Chair Accessories\">\r\n                      Chair Accessories\r\n                    </MenuItem>\r\n                    <MenuItem value=\"Desk on Desk\">Desk on Desk</MenuItem>\r\n                    <MenuItem value=\"Monitor Arms\">Monitor Arms</MenuItem>\r\n                    <MenuItem value=\"Cabinet\">Cabinet</MenuItem>\r\n                    <MenuItem value=\"Drawer\">Drawer</MenuItem>\r\n                  </Select>\r\n                </FormControl>\r\n              </Paper>\r\n              <DataGrid\r\n                nonSelect={true}\r\n                title=\"Accessory Stocks\"\r\n                rows={accessoryStocks.map(\r\n                  (\r\n                    { thumbnailURL, shipmentDate, arrivalDate, ...restProps },\r\n                    index\r\n                  ) => ({\r\n                    thumbnail: (\r\n                      <a\r\n                        href=\"/\"\r\n                        onClick={(e) => {\r\n                          e.preventDefault();\r\n                          Swal.fire({\r\n                            html: `<img alt=\"\" width=\"400px\" src=\"${thumbnailURL}\" />`,\r\n                            showCloseButton: true,\r\n                            showConfirmButton: false,\r\n                            allowOutsideClick: false,\r\n                          });\r\n                        }}\r\n                      >\r\n                        <img\r\n                          alt=\"\"\r\n                          width=\"80px\"\r\n                          src={thumbnailURL}\r\n                          style={{ marginTop: \"5px\" }}\r\n                        />\r\n                      </a>\r\n                    ),\r\n                    add: (\r\n                      <IconButton\r\n                        onClick={(event) => {\r\n                          event.preventDefault();\r\n                          setProductType(\"accessory\");\r\n                          setProductId(accessoryStocks[index].id);\r\n                          setProductQty(1);\r\n                          setProductDesc(accessoryStocks[index].category + \" - \" + accessoryStocks[index].name)\r\n                            \r\n                          if (\r\n                            cart.find(\r\n                              (item) =>\r\n                                item.productType === \"accessory\" &&\r\n                                item.productId ===\r\n                                accessoryStocks[index].id\r\n                            )\r\n                          ) {\r\n                            Swal.fire({\r\n                              icon: \"warning\",\r\n                              title: \"Warning\",\r\n                              text: \"This product is already added.\",\r\n                              allowOutsideClick: false,\r\n                            });\r\n                            return;\r\n                          }\r\n                          setAddOpen(true);\r\n                        }}\r\n                      >\r\n                        <AddIcon />\r\n                      </IconButton>\r\n                    ),\r\n                    shipmentDate: (() => {\r\n                      if (shipmentDate === null) return \"No\";\r\n                      const createdTime = new Date(shipmentDate);\r\n                      createdTime.setMinutes(\r\n                        createdTime.getMinutes() -\r\n                        createdTime.getTimezoneOffset()\r\n                      );\r\n                      return createdTime.toISOString().split(\"T\")[0];\r\n                    })(),\r\n                    arrivalDate: (() => {\r\n                      if (arrivalDate === null) return \"No\";\r\n                      const createdTime = new Date(arrivalDate);\r\n                      createdTime.setMinutes(\r\n                        createdTime.getMinutes() -\r\n                        createdTime.getTimezoneOffset()\r\n                      );\r\n                      return createdTime.toISOString().split(\"T\")[0];\r\n                    })(),\r\n                    ...restProps,\r\n                  })\r\n                )}\r\n                columns={accessoryColumns}\r\n              />\r\n            </TabPanel>\r\n          </Paper>\r\n          <Button\r\n            onClick={(e) => {\r\n              e.preventDefault();\r\n              setCurrentStep(0);\r\n            }}\r\n          >\r\n            Previous\r\n          </Button>\r\n          <Button\r\n            sx={{ float: \"right\" }}\r\n            onClick={ handleNext }\r\n          >\r\n            Next\r\n          </Button>\r\n        </>\r\n      )}\r\n      <Box\r\n        sx={{ mx: \"auto\", mt: \"50px\" }}\r\n        hidden={currentStep !== 2}\r\n        component=\"form\"\r\n        maxWidth=\"sm\"\r\n        fullWidth\r\n        onSubmit={ handleSubmit }\r\n      >\r\n        <Button\r\n          sx={{ marginTop: \"10px\" }}\r\n          onClick={(e) => {\r\n            e.preventDefault();\r\n            setCurrentStep(1);\r\n          }}\r\n        >\r\n          Previous\r\n        </Button>\r\n        <Button sx={{ float: \"right\", marginTop: \"10px\" }} type=\"submit\">\r\n          Finish\r\n        </Button>\r\n      </Box>\r\n      <Dialog\r\n        open={addOpen}\r\n        maxWidth=\"sm\"\r\n        fullWidth\r\n        fullScreen={useMediaQuery(theme.breakpoints.down(\"sm\"))}\r\n        PaperProps={{\r\n          component: \"form\",\r\n          onSubmit: (e) => {\r\n            handleSubmit2(e);\r\n          },\r\n        }}\r\n      >\r\n        <DialogTitle>Price and Amount</DialogTitle>\r\n        <DialogContent sx={{ textAlign: \"center\" }}>\r\n          <TextField\r\n            label=\"Description\"\r\n            name=\"productDesc\"\r\n            value={productDesc}\r\n            sx={{ width: 200 }}\r\n            InputProps={{\r\n              readOnly: true,\r\n              endAdornment: <InputAdornment position=\"end\">HKD</InputAdornment>,\r\n            }}\r\n          />\r\n          <Box\r\n            sx={{\r\n              display: \"flex\",\r\n              alignItems: \"center\",\r\n              width: \"200px\",\r\n              border: \"1px solid #0000003b\",\r\n              borderRadius: \"4px\",\r\n              my: \"10px\",\r\n              mx: \"auto\",\r\n              p: \"5px 3px\"\r\n            }}\r\n          >\r\n            <Typography variant=\"span\" sx={{ flexGrow: 1 }}>\r\n              Quantity\r\n            </Typography>\r\n            <IconButton\r\n              onClick={(e) => {\r\n                e.preventDefault();\r\n                setProductQty(Math.max(productQty - 1, 1));\r\n              }}\r\n            >\r\n              <RemoveIcon />\r\n            </IconButton>\r\n            <Typography variant=\"span\" sx={{ ml: \"10px\" }}>\r\n              {productQty}\r\n            </Typography>\r\n            <IconButton\r\n              onClick={(e) => {\r\n                e.preventDefault();\r\n                setProductQty(Math.min(productQty + 1, 99));\r\n              }}\r\n            >\r\n              <AddIcon />\r\n            </IconButton>\r\n          </Box>\r\n\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button\r\n            onClick={(e) => {\r\n              setAddOpen(false);\r\n            }}\r\n          >\r\n            Cancel\r\n          </Button>\r\n          <Button type=\"submit\">OK</Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n      <Dialog\r\n        open={deskAddOpen}\r\n        maxWidth=\"sm\"\r\n        fullWidth\r\n        fullScreen={useMediaQuery(theme.breakpoints.down(\"sm\"))}\r\n        PaperProps={{\r\n          component: \"form\",\r\n          onSubmit: async (e) => {\r\n            handleSubmit3(e)\r\n          },\r\n        }}\r\n      >\r\n        <DialogTitle>Price and Amount</DialogTitle>\r\n        <DialogContent sx={{ textAlign: \"center\" }}>\r\n          <TextField\r\n            label=\"Description\"\r\n            name=\"productDesc\"\r\n            value={productDesc}\r\n            sx={{ width: 200, visibility: hasDeskTop ? \"hidden\" : \"visible\" }}\r\n            InputProps={{\r\n              readOnly: true,\r\n              endAdornment: <InputAdornment position=\"end\">HKD</InputAdornment>,\r\n            }}\r\n          />\r\n          <Divider sx={{ my: \"10px\" }} />\r\n          <Box display=\"flex\" flexWrap=\"wrap\" justifyContent=\"space-between\">\r\n            <FormControlLabel\r\n              control={\r\n                <Checkbox\r\n                  name=\"hasDeskTop\"\r\n                  checked={hasDeskTop}\r\n                  onChange={(e) => {\r\n                    setHasDeskTop(e.currentTarget.checked);\r\n                  }}\r\n                />\r\n              }\r\n              label=\"with Table Top\"\r\n              sx={{ flexBasis: \"100%\", minWidth: \"100%\" }}\r\n            />\r\n            <TextField\r\n              label=\"Description\"\r\n              name=\"productDesc\"\r\n              defaultValue={productDesc}\r\n              sx={{ flexBasis: 200, minWidth: 200, mx: \"auto\" }}\r\n              disabled={!hasDeskTop}\r\n              InputProps={{\r\n                endAdornment: (\r\n                  <InputAdornment position=\"end\">HKD</InputAdornment>\r\n                ),\r\n              }}\r\n            />\r\n          </Box>\r\n          <Divider sx={{ my: \"10px\" }} />\r\n          <Box\r\n            sx={{\r\n              display: \"flex\",\r\n              alignItems: \"left\",\r\n              width: \"200px\",\r\n              border: \"1px solid #0000003b\",\r\n              borderRadius: \"4px\",\r\n              mt: \"10px\",\r\n              mx: \"auto\",\r\n              p: \"5px 3px\",\r\n            }}\r\n          >\r\n            <Typography variant=\"span\" sx={{ flexGrow: 1, marginTop: \"8px\" }}>\r\n              Quantity\r\n            </Typography>\r\n            <IconButton\r\n              onClick={(e) => {\r\n                e.preventDefault();\r\n                setProductQty(Math.max(productQty - 1, 1));\r\n              }}\r\n            >\r\n              <RemoveIcon />\r\n            </IconButton>\r\n            <Typography variant=\"span\" sx={{ ml: \"10px\", marginTop: \"8px\" }}>\r\n              {productQty}\r\n            </Typography>\r\n            <IconButton\r\n              onClick={(e) => {\r\n                e.preventDefault();\r\n                setProductQty(Math.min(productQty + 1, 99));\r\n              }}\r\n            >\r\n              <AddIcon />\r\n            </IconButton>\r\n          </Box>\r\n\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button\r\n            onClick={(e) => {\r\n              e.preventDefault();\r\n              setTopHoleCount(0);\r\n              setTopHolePosition(\"Left\");\r\n              setTopHoleType(\"Rounded\");\r\n              setTopMaterial(\"Melamine\");\r\n              setTopColor(\"\");\r\n              setTopLength(700);\r\n              setTopWidth(400);\r\n              setTopThickness(25);\r\n              setTopRoundedCorners(0);\r\n              setTopCornerRadius(50);\r\n              setSketchUrl(\"\");\r\n\r\n              setDeskAddOpen(false);\r\n            }}\r\n          >\r\n            Cancel\r\n          </Button>\r\n          <Button type=\"submit\">OK</Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    </Box >\r\n  );\r\n});\r\n","import React, { useState } from 'react';\r\nimport Detail from './detail';\r\n\r\nconst Create = (props) => {\r\n  return (\r\n    <Detail\r\n      componentType=\"create\"\r\n      initialShipment={{\r\n        supplier: '',\r\n        location: '',\r\n        remark: '',\r\n      }}\r\n      initialCart={[]}\r\n      {...props}\r\n    />\r\n  );\r\n};\r\n\r\nexport default Create;\r\n","import React, { useEffect, useState } from 'react';\r\nimport Detail from './detail';\r\nimport { Redirect, useLocation } from 'react-router-dom';\r\nimport axios from \"axios\";\r\n\r\nconst Edit = (props) => {\r\n  const loc = useLocation();\r\n  const { shipment } = loc.state || {};\r\n  const {\r\n    id,\r\n    supplier,\r\n    location,\r\n    remark,\r\n  } = shipment || {};\r\n\r\n  return shipment ? (\r\n    <Detail\r\n      componentType=\"edit\"\r\n      initialShipment={{\r\n        id: id,\r\n        supplier: supplier,\r\n        location: location,\r\n        remark: remark,\r\n      }}\r\n      initialCart={{}}\r\n      {...props}\r\n    />\r\n  ) : (\r\n    <Redirect to=\"/admin/purchase/shipment\" />\r\n  );\r\n};\r\n\r\nexport default Edit;\r\n","import React, { useState } from \"react\";\r\nimport { Route, Switch, useRouteMatch } from \"react-router-dom\";\r\nimport { connect } from \"react-redux\";\r\nimport { Box } from \"@mui/material\";\r\nimport {\r\n  BookOnline as BookOnlineIcon,\r\n  DeliveryDining as DeliveryDiningIcon,\r\n  PeopleAlt as PeopleAltIcon,\r\n  Storefront as StorefrontIcon,\r\n} from \"@mui/icons-material\";\r\nimport Swal from \"sweetalert2\";\r\n\r\nimport AppHeader from \"components/Common/AppHeader\";\r\nimport { CollapsedSidebar, FixedSidebar } from \"components/Common/Sidebar\";\r\nimport { logout } from \"services/auth.service\";\r\nimport User from \"./User\";\r\nimport { ChairStock } from \"./Chair\";\r\nimport { DeskStock } from \"./Desk\";\r\nimport { AccessoryStock } from \"./Accessory\";\r\nimport {\r\n  SalesOrderView,\r\n  SalesOrderCreate,\r\n  SalesOrderEdit,\r\n} from \"./Salement/SalesOrder\";\r\nimport {\r\n  QuotationView,\r\n  QuotationCreate,\r\n  QuotationEdit,\r\n} from \"./Salement/Quotation\";\r\nimport { ChairDelivery, DeskDelivery } from \"./Delivery\";\r\nimport {\r\n  PurchaseOrderView,\r\n  PurchaseOrderCreate,\r\n  PurchaseOrderEdit,\r\n} from \"./Purchase/Order\";\r\nimport {\r\n  ShipmentView,\r\n  ShipmentCreate,\r\n  ShipmentEdit,\r\n} from \"./Purchase/Shipment\";\r\n\r\nfunction mapStateToProps(state) {\r\n  const { auth } = state;\r\n  return { auth };\r\n}\r\n\r\nconst drawerWidth = 240;\r\nconst drawerHeight = 50;\r\n\r\nconst menuLists = [\r\n  {\r\n    category: \"Chair\",\r\n    content: [\r\n      { to: \"/admin/chair/stock\", icon: <StorefrontIcon />, label: \"Stock\" },\r\n    ],\r\n  },\r\n  {\r\n    category: \"Desk\",\r\n    content: [\r\n      { to: \"/admin/desk/stock\", icon: <StorefrontIcon />, label: \"Stock\" },\r\n    ],\r\n  },\r\n  {\r\n    category: \"Accessory\",\r\n    content: [\r\n      {\r\n        to: \"/admin/accessory/stock\",\r\n        icon: <StorefrontIcon />,\r\n        label: \"Stock\",\r\n      },\r\n    ],\r\n  },\r\n  {\r\n    category: \"Sales\",\r\n    content: [\r\n      { to: \"/admin/sales\", icon: <BookOnlineIcon />, label: \"Order\" },\r\n      { to: \"/admin/quotation\", icon: <BookOnlineIcon />, label: \"Quotation\" },\r\n    ],\r\n  },\r\n  {\r\n    category: \"Purchase\",\r\n    content: [\r\n      { to: \"/admin/purchase\", icon: <BookOnlineIcon />, label: \"Order\" },\r\n      { to: \"/admin/shipment\", icon: <BookOnlineIcon />, label: \"Shipment\" },\r\n    ],\r\n  },\r\n  {\r\n    category: \"Delivery\",\r\n    content: [\r\n      {\r\n        to: \"/admin/delivery/chair\",\r\n        icon: <DeliveryDiningIcon />,\r\n        label: \"Chair\",\r\n      },\r\n      {\r\n        to: \"/admin/delivery/desk\",\r\n        icon: <DeliveryDiningIcon />,\r\n        label: \"Desk\",\r\n      },\r\n      {\r\n        to: \"/admin/delivery/accessory\",\r\n        icon: <DeliveryDiningIcon />,\r\n        label: \"Accessory\",\r\n      },\r\n    ],\r\n  },\r\n  {\r\n    category: \"User\",\r\n    content: [{ to: \"/admin/user\", icon: <PeopleAltIcon />, label: \"Users\" }],\r\n  },\r\n];\r\n\r\nconst Admin = (props) => {\r\n  const [mobileOpen, setMobileOpen] = useState(false);\r\n  const { path } = useRouteMatch();\r\n\r\n  const handleDrawerOpen = (e) => {\r\n    e.preventDefault();\r\n    setMobileOpen(true);\r\n  };\r\n\r\n  const handleDrawerClose = (e) => {\r\n    e.preventDefault();\r\n    setMobileOpen(false);\r\n  };\r\n\r\n  const handleLogout = (e) => {\r\n    e.preventDefault();\r\n    Swal.fire({\r\n      title: \"Are you sure?\",\r\n      text: \"Log out will remove your session information permanently.\",\r\n      icon: \"question\",\r\n      showCancelButton: true,\r\n      confirmButtonText: \"Yes, Logout!\",\r\n      cancelButtonText: \"No, Keep Login\",\r\n      allowOutsideClick: false,\r\n    }).then((result) => {\r\n      if (result.isConfirmed) {\r\n        props.logout();\r\n      }\r\n    });\r\n    // props.logout();\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <AppHeader\r\n        drawerHeight = {drawerHeight}\r\n        handleDrawerToggle = {handleDrawerOpen}\r\n        title = \"Administrator\"\r\n      />\r\n      <Box\r\n        flexBasis = {`calc(100% - ${drawerHeight}px)`}\r\n        maxHeight = {`calc(100% - ${drawerHeight}px)`}\r\n        position = \"relative\"\r\n        display = \"flex\"\r\n        backgroundColor = \"#f4f5f7\"\r\n      >\r\n        <CollapsedSidebar\r\n          mobileOpen = {mobileOpen}\r\n          handleDrawerClose = {handleDrawerClose}\r\n          drawerWidth = {drawerWidth}\r\n          handleLogout = {handleLogout}\r\n          lists = {menuLists}\r\n        />\r\n        <FixedSidebar\r\n          drawerWidth = {drawerWidth}\r\n          handleLogout = {handleLogout}\r\n          lists = {menuLists}\r\n        />\r\n        <Box\r\n          component = \"main\"\r\n          sx = {{\r\n            flexGrow: 1,\r\n            width: { sm: `calc(100% - ${drawerWidth}px)` },\r\n            maxWidth: \"100%\",\r\n          }}\r\n        >\r\n          <Switch>\r\n            <Route path={`${path}/user`} component={User} />\r\n            <Route path={`${path}/chair/stock`} exact component={ChairStock} />\r\n            <Route path={`${path}/desk/stock`} exact component={DeskStock} />\r\n            <Route path={`${path}/accessory/stock`} exact component={AccessoryStock} />\r\n            <Route path={`${path}/sales`} exact component={SalesOrderView} />\r\n            <Route path={`${path}/sales/create`} exact component={SalesOrderCreate} />\r\n            <Route path={`${path}/sales/edit`} exact component={SalesOrderEdit} />\r\n            <Route path={`${path}/quotation`} exact component={QuotationView} />\r\n            <Route path={`${path}/quotation/create`} exact component={QuotationCreate} />\r\n            <Route path={`${path}/quotation/edit`} exact component={QuotationEdit} />\r\n            <Route path={`${path}/delivery/chair`} exact component={ChairDelivery} />\r\n            <Route path={`${path}/delivery/desk`} exact component={DeskDelivery} />\r\n            <Route path={`${path}/purchase`} exact component={ PurchaseOrderView } />\r\n            <Route path={`${path}/purchase/create`} exact component={ PurchaseOrderCreate } />\r\n            <Route path={`${path}/purchase/edit`} exact component={ PurchaseOrderEdit } />\r\n            <Route path={`${path}/shipment`} exact component={ ShipmentView } />\r\n            <Route path={`${path}/shipment/create`} exact component={ ShipmentCreate } />\r\n            <Route path={`${path}/shipment/edit`} exact component={ShipmentEdit} />\r\n          </Switch>\r\n        </Box>\r\n      </Box>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default connect(mapStateToProps, { logout })(Admin);\r\n","import React, { useEffect, useState } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { Autocomplete, Box, Paper, TextField } from '@mui/material';\r\nimport axios from 'axios';\r\nimport Swal from 'sweetalert2';\r\n\r\nimport DataGrid from 'components/Common/DataGrid';\r\nimport CheckableMultiSelect from 'components/Common/MultiSelect';\r\n\r\nconst columns = [\r\n  {\r\n    id: 'thumbnail',\r\n    sx: { width: 100 },\r\n    nonSort: true,\r\n  },\r\n  {\r\n    id: 'brand',\r\n    label: 'Brand',\r\n  },\r\n  {\r\n    id: 'model',\r\n    label: 'Model',\r\n  },\r\n  {\r\n    id: 'unitPrice',\r\n    label: 'Price',\r\n  },\r\n  {\r\n    id: 'balance',\r\n    label: 'Balance',\r\n  },\r\n  {\r\n    id: 'qty',\r\n    label: 'QTY',\r\n  },\r\n  {\r\n    id: 'frameColor',\r\n    label: 'Frame Color',\r\n  },\r\n  {\r\n    id: 'backColor',\r\n    label: 'Back Color',\r\n  },\r\n  {\r\n    id: 'seatColor',\r\n    label: 'Seat Color',\r\n  },\r\n  {\r\n    id: 'backMaterial',\r\n    label: 'Back Material',\r\n  },\r\n  {\r\n    id: 'seatMaterial',\r\n    label: 'Seat Material',\r\n  },\r\n  {\r\n    id: 'withHeadrest',\r\n    label: 'Headrest',\r\n  },\r\n  {\r\n    id: 'withAdArmrest',\r\n    label: 'Adjustable Armrests',\r\n  },\r\n  {\r\n    id: 'remark',\r\n    label: 'Other Remark',\r\n  },\r\n  {\r\n    id: 'shipmentDate',\r\n    label: 'Shipment',\r\n  },\r\n  {\r\n    id: 'arrivalDate',\r\n    label: 'Arrival',\r\n  },\r\n];\r\n\r\nconst hideColumns = [\r\n  'Frame Color',\r\n  'Back Color',\r\n  'Seat Color',\r\n  'Back Material',\r\n  'Seat Material',\r\n  'Headrest',\r\n  'Adjustable Armrests',\r\n  'Other Remark',\r\n  'Shipment',\r\n  'Arrival'\r\n];\r\n\r\nfunction mapStateToProps(state) {\r\n  const { auth } = state;\r\n  return { auth };\r\n}\r\n\r\nconst Stock = connect(mapStateToProps)((props) => {\r\n  const [stocks, setStocks] = useState([]);\r\n  const [features, setFeatures] = useState([]);\r\n\r\n  const [filterBrand, setFilterBrand] = useState(null);\r\n  const [filterModel, setFilterModel] = useState(null);\r\n\r\n  const [selectedHideColumns, setSelectedHideColumns] = useState([])\r\n\r\n  const getFeatures = (cancelToken) => {\r\n    axios\r\n      .get('/chairStock/features', { cancelToken })\r\n      .then((response) => {\r\n        // handle success\r\n        setFeatures(response.data);\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        console.log(error);\r\n      })\r\n      .then(function () {\r\n        // always executed\r\n      });\r\n  };\r\n\r\n  const getStocks = (cancelToken) => {\r\n    axios\r\n      .get('/chairStock', { cancelToken })\r\n      .then((response) => {\r\n        // handle success\r\n        setStocks(response.data);\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        console.log(error);\r\n      })\r\n      .then(function () {\r\n        // always executed\r\n      });\r\n  };\r\n\r\n  const onHideColumnChanged = (values) => {\r\n    setSelectedHideColumns(values)\r\n  }\r\n\r\n  useEffect(() => {\r\n    const source = axios.CancelToken.source();\r\n    getFeatures(source.token);\r\n    getStocks(source.token);\r\n    return () => source.cancel('Stock Component got unmounted');\r\n  }, []);\r\n\r\n  return (\r\n    <Box\r\n      sx={{\r\n        height: '100%',\r\n        overflow: 'auto',\r\n        padding: '10px 20px',\r\n      }}\r\n    >\r\n      <Paper\r\n        sx={{\r\n          marginTop: '10px',\r\n          padding: '5px 10px',\r\n          display: 'flex',\r\n          flexWrap: 'wrap',\r\n          justifyContent: 'space-around',\r\n        }}\r\n      >\r\n        {[\r\n          {\r\n            label: 'Brand',\r\n            value: filterBrand,\r\n            onChange: (event, value) => {\r\n              event.preventDefault();\r\n              setFilterBrand(value);\r\n              setFilterModel(null);\r\n            },\r\n            options: features\r\n              .map((item) => item.brand)\r\n              .filter((c, index, chars) => chars.indexOf(c) === index),\r\n          },\r\n          {\r\n            label: 'Model',\r\n            value: filterModel,\r\n            onChange: (event, value) => {\r\n              event.preventDefault();\r\n              setFilterModel(value);\r\n            },\r\n            options: features\r\n              .filter((item) => !filterBrand || item.brand === filterBrand)\r\n              .map((item) => item.model)\r\n              .filter((c, index, chars) => chars.indexOf(c) === index),\r\n          },\r\n        ].map(({ label, ...props }, index) => (\r\n          <Autocomplete\r\n            key={index}\r\n            sx={{ flexBasis: '200px', maxWidth: '200px' }}\r\n            renderInput={(params) => <TextField {...params} label={label} />}\r\n            {...props}\r\n          />\r\n        ))}\r\n      </Paper>\r\n      <CheckableMultiSelect \r\n        options={hideColumns}\r\n        onChange={onHideColumnChanged}\r\n        selected={selectedHideColumns} \r\n      />\r\n      <DataGrid\r\n        nonSelect={true}\r\n        title=\"Chair Stocks\"\r\n        rows={stocks\r\n          .map(\r\n            (\r\n              {\r\n                withHeadrest,\r\n                withAdArmrest,\r\n                thumbnailURL,\r\n                shipmentDate,\r\n                arrivalDate,\r\n                ...restProps\r\n              },\r\n              index\r\n            ) => ({\r\n              thumbnail: (\r\n                <a\r\n                  href=\"/\"\r\n                  onClick={(e) => {\r\n                    e.preventDefault();\r\n                    Swal.fire({\r\n                      html: `<img alt=\"\" width=\"400px\" src=\"${thumbnailURL}\" />`,\r\n                      showCloseButton: true,\r\n                      showConfirmButton: false,\r\n                      allowOutsideClick: false,\r\n                    });\r\n                  }}\r\n                >\r\n                  <img\r\n                    alt=\"\"\r\n                    width=\"80px\"\r\n                    src={thumbnailURL}\r\n                    style={{ marginTop: '5px' }}\r\n                  />\r\n                </a>\r\n              ),\r\n              withHeadrest: withHeadrest ? 'Yes' : 'No',\r\n              withAdArmrest: withAdArmrest ? 'Yes' : 'No',\r\n              shipmentDate: (() => {\r\n                if (shipmentDate === null) return 'No';\r\n                const createdTime = new Date(shipmentDate);\r\n                createdTime.setMinutes(\r\n                  createdTime.getMinutes() - createdTime.getTimezoneOffset()\r\n                );\r\n                return createdTime.toISOString().split('T')[0];\r\n              })(),\r\n              arrivalDate: (() => {\r\n                if (arrivalDate === null) return 'No';\r\n                const createdTime = new Date(arrivalDate);\r\n                createdTime.setMinutes(\r\n                  createdTime.getMinutes() - createdTime.getTimezoneOffset()\r\n                );\r\n                return createdTime.toISOString().split('T')[0];\r\n              })(),\r\n              ...restProps,\r\n            })\r\n          )\r\n          .filter(\r\n            (item) =>\r\n              (!filterBrand || item.brand === filterBrand) &&\r\n              (!filterModel || item.model === filterModel)\r\n          )}\r\n        columns={\r\n          columns.map((column, i) => {\r\n            if (i > 5) {\r\n              if (selectedHideColumns.find(hideColumn=>hideColumn === column.label)) \r\n                return column\r\n              else \r\n                return undefined\r\n            }\r\n            return column\r\n          }).filter(column=>column !== undefined)\r\n        }\r\n      />\r\n    </Box>\r\n  );\r\n});\r\n\r\nexport default Stock;\r\n","import React, { useEffect, useState } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { Autocomplete, Box, Paper, TextField } from '@mui/material';\r\nimport axios from 'axios';\r\nimport Swal from 'sweetalert2';\r\n\r\nimport DataGrid from 'components/Common/DataGrid';\r\nimport CheckableMultiSelect from 'components/Common/MultiSelect';\r\n\r\nconst columns = [\r\n  {\r\n    id: 'thumbnail',\r\n    sx: { width: 100 },\r\n    nonSort: true,\r\n  },\r\n  {\r\n    id: 'supplierCode',\r\n    label: 'Supplier',\r\n  },\r\n  {\r\n    id: 'model',\r\n    label: 'Model',\r\n    hidden: true\r\n  },\r\n  {\r\n    id: 'unitPrice',\r\n    label: 'Price',\r\n  },\r\n  {\r\n    id: 'balance',\r\n    label: 'Balance',\r\n  },\r\n  {\r\n    id: 'qty',\r\n    label: 'QTY',\r\n  },\r\n  {\r\n    id: 'color',\r\n    label: 'Color',\r\n  },\r\n  {\r\n    id: 'armSize',\r\n    label: 'Arm Size',\r\n  },\r\n  {\r\n    id: 'feetSize',\r\n    label: 'Feet Size',\r\n  },\r\n  {\r\n    id: 'beamSize',\r\n    label: 'Beam Size',\r\n  },\r\n  {\r\n    id: 'remark',\r\n    label: 'Other Remark',\r\n  },\r\n  {\r\n    id: 'shipmentDate',\r\n    label: 'Shipment',\r\n  },\r\n  {\r\n    id: 'arrivalDate',\r\n    label: 'Arrival',\r\n  },\r\n];\r\n\r\nconst hideColumns = [\r\n  'Color',\r\n  'Arm Size',\r\n  'Feet Size',\r\n  'Beam Size',\r\n  'Other Remark',\r\n  'Shipment',\r\n  'Arrival'\r\n];\r\n\r\nfunction mapStateToProps(state) {\r\n  const { auth } = state;\r\n  return { auth };\r\n}\r\n\r\nconst Stock = connect(mapStateToProps)((props) => {\r\n  const [stocks, setStocks] = useState([]);\r\n  const [features, setFeatures] = useState([]);\r\n\r\n  const [filterSupplier, setFilterSupplier] = useState(null);\r\n  const [filterModel, setFilterModel] = useState(null);\r\n  const [filterColor, setFilterColor] = useState(null);\r\n\r\n  const [selectedHideColumns, setSelectedHideColumns] = useState([])\r\n\r\n  const getFeatures = (cancelToken) => {\r\n    axios\r\n      .get('/deskStock/features', { cancelToken })\r\n      .then((response) => {\r\n        // handle success\r\n        setFeatures(response.data);\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        console.log(error);\r\n      })\r\n      .then(function () {\r\n        // always executed\r\n      });\r\n  };\r\n\r\n  const getStocks = (cancelToken) => {\r\n    axios\r\n      .get('/deskStock', { cancelToken })\r\n      .then((response) => {\r\n        // handle success\r\n        setStocks(response.data);\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        console.log(error);\r\n      })\r\n      .then(function () {\r\n        // always executed\r\n      });\r\n  };\r\n\r\n  const onHideColumnChanged = (values) => {\r\n    setSelectedHideColumns(values)\r\n  }\r\n\r\n  useEffect(() => {\r\n    const source = axios.CancelToken.source();\r\n    getFeatures(source.token);\r\n    getStocks(source.token);\r\n    return () => source.cancel('Stock Component got unmounted');\r\n  }, []);\r\n\r\n  return (\r\n    <Box\r\n      sx={{\r\n        height: '100%',\r\n        overflow: 'auto',\r\n        padding: '10px 20px',\r\n      }}\r\n    >\r\n      <Paper\r\n        sx={{\r\n          marginTop: '10px',\r\n          padding: '5px 10px',\r\n          display: 'flex',\r\n          flexWrap: 'wrap',\r\n          justifyContent: 'space-around',\r\n        }}\r\n      >\r\n        {[\r\n          {\r\n            label: 'Supplier',\r\n            value: filterSupplier,\r\n            onChange: (event, value) => {\r\n              event.preventDefault();\r\n              setFilterSupplier(value);\r\n              setFilterModel(null);\r\n              setFilterColor(null);\r\n            },\r\n            options: features\r\n              .map((item) => item.supplierCode)\r\n              .filter((c, index, chars) => chars.indexOf(c) === index),\r\n          },\r\n          {\r\n            label: 'Model',\r\n            value: filterModel,\r\n            onChange: (event, value) => {\r\n              event.preventDefault();\r\n              setFilterModel(value);\r\n              setFilterColor(null);\r\n            },\r\n            options: features\r\n              .filter(\r\n                (item) =>\r\n                  !filterSupplier || item.supplierCode === filterSupplier\r\n              )\r\n              .map((item) => item.model)\r\n              .filter((c, index, chars) => chars.indexOf(c) === index),\r\n          },\r\n          {\r\n            label: 'Color',\r\n            value: filterColor,\r\n            onChange: (event, value) => {\r\n              event.preventDefault();\r\n              setFilterColor(value);\r\n            },\r\n            options: features\r\n              .filter(\r\n                (item) =>\r\n                  (!filterSupplier || item.supplierCode === filterSupplier) &&\r\n                  (!filterModel || item.model === filterModel)\r\n              )\r\n              .map((item) => item.color)\r\n              .filter((c, index, chars) => chars.indexOf(c) === index),\r\n          },\r\n        ].map(({ label, ...props }, index) => (\r\n          <Autocomplete\r\n            key={index}\r\n            sx={{ flexBasis: '200px', maxWidth: '200px' }}\r\n            renderInput={(params) => <TextField {...params} label={label} />}\r\n            {...props}\r\n          />\r\n        ))}\r\n      </Paper>\r\n      <CheckableMultiSelect \r\n        options={hideColumns}\r\n        onChange={onHideColumnChanged}\r\n        selected={selectedHideColumns} \r\n      />\r\n      <DataGrid\r\n        nonSelect={true}\r\n        title=\"Desk Leg Stocks\"\r\n        rows={stocks\r\n          .map(\r\n            (\r\n              {\r\n                withHeadrest,\r\n                withAdArmrest,\r\n                thumbnailURL,\r\n                shipmentDate,\r\n                arrivalDate,\r\n                ...restProps\r\n              },\r\n              index\r\n            ) => ({\r\n              thumbnail: (\r\n                <a\r\n                  href=\"/\"\r\n                  onClick={(e) => {\r\n                    e.preventDefault();\r\n                    Swal.fire({\r\n                      html: `<img alt=\"\" width=\"400px\" src=\"${thumbnailURL}\" />`,\r\n                      showCloseButton: true,\r\n                      showConfirmButton: false,\r\n                      allowOutsideClick: false,\r\n                    });\r\n                  }}\r\n                >\r\n                  <img\r\n                    alt=\"\"\r\n                    width=\"80px\"\r\n                    src={thumbnailURL}\r\n                    style={{ marginTop: '5px' }}\r\n                  />\r\n                </a>\r\n              ),\r\n              withHeadrest: withHeadrest ? 'Yes' : 'No',\r\n              withAdArmrest: withAdArmrest ? 'Yes' : 'No',\r\n              shipmentDate: (() => {\r\n                if (shipmentDate === null) return 'No';\r\n                const createdTime = new Date(shipmentDate);\r\n                createdTime.setMinutes(\r\n                  createdTime.getMinutes() - createdTime.getTimezoneOffset()\r\n                );\r\n                return createdTime.toISOString().split('T')[0];\r\n              })(),\r\n              arrivalDate: (() => {\r\n                if (arrivalDate === null) return 'No';\r\n                const createdTime = new Date(arrivalDate);\r\n                createdTime.setMinutes(\r\n                  createdTime.getMinutes() - createdTime.getTimezoneOffset()\r\n                );\r\n                return createdTime.toISOString().split('T')[0];\r\n              })(),\r\n              ...restProps,\r\n            })\r\n          )\r\n          .filter(\r\n            (item) =>\r\n              (!filterSupplier || item.supplierCode === filterSupplier) &&\r\n              (!filterModel || item.model === filterModel) &&\r\n              (!filterColor || item.color === filterColor)\r\n          )}\r\n          columns={\r\n            columns.map((column, i) => {\r\n              if (i > 5) {\r\n                if (selectedHideColumns.find(hideColumn=>hideColumn === column.label)) \r\n                  return column\r\n                else\r\n                  return undefined\r\n              }\r\n              return column\r\n            }).filter(column=>column !== undefined)\r\n          }\r\n      />\r\n    </Box>\r\n  );\r\n});\r\n\r\nexport default Stock;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport {\r\n  Box,\r\n  Paper,\r\n  MenuItem,\r\n  FormControl,\r\n  Select,\r\n  InputLabel,\r\n} from \"@mui/material\";\r\nimport axios from \"axios\";\r\nimport Swal from \"sweetalert2\";\r\n\r\nimport DataGrid from \"components/Common/DataGrid\";\r\n\r\nconst columns = [\r\n  {\r\n    id: \"thumbnail\",\r\n    sx: { width: 100 },\r\n    nonSort: true,\r\n  },\r\n  {\r\n    id: \"name\",\r\n    label: \"Name\",\r\n  },\r\n  {\r\n    id: \"category\",\r\n    label: \"Category\",\r\n  },\r\n  {\r\n    id: \"remark\",\r\n    label: \"Other Remark\",\r\n  },\r\n  {\r\n    id: \"unitPrice\",\r\n    label: \"Price\",\r\n  },\r\n  {\r\n    id: \"balance\",\r\n    label: \"Balance\",\r\n  },\r\n  {\r\n    id: \"qty\",\r\n    label: \"QTY\",\r\n  },\r\n  {\r\n    id: \"shipmentDate\",\r\n    label: \"Shipment\",\r\n  },\r\n  {\r\n    id: \"arrivalDate\",\r\n    label: \"Arrival\",\r\n  },\r\n];\r\n\r\nfunction mapStateToProps(state) {\r\n  const { auth } = state;\r\n  return { auth };\r\n}\r\n\r\nconst Stock = connect(mapStateToProps)((props) => {\r\n  const [stocks, setStocks] = useState([]);\r\n  const [initStocks, setInitStocks] = useState([]);\r\n  // const [features, setFeatures] = useState([]);\r\n\r\n  const [filterCategory, setFilterCategory] = useState(\"All\");\r\n\r\n  const getFeatures = (cancelToken) => {\r\n    axios\r\n      .get(\"/accessoryStock/features\", { cancelToken })\r\n      .then((response) => {\r\n        // handle success\r\n        // setFeatures(response.data);\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        console.log(error);\r\n      })\r\n      .then(function () {\r\n        // always executed\r\n      });\r\n  };\r\n\r\n  const getStocks = (cancelToken) => {\r\n    axios\r\n      .get(\"/accessoryStock\", { cancelToken })\r\n      .then((response) => {\r\n        // handle success\r\n        setStocks(response.data);\r\n        setInitStocks(response.data);\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        console.log(error);\r\n      })\r\n      .then(function () {\r\n        // always executed\r\n      });\r\n  };\r\n\r\n  useEffect(() => {\r\n    const source = axios.CancelToken.source();\r\n    getFeatures(source.token);\r\n    getStocks(source.token);\r\n    return () => source.cancel(\"Stock Component got unmounted\");\r\n  }, []);\r\n\r\n  const handleFilterCategory = (e) => {\r\n    var selected_category = e.target.value;\r\n    setFilterCategory(selected_category);\r\n    if (selected_category === \"All\") {\r\n      setStocks(initStocks);\r\n    } else {\r\n      setStocks(\r\n        initStocks.filter((stock) => stock.category === selected_category)\r\n      );\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Box\r\n      sx={{\r\n        height: \"100%\",\r\n        overflow: \"auto\",\r\n        padding: \"10px 20px\",\r\n      }}\r\n    >\r\n      <Paper\r\n        sx={{\r\n          marginTop: \"10px\",\r\n          padding: \"5px 10px\",\r\n          display: \"flex\",\r\n          flexWrap: \"wrap\",\r\n          justifyContent: \"space-around\",\r\n        }}\r\n      >\r\n        <FormControl\r\n          size=\"small\"\r\n          sx={{ flexBasis: \"200px\", maxWidth: \"200px\" }}\r\n        >\r\n          <InputLabel id=\"category_filter\">Category</InputLabel>\r\n          <Select\r\n            labelId=\"category_filter\"\r\n            label=\"Category\"\r\n            value={filterCategory}\r\n            onChange={handleFilterCategory}\r\n          >\r\n            <MenuItem value=\"All\">All</MenuItem>\r\n            <MenuItem value=\"Desk Accessories\">Desk Accessories</MenuItem>\r\n            <MenuItem value=\"Chair Accessories\">Chair Accessories</MenuItem>\r\n            <MenuItem value=\"Desk on Desk\">Desk on Desk</MenuItem>\r\n            <MenuItem value=\"Monitor Arms\">Monitor Arms</MenuItem>\r\n            <MenuItem value=\"Cabinet\">Cabinet</MenuItem>\r\n            <MenuItem value=\"Drawer\">Drawer</MenuItem>\r\n          </Select>\r\n        </FormControl>\r\n      </Paper>\r\n      <DataGrid\r\n        nonSelect={true}\r\n        title=\"Accessory Stocks\"\r\n        rows={stocks.map(\r\n          (\r\n            { thumbnailURL, shipmentDate, arrivalDate, ...restProps },\r\n            index\r\n          ) => ({\r\n            thumbnail: (\r\n              <a\r\n                href=\"/\"\r\n                onClick={(e) => {\r\n                  e.preventDefault();\r\n                  Swal.fire({\r\n                    html: `<img alt=\"\" width=\"400px\" src=\"${thumbnailURL}\" />`,\r\n                    showCloseButton: true,\r\n                    showConfirmButton: false,\r\n                    allowOutsideClick: false,\r\n                  });\r\n                }}\r\n              >\r\n                <img\r\n                  alt=\"\"\r\n                  width=\"80px\"\r\n                  src={thumbnailURL}\r\n                  style={{ marginTop: \"5px\" }}\r\n                />\r\n              </a>\r\n            ),\r\n            shipmentDate: (() => {\r\n              if (shipmentDate === null) return \"No\";\r\n              const createdTime = new Date(shipmentDate);\r\n              createdTime.setMinutes(\r\n                createdTime.getMinutes() - createdTime.getTimezoneOffset()\r\n              );\r\n              return createdTime.toISOString().split(\"T\")[0];\r\n            })(),\r\n            arrivalDate: (() => {\r\n              if (arrivalDate === null) return \"No\";\r\n              const createdTime = new Date(arrivalDate);\r\n              createdTime.setMinutes(\r\n                createdTime.getMinutes() - createdTime.getTimezoneOffset()\r\n              );\r\n              return createdTime.toISOString().split(\"T\")[0];\r\n            })(),\r\n            ...restProps,\r\n          })\r\n        )}\r\n        columns={columns}\r\n      />\r\n    </Box>\r\n  );\r\n});\r\n\r\nexport default Stock;\r\n","import { Box, List, ListItem, ListItemText, Typography } from '@mui/material';\r\nimport { styled } from '@mui/material/styles';\r\nimport {\r\n  indigo,\r\n  teal,\r\n} from '@mui/material/colors';\r\n\r\nexport const ProductList = styled(List)(({ theme }) => ({\r\n  backgroundColor: teal[600],\r\n  padding: '10px',\r\n}));\r\n\r\nexport const ProductListItem = styled(ListItem)(({ theme }) => ({\r\n  backgroundColor: teal[300],\r\n  boxShadow: `0px 2px 1px -1px rgb(0 0 0 / 20%)`,\r\n  margin: '10px 0',\r\n  flexWrap: 'wrap',\r\n}));\r\n\r\nexport const ProductListItemText = styled(ListItemText)(({ theme }) => ({\r\n  color: indigo[900],\r\n}));\r\n\r\nexport const ProductPriceAmount = ({ unitPrice, amount }) => {\r\n  return (\r\n    <Box flexBasis=\"100%\" display=\"flex\" flexWrap=\"wrap\" alignItems=\"center\">\r\n      {[unitPrice, amount].map((item, index) => (\r\n        <Typography\r\n          key={index}\r\n          variant=\"span\"\r\n          sx={{\r\n            color: 'white',\r\n            width: 80,\r\n            whiteSpace: 'noWrap',\r\n            overflow: 'hidden',\r\n            textOverflow: 'ellipsis',\r\n            textAlign: 'center',\r\n            backgroundColor: indigo[400],\r\n            fontSize: ['10px', '12px'],\r\n            padding: '3px 0',\r\n            margin: '3px 10px 3px 0',\r\n            flexShrink: 0,\r\n            borderRadius: '2px',\r\n          }}\r\n        >\r\n          {item}\r\n        </Typography>\r\n      ))}\r\n    </Box>\r\n  );\r\n};\r\n","import React, { useEffect, useRef, useState } from 'react';\r\nimport { Link as RouterLink } from 'react-router-dom';\r\nimport ReactDOMServer from 'react-dom/server';\r\nimport { connect } from 'react-redux';\r\nimport {\r\n  Badge,\r\n  Box,\r\n  Button,\r\n  Checkbox,\r\n  Dialog,\r\n  DialogActions,\r\n  DialogContent,\r\n  DialogTitle,\r\n  FormControlLabel,\r\n  IconButton,\r\n  Paper,\r\n  Stack,\r\n  TextField,\r\n} from '@mui/material';\r\n//import { blue, pink, red, yellow } from '@mui/material/colors';\r\nimport {\r\n  Add as AddIcon,\r\n  Deck as DeckIcon,\r\n  Delete as DeleteIcon,\r\n  Edit as EditIcon,\r\n  Email as EmailIcon,\r\n  // PictureAsPdf as PictureAsPdfIcon,\r\n  WhatsApp as WhatsAppIcon,\r\n  Receipt as ReceiptIcon\r\n} from '@mui/icons-material';\r\nimport MuiPhoneNumber from 'material-ui-phone-number';\r\nimport { useTheme } from '@mui/material/styles';\r\nimport useMediaQuery from '@mui/material/useMediaQuery';\r\nimport axios from 'axios';\r\nimport Swal from 'sweetalert2';\r\nimport QRCode from 'react-qr-code';\r\n\r\nimport DataGrid from 'components/Common/DataGrid';\r\nimport {\r\n  ProductList,\r\n  ProductListItem,\r\n  ProductListItemText,\r\n  ProductPriceAmount,\r\n} from '../ProductList';\r\nimport CheckableMultiSelect from 'components/Common/MultiSelect';\r\n\r\nconst columns = [\r\n  {\r\n    id: 'invoiceNum',\r\n    label: 'Invoice',\r\n  },\r\n  {\r\n    id: 'name',\r\n    label: 'Client',\r\n  },\r\n  {\r\n    id: 'seller',\r\n    label: 'Seller',\r\n  },\r\n  {\r\n    id: 'orderDate',\r\n    label: 'Order',\r\n  },\r\n  {\r\n    id: 'clientAddress',\r\n    label: 'Address',\r\n  },\r\n  {\r\n    id: 'timeLine',\r\n    label: 'TimeLine',\r\n  },\r\n  {\r\n    id: 'isPreOrder',\r\n    label: 'PreOrder',\r\n  },\r\n  {\r\n    id: 'remark',\r\n    label: 'Remark',\r\n  },\r\n  {\r\n    id: 'discount',\r\n    label: 'Discount',\r\n  },\r\n  {\r\n    id: 'surcharge',\r\n    label: 'SurCharge',\r\n  },\r\n  {\r\n    id: 'products',\r\n    label: 'Products',\r\n  },\r\n  {\r\n    id: 'paid',\r\n    label: 'Paid',\r\n  },\r\n  {\r\n    id: 'receiptIcon',\r\n    nonSort: true,\r\n    label: 'Receipt',\r\n    sx: { maxWidth: 75, width: 45 },\r\n  },\r\n  {\r\n    id: 'emailIcon',\r\n    nonSort: true,\r\n    label: 'Email',\r\n    align: 'right',\r\n    sx: { maxWidth: 45, width: 45 },\r\n  },\r\n  {\r\n    id: 'whatsappIcon',\r\n    nonSort: true,\r\n    label: 'Phone',\r\n    align: 'left',\r\n    sx: { maxWidth: 45, width: 45, paddingLeft: 0 },\r\n  },\r\n  {\r\n    id: 'edit',\r\n    nonSort: true,\r\n    sx: { maxWidth: 45, width: 45 },\r\n  },\r\n  {\r\n    nonSort: true,\r\n    id: 'delete',\r\n    sx: { maxWidth: 45, width: 45 },\r\n  },\r\n];\r\n\r\nconst hideColumns = [\r\n  'Address',\r\n  'TimeLine',\r\n  'PreOrder',\r\n  'Remark',\r\n  'Discount',\r\n  'SurCharge',\r\n  'Products',\r\n  'Paid',\r\n  'Receipt',\r\n  'Email',\r\n  'Phone'\r\n];\r\n\r\nfunction mapStateToProps(state) {\r\n  const { auth } = state;\r\n  return { auth };\r\n}\r\n\r\nexport default connect(mapStateToProps)((props) => {\r\n  const theme = useTheme();\r\n\r\n  const [orders, setOrders] = useState([]);\r\n  const [initOrders, setInitOrders] = useState([]);\r\n  const [name, setName] = useState(\"\");\r\n  const [email, setEmail] = useState(\"\");\r\n  const [phone, setPhone] = useState(\"\");\r\n  const [whatsAppOpen, setWhatsAppOpen] = useState(false);\r\n  const [emailOpen, setEmailOpen] = useState(false);\r\n  const [detailOpen, setDetailOpen] = useState(false);\r\n  const whatsAppMessage = useRef(null);\r\n  const emailContent = useRef(null);\r\n  const [filterAnchor, setFilterAnchor] = useState(null);\r\n\r\n  const [orderIndex, setOrderIndex] = useState(0);\r\n\r\n  const [paymentLink, setPaymentLink] = useState(\"\");\r\n\r\n  const [selectedHideColumns, setSelectedHideColumns] = useState([]);\r\n\r\n  const [searchInvoiceNumber, setSearchInvoiceNumber] = useState(\"\");\r\n  const [searchPhoneNumber, setSearchPhoneNumber] = useState(\"\");\r\n\r\n  const chairDeliveries = useRef([]);\r\n  const deskDeliveries = useRef([]);\r\n  const accessoryDeliveries = useRef([]);\r\n\r\n  const handleFilterClick = (e) => {\r\n    e.preventDefault();\r\n    if (filterAnchor === null) setFilterAnchor(e.currentTarget);\r\n    else setFilterAnchor(null);\r\n  };\r\n\r\n  const handleWhatsAppSend = (event) => {\r\n    event.preventDefault();\r\n    axios\r\n      .post('whatsapp/send', {\r\n        phone: phone,\r\n        message: whatsAppMessage.current.value,\r\n      })\r\n      .then(() => {\r\n        setWhatsAppOpen(false);\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        setWhatsAppOpen(false);\r\n        Swal.fire({\r\n          icon: 'error',\r\n          title: 'Error',\r\n          text: error.response.data.message,\r\n          allowOutsideClick: false,\r\n        }).then(() => {\r\n          setWhatsAppOpen(true);\r\n        });\r\n      })\r\n      .then(function () {\r\n        // always executed\r\n      });\r\n  };\r\n\r\n  const handleEmailSend = (event) => {\r\n    event.preventDefault();\r\n    axios\r\n      .post('email/send', {\r\n        email: email,\r\n        message: emailContent.current.value,\r\n        link: paymentLink\r\n      })\r\n      .then(() => {\r\n        setEmailOpen(false);\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        setEmailOpen(false);\r\n        Swal.fire({\r\n          icon: 'error',\r\n          title: 'Error',\r\n          text: error.response.data.message,\r\n          allowOutsideClick: false,\r\n        }).then(() => {\r\n          setEmailOpen(true);\r\n        });\r\n      })\r\n      .then(function () {\r\n        // always executed\r\n      });\r\n  };\r\n\r\n  const handleRemoveClick = (index) => {\r\n    if (index < orders.length && index >= 0) {\r\n      Swal.fire({\r\n        title: 'Are you sure?',\r\n        text: 'This action will remove current Order permanently.',\r\n        icon: 'question',\r\n        showCancelButton: true,\r\n        confirmButtonText: 'Yes, Remove!',\r\n        cancelButtonText: 'No, Keep It.',\r\n        allowOutsideClick: false,\r\n      }).then((result) => {\r\n        if (result.isConfirmed) {\r\n          axios\r\n            .delete(`/sales/${orders[index].id}`)\r\n            .then((response) => {\r\n              // handle success\r\n              getOrders();\r\n            })\r\n            .catch(function (error) {\r\n              // handle error\r\n              Swal.fire({\r\n                icon: 'error',\r\n                title: 'Error',\r\n                text: error.response.data.message,\r\n                allowOutsideClick: false,\r\n              });\r\n              console.log(error);\r\n            })\r\n            .then(function () {\r\n              // always executed\r\n            });\r\n        }\r\n      });\r\n    }\r\n  };\r\n\r\n  const handleBulkRemoveClick = (selected) => {\r\n    Swal.fire({\r\n      title: 'Are you sure?',\r\n      text: 'This action will remove selected Orders permanently.',\r\n      icon: 'question',\r\n      showCancelButton: true,\r\n      confirmButtonText: 'Yes, Remove!',\r\n      cancelButtonText: 'No, Keep Them.',\r\n      allowOutsideClick: false,\r\n    }).then((result) => {\r\n      if (result.isConfirmed) {\r\n        axios\r\n          .delete('/sales', {\r\n            data: { ids: selected },\r\n          })\r\n          .then((response) => {\r\n            // handle success\r\n            getOrders();\r\n          })\r\n          .catch(function (error) {\r\n            // handle error\r\n            Swal.fire({\r\n              icon: 'error',\r\n              title: 'Error',\r\n              text: error.response.data.message,\r\n              allowOutsideClick: false,\r\n            });\r\n            console.log(error);\r\n          })\r\n          .then(function () {\r\n            // always executed\r\n          });\r\n      }\r\n    });\r\n  };\r\n\r\n  const getOrders = (cancelToken) => {\r\n    axios\r\n      .get('/sales/current', { cancelToken })\r\n      .then((response) => {\r\n        // handle success\r\n        setOrders(response.data);\r\n        setInitOrders(response.data);\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        console.log(error);\r\n      })\r\n      .then(function () {\r\n        // always executed\r\n      });\r\n  };\r\n\r\n  const onHideColumnChanged = (values) => {\r\n    setSelectedHideColumns(values);\r\n  };\r\n\r\n  const onKeyPressed = (e) => {\r\n    if (e.key === \"Enter\") {\r\n      const searchedOrders = initOrders\r\n        .filter((order) =>\r\n          order.invoiceNum\r\n            .toLowerCase()\r\n            .includes(searchInvoiceNumber.toLowerCase())\r\n        )\r\n        .filter((order) => order.phone.includes(searchPhoneNumber));\r\n      setOrders(searchedOrders);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    const source = axios.CancelToken.source();\r\n    getOrders(source.token);\r\n    return () => source.cancel('Brand Component got unmounted');\r\n  }, []);\r\n\r\n  return (\r\n    <Box\r\n      sx={{\r\n        height: '100%',\r\n        overflow: 'auto',\r\n        padding: '10px 20px',\r\n      }}\r\n    >\r\n      <Button\r\n        component={RouterLink}\r\n        to=\"/user/sales/create\"\r\n        startIcon={<AddIcon />}\r\n      >\r\n        New Order\r\n      </Button>\r\n      <Paper\r\n        sx={{\r\n          marginTop: \"10px\",\r\n          padding: \"5px 10px\",\r\n          display: \"flex\",\r\n          flexWrap: \"wrap\",\r\n          justifyContent: \"space-around\",\r\n        }}\r\n      >\r\n        <TextField\r\n          label=\"Invoice Number\"\r\n          variant=\"outlined\"\r\n          onKeyPress={onKeyPressed}\r\n          value={searchInvoiceNumber}\r\n          onChange={(e) => setSearchInvoiceNumber(e.target.value)}\r\n        />\r\n        <TextField\r\n          label=\"Phone Number\"\r\n          variant=\"outlined\"\r\n          onKeyPress={onKeyPressed}\r\n          value={searchPhoneNumber}\r\n          onChange={(e) => setSearchPhoneNumber(e.target.value)}\r\n        />\r\n      </Paper>\r\n      <div>\r\n        <CheckableMultiSelect \r\n          options={hideColumns}\r\n          onChange={onHideColumnChanged}\r\n          selected={selectedHideColumns} \r\n        />\r\n      </div>\r\n      <DataGrid\r\n        title=\"Sales Orders\"\r\n        rows={orders.map(\r\n          (\r\n            {\r\n              id,\r\n              invoiceNum, \r\n              district,\r\n              street,\r\n              block,\r\n              floor,\r\n              unit,\r\n              Seller,\r\n              isPreOrder,\r\n              discount,\r\n              discountType,\r\n              surcharge,\r\n              surchargeType,\r\n              createdAt,\r\n              timeLine,\r\n              paid,\r\n              ChairStocks,\r\n              DeskStocks,\r\n              AccessoryStocks,\r\n              ...restProps\r\n            },\r\n            index\r\n          ) => ({\r\n            id,\r\n            index,\r\n            seller: (Seller.firstName || '').concat(' ', Seller.lastName || ''),\r\n            timeLine:\r\n              timeLine % 7 !== 0\r\n                ? `${timeLine} day${timeLine === 1 ? '' : 's'}`\r\n                : `${timeLine / 7} week${timeLine / 7 === 1 ? '' : 's'}`,\r\n            orderDate: (() => {\r\n              const createdTime = new Date(createdAt);\r\n              createdTime.setMinutes(\r\n                createdTime.getMinutes() - createdTime.getTimezoneOffset()\r\n              );\r\n              return createdTime.toISOString().split('T')[0];\r\n            })(),\r\n            discount: `${discount}${discountType ? ' HKD' : '%'}`,\r\n            surcharge: `${surcharge}${surchargeType ? ' HKD' : '%'}`,\r\n            clientAddress: [district, street, block, floor, unit].join(', '),\r\n            isPreOrder:\r\n              (!orders[index].ChairStocks.length ||\r\n                !orders[index].ChairStocks.reduce(\r\n                  (acc, cur) => cur.ChairToOrder.preOrder * acc\r\n                )) *\r\n              (!orders[index].DeskStocks.length ||\r\n                !orders[index].DeskStocks.reduce(\r\n                  (acc, cur) => cur.DeskToOrder.preOrder * acc\r\n                ))\r\n                ? 'No'\r\n                : 'Yes',\r\n            products: (\r\n              <IconButton\r\n                sx={{ my: '5px' }}\r\n                onClick={(event) => {\r\n                  event.preventDefault();\r\n                  chairDeliveries.current = [];\r\n                  deskDeliveries.current = [];\r\n                  accessoryDeliveries.current = [];\r\n                  setOrderIndex(index);\r\n                  setDetailOpen(true);\r\n                }}\r\n              >\r\n                <Badge\r\n                  badgeContent={\r\n                    ChairStocks.length +\r\n                    DeskStocks.length +\r\n                    AccessoryStocks.length\r\n                  }\r\n                  color=\"error\"\r\n                >\r\n                  <DeckIcon />\r\n                </Badge>\r\n              </IconButton>\r\n            ),\r\n            paid: (\r\n              <Checkbox\r\n                checked={paid}\r\n                onClick={(event) => {\r\n                  event.stopPropagation();\r\n                  event.preventDefault();\r\n                  axios\r\n                    .put(`/sales/withoutStock/${id}`, {\r\n                      paid: !paid,\r\n                    })\r\n                    .then(() => {\r\n                      getOrders();\r\n                    })\r\n                    .catch(function (error) {\r\n                      // handle error\r\n                      Swal.fire({\r\n                        icon: 'error',\r\n                        title: 'Error',\r\n                        text: error.response.data.message,\r\n                        allowOutsideClick: false,\r\n                      });\r\n                    })\r\n                    .then(function () {\r\n                      // always executed\r\n                    });\r\n                }}\r\n              />\r\n            ),\r\n            invoiceNum: (\r\n              <RouterLink\r\n                to={`/invoice/${id}`}\r\n                target=\"_blank\"\r\n              >\r\n                {invoiceNum}\r\n              </RouterLink>\r\n            ),\r\n            receiptIcon: paid && (\r\n              <IconButton\r\n                component={RouterLink}\r\n                to={`/receipt/${id}`}\r\n                target=\"_blank\"\r\n              >\r\n                <ReceiptIcon />\r\n              </IconButton>\r\n            ),\r\n            emailIcon: (\r\n              <IconButton\r\n                onClick={() => {\r\n                  setName(restProps.name);\r\n                  setEmail(restProps.email);\r\n                  setEmailOpen(true);\r\n                }}\r\n              >\r\n                <EmailIcon />\r\n              </IconButton>\r\n            ),\r\n            whatsappIcon: (\r\n              <IconButton\r\n                onClick={() => {\r\n                  axios\r\n                    .get('whatsapp/checkauth')\r\n                    .then(() => {\r\n                      setName(restProps.name);\r\n                      setPhone(restProps.phone);\r\n                      setWhatsAppOpen(true);\r\n                    })\r\n                    .catch(function (error) {\r\n                      // handle error\r\n                      axios\r\n                        .get('whatsapp/getqr')\r\n                        .then((response) => {\r\n                          Swal.fire({\r\n                            icon: 'info',\r\n                            title:\r\n                              'Please signin with this QRCode and Click the button again.',\r\n                            html: ReactDOMServer.renderToStaticMarkup(\r\n                              <QRCode\r\n                                value={`${response.data.qrcode}`}\r\n                                level=\"H\"\r\n                              />\r\n                            ),\r\n                            allowOutsideClick: false,\r\n                          });\r\n                        })\r\n                        .catch(function (qrerror) {\r\n                          // handle error\r\n                          Swal.fire({\r\n                            icon: 'error',\r\n                            title: 'Error',\r\n                            text: 'Unable to use WhatsApp Messaging.',\r\n                            allowOutsideClick: false,\r\n                          });\r\n                        })\r\n                        .then(function () {\r\n                          // always executed\r\n                        });\r\n                    })\r\n                    .then(function () {\r\n                      // always executed\r\n                    });\r\n                }}\r\n              >\r\n                <WhatsAppIcon />\r\n              </IconButton>\r\n            ),\r\n            edit: (\r\n              <IconButton\r\n                component={RouterLink}\r\n                to={{\r\n                  pathname: '/user/sales/edit',\r\n                  state: { order: orders[index] },\r\n                }}\r\n              >\r\n                <EditIcon />\r\n              </IconButton>\r\n            ),\r\n            delete: (\r\n              <IconButton\r\n                onClick={(event) => {\r\n                  event.preventDefault();\r\n                  handleRemoveClick(index);\r\n                }}\r\n              >\r\n                <DeleteIcon />\r\n              </IconButton>\r\n            ),\r\n            ...restProps,\r\n          })\r\n        )}\r\n        columns={\r\n          columns.map((column, i) => {\r\n            if (i > 3 && i < 15) {\r\n              if (selectedHideColumns.find(hideColumn=>hideColumn === column.label)) \r\n                return column\r\n              else\r\n                  return undefined\r\n            }\r\n            return column            \r\n          }).filter(column=>column !== undefined)\r\n        }\r\n        onRemoveClick={handleRemoveClick}\r\n        onBulkRemoveClick={handleBulkRemoveClick}\r\n        onFilterClick={handleFilterClick}\r\n      />\r\n      <Dialog\r\n        fullWidth\r\n        fullScreen={useMediaQuery(theme.breakpoints.down('sm'))}\r\n        maxWidth=\"sm\"\r\n        open={whatsAppOpen}\r\n      >\r\n        <DialogTitle>Send WhatsApp Message to the Client</DialogTitle>\r\n        <DialogContent>\r\n          <Stack spacing={2}>\r\n            <MuiPhoneNumber\r\n              variant=\"outlined\"\r\n              label=\"Phone Number\"\r\n              onlyCountries={['hk']}\r\n              defaultCountry={'hk'}\r\n              value={phone}\r\n              InputProps={{\r\n                readOnly: true,\r\n              }}\r\n            />\r\n\r\n            <TextField\r\n              inputRef={whatsAppMessage}\r\n              label=\"Message\"\r\n              fullWidth\r\n              defaultValue={`Hello ${name},\\nThank you for your order! Please find here (payment link URL) for your payment.\\nOnce finished, your order will be processed accordingly.`}\r\n              multiline\r\n              minRows={4}\r\n              maxRows={10}\r\n              // onChange={(e) => {\r\n              //   setWhatsAppMessage(e.target.value);\r\n              // }}\r\n            />\r\n          </Stack>\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button\r\n            onClick={(event) => {\r\n              event.preventDefault();\r\n              setWhatsAppOpen(false);\r\n            }}\r\n          >\r\n            Cancel\r\n          </Button>\r\n          <Button onClick={handleWhatsAppSend}>Send</Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n      <Dialog\r\n        fullWidth\r\n        fullScreen={useMediaQuery(theme.breakpoints.down('sm'))}\r\n        maxWidth=\"sm\"\r\n        open={emailOpen}\r\n      >\r\n        <DialogTitle>Send Email to the Client</DialogTitle>\r\n        <DialogContent>\r\n          <Stack spacing={2}>\r\n            <TextField\r\n              label=\"Email\"\r\n              type=\"email\"\r\n              value={email}\r\n              InputProps={{\r\n                readOnly: true,\r\n              }}\r\n            />\r\n\r\n            <TextField\r\n              inputRef={emailContent}\r\n              label=\"Message\"\r\n              fullWidth\r\n              defaultValue={`Hello ${name},\\nThank you for your order! Please find here (payment link URL) for your payment.\\nOnce finished, your order will be processed accordingly.`}\r\n              multiline\r\n              minRows={4}\r\n              maxRows={10}\r\n            />\r\n\r\n            <TextField\r\n              label=\"Link\"\r\n              type=\"text\"\r\n              value={paymentLink}\r\n              onChange={(e) => setPaymentLink(e.target.value)}\r\n            />\r\n          </Stack>\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button\r\n            onClick={(event) => {\r\n              event.preventDefault();\r\n              setEmailOpen(false);\r\n            }}\r\n          >\r\n            Cancel\r\n          </Button>\r\n          <Button onClick={handleEmailSend}>Send</Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n      <Dialog\r\n        maxWidth=\"sm\"\r\n        fullWidth\r\n        fullScreen={useMediaQuery(theme.breakpoints.down('sm'))}\r\n        open={detailOpen}\r\n      >\r\n        <DialogTitle>Products Details</DialogTitle>\r\n        <DialogContent>\r\n          <ProductList>\r\n            {orderIndex < orders.length &&\r\n              orders[orderIndex].ChairStocks.map((item, index) => (\r\n                <ProductListItem key={index}>\r\n                  <ProductListItemText\r\n                    primary={`Chair: ${item.brand}, ${item.model}, ${item.frameColor}, ${item.backColor}, ${item.seatColor}`}\r\n                    secondary={`${item.withHeadrest ? 'Headrest, ' : ''}${\r\n                      item.withAdArmrest ? 'Armrest' : ''\r\n                    }`}\r\n                  />\r\n                  <ProductPriceAmount\r\n                    unitPrice={`${item.ChairToOrder.unitPrice} HKD`}\r\n                    amount={`Amount: ${item.ChairToOrder.qty}`}\r\n                    deliveryOption={`${item.ChairToOrder.deliveryOption}`}\r\n                  />\r\n                  <Button\r\n                    variant=\"contained\"\r\n                    sx={{ mt: '5px' }}\r\n                    component={RouterLink}\r\n                    target=\"_blank\"\r\n                    to={`/deliveryPDF/chair/${item.ChairToOrder.id}`}\r\n                  >\r\n                    Delivery Note\r\n                  </Button>\r\n                  {orders[orderIndex].paid && (\r\n                    <Paper\r\n                      ref={(ref) => chairDeliveries.current.push(ref)}\r\n                      component=\"form\"\r\n                      sx={{\r\n                        flexBasis: '100%',\r\n                        display: 'flex',\r\n                        flexWrap: 'wrap',\r\n                        alignItems: 'center',\r\n                        justifyContent: 'space-between',\r\n                        marginTop: '10px',\r\n                        padding: '10px',\r\n                      }}\r\n                    >\r\n                      <input\r\n                        name=\"id\"\r\n                        type=\"hidden\"\r\n                        value={item.ChairToOrder.id}\r\n                      />\r\n                      <TextField\r\n                        name=\"proDeliveryDate\"\r\n                        type=\"date\"\r\n                        label=\"Proposed Delivery Date\"\r\n                        defaultValue={item.ChairToOrder.proDeliveryDate}\r\n                        InputLabelProps={{ shrink: true }}\r\n                        sx={{\r\n                          flexBasis: '100%',\r\n                          my: '5px',\r\n                        }}\r\n                      />\r\n                      <TextField\r\n                        name=\"estDeliveryDate\"\r\n                        type=\"date\"\r\n                        label=\"Est. Delivery Date\"\r\n                        defaultValue={item.ChairToOrder.estDeliveryDate}\r\n                        InputLabelProps={{ shrink: true }}\r\n                        sx={{\r\n                          flexBasis: '100%',\r\n                          my: '5px',\r\n                        }}\r\n                      />\r\n                      <TextField\r\n                        name=\"from\"\r\n                        type=\"time\"\r\n                        label=\"From\"\r\n                        defaultValue={item.ChairToOrder.from}\r\n                        InputLabelProps={{ shrink: true }}\r\n                        sx={{ flexBasis: '48%', my: '5px' }}\r\n                      />\r\n                      <TextField\r\n                        name=\"to\"\r\n                        type=\"time\"\r\n                        label=\"To\"\r\n                        defaultValue={item.ChairToOrder.to}\r\n                        InputLabelProps={{ shrink: true }}\r\n                        sx={{ flexBasis: '48%', my: '5px' }}\r\n                      />\r\n                      <FormControlLabel\r\n                        key={index}\r\n                        control={\r\n                          <Checkbox\r\n                            name=\"delivered\"\r\n                            defaultChecked={item.ChairToOrder.delivered}\r\n                          />\r\n                        }\r\n                        label=\"Delivered\"\r\n                      />\r\n                    </Paper>\r\n                  )}\r\n                </ProductListItem>\r\n              ))}\r\n            {orderIndex < orders.length &&\r\n              orders[orderIndex].DeskToOrders.map((item, index) => (\r\n                <ProductListItem key={index}>\r\n                  <ProductListItemText\r\n                    primary={`Desk: \r\n                      ${orders[orderIndex].DeskStocks.find(stock=> stock.id===item.stockId).supplierCode}, \r\n                      ${orders[orderIndex].DeskStocks.find(stock=> stock.id===item.stockId).model}, \r\n                      ${orders[orderIndex].DeskStocks.find(stock=> stock.id===item.stockId).color}, \r\n                      ${orders[orderIndex].DeskStocks.find(stock=> stock.id===item.stockId).armSize}, \r\n                      ${orders[orderIndex].DeskStocks.find(stock=> stock.id===item.stockId).feetSize}, \r\n                      ${orders[orderIndex].DeskStocks.find(stock=> stock.id===item.stockId).beamSize}`}\r\n                    secondary={\r\n                      item.hasDeskTop ? (\r\n                        <span>\r\n                          {`${item.topMaterial}, \r\n                            ${item.topColor}, \r\n                            ${item.topLength}x${item.topWidth}x${item.topThickness}, \r\n                            ${item.topRoundedCorners}-R${item.topCornerRadius}, \r\n                            ${item.topHoleCount}-${item.topHoleType} `}\r\n                          <a\r\n                            href={item.topSketchURL}\r\n                            target=\"_blank\"\r\n                            rel=\"noreferrer\"\r\n                          >\r\n                            Sketch\r\n                          </a>\r\n                        </span>\r\n                      ) : (\r\n                        'Without DeskTop'\r\n                      )\r\n                    }\r\n                  />\r\n                  <ProductPriceAmount\r\n                    unitPrice={`${item.unitPrice} HKD`}\r\n                    amount={`Amount: ${item.qty}`}\r\n                    deliveryOption={`${item.deliveryOption}`}\r\n                  />\r\n                  <Button\r\n                    variant=\"contained\"\r\n                    sx={{ mt: '5px' }}\r\n                    component={RouterLink}\r\n                    target=\"_blank\"\r\n                    to={`/deliveryPDF/desk/${item.id}`}\r\n                  >\r\n                    Delivery Note\r\n                  </Button>\r\n                  {orders[orderIndex].paid && (\r\n                    <Paper\r\n                      ref={(ref) => deskDeliveries.current.push(ref)}\r\n                      component=\"form\"\r\n                      sx={{\r\n                        flexBasis: '100%',\r\n                        display: 'flex',\r\n                        flexWrap: 'wrap',\r\n                        alignItems: 'center',\r\n                        justifyContent: 'space-between',\r\n                        marginTop: '10px',\r\n                        padding: '10px',\r\n                      }}\r\n                    >\r\n                      <input\r\n                        name=\"id\"\r\n                        type=\"hidden\"\r\n                        value={item.id}\r\n                      />\r\n                      <TextField\r\n                        name=\"proDeliveryDate\"\r\n                        type=\"date\"\r\n                        label=\"Proposed Delivery Date\"\r\n                        defaultValue={item.proDeliveryDate}\r\n                        InputLabelProps={{ shrink: true }}\r\n                        sx={{\r\n                          flexBasis: '100%',\r\n                          my: '5px',\r\n                        }}\r\n                      />\r\n                      <TextField\r\n                        name=\"estDeliveryDate\"\r\n                        type=\"date\"\r\n                        label=\"Est. Delivery Date\"\r\n                        defaultValue={item.estDeliveryDate}\r\n                        InputLabelProps={{ shrink: true }}\r\n                        sx={{\r\n                          flexBasis: '100%',\r\n                          my: '5px',\r\n                        }}\r\n                      />\r\n                      <TextField\r\n                        name=\"from\"\r\n                        type=\"time\"\r\n                        label=\"From\"\r\n                        defaultValue={item.from}\r\n                        InputLabelProps={{ shrink: true }}\r\n                        sx={{ flexBasis: '48%', my: '5px' }}\r\n                      />\r\n                      <TextField\r\n                        name=\"to\"\r\n                        type=\"time\"\r\n                        label=\"To\"\r\n                        defaultValue={item.to}\r\n                        InputLabelProps={{ shrink: true }}\r\n                        sx={{ flexBasis: '48%', my: '5px' }}\r\n                      />\r\n                      <FormControlLabel\r\n                        key={index}\r\n                        control={\r\n                          <Checkbox\r\n                            name=\"delivered\"\r\n                            defaultChecked={item.delivered}\r\n                          />\r\n                        }\r\n                        label=\"Delivered\"\r\n                      />\r\n                    </Paper>\r\n                  )}\r\n                </ProductListItem>\r\n              ))}\r\n            {orderIndex < orders.length &&\r\n              orders[orderIndex].AccessoryStocks.map((item, index) => (\r\n                <ProductListItem key={index}>\r\n                  <ProductListItemText\r\n                    primary={`Accessory: ${item.name}`}\r\n                    secondary={`${item.remark}`}\r\n                  />\r\n                  <ProductPriceAmount\r\n                    unitPrice={`${item.AccessoryToOrder.unitPrice} HKD`}\r\n                    amount={`Amount: ${item.AccessoryToOrder.qty}`}\r\n                    deliveryOption={`${item.AccessoryToOrder.deliveryOption}`}\r\n                  />\r\n                  <Button\r\n                    variant=\"contained\"\r\n                    sx={{ mt: '5px' }}\r\n                    component={RouterLink}\r\n                    target=\"_blank\"\r\n                    to={`/deliveryPDF/accessory/${item.AccessoryToOrder.id}`}\r\n                  >\r\n                    Delivery Note\r\n                  </Button>\r\n                  {orders[orderIndex].paid && (\r\n                    <Paper\r\n                      ref={(ref) => accessoryDeliveries.current.push(ref)}\r\n                      component=\"form\"\r\n                      sx={{\r\n                        flexBasis: '100%',\r\n                        display: 'flex',\r\n                        flexWrap: 'wrap',\r\n                        alignItems: 'center',\r\n                        justifyContent: 'space-between',\r\n                        marginTop: '10px',\r\n                        padding: '10px',\r\n                      }}\r\n                    >\r\n                      <input\r\n                        name=\"id\"\r\n                        type=\"hidden\"\r\n                        value={item.AccessoryToOrder.id}\r\n                      />\r\n                      <TextField\r\n                        name=\"proDeliveryDate\"\r\n                        type=\"date\"\r\n                        label=\"Proposed Delivery Date\"\r\n                        defaultValue={item.AccessoryToOrder.proDeliveryDate}\r\n                        InputLabelProps={{ shrink: true }}\r\n                        sx={{\r\n                          flexBasis: '100%',\r\n                          my: '5px',\r\n                        }}\r\n                      />\r\n                      <TextField\r\n                        name=\"estDeliveryDate\"\r\n                        type=\"date\"\r\n                        label=\"Est Delivery Date\"\r\n                        defaultValue={item.AccessoryToOrder.estDeliveryDate}\r\n                        InputLabelProps={{ shrink: true }}\r\n                        sx={{\r\n                          flexBasis: '100%',\r\n                          my: '5px',\r\n                        }}\r\n                      />\r\n                      <TextField\r\n                        name=\"from\"\r\n                        type=\"time\"\r\n                        label=\"From\"\r\n                        defaultValue={item.AccessoryToOrder.from}\r\n                        InputLabelProps={{ shrink: true }}\r\n                        sx={{ flexBasis: '48%', my: '5px' }}\r\n                      />\r\n                      <TextField\r\n                        name=\"to\"\r\n                        type=\"time\"\r\n                        label=\"To\"\r\n                        defaultValue={item.AccessoryToOrder.to}\r\n                        InputLabelProps={{ shrink: true }}\r\n                        sx={{ flexBasis: '48%', my: '5px' }}\r\n                      />\r\n                      <FormControlLabel\r\n                        key={index}\r\n                        control={\r\n                          <Checkbox\r\n                            name=\"delivered\"\r\n                            defaultChecked={item.AccessoryToOrder.delivered}\r\n                          />\r\n                        }\r\n                        label=\"Delivered\"\r\n                      />\r\n                    </Paper>\r\n                  )}\r\n                </ProductListItem>\r\n              ))}\r\n          </ProductList>\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button\r\n            onClick={(event) => {\r\n              event.preventDefault();\r\n              setDetailOpen(false);\r\n            }}\r\n          >\r\n            Cancel\r\n          </Button>\r\n          <Button\r\n            onClick={(event) => {\r\n              event.preventDefault();\r\n              const chairToOrders = chairDeliveries.current.map((item) => ({\r\n                id: item.id.value,\r\n                proDeliveryDate: item.proDeliveryDate.value || null,\r\n                estDeliveryDate: item.estDeliveryDate.value || null,\r\n                from: item.from.value || null,\r\n                to: item.to.value || null,\r\n                delivered: item.delivered.checked,\r\n              }));\r\n              const deskToOrders = deskDeliveries.current.map((item) => ({\r\n                id: item.id.value,\r\n                proDeliveryDate: item.proDeliveryDate.value || null,\r\n                estDeliveryDate: item.estDeliveryDate.value || null,\r\n                from: item.from.value || null,\r\n                to: item.to.value || null,\r\n                delivered: item.delivered.checked,\r\n              }));\r\n              const accessoryToOrders = accessoryDeliveries.current.map(\r\n                (item) => ({\r\n                  id: item.id.value,\r\n                  proDeliveryDate: item.proDeliveryDate.value || null,\r\n                  estDeliveryDate: item.estDeliveryDate.value || null,\r\n                  from: item.from.value || null,\r\n                  to: item.to.value || null,\r\n                  delivered: item.delivered.checked,\r\n                })\r\n              );\r\n              axios\r\n                .post('/sales/products', {\r\n                  chairToOrders,\r\n                  deskToOrders,\r\n                  accessoryToOrders,\r\n                })\r\n                .then(() => {\r\n                  // handle success\r\n                  getOrders();\r\n                })\r\n                .catch(function (error) {\r\n                  // handle error\r\n                  console.log(error);\r\n                })\r\n                .then(function () {\r\n                  // always executed\r\n                  setDetailOpen(false);\r\n                });\r\n            }}\r\n          >\r\n            OK\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    </Box>\r\n  );\r\n});\r\n","import React, { useEffect, useRef, useState, Fragment } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { connect } from \"react-redux\";\r\nimport {\r\n  Autocomplete,\r\n  Box,\r\n  Button,\r\n  Checkbox,\r\n  Dialog,\r\n  DialogActions,\r\n  DialogContent,\r\n  DialogTitle,\r\n  Divider,\r\n  FormControl,\r\n  FormControlLabel,\r\n  IconButton,\r\n  InputAdornment,\r\n  InputLabel,\r\n  MenuItem,\r\n  Paper,\r\n  Radio,\r\n  RadioGroup,\r\n  Select,\r\n  Step,\r\n  Stepper,\r\n  StepLabel,\r\n  Tab,\r\n  Tabs,\r\n  TextField,\r\n  Typography,\r\n  Card,\r\n  Grid,\r\n} from \"@mui/material\";\r\n// import { blue, pink, purple, red, yellow } from \"@mui/material/colors\";\r\nimport {\r\n  Add as AddIcon,\r\n  Delete as DeleteIcon,\r\n  Remove as RemoveIcon,\r\n  Close as CloseIcon,\r\n  Edit as EditIcon,\r\n} from \"@mui/icons-material\";\r\nimport { useTheme } from \"@mui/material/styles\";\r\nimport useMediaQuery from \"@mui/material/useMediaQuery\";\r\nimport MuiPhoneNumber from \"material-ui-phone-number\";\r\nimport axios from \"axios\";\r\nimport Swal from \"sweetalert2\";\r\n\r\nimport DataGrid from \"components/Common/DataGrid\";\r\nimport {\r\n  ProductList,\r\n  ProductListItem,\r\n  ProductListItemText,\r\n  ProductPriceAmount,\r\n} from \"../ProductList\";\r\nimport { v4 as uuidv4 } from \"uuid\";\r\nimport CheckableMultiSelect from \"components/Common/MultiSelect\";\r\n\r\nconst TabPanel = (props) => {\r\n  const { children, value, index, ...other } = props;\r\n\r\n  return (\r\n    <div\r\n      role=\"tabpanel\"\r\n      hidden={value !== index}\r\n      id={`simple-tabpanel-${index}`}\r\n      aria-labelledby={`simple-tab-${index}`}\r\n      {...other}\r\n    >\r\n      {value === index && <Box sx={{ p: \"0 10px 10px 10px\" }}>{children}</Box>}\r\n    </div>\r\n  );\r\n};\r\n\r\nTabPanel.propTypes = {\r\n  children: PropTypes.node,\r\n  index: PropTypes.number.isRequired,\r\n  value: PropTypes.number.isRequired,\r\n};\r\n\r\nfunction mapStateToProps(state) {\r\n  const { auth } = state;\r\n  return { auth };\r\n}\r\n\r\nconst chairColumns = [\r\n  {\r\n    id: \"add\",\r\n  },\r\n  {\r\n    id: \"thumbnail\",\r\n    sx: { width: 100 },\r\n    nonSort: true,\r\n  },\r\n  {\r\n    id: \"brand\",\r\n    label: \"Brand\",\r\n  },\r\n  {\r\n    id: \"model\",\r\n    label: \"Model\",\r\n  },\r\n  {\r\n    id: \"unitPrice\",\r\n    label: \"Price\",\r\n  },\r\n  {\r\n    id: \"balance\",\r\n    label: \"Balance\",\r\n  },\r\n  {\r\n    id: \"qty\",\r\n    label: \"QTY\",\r\n  },\r\n  {\r\n    id: \"frameColor\",\r\n    label: \"Frame Color\",\r\n  },\r\n  {\r\n    id: \"backColor\",\r\n    label: \"Back Color\",\r\n  },\r\n  {\r\n    id: \"seatColor\",\r\n    label: \"Seat Color\",\r\n  },\r\n  {\r\n    id: \"backMaterial\",\r\n    label: \"Back Material\",\r\n  },\r\n  {\r\n    id: \"seatMaterial\",\r\n    label: \"Seat Material\",\r\n  },\r\n  {\r\n    id: \"withHeadrest\",\r\n    label: \"Headrest\",\r\n  },\r\n  {\r\n    id: \"withAdArmrest\",\r\n    label: \"Adjustable Armrests\",\r\n  },\r\n  {\r\n    id: \"remark\",\r\n    label: \"Other Remark\",\r\n  },\r\n  {\r\n    id: \"shipmentDate\",\r\n    label: \"Shipment\",\r\n  },\r\n  {\r\n    id: \"arrivalDate\",\r\n    label: \"Arrival\",\r\n  },\r\n];\r\n\r\nconst hideChairColumns = [\r\n  \"Frame Color\",\r\n  \"Back Color\",\r\n  \"Seat Color\",\r\n  \"Back Material\",\r\n  \"Seat Material\",\r\n  \"Headrest\",\r\n  \"Adjustable Armrests\",\r\n  \"Other Remark\",\r\n  \"Shipment\",\r\n  \"Arrival\",\r\n];\r\n\r\nconst deskColumns = [\r\n  {\r\n    id: \"add\",\r\n  },\r\n  {\r\n    id: \"thumbnail\",\r\n    sx: { width: 100 },\r\n    nonSort: true,\r\n  },\r\n  {\r\n    id: \"supplierCode\",\r\n    label: \"Supplier\",\r\n  },\r\n  {\r\n    id: \"model\",\r\n    label: \"Model\",\r\n  },\r\n  {\r\n    id: \"unitPrice\",\r\n    label: \"Price\",\r\n  },\r\n  {\r\n    id: \"balance\",\r\n    label: \"Balance\",\r\n  },\r\n  {\r\n    id: \"qty\",\r\n    label: \"QTY\",\r\n  },\r\n  {\r\n    id: \"color\",\r\n    label: \"Color\",\r\n  },\r\n  {\r\n    id: \"armSize\",\r\n    label: \"Arm Size\",\r\n  },\r\n  {\r\n    id: \"feetSize\",\r\n    label: \"Feet Size\",\r\n  },\r\n  {\r\n    id: \"beamSize\",\r\n    label: \"Beam Size\",\r\n  },\r\n  {\r\n    id: \"remark\",\r\n    label: \"Other Remark\",\r\n  },\r\n  {\r\n    id: \"shipmentDate\",\r\n    label: \"Shipment\",\r\n  },\r\n  {\r\n    id: \"arrivalDate\",\r\n    label: \"Arrival\",\r\n  },\r\n];\r\n\r\nconst hideDeskColumns = [\r\n  \"Color\",\r\n  \"Arm Size\",\r\n  \"Feet Size\",\r\n  \"Beam Size\",\r\n  \"Other Remark\",\r\n  \"Shipment\",\r\n  \"Arrival\",\r\n];\r\n\r\nconst accessoryColumns = [\r\n  {\r\n    id: \"add\",\r\n  },\r\n  {\r\n    id: \"thumbnail\",\r\n    sx: { width: 100 },\r\n    nonSort: true,\r\n  },\r\n  {\r\n    id: \"name\",\r\n    label: \"Name\",\r\n  },\r\n  {\r\n    id: \"category\",\r\n    label: \"Category\",\r\n  },\r\n  {\r\n    id: \"unitPrice\",\r\n    label: \"Price\",\r\n  },\r\n  {\r\n    id: \"balance\",\r\n    label: \"Balance\",\r\n  },\r\n  {\r\n    id: \"qty\",\r\n    label: \"QTY\",\r\n  },\r\n  {\r\n    id: \"remark\",\r\n    label: \"Other Remark\",\r\n  },\r\n  {\r\n    id: \"shipmentDate\",\r\n    label: \"Shipment\",\r\n  },\r\n  {\r\n    id: \"arrivalDate\",\r\n    label: \"Arrival\",\r\n  },\r\n];\r\n\r\nconst materialOptions = [\r\n  \"Melamine\",\r\n  \"Laminate\",\r\n  \"North American Walnut\",\r\n  \"South American Walnut\",\r\n  \"Red Oak\",\r\n  \"Maple\",\r\n  \"Bamboo\",\r\n  \"Melamine with glass top\",\r\n  \"Toppal Plyedge\",\r\n];\r\n\r\nexport default connect(mapStateToProps)((props) => {\r\n  const theme = useTheme();\r\n  const { componentType, initialClient, initialCart, initialServices } = props;\r\n\r\n  const [topHoleCount, setTopHoleCount] = useState(0);\r\n  const [topHolePosition, setTopHolePosition] = useState(\"Left\");\r\n  const [topHoleType, setTopHoleType] = useState(\"Rounded\");\r\n  const [topMaterial, setTopMaterial] = useState(\"Melamine\");\r\n  const [topColor, setTopColor] = useState(\"\");\r\n  const [topLength, setTopLength] = useState(700);\r\n  const [topWidth, setTopWidth] = useState(400);\r\n  const [topThickness, setTopThickness] = useState(25);\r\n  const [topRoundedCorners, setTopRoundedCorners] = useState(0);\r\n  const [topCornerRadius, setTopCornerRadius] = useState(50);\r\n  const [sketchUrl, setSketchUrl] = useState(\"\");\r\n\r\n  const steps = [\r\n    \"Input Client Info\",\r\n    \"Select Products\",\r\n    \"Input Payment Details\",\r\n  ];\r\n\r\n  const clientForm = useRef(null);\r\n  const [currentStep, setCurrentStep] = useState(0);\r\n  const [addOpen, setAddOpen] = useState(false);\r\n  const [deskAddOpen, setDeskAddOpen] = useState(false);\r\n  const [hasDeskTop, setHasDeskTop] = useState(false);\r\n  const [productType, setProductType] = useState(\"chair\");\r\n  const [productDetail, setProductDetail] = useState(\"\");\r\n  const [productPrice, setProductPrice] = useState(1000);\r\n  const [productAmount, setProductAmount] = useState(0);\r\n  const [productRemark, setProductRemark] = useState(\"\");\r\n\r\n  const [deliveryChecked0, setDeliveryChecked0] = useState(false);\r\n  const [deliveryChecked1, setDeliveryChecked1] = useState(false);\r\n  const [deliveryChecked2, setDeliveryChecked2] = useState(false);\r\n  const [deliveryChecked3, setDeliveryChecked3] = useState(false);\r\n\r\n  const [cart, setCart] = useState(initialCart);\r\n  const [cartItemStatus, setCartItemStatus] = useState(\"add\");\r\n\r\n  const [paid, setPaid] = useState(initialClient.paid);\r\n\r\n  const [chairStocks, setChairStocks] = useState([]);\r\n  const [deskStocks, setDeskStocks] = useState([]);\r\n  const [accessoryStocks, setAccessoryStocks] = useState([]);\r\n  const [initAccessoryStocks, setInitAccessoryStocks] = useState([]);\r\n  const [stocksIndex, setStocksIndex] = useState(0);\r\n\r\n  const [chairFeatures, setChairFeatures] = useState([]);\r\n  const [deskFeatures, setDeskFeatures] = useState([]);\r\n  // const [accessoryFeatures, setAccessoryFeatures] = useState([]);\r\n\r\n  const [chairFilterBrand, setChairFilterBrand] = useState(null);\r\n  const [chairFilterModel, setChairFilterModel] = useState(null);\r\n  const [deskFilterSupplier, setDeskFilterSupplier] = useState(null);\r\n  const [deskFilterModel, setDeskFilterModel] = useState(null);\r\n  const [deskFilterColor, setDeskFilterColor] = useState(null);\r\n  const [accessoryFilterCategory, setAccessoryFilterCategory] = useState(\"All\");\r\n\r\n  let initServices = initialServices\r\n    ? initialServices.map((service) =>\r\n        Object.assign(service, { productType: \"misc\" })\r\n      )\r\n    : [];\r\n  const [services, setServices] = useState(initServices);\r\n\r\n  const [selectedHideChairColumns, setSelectedHideChairColumns] = useState([]);\r\n  const [selectedHideDeskColumns, setSelectedHideDeskColumns] = useState([]);\r\n\r\n  const getChairFeatures = (cancelToken) => {\r\n    axios\r\n      .get(\"/chairStock/features\", { cancelToken })\r\n      .then((response) => {\r\n        // handle success\r\n        setChairFeatures(response.data);\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        console.log(error);\r\n      })\r\n      .then(function () {\r\n        // always executed\r\n      });\r\n  };\r\n\r\n  const getDeskFeatures = (cancelToken) => {\r\n    axios\r\n      .get(\"/deskStock/features\", { cancelToken })\r\n      .then((response) => {\r\n        // handle success\r\n        setDeskFeatures(response.data);\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        console.log(error);\r\n      })\r\n      .then(function () {\r\n        // always executed\r\n      });\r\n  };\r\n\r\n  const getAccessoryFeatures = (cancelToken) => {\r\n    axios\r\n      .get(\"/accessoryStock/features\", { cancelToken })\r\n      .then((response) => {\r\n        // handle success\r\n        //etAccessoryFeatures(response.data);\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        console.log(error);\r\n      })\r\n      .then(function () {\r\n        // always executed\r\n      });\r\n  };\r\n\r\n  const getChairStocks = (cancelToken) => {\r\n    axios\r\n      .get(\"/chairStock\", { cancelToken })\r\n      .then((response) => {\r\n        // handle success\r\n        setChairStocks(response.data);\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        console.log(error);\r\n      })\r\n      .then(function () {\r\n        // always executed\r\n      });\r\n  };\r\n\r\n  const getDeskStocks = (cancelToken) => {\r\n    axios\r\n      .get(\"/deskStock\", { cancelToken })\r\n      .then((response) => {\r\n        // handle success\r\n        setDeskStocks(response.data);\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        console.log(error);\r\n      })\r\n      .then(function () {\r\n        // always executed\r\n      });\r\n  };\r\n\r\n  const getAccessoryStocks = (cancelToken) => {\r\n    axios\r\n      .get(\"/accessoryStock\", { cancelToken })\r\n      .then((response) => {\r\n        // handle success\r\n        setAccessoryStocks(response.data);\r\n        setInitAccessoryStocks(response.data);\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        console.log(error);\r\n      })\r\n      .then(function () {\r\n        // always executed\r\n      });\r\n  };\r\n\r\n  useEffect(() => {\r\n    const source = axios.CancelToken.source();\r\n    getChairFeatures(source.token);\r\n    getDeskFeatures(source.token);\r\n    getAccessoryFeatures(source.token);\r\n    getChairStocks(source.token);\r\n    getDeskStocks(source.token);\r\n    getAccessoryStocks(source.token);\r\n    return () => source.cancel(\"Stock Component got unmounted\");\r\n  }, []);\r\n\r\n  const isStepFailed = (step) => {\r\n    if (clientForm.current !== null && currentStep > 0 && step === 0)\r\n      return !clientForm.current.checkValidity();\r\n    else if (\r\n      cart.length === 0 &&\r\n      services.length === 0 &&\r\n      currentStep > 1 &&\r\n      step === 1\r\n    )\r\n      return true;\r\n    else return false;\r\n  };\r\n\r\n  const handleProductRemark = (e) => {\r\n    setProductRemark(e.target.value);\r\n  };\r\n\r\n  const handleAccessoryFilterCategory = (e) => {\r\n    var selected_category = e.target.value;\r\n    setAccessoryFilterCategory(selected_category);\r\n    if (selected_category === \"All\") {\r\n      setAccessoryStocks(initAccessoryStocks);\r\n    } else {\r\n      setAccessoryStocks(\r\n        initAccessoryStocks.filter(\r\n          (stock) => stock.category === selected_category\r\n        )\r\n      );\r\n    }\r\n  };\r\n\r\n  const onAddService = () => {\r\n    const newService = {\r\n      id: uuidv4(),\r\n      description: \"\",\r\n      price: 0,\r\n      productType: \"misc\",\r\n    };\r\n    setServices([...services, newService]);\r\n  };\r\n\r\n  const onDeleteService = (serviceId) => {\r\n    const newServices = services.filter((service) => service.id !== serviceId);\r\n    setServices(newServices);\r\n  };\r\n\r\n  const onChangeServiceDes = (e, serviceId) => {\r\n    const newServices = services.map((service) => {\r\n      if (service.id === serviceId) {\r\n        return Object.assign({}, service, { description: e.target.value });\r\n      }\r\n      return service;\r\n    });\r\n    setServices(newServices);\r\n  };\r\n\r\n  const onChangeServicePrice = (e, serviceId) => {\r\n    const newServices = services.map((service) => {\r\n      if (service.id === serviceId) {\r\n        return Object.assign({}, service, {\r\n          price: parseFloat(e.target.value),\r\n        });\r\n      }\r\n      return service;\r\n    });\r\n    setServices(newServices);\r\n  };\r\n\r\n  const onHideChairColumnChanged = (values) => {\r\n    setSelectedHideChairColumns(values);\r\n  };\r\n\r\n  const onHideDeskColumnChanged = (values) => {\r\n    setSelectedHideDeskColumns(values);\r\n  };\r\n\r\n  const onEditCartProduct = (item) => {\r\n    setCartItemStatus(\"edit\");\r\n    setProductType(item.productType);\r\n    setProductDetail(item.productDetail);\r\n    setProductRemark(item.remark);\r\n    setProductPrice(item.productPrice);\r\n    setProductAmount(item.productAmount);\r\n    const deliveryOptions = JSON.parse(item.productDeliveryOption);\r\n\r\n    if (deliveryOptions.includes(\"Delivery Included\"))\r\n      setDeliveryChecked0(true);\r\n    if (deliveryOptions.includes(\"Delivery and installation included\"))\r\n      setDeliveryChecked1(true);\r\n    if (deliveryOptions.includes(\"Remote Area Surcharge\"))\r\n      setDeliveryChecked2(true);\r\n    if (deliveryOptions.includes(\"Stairs Surcharge\")) setDeliveryChecked3(true);\r\n\r\n    if (item.productType === \"chair\" || item.productType === \"accessory\") {\r\n      setAddOpen(true);\r\n    } else if (item.productType === \"desk\") {\r\n      setHasDeskTop(item.hasDeskTop);\r\n      setTopColor(item.topColor);\r\n      setTopCornerRadius(item.topCornerRadius);\r\n      setTopHoleCount(item.topHoleCount);\r\n      setTopHolePosition(item.topHolePosition);\r\n      setTopHoleType(item.topHoleType);\r\n      setTopLength(item.topLength);\r\n      setTopMaterial(item.topMaterial);\r\n      setTopRoundedCorners(item.topRoundedCorners);\r\n      setTopThickness(item.topThickness);\r\n      setTopWidth(item.topWidth);\r\n      setSketchUrl(item.topSketchURL);\r\n\r\n      setDeskAddOpen(true);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Box\r\n      sx={{\r\n        height: \"100%\",\r\n        overflow: \"auto\",\r\n        padding: \"20px 20px 10px 20px\",\r\n      }}\r\n    >\r\n      <Stepper activeStep={currentStep} sx={{ flexWrap: \"wrap\" }}>\r\n        {steps.map((label, index) => {\r\n          const labelProps = {};\r\n          if (isStepFailed(index)) {\r\n            labelProps.optional = (\r\n              <Typography variant=\"caption\" color=\"error\">\r\n                {[\"Invalid Input\", \"Products cannot be empty\"][index]}\r\n              </Typography>\r\n            );\r\n\r\n            labelProps.error = true;\r\n          }\r\n\r\n          return (\r\n            <Step key={label} sx={{ my: \"10px\" }}>\r\n              <StepLabel {...labelProps}>{label}</StepLabel>\r\n            </Step>\r\n          );\r\n        })}\r\n      </Stepper>\r\n      <Box\r\n        sx={{ mx: \"auto\", mt: \"50px\" }}\r\n        ref={clientForm}\r\n        hidden={currentStep !== 0}\r\n        component=\"form\"\r\n        maxWidth=\"sm\"\r\n        fullWidth\r\n        onSubmit={(e) => {\r\n          e.preventDefault();\r\n          setCurrentStep(1);\r\n        }}\r\n      >\r\n        <Paper\r\n          sx={{\r\n            p: \"10px\",\r\n            display: \"flex\",\r\n            flexWrap: \"wrap\",\r\n            justifyContent: \"space-between\",\r\n          }}\r\n        >\r\n          <Typography variant=\"h6\" sx={{ flexBasis: \"100%\", minWidth: \"100%\" }}>\r\n            Client Info\r\n          </Typography>\r\n          {[\r\n            {\r\n              name: \"name\",\r\n              label: \"Name\",\r\n              type: \"text\",\r\n              defaultValue: initialClient.name,\r\n              width: \"100%\",\r\n              required: true,\r\n            },\r\n            {\r\n              name: \"phone\",\r\n              label: \"Phone\",\r\n              type: \"text\",\r\n              value: initialClient.phone,\r\n              onChange: initialClient.setPhone,\r\n              width: \"48%\",\r\n            },\r\n            {\r\n              name: \"email\",\r\n              label: \"Email\",\r\n              type: \"email\",\r\n              defaultValue: initialClient.email,\r\n              width: \"48%\",\r\n            },\r\n            {\r\n              name: \"district\",\r\n              label: \"District\",\r\n              type: \"text\",\r\n              defaultValue: initialClient.district,\r\n              width: \"55%\",\r\n            },\r\n            {\r\n              name: \"street\",\r\n              label: \"Street\",\r\n              type: \"text\",\r\n              defaultValue: initialClient.street,\r\n              width: \"40%\",\r\n            },\r\n            {\r\n              name: \"block\",\r\n              label: \"Block\",\r\n              type: \"text\",\r\n              defaultValue: initialClient.block,\r\n              width: \"30%\",\r\n            },\r\n            {\r\n              name: \"floor\",\r\n              label: \"Floor\",\r\n              type: \"text\",\r\n              defaultValue: initialClient.floor,\r\n              width: \"30%\",\r\n            },\r\n            {\r\n              name: \"unit\",\r\n              label: \"Unit\",\r\n              type: \"text\",\r\n              defaultValue: initialClient.unit,\r\n              width: \"30%\",\r\n            },\r\n          ].map(({ setValue, width, ...restProps }, index) =>\r\n            restProps.label === \"Phone\" ? (\r\n              <MuiPhoneNumber\r\n                key={index}\r\n                variant=\"outlined\"\r\n                onlyCountries={[\"hk\"]}\r\n                defaultCountry={\"hk\"}\r\n                sx={{ flexBasis: width, minWidth: width }}\r\n                margin=\"dense\"\r\n                size=\"small\"\r\n                {...restProps}\r\n              />\r\n            ) : (\r\n              <TextField\r\n                key={index}\r\n                sx={{ flexBasis: width, minWidth: width }}\r\n                {...restProps}\r\n              />\r\n            )\r\n          )}\r\n          <TextField\r\n            sx={{ flexBasis: [\"100%\", \"30%\"], minWidth: [\"100%\", \"30%\"] }}\r\n            name=\"timeLine\"\r\n            label=\"TimeLine\"\r\n            type=\"number\"\r\n            inputProps={{ min: 0 }}\r\n            defaultValue={initialClient.timeLine || 0}\r\n          />\r\n          <RadioGroup\r\n            row\r\n            name=\"timeLineFormat\"\r\n            defaultValue=\"day\"\r\n            sx={{\r\n              flexBasis: [\"100%\", \"70%\"],\r\n              minWidth: [\"100%\", \"70%\"],\r\n              justifyContent: \"flex-end\",\r\n            }}\r\n          >\r\n            <FormControlLabel value=\"day\" control={<Radio />} label=\"Days\" />\r\n            <FormControlLabel value=\"week\" control={<Radio />} label=\"Weeks\" />\r\n          </RadioGroup>\r\n          <TextField\r\n            sx={{ flexBasis: [\"100%\", \"100%\"], minWidth: [\"100%\", \"100%\"] }}\r\n            name=\"remark\" label=\"Delivery Rmark\" type=\"text\"\r\n            defaultValue={initialClient.remark || ''}\r\n          />\r\n        </Paper>\r\n        <Button type=\"submit\" sx={{ marginTop: \"10px\", float: \"right\" }}>\r\n          Next\r\n        </Button>\r\n      </Box>\r\n      {currentStep === 1 && (\r\n        <>\r\n          {cart.length > 0 && (\r\n            <Paper>\r\n              <ProductList sx={{ px: \"10px\" }}>\r\n                {cart.map((item, index) => (\r\n                  <ProductListItem\r\n                    key={index}\r\n                    secondaryAction={\r\n                      <Fragment>\r\n                        <IconButton\r\n                          onClick={(event) => {\r\n                            event.preventDefault();\r\n                            onEditCartProduct(item);\r\n                          }}\r\n                        >\r\n                          <EditIcon />\r\n                        </IconButton>\r\n                        <IconButton\r\n                          onClick={(event) => {\r\n                            event.preventDefault();\r\n                            setCart(\r\n                              cart.filter(\r\n                                (product, productIndex) =>\r\n                                  productIndex !== index\r\n                              )\r\n                            );\r\n                          }}\r\n                        >\r\n                          <DeleteIcon />\r\n                        </IconButton>\r\n                      </Fragment>\r\n                    }\r\n                  >\r\n                    {item.productType === \"chair\" && (\r\n                      <ProductListItemText\r\n                        primary={`Chair: ${item.productDetail.brand}, ${item.productDetail.model}, ${item.remark}`}\r\n                        secondary={`${\r\n                          item.productDetail.withHeadrest ? \"Headrest, \" : \"\"\r\n                        }${item.productDetail.withAdArmrest ? \"Armrest\" : \"\"}`}\r\n                      />\r\n                    )}\r\n                    {item.productType === \"desk\" && (\r\n                      <ProductListItemText\r\n                        primary={`Desk: ${item.productDetail.supplierCode}, ${item.productDetail.model}, ${item.productDetail.color}, ${item.productDetail.armSize}, ${item.productDetail.feetSize}, ${item.productDetail.beamSize}`}\r\n                        secondary={\r\n                          item.hasDeskTop\r\n                            ? `${item.topMaterial}, ${item.topColor}, ${item.topLength}x${item.topWidth}x${item.topThickness}, ${item.topRoundedCorners}-R${item.topCornerRadius}, ${item.topHoleCount}-${item.topHoleType}`\r\n                            : \"Without DeskTop\"\r\n                        }\r\n                      />\r\n                    )}\r\n                    {item.productType === \"accessory\" && (\r\n                      <ProductListItemText\r\n                        primary={`Accessory: ${item.productDetail.category}`}\r\n                        secondary={`${item.remark}`}\r\n                      />\r\n                    )}\r\n                    <ProductPriceAmount\r\n                      unitPrice={`${item.productPrice} HKD`}\r\n                      amount={`Amount: ${item.productAmount}`}\r\n                      deliveryOption={`${item.productDeliveryOption}`}\r\n                    />\r\n                  </ProductListItem>\r\n                ))}\r\n              </ProductList>\r\n            </Paper>\r\n          )}\r\n          <Paper sx={{ my: \"10px\" }}>\r\n            <Box sx={{ borderBottom: 1, borderColor: \"divider\" }}>\r\n              <Tabs\r\n                value={stocksIndex}\r\n                onChange={(event, value) => {\r\n                  event.preventDefault();\r\n                  setStocksIndex(value);\r\n                }}\r\n                aria-label=\"basic tabs example\"\r\n              >\r\n                <Tab label=\"Chairs\" />\r\n                <Tab label=\"Desks\" />\r\n                <Tab label=\"Accessories\" />\r\n                <Tab label=\"Miscs\" />\r\n              </Tabs>\r\n            </Box>\r\n            <TabPanel value={stocksIndex} index={0}>\r\n              <Paper\r\n                sx={{\r\n                  marginTop: \"10px\",\r\n                  padding: \"5px 10px\",\r\n                  display: \"flex\",\r\n                  flexWrap: \"wrap\",\r\n                  justifyContent: \"space-around\",\r\n                }}\r\n              >\r\n                {[\r\n                  {\r\n                    label: \"Brand\",\r\n                    value: chairFilterBrand,\r\n                    onChange: (event, value) => {\r\n                      event.preventDefault();\r\n                      setChairFilterBrand(value);\r\n                      setChairFilterModel(null);\r\n                    },\r\n                    options: chairFeatures\r\n                      .map((item) => item.brand)\r\n                      .filter((c, index, chars) => chars.indexOf(c) === index),\r\n                  },\r\n                  {\r\n                    label: \"Model\",\r\n                    value: chairFilterModel,\r\n                    onChange: (event, value) => {\r\n                      event.preventDefault();\r\n                      setChairFilterModel(value);\r\n                    },\r\n                    options: chairFeatures\r\n                      .filter(\r\n                        (item) =>\r\n                          !chairFilterBrand || item.brand === chairFilterBrand\r\n                      )\r\n                      .map((item) => item.model)\r\n                      .filter((c, index, chars) => chars.indexOf(c) === index),\r\n                  },\r\n                ].map(({ label, ...props }, index) => (\r\n                  <Autocomplete\r\n                    key={index}\r\n                    sx={{ flexBasis: \"200px\", maxWidth: \"200px\" }}\r\n                    renderInput={(params) => (\r\n                      <TextField {...params} label={label} />\r\n                    )}\r\n                    {...props}\r\n                  />\r\n                ))}\r\n              </Paper>\r\n              <CheckableMultiSelect\r\n                options={hideChairColumns}\r\n                onChange={onHideChairColumnChanged}\r\n                selected={selectedHideChairColumns}\r\n              />\r\n              <DataGrid\r\n                nonSelect={true}\r\n                title=\"Chair Stocks\"\r\n                rows={chairStocks\r\n                  .map(\r\n                    (\r\n                      {\r\n                        thumbnailURL,\r\n                        withHeadrest,\r\n                        withAdArmrest,\r\n                        shipmentDate,\r\n                        arrivalDate,\r\n                        ...restProps\r\n                      },\r\n                      index\r\n                    ) => ({\r\n                      thumbnail: (\r\n                        <a\r\n                          href=\"/\"\r\n                          onClick={(e) => {\r\n                            e.preventDefault();\r\n                            Swal.fire({\r\n                              html: `<img alt=\"\" width=\"400px\" src=\"${thumbnailURL}\" />`,\r\n                              showCloseButton: true,\r\n                              showConfirmButton: false,\r\n                              allowOutsideClick: false,\r\n                            });\r\n                          }}\r\n                        >\r\n                          <img\r\n                            alt=\"\"\r\n                            width=\"80px\"\r\n                            src={thumbnailURL}\r\n                            style={{ marginTop: \"5px\" }}\r\n                          />\r\n                        </a>\r\n                      ),\r\n                      withHeadrest: withHeadrest ? \"Yes\" : \"No\",\r\n                      withAdArmrest: withAdArmrest ? \"Yes\" : \"No\",\r\n                      add: (\r\n                        <IconButton\r\n                          onClick={(event) => {\r\n                            event.preventDefault();\r\n                            if (\r\n                              cart.find(\r\n                                (item) =>\r\n                                  item.productType === \"chair\" &&\r\n                                  item.productDetail.id ===\r\n                                    chairStocks[index].id\r\n                              )\r\n                            ) {\r\n                              Swal.fire({\r\n                                icon: \"warning\",\r\n                                title: \"Warning\",\r\n                                text: \"This product is already added.\",\r\n                                allowOutsideClick: false,\r\n                              });\r\n                              return;\r\n                            }\r\n                            setProductType(\"chair\");\r\n                            setProductDetail(chairStocks[index]);\r\n                            // let frameColor =\r\n                            //   chairStocks[index].frameColor === \"\"\r\n                            //     ? \"___\"\r\n                            //     : chairStocks[index].frameColor;\r\n                            // let seatColor =\r\n                            //   chairStocks[index].seatColor === \"\"\r\n                            //     ? \"___\"\r\n                            //     : chairStocks[index].seatColor;\r\n                            // let backColor =\r\n                            //   chairStocks[index].backColor === \"\"\r\n                            //     ? \"___\"\r\n                            //     : chairStocks[index].backColor;\r\n                            // let remark =\r\n                            //   \"FrameColor:\" +\r\n                            //   frameColor +\r\n                            //   \", SeatColor:\" +\r\n                            //   seatColor +\r\n                            //   \", BackColor:\" +\r\n                            //   backColor;\r\n                            // setProductRemark(remark);\r\n                            setProductPrice(chairStocks[index].unitPrice);\r\n                            setProductAmount(1);\r\n                            setAddOpen(true);\r\n                          }}\r\n                        >\r\n                          <AddIcon />\r\n                        </IconButton>\r\n                      ),\r\n                      shipmentDate: (() => {\r\n                        if (shipmentDate === null) return \"No\";\r\n                        const createdTime = new Date(shipmentDate);\r\n                        createdTime.setMinutes(\r\n                          createdTime.getMinutes() -\r\n                            createdTime.getTimezoneOffset()\r\n                        );\r\n                        return createdTime.toISOString().split(\"T\")[0];\r\n                      })(),\r\n                      arrivalDate: (() => {\r\n                        if (arrivalDate === null) return \"No\";\r\n                        const createdTime = new Date(arrivalDate);\r\n                        createdTime.setMinutes(\r\n                          createdTime.getMinutes() -\r\n                            createdTime.getTimezoneOffset()\r\n                        );\r\n                        return createdTime.toISOString().split(\"T\")[0];\r\n                      })(),\r\n                      ...restProps,\r\n                    })\r\n                  )\r\n                  .filter(\r\n                    (item) =>\r\n                      (!chairFilterBrand || item.brand === chairFilterBrand) &&\r\n                      (!chairFilterModel || item.model === chairFilterModel)\r\n                  )}\r\n                columns={chairColumns\r\n                  .map((column, i) => {\r\n                    if (i > 6) {\r\n                      if (\r\n                        selectedHideChairColumns.find(\r\n                          (hideColumn) => hideColumn === column.label\r\n                        )\r\n                      )\r\n                        return column;\r\n                    }\r\n                    return column;\r\n                  })\r\n                  .filter((column) => column !== undefined)}\r\n              />\r\n            </TabPanel>\r\n            <TabPanel value={stocksIndex} index={1}>\r\n              <Paper\r\n                sx={{\r\n                  marginTop: \"10px\",\r\n                  padding: \"5px 10px\",\r\n                  display: \"flex\",\r\n                  flexWrap: \"wrap\",\r\n                  justifyContent: \"space-around\",\r\n                }}\r\n              >\r\n                {[\r\n                  {\r\n                    label: \"Supplier\",\r\n                    value: deskFilterSupplier,\r\n                    onChange: (event, value) => {\r\n                      event.preventDefault();\r\n                      setDeskFilterSupplier(value);\r\n                      setDeskFilterModel(null);\r\n                      setDeskFilterColor(null);\r\n                    },\r\n                    options: deskFeatures\r\n                      .map((item) => item.supplierCode)\r\n                      .filter((c, index, chars) => chars.indexOf(c) === index),\r\n                  },\r\n                  {\r\n                    label: \"Model\",\r\n                    value: deskFilterModel,\r\n                    onChange: (event, value) => {\r\n                      event.preventDefault();\r\n                      setDeskFilterModel(value);\r\n                      setDeskFilterColor(null);\r\n                    },\r\n                    options: deskFeatures\r\n                      .filter(\r\n                        (item) =>\r\n                          !deskFilterSupplier ||\r\n                          item.supplierCode === deskFilterSupplier\r\n                      )\r\n                      .map((item) => item.model)\r\n                      .filter((c, index, chars) => chars.indexOf(c) === index),\r\n                  },\r\n                  {\r\n                    label: \"Color\",\r\n                    value: deskFilterColor,\r\n                    onChange: (event, value) => {\r\n                      event.preventDefault();\r\n                      setDeskFilterColor(value);\r\n                    },\r\n                    options: deskFeatures\r\n                      .filter(\r\n                        (item) =>\r\n                          !deskFilterModel || item.model === deskFilterModel\r\n                      )\r\n                      .map((item) => item.color)\r\n                      .filter((c, index, chars) => chars.indexOf(c) === index),\r\n                  },\r\n                ].map(({ label, ...props }, index) => (\r\n                  <Autocomplete\r\n                    key={index}\r\n                    sx={{ flexBasis: \"200px\", maxWidth: \"200px\" }}\r\n                    renderInput={(params) => (\r\n                      <TextField {...params} label={label} />\r\n                    )}\r\n                    {...props}\r\n                  />\r\n                ))}\r\n              </Paper>\r\n              <CheckableMultiSelect\r\n                options={hideDeskColumns}\r\n                onChange={onHideDeskColumnChanged}\r\n                selected={selectedHideDeskColumns}\r\n              />\r\n              <DataGrid\r\n                nonSelect={true}\r\n                title=\"Desk Leg Stocks\"\r\n                rows={deskStocks\r\n                  .map(\r\n                    (\r\n                      { thumbnailURL, shipmentDate, arrivalDate, ...restProps },\r\n                      index\r\n                    ) => ({\r\n                      thumbnail: (\r\n                        <a\r\n                          href=\"/\"\r\n                          onClick={(e) => {\r\n                            e.preventDefault();\r\n                            Swal.fire({\r\n                              html: `<img alt=\"\" width=\"400px\" src=\"${thumbnailURL}\" />`,\r\n                              showCloseButton: true,\r\n                              showConfirmButton: false,\r\n                              allowOutsideClick: false,\r\n                            });\r\n                          }}\r\n                        >\r\n                          <img\r\n                            alt=\"\"\r\n                            width=\"80px\"\r\n                            src={thumbnailURL}\r\n                            style={{ marginTop: \"5px\" }}\r\n                          />\r\n                        </a>\r\n                      ),\r\n                      add: (\r\n                        <IconButton\r\n                          onClick={(event) => {\r\n                            setProductType(\"desk\");\r\n                            setProductDetail(deskStocks[index]);\r\n                            setProductPrice(deskStocks[index].unitPrice);\r\n                            setProductAmount(1);\r\n                            setHasDeskTop(false);\r\n                            setDeskAddOpen(true);\r\n                          }}\r\n                        >\r\n                          <AddIcon />\r\n                        </IconButton>\r\n                      ),\r\n                      shipmentDate: (() => {\r\n                        if (shipmentDate === null) return \"No\";\r\n                        const createdTime = new Date(shipmentDate);\r\n                        createdTime.setMinutes(\r\n                          createdTime.getMinutes() -\r\n                            createdTime.getTimezoneOffset()\r\n                        );\r\n                        return createdTime.toISOString().split(\"T\")[0];\r\n                      })(),\r\n                      arrivalDate: (() => {\r\n                        if (arrivalDate === null) return \"No\";\r\n                        const createdTime = new Date(arrivalDate);\r\n                        createdTime.setMinutes(\r\n                          createdTime.getMinutes() -\r\n                            createdTime.getTimezoneOffset()\r\n                        );\r\n                        return createdTime.toISOString().split(\"T\")[0];\r\n                      })(),\r\n                      ...restProps,\r\n                    })\r\n                  )\r\n                  .filter(\r\n                    (item) =>\r\n                      (!deskFilterSupplier ||\r\n                        item.supplierCode === deskFilterSupplier) &&\r\n                      (!deskFilterModel || item.model === deskFilterModel) &&\r\n                      (!deskFilterColor || item.color === deskFilterColor)\r\n                  )}\r\n                columns={deskColumns\r\n                  .map((column, i) => {\r\n                    if (i > 6) {\r\n                      if (\r\n                        selectedHideDeskColumns.find(\r\n                          (hideColumn) => hideColumn === column.label\r\n                        )\r\n                      )\r\n                        return column;\r\n                    } \r\n                    return column;\r\n                  })\r\n                  .filter((column) => column !== undefined)}\r\n              />\r\n            </TabPanel>\r\n            <TabPanel value={stocksIndex} index={2}>\r\n              <Paper\r\n                sx={{\r\n                  marginTop: \"10px\",\r\n                  padding: \"5px 10px\",\r\n                  display: \"flex\",\r\n                  flexWrap: \"wrap\",\r\n                  justifyContent: \"space-around\",\r\n                }}\r\n              >\r\n                <FormControl\r\n                  size=\"small\"\r\n                  sx={{ flexBasis: \"200px\", maxWidth: \"200px\" }}\r\n                >\r\n                  <InputLabel id=\"category_filter\">Category</InputLabel>\r\n                  <Select\r\n                    labelId=\"category_filter\"\r\n                    label=\"Category\"\r\n                    value={accessoryFilterCategory}\r\n                    onChange={handleAccessoryFilterCategory}\r\n                  >\r\n                    <MenuItem value=\"All\">All</MenuItem>\r\n                    <MenuItem value=\"Desk Accessories\">\r\n                      Desk Accessories\r\n                    </MenuItem>\r\n                    <MenuItem value=\"Chair Accessories\">\r\n                      Chair Accessories\r\n                    </MenuItem>\r\n                    <MenuItem value=\"Desk on Desk\">Desk on Desk</MenuItem>\r\n                    <MenuItem value=\"Monitor Arms\">Monitor Arms</MenuItem>\r\n                    <MenuItem value=\"Cabinet\">Cabinet</MenuItem>\r\n                    <MenuItem value=\"Drawer\">Drawer</MenuItem>\r\n                  </Select>\r\n                </FormControl>\r\n              </Paper>\r\n              <DataGrid\r\n                nonSelect={true}\r\n                title=\"Accessory Stocks\"\r\n                rows={accessoryStocks.map(\r\n                  (\r\n                    { thumbnailURL, shipmentDate, arrivalDate, ...restProps },\r\n                    index\r\n                  ) => ({\r\n                    thumbnail: (\r\n                      <a\r\n                        href=\"/\"\r\n                        onClick={(e) => {\r\n                          e.preventDefault();\r\n                          Swal.fire({\r\n                            html: `<img alt=\"\" width=\"400px\" src=\"${thumbnailURL}\" />`,\r\n                            showCloseButton: true,\r\n                            showConfirmButton: false,\r\n                            allowOutsideClick: false,\r\n                          });\r\n                        }}\r\n                      >\r\n                        <img\r\n                          alt=\"\"\r\n                          width=\"80px\"\r\n                          src={thumbnailURL}\r\n                          style={{ marginTop: \"5px\" }}\r\n                        />\r\n                      </a>\r\n                    ),\r\n                    add: (\r\n                      <IconButton\r\n                        onClick={(event) => {\r\n                          event.preventDefault();\r\n                          setProductType(\"accessory\");\r\n                          setProductDetail(accessoryStocks[index]);\r\n                          setProductRemark(accessoryStocks[index].remark);\r\n                          setProductPrice(accessoryStocks[index].unitPrice);\r\n                          setProductAmount(1);\r\n                          if (\r\n                            cart.find(\r\n                              (item) =>\r\n                                item.productType === \"accessory\" &&\r\n                                item.productDetail.id ===\r\n                                  accessoryStocks[index].id\r\n                            )\r\n                          ) {\r\n                            Swal.fire({\r\n                              icon: \"warning\",\r\n                              title: \"Warning\",\r\n                              text: \"This product is already added.\",\r\n                              allowOutsideClick: false,\r\n                            });\r\n                            return;\r\n                          }\r\n                          setAddOpen(true);\r\n                        }}\r\n                      >\r\n                        <AddIcon />\r\n                      </IconButton>\r\n                    ),\r\n                    shipmentDate: (() => {\r\n                      if (shipmentDate === null) return \"No\";\r\n                      const createdTime = new Date(shipmentDate);\r\n                      createdTime.setMinutes(\r\n                        createdTime.getMinutes() -\r\n                          createdTime.getTimezoneOffset()\r\n                      );\r\n                      return createdTime.toISOString().split(\"T\")[0];\r\n                    })(),\r\n                    arrivalDate: (() => {\r\n                      if (arrivalDate === null) return \"No\";\r\n                      const createdTime = new Date(arrivalDate);\r\n                      createdTime.setMinutes(\r\n                        createdTime.getMinutes() -\r\n                          createdTime.getTimezoneOffset()\r\n                      );\r\n                      return createdTime.toISOString().split(\"T\")[0];\r\n                    })(),\r\n                    ...restProps,\r\n                  })\r\n                )}\r\n                columns={accessoryColumns}\r\n              />\r\n            </TabPanel>\r\n            <TabPanel value={stocksIndex} index={3}>\r\n              <Box sx={{ m: 3 }}>\r\n                <Button\r\n                  variant=\"contained\"\r\n                  sx={{ mb: 2 }}\r\n                  onClick={onAddService}\r\n                >\r\n                  + New Service\r\n                </Button>\r\n                <Grid container spacing={2}>\r\n                  {services.map((service) => (\r\n                    <Grid item xs={4} key={service.id}>\r\n                      <Card sx={{ px: 2, pb: 2 }}>\r\n                        <Box\r\n                          sx={{ display: \"flex\", justifyContent: \"flex-end\" }}\r\n                        >\r\n                          <IconButton\r\n                            aria-label=\"settings\"\r\n                            size=\"small\"\r\n                            onClick={() => onDeleteService(service.id)}\r\n                          >\r\n                            <CloseIcon fontSize=\"small\" />\r\n                          </IconButton>\r\n                        </Box>\r\n                        <TextField\r\n                          label=\"Description\"\r\n                          multiline\r\n                          rows={5}\r\n                          sx={{ flexBasis: \"100%\", minWidth: \"100%\" }}\r\n                          value={service.description}\r\n                          onChange={(e) => onChangeServiceDes(e, service.id)}\r\n                        />\r\n                        <TextField\r\n                          type=\"number\"\r\n                          sx={{ flexBasis: \"100%\", minWidth: \"100%\" }}\r\n                          label=\"Price\"\r\n                          value={service.price}\r\n                          onChange={(e) => onChangeServicePrice(e, service.id)}\r\n                        />\r\n                      </Card>\r\n                    </Grid>\r\n                  ))}\r\n                </Grid>\r\n              </Box>\r\n            </TabPanel>\r\n          </Paper>\r\n          <Button\r\n            onClick={(e) => {\r\n              e.preventDefault();\r\n              setCurrentStep(0);\r\n            }}\r\n          >\r\n            Previous\r\n          </Button>\r\n          <Button\r\n            sx={{ float: \"right\" }}\r\n            onClick={(e) => {\r\n              e.preventDefault();\r\n              if (cart.length === 0 && services.length === 0) {\r\n                Swal.fire({\r\n                  icon: \"warning\",\r\n                  title: \"Warning\",\r\n                  text: \"Products and services list cannot be empty\",\r\n                  allowOutsideClick: false,\r\n                });\r\n                return;\r\n              }\r\n              setCurrentStep(2);\r\n            }}\r\n          >\r\n            Next\r\n          </Button>\r\n        </>\r\n      )}\r\n      <Box\r\n        sx={{ mx: \"auto\", mt: \"50px\" }}\r\n        hidden={currentStep !== 2}\r\n        component=\"form\"\r\n        maxWidth=\"sm\"\r\n        fullWidth\r\n        onSubmit={(e) => {\r\n          e.preventDefault();\r\n          const clientData = new FormData(clientForm.current);\r\n          const paymentData = new FormData(e.currentTarget);\r\n          if (componentType === \"create\")\r\n            axios\r\n              .post(`/sales/create`, {\r\n                name: clientData.get(\"name\"),\r\n                phone: clientData.get(\"phone\"),\r\n                email: clientData.get(\"email\"),\r\n                district: clientData.get(\"district\"),\r\n                street: clientData.get(\"street\"),\r\n                block: clientData.get(\"block\"),\r\n                floor: clientData.get(\"floor\"),\r\n                unit: clientData.get(\"unit\"),\r\n                timeLine:\r\n                  Math.max(clientData.get(\"timeLine\"), 0) *\r\n                  (clientData.get(\"timeLineFormat\") === \"day\" ? 1 : 7),\r\n                remark: clientData.get(\"remark\"),\r\n                products: cart\r\n                  .map(({ productDetail, ...restProps }) => ({\r\n                    productId: productDetail.id,\r\n                    productCategory: productDetail.category ?? \"\",\r\n                    ...restProps,\r\n                  }))\r\n                  .concat(services),\r\n                paymentTerms: paymentData.get(\"paymentTerms\"),\r\n                paid: Boolean(paymentData.get(\"paid\")),\r\n                dueDate: paymentData.get(\"dueDate\") || null,\r\n                discount: Math.max(\r\n                  paymentData.get(\"discountType\") > 0\r\n                    ? paymentData.get(\"discount\")\r\n                    : Math.min(paymentData.get(\"discount\"), 100),\r\n                  0\r\n                ),\r\n                discountType: paymentData.get(\"discountType\"),\r\n                surcharge: Math.max(\r\n                  paymentData.get(\"surchargeType\") > 0\r\n                    ? paymentData.get(\"surcharge\")\r\n                    : Math.min(paymentData.get(\"surcharge\"), 100),\r\n                  0\r\n                ),\r\n                surchargeType: paymentData.get(\"surchargeType\"),\r\n              })\r\n              .then(() => {\r\n                // handle success\r\n                props.history.push(\"/user/sales\");\r\n              })\r\n              .catch(function (error) {\r\n                // handle error\r\n                Swal.fire({\r\n                  icon: \"error\",\r\n                  title: \"Error\",\r\n                  text: error.response.data.message,\r\n                  allowOutsideClick: false,\r\n                }).then(() => {});\r\n                console.log(error);\r\n              })\r\n              .then(function () {\r\n                // always executed\r\n              });\r\n          else {  // componentType === \"edit\"\r\n            axios\r\n              .put(`/sales/${initialClient.id}`, {\r\n                name: clientData.get(\"name\"),\r\n                phone: clientData.get(\"phone\"),\r\n                email: clientData.get(\"email\"),\r\n                district: clientData.get(\"district\"),\r\n                street: clientData.get(\"street\"),\r\n                block: clientData.get(\"block\"),\r\n                floor: clientData.get(\"floor\"),\r\n                unit: clientData.get(\"unit\"),\r\n                timeLine: clientData.get(\"timeLine\") * (clientData.get(\"timeLineFormat\") === \"day\" ? 1 : 7),\r\n                remark: clientData.get(\"remark\"),\r\n                products: cart\r\n                  .map(({ productDetail, ...restProps }) => ({\r\n                    productId: productDetail.id,\r\n                    productCategory: productDetail.category ?? \"\",\r\n                    ...restProps,\r\n                  }))\r\n                  .concat(services),\r\n                paymentTerms: paymentData.get(\"paymentTerms\"),\r\n                paid: Boolean(paymentData.get(\"paid\")),\r\n                dueDate: paymentData.get(\"dueDate\") || null,\r\n                discount: Math.max(\r\n                  paymentData.get(\"discountType\") > 0\r\n                    ? paymentData.get(\"discount\")\r\n                    : Math.min(paymentData.get(\"discount\"), 100),\r\n                  0\r\n                ),\r\n                discountType: paymentData.get(\"discountType\"),\r\n                surcharge: Math.max(\r\n                  paymentData.get(\"surchargeType\") > 0\r\n                    ? paymentData.get(\"surcharge\")\r\n                    : Math.min(paymentData.get(\"surcharge\"), 100),\r\n                  0\r\n                ),\r\n                surchargeType: paymentData.get(\"surchargeType\"),\r\n              })\r\n              .then(() => {\r\n                // handle success\r\n                props.history.push(\"/user/sales\");\r\n              })\r\n              .catch(function (error) {\r\n                // handle error\r\n                Swal.fire({\r\n                  icon: \"error\",\r\n                  title: \"Error\",\r\n                  text: error.response.data.message,\r\n                  allowOutsideClick: false,\r\n                }).then(() => {});\r\n                console.log(error);\r\n              })\r\n              .then(function () {\r\n                // always executed\r\n              });\r\n          }\r\n        }}\r\n      >\r\n        <Paper\r\n          sx={{\r\n            p: \"10px\",\r\n            display: \"flex\",\r\n            flexWrap: \"wrap\",\r\n            justifyContent: \"space-between\",\r\n          }}\r\n        >\r\n          <Typography variant=\"h6\" sx={{ flexBasis: \"100%\", minWidth: \"100%\" }}>\r\n            Payment Details\r\n          </Typography>\r\n          <Typography variant=\"h7\" sx={{ flexBasis: \"100%\", minWidth: \"100%\" }}>\r\n            Sub Total:{\" \"}\r\n            {cart.reduce(\r\n              (p, c) => p + c.productAmount * parseFloat(c.productPrice),\r\n              0\r\n            ) + services.reduce((p, c) => p + c.price, 0)}\r\n          </Typography>\r\n          <TextField\r\n            name=\"paymentTerms\"\r\n            size=\"small\"\r\n            sx={{ flexBasis: \"100%\", minWidth: \"100%\" }}\r\n            defaultValue={initialClient.paymentTerms}\r\n            label=\"Payment Terms\"\r\n          />\r\n          <FormControlLabel\r\n            sx={{\r\n              flexBasis: \"30%\",\r\n              minWidth: \"30%\",\r\n              marginRight: 0,\r\n            }}\r\n            control={\r\n              <Checkbox\r\n                name=\"paid\"\r\n                checked={paid}\r\n                onChange={(e) => {\r\n                  setPaid(e.target.checked);\r\n                }}\r\n              />\r\n            }\r\n            label=\"Paid\"\r\n          />\r\n          <TextField\r\n            type=\"date\"\r\n            disabled={paid}\r\n            name=\"dueDate\"\r\n            label=\"Due Date\"\r\n            sx={{\r\n              flexBasis: \"70%\",\r\n              minWidth: \"70%\",\r\n            }}\r\n            defaultValue={initialClient.dueDate}\r\n            InputLabelProps={{ shrink: true }}\r\n          />\r\n          <TextField\r\n            sx={{\r\n              flexBasis: [\"58%\", \"68%\"],\r\n              minWidth: [\"58%\", \"68%\"],\r\n              alignItems: \"baseline\",\r\n              m: 0,\r\n            }}\r\n            label=\"Discount\"\r\n            type=\"number\"\r\n            name=\"discount\"\r\n            inputProps={{\r\n              min: 0,\r\n            }}\r\n            defaultValue={initialClient.discount}\r\n            fullWidth\r\n          />\r\n          <Select\r\n            sx={{\r\n              flexBasis: [\"40%\", \"30%\"],\r\n              minWidth: [\"40%\", \"30%\"],\r\n              alignItems: \"baseline\",\r\n              m: 0,\r\n            }}\r\n            name=\"discountType\"\r\n            defaultValue={initialClient.discountType}\r\n          >\r\n            <MenuItem value={0}>%</MenuItem>\r\n            <MenuItem value={1}>HKD</MenuItem>\r\n          </Select>\r\n          <TextField\r\n            sx={{\r\n              flexBasis: [\"58%\", \"68%\"],\r\n              minWidth: [\"58%\", \"68%\"],\r\n              alignItems: \"baseline\",\r\n              mt: \"10px\",\r\n              mb: 0,\r\n            }}\r\n            label=\"Surcharge\"\r\n            type=\"number\"\r\n            name=\"surcharge\"\r\n            inputProps={{\r\n              min: 0,\r\n            }}\r\n            defaultValue={initialClient.surcharge}\r\n            fullWidth\r\n          />\r\n          <Select\r\n            sx={{\r\n              flexBasis: [\"40%\", \"30%\"],\r\n              minWidth: [\"40%\", \"30%\"],\r\n              alignItems: \"baseline\",\r\n              mt: \"10px\",\r\n              mb: 0,\r\n            }}\r\n            name=\"surchargeType\"\r\n            defaultValue={initialClient.surchargeType}\r\n          >\r\n            <MenuItem value={0}>%</MenuItem>\r\n            <MenuItem value={1}>HKD</MenuItem>\r\n          </Select>\r\n        </Paper>\r\n        <Button\r\n          sx={{ marginTop: \"10px\" }}\r\n          onClick={(e) => {\r\n            e.preventDefault();\r\n            setCurrentStep(1);\r\n          }}\r\n        >\r\n          Previous\r\n        </Button>\r\n        <Button sx={{ float: \"right\", marginTop: \"10px\" }} type=\"submit\">\r\n          Finish\r\n        </Button>\r\n      </Box>\r\n      <Dialog\r\n        open={addOpen}\r\n        maxWidth=\"sm\"\r\n        fullWidth\r\n        fullScreen={useMediaQuery(theme.breakpoints.down(\"sm\"))}\r\n        PaperProps={{\r\n          component: \"form\",\r\n          onSubmit: (e) => {\r\n            e.preventDefault();\r\n            const data = new FormData(e.currentTarget);\r\n\r\n            setDeliveryChecked0(false);\r\n            setDeliveryChecked1(false);\r\n            setDeliveryChecked2(false);\r\n            setDeliveryChecked3(false);\r\n\r\n            setAddOpen(false);\r\n            if (cartItemStatus === \"add\") {\r\n              if (\r\n                cart.find(\r\n                  (item) =>\r\n                    item.productType === productType &&\r\n                    item.productDetail.id === productDetail.id\r\n                )\r\n              ) {\r\n                Swal.fire({\r\n                  icon: \"warning\",\r\n                  title: \"Warning\",\r\n                  text: \"This product is already added.\",\r\n                  allowOutsideClick: false,\r\n                });\r\n                return;\r\n              }\r\n              setCart(\r\n                cart.concat({\r\n                  productType,\r\n                  productDetail,\r\n                  productAmount,\r\n                  productDeliveryOption: JSON.stringify(\r\n                    [\r\n                      \"Delivery Included\",\r\n                      \"Delivery and installation included\",\r\n                      \"Remote Area Surcharge\",\r\n                      \"Stairs Surcharge\",\r\n                    ].filter((item, index) =>\r\n                      Boolean(data.get(`deliveryOption_${index}`))\r\n                    )\r\n                  ),\r\n                  productPrice: e.currentTarget.unitPrice.value,\r\n                  remark: productRemark,\r\n                })\r\n              );\r\n            } else if (cartItemStatus === \"edit\") {\r\n              const newCart = cart.map((item) => {\r\n                if (\r\n                  item.productType === productType &&\r\n                  item.productDetail.id === productDetail.id\r\n                )\r\n                  return {\r\n                    productType,\r\n                    productDetail,\r\n                    productAmount,\r\n                    productDeliveryOption: JSON.stringify(\r\n                      [\r\n                        \"Delivery Included\",\r\n                        \"Delivery and installation included\",\r\n                        \"Remote Area Surcharge\",\r\n                        \"Stairs Surcharge\",\r\n                      ].filter((item, index) =>\r\n                        Boolean(data.get(`deliveryOption_${index}`))\r\n                      )\r\n                    ),\r\n                    productPrice: e.currentTarget.unitPrice.value,\r\n                    remark: productRemark,\r\n                  };\r\n                else return item;\r\n              });\r\n              setCart(newCart);\r\n            }\r\n          },\r\n        }}\r\n      >\r\n        <DialogTitle>Price and Amount</DialogTitle>\r\n        <DialogContent sx={{ textAlign: \"center\" }}>\r\n          <TextField\r\n            label=\"Unit Price\"\r\n            type=\"number\"\r\n            name=\"unitPrice\"\r\n            value={productPrice}\r\n            sx={{ width: 200 }}\r\n            InputProps={{\r\n              readOnly: true,\r\n              endAdornment: <InputAdornment position=\"end\">HKD</InputAdornment>,\r\n            }}\r\n          />\r\n          <Box\r\n            sx={{\r\n              display: \"flex\",\r\n              alignItems: \"center\",\r\n              width: \"200px\",\r\n              border: \"1px solid #0000003b\",\r\n              borderRadius: \"4px\",\r\n              my: \"10px\",\r\n              mx: \"auto\",\r\n              p: \"5px 3px\",\r\n            }}\r\n          >\r\n            <Typography variant=\"span\" sx={{ flexGrow: 1 }}>\r\n              Amount\r\n            </Typography>\r\n            <IconButton\r\n              onClick={(e) => {\r\n                e.preventDefault();\r\n                setProductAmount(Math.max(productAmount - 1, 1));\r\n              }}\r\n            >\r\n              <RemoveIcon />\r\n            </IconButton>\r\n            <Typography variant=\"span\" sx={{ ml: \"10px\" }}>\r\n              {productAmount}\r\n            </Typography>\r\n            <IconButton\r\n              onClick={(e) => {\r\n                e.preventDefault();\r\n                setProductAmount(Math.min(productAmount + 1, 99));\r\n              }}\r\n            >\r\n              <AddIcon />\r\n            </IconButton>\r\n          </Box>\r\n          <Box\r\n            sx={{\r\n              alignItems: \"center\",\r\n              justifyContent: \"center\",\r\n              my: \"10px\",\r\n              mx: \"auto\",\r\n              p: \"5px 3px\",\r\n            }}\r\n          >\r\n            <TextField\r\n              label=\"Specification\"\r\n              name=\"remark\"\r\n              value={productRemark}\r\n              sx={{ width: 400, mx: \"5px\" }}\r\n              onChange={handleProductRemark}\r\n            />\r\n          </Box>\r\n          <FormControlLabel\r\n            sx={{ display: \"block\", textAlign: \"left\", marginLeft: \"100px\" }}\r\n            control={\r\n              <Checkbox\r\n                name=\"deliveryOption_0\"\r\n                checked={deliveryChecked0}\r\n                onChange={(e) => setDeliveryChecked0(e.target.checked)}\r\n                sx={{ textAlign: \"left\" }}\r\n              />\r\n            }\r\n            label=\"Delivery Included\"\r\n          />\r\n          <FormControlLabel\r\n            sx={{ display: \"block\", textAlign: \"left\", marginLeft: \"100px\" }}\r\n            control={\r\n              <Checkbox\r\n                name=\"deliveryOption_1\"\r\n                checked={deliveryChecked1}\r\n                onChange={(e) => setDeliveryChecked1(e.target.checked)}\r\n              />\r\n            }\r\n            label=\"Delivery and installation included\"\r\n          />\r\n          <FormControlLabel\r\n            sx={{ display: \"block\", textAlign: \"left\", marginLeft: \"100px\" }}\r\n            control={\r\n              <Checkbox\r\n                name=\"deliveryOption_2\"\r\n                checked={deliveryChecked2}\r\n                onChange={(e) => setDeliveryChecked2(e.target.checked)}\r\n              />\r\n            }\r\n            label=\"Remote Area Surcharge\"\r\n          />\r\n          <FormControlLabel\r\n            sx={{ display: \"block\", textAlign: \"left\", marginLeft: \"100px\" }}\r\n            control={\r\n              <Checkbox\r\n                name=\"deliveryOption_3\"\r\n                checked={deliveryChecked3}\r\n                onChange={(e) => setDeliveryChecked3(e.target.checked)}\r\n              />\r\n            }\r\n            label=\"Stairs Surcharge\"\r\n          />\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button\r\n            onClick={(e) => {\r\n              setDeliveryChecked0(false);\r\n              setDeliveryChecked1(false);\r\n              setDeliveryChecked2(false);\r\n              setDeliveryChecked3(false);\r\n              setAddOpen(false);\r\n            }}\r\n          >\r\n            Cancel\r\n          </Button>\r\n          <Button type=\"submit\">OK</Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n      <Dialog\r\n        open={deskAddOpen}\r\n        maxWidth=\"sm\"\r\n        fullWidth\r\n        fullScreen={useMediaQuery(theme.breakpoints.down(\"sm\"))}\r\n        PaperProps={{\r\n          component: \"form\",\r\n          onSubmit: async (e) => {\r\n            e.preventDefault();\r\n\r\n            setTopHoleCount(0);\r\n            setTopHolePosition(\"Left\");\r\n            setTopHoleType(\"Rounded\");\r\n            setTopMaterial(\"Melamine\");\r\n            setTopColor(\"\");\r\n            setTopLength(700);\r\n            setTopWidth(400);\r\n            setTopThickness(25);\r\n            setTopRoundedCorners(0);\r\n            setTopCornerRadius(50);\r\n            setSketchUrl(\"\");\r\n\r\n            setDeliveryChecked0(false);\r\n            setDeliveryChecked1(false);\r\n            setDeliveryChecked2(false);\r\n            setDeliveryChecked3(false);\r\n\r\n            setDeskAddOpen(false);\r\n\r\n            const data = new FormData(e.currentTarget);\r\n\r\n            if (cartItemStatus === \"add\") {\r\n              if (\r\n                !hasDeskTop &&\r\n                cart.find(\r\n                  (item) =>\r\n                    item.productType === \"desk\" &&\r\n                    item.productDetail.id === productDetail.id &&\r\n                    !item.hasDeskTop\r\n                )\r\n              ) {\r\n                Swal.fire({\r\n                  icon: \"warning\",\r\n                  title: \"Warning\",\r\n                  text: \"This product is already added.\",\r\n                  allowOutsideClick: false,\r\n                });\r\n                return;\r\n              }\r\n\r\n              let topSketchURL = \"\";\r\n              if (data.get(\"topSketchImg\") && data.get(\"topSketchImg\").name) {\r\n                const uploadData = new FormData();\r\n                uploadData.append(\"file\", data.get(\"topSketchImg\"));\r\n                try {\r\n                  const response = await axios.post(`/upload`, uploadData, {\r\n                    headers: {\r\n                      \"Content-Type\": \"application/x-www-form-urlencoded\",\r\n                    },\r\n                  });\r\n                  topSketchURL = response.data.url;\r\n                } catch (err) {}\r\n              }\r\n\r\n              setCart(\r\n                cart.concat({\r\n                  productType,\r\n                  productDetail,\r\n                  productAmount,\r\n                  productDeliveryOption: JSON.stringify(\r\n                    [\r\n                      \"Delivery Included\",\r\n                      \"Delivery and installation included\",\r\n                      \"Remote Area Surcharge\",\r\n                      \"Stairs Surcharge\",\r\n                    ].filter((item, index) =>\r\n                      Boolean(data.get(`deliveryOption_${index}`))\r\n                    )\r\n                  ),\r\n                  productPrice: Boolean(data.get(\"hasDeskTop\"))\r\n                    ? Number(data.get(\"deskTotalPrice\"))\r\n                    : Number(data.get(\"deskLegPrice\")),\r\n                  hasDeskTop: Boolean(data.get(\"hasDeskTop\")) || false,\r\n                  topMaterial: data.get(\"topMaterial\") || \"\",\r\n                  topColor: data.get(\"topColor\") || \"\",\r\n                  topLength: data.get(\"topLength\") || 0,\r\n                  topWidth: data.get(\"topWidth\") || 0,\r\n                  topThickness: data.get(\"topThickness\") || 0,\r\n                  topRoundedCorners: data.get(\"topRoundedCorners\") || 0,\r\n                  topCornerRadius: data.get(\"topCornerRadius\") || 50,\r\n                  topHoleCount: data.get(\"topHoleCount\") || 0,\r\n                  topHoleType: data.get(\"topHoleType\") || \"\",\r\n                  topHolePosition: topHolePosition || \"\",\r\n                  remark: data.get(\"remark\") || \"\",\r\n                  topSketchURL: topSketchURL,\r\n                })\r\n              );\r\n            } else if (cartItemStatus === \"edit\") {\r\n              let topSketchURL = sketchUrl;\r\n              if (data.get(\"topSketchImg\") && data.get(\"topSketchImg\").name) {\r\n                const uploadData = new FormData();\r\n                uploadData.append(\"file\", data.get(\"topSketchImg\"));\r\n                try {\r\n                  const response = await axios.post(`/upload`, uploadData, {\r\n                    headers: {\r\n                      \"Content-Type\": \"application/x-www-form-urlencoded\",\r\n                    },\r\n                  });\r\n                  topSketchURL = response.data.url;\r\n                } catch (err) {}\r\n              }\r\n              const newCart = cart.map((item) => {\r\n                if (\r\n                  item.productType === \"desk\" &&\r\n                  item.productDetail.id === productDetail.id\r\n                )\r\n                  return {\r\n                    productType,\r\n                    productDetail,\r\n                    productAmount,\r\n                    productDeliveryOption: JSON.stringify(\r\n                      [\r\n                        \"Delivery Included\",\r\n                        \"Delivery and installation included\",\r\n                        \"Remote Area Surcharge\",\r\n                        \"Stairs Surcharge\",\r\n                      ].filter((item, index) =>\r\n                        Boolean(data.get(`deliveryOption_${index}`))\r\n                      )\r\n                    ),\r\n                    productPrice: Boolean(data.get(\"hasDeskTop\"))\r\n                      ? Number(data.get(\"deskTotalPrice\"))\r\n                      : Number(data.get(\"deskLegPrice\")),\r\n                    hasDeskTop: Boolean(data.get(\"hasDeskTop\")) || false,\r\n                    topMaterial: data.get(\"topMaterial\") || \"\",\r\n                    topColor: data.get(\"topColor\") || \"\",\r\n                    topLength: data.get(\"topLength\") || 0,\r\n                    topWidth: data.get(\"topWidth\") || 0,\r\n                    topThickness: data.get(\"topThickness\") || 0,\r\n                    topRoundedCorners: data.get(\"topRoundedCorners\") || 0,\r\n                    topCornerRadius: data.get(\"topCornerRadius\") || 50,\r\n                    topHoleCount: data.get(\"topHoleCount\") || 0,\r\n                    topHoleType: data.get(\"topHoleType\") || \"\",\r\n                    topHolePosition: topHolePosition || \"\",\r\n                    remark: data.get(\"remark\") || \"\",\r\n                    topSketchURL: topSketchURL,\r\n                  };\r\n                else return item;\r\n              });\r\n              setCart(newCart);\r\n            }\r\n          },\r\n        }}\r\n      >\r\n        <DialogTitle>Price and Amount</DialogTitle>\r\n        <DialogContent sx={{ textAlign: \"center\" }}>\r\n          <TextField\r\n            label=\"Desk Leg Price\"\r\n            type=\"number\"\r\n            name=\"deskLegPrice\"\r\n            value={productPrice}\r\n            sx={{ width: 200, visibility: hasDeskTop ? \"hidden\" : \"visible\" }}\r\n            InputProps={{\r\n              readOnly: true,\r\n              endAdornment: <InputAdornment position=\"end\">HKD</InputAdornment>,\r\n            }}\r\n          />\r\n          <Divider sx={{ my: \"10px\" }} />\r\n          <Box display=\"flex\" flexWrap=\"wrap\" justifyContent=\"space-between\">\r\n            <FormControlLabel\r\n              control={\r\n                <Checkbox\r\n                  name=\"hasDeskTop\"\r\n                  checked={hasDeskTop}\r\n                  onChange={(e) => {\r\n                    setHasDeskTop(e.currentTarget.checked);\r\n                  }}\r\n                />\r\n              }\r\n              label=\"with Table Top\"\r\n              sx={{ flexBasis: \"100%\", minWidth: \"100%\" }}\r\n            />\r\n            {[\r\n              {\r\n                name: \"topMaterial\",\r\n                label: \"Material\",\r\n                type: \"autocomplete\",\r\n                value: topMaterial,\r\n                onChange: (e, newVal) => {\r\n                  e.preventDefault();\r\n                  setTopMaterial(newVal);\r\n                },\r\n                options: materialOptions,\r\n                width: \"65%\",\r\n              },\r\n              {\r\n                name: \"topColor\",\r\n                label: \"Color\",\r\n                type: \"text\",\r\n                width: \"30%\",\r\n                value: topColor,\r\n                onChange: (e) => {\r\n                  e.preventDefault();\r\n                  setTopColor(e.target.value);\r\n                },\r\n              },\r\n              {\r\n                name: \"topLength\",\r\n                label: \"Length\",\r\n                type: \"suffixNumber\",\r\n                suffix: \"mm\",\r\n                inputProps: { min: 0 },\r\n                width: \"30%\",\r\n                value: topLength,\r\n                onChange: (e) => {\r\n                  e.preventDefault();\r\n                  setTopLength(e.target.value);\r\n                },\r\n              },\r\n              {\r\n                name: \"topWidth\",\r\n                label: \"Width\",\r\n                type: \"suffixNumber\",\r\n                suffix: \"mm\",\r\n                inputProps: { min: 0 },\r\n                width: \"30%\",\r\n                value: topWidth,\r\n                onChange: (e) => {\r\n                  e.preventDefault();\r\n                  setTopWidth(e.target.value);\r\n                },\r\n              },\r\n              {\r\n                name: \"topThickness\",\r\n                label: \"Thickness\",\r\n                type: \"suffixNumber\",\r\n                suffix: \"mm\",\r\n                inputProps: { min: 0 },\r\n                width: \"30%\",\r\n                value: topThickness,\r\n                onChange: (e) => {\r\n                  e.preventDefault();\r\n                  setTopThickness(e.target.value);\r\n                },\r\n              },\r\n              {\r\n                name: \"topRoundedCorners\",\r\n                label: \"Rounded Corners\",\r\n                type: \"select\",\r\n                options: [0, 1, 2, 3, 4],\r\n                width: \"48%\",\r\n                value: topRoundedCorners,\r\n                onChange: (e) => {\r\n                  e.preventDefault();\r\n                  setTopRoundedCorners(e.target.value);\r\n                },\r\n              },\r\n              {\r\n                name: \"topCornerRadius\",\r\n                label: \"Corner Radius\",\r\n                type: \"number\",\r\n                inputProps: { min: 0 },\r\n                width: \"48%\",\r\n                value: topCornerRadius,\r\n                onChange: (e) => {\r\n                  e.preventDefault();\r\n                  setTopCornerRadius(e.target.value);\r\n                },\r\n              },\r\n              {\r\n                name: \"topHoleCount\",\r\n                label: \"Number of Holes\",\r\n                type: \"select\",\r\n                value: topHoleCount,\r\n                onChange: (e) => {\r\n                  e.preventDefault();\r\n                  setTopHoleCount(e.target.value);\r\n                  if (e.target.value === 1) setTopHolePosition(\"Left\");\r\n                  else if (e.target.value === 2)\r\n                    setTopHolePosition(\"Left_Right\");\r\n                  else if (e.target.value === 3)\r\n                    setTopHolePosition(\"Left_Right_Center\");\r\n                },\r\n                options: [0, 1, 2, 3],\r\n                width: \"48%\",\r\n              },\r\n              {\r\n                name: \"topHoleType\",\r\n                label: \"Type of Holes\",\r\n                type: \"select\",\r\n                value: topHoleType,\r\n                onChange: (e) => {\r\n                  e.preventDefault();\r\n                  setTopHoleType(e.target.value);\r\n                },\r\n                options: [\"Rounded\", \"Rectangular\"],\r\n                width: \"48%\",\r\n              },\r\n              {\r\n                name: \"topHolePosition\",\r\n                label: \"Hole Position\",\r\n                type: \"select\",\r\n                value: topHolePosition,\r\n                onChange: (e) => {\r\n                  e.preventDefault();\r\n                  setTopHolePosition(e.target.value);\r\n                },\r\n                options:\r\n                  topHoleCount === 1\r\n                    ? [\"Left\", \"Right\", \"Center\"]\r\n                    : [\r\n                        \"Left\",\r\n                        \"Right\",\r\n                        \"Center\",\r\n                        \"Left_Right\",\r\n                        \"Left_Right_Center\",\r\n                      ],\r\n                disabled: topHoleCount !== 1, // || topHoleType !== \"Rounded\",\r\n                visible: \"true\", //topHoleType === \"Rounded\",\r\n                width: \"48%\",\r\n              },\r\n              {\r\n                name: \"remark\",\r\n                label: \"Specification\",\r\n                type: \"text\",\r\n                width: \"100%\",\r\n                value: productRemark,\r\n                onChange: (e) => {\r\n                  e.preventDefault();\r\n                  setProductRemark(e.target.value);\r\n                },\r\n              },\r\n              {\r\n                name: \"topSketchImg\",\r\n                label: \"Sketch Image (Optional)\",\r\n                type: \"file\",\r\n                inputProps: {\r\n                  accept: \"image/png, image/gif, image/jpeg\",\r\n                },\r\n                InputLabelProps: { shrink: true },\r\n                width: \"100%\",\r\n              },\r\n            ].map(({ type, width, ...restParams }, index) => {\r\n              if (type === \"autocomplete\") {\r\n                const { name, label, ...autocomParams } = restParams;\r\n                return (\r\n                  <Autocomplete\r\n                    key={index}\r\n                    sx={{ flexBasis: width, minWidth: width }}\r\n                    renderInput={(params) => (\r\n                      <TextField {...params} name={name} label={label} />\r\n                    )}\r\n                    disabled={!hasDeskTop}\r\n                    {...autocomParams}\r\n                  />\r\n                );\r\n              } else if (type === \"suffixNumber\") {\r\n                const { suffix, ...fieldParams } = restParams;\r\n                return (\r\n                  <FormControlLabel\r\n                    key={index}\r\n                    sx={{\r\n                      flexBasis: width,\r\n                      minWidth: width,\r\n                      alignItems: \"baseline\",\r\n                      mx: 0,\r\n                    }}\r\n                    control={\r\n                      <TextField\r\n                        fullWidth\r\n                        sx={{ m: \"10px 5px 0 0\" }}\r\n                        type=\"number\"\r\n                        disabled={!hasDeskTop}\r\n                        {...fieldParams}\r\n                      />\r\n                    }\r\n                    label={suffix}\r\n                  />\r\n                );\r\n              } else if (type === \"select\") {\r\n                const { name, label, options, ...selectParams } = restParams;\r\n                if (name === \"topHolePosition\")\r\n                  if (selectParams.visible)\r\n                    return (\r\n                      <FormControl\r\n                        key={index}\r\n                        sx={{ flexBasis: width, minWidth: width }}\r\n                      >\r\n                        <InputLabel id={`desk-top-${name}-select-label`}>\r\n                          {label}\r\n                        </InputLabel>\r\n                        <Select\r\n                          labelId={`desk-top-${name}-select-label`}\r\n                          id={`desk-top-${name}-select`}\r\n                          name={name}\r\n                          label={label}\r\n                          size=\"small\"\r\n                          disabled={!hasDeskTop}\r\n                          {...selectParams}\r\n                        >\r\n                          {options.map((selectOption, selectOptionIndex) => (\r\n                            <MenuItem\r\n                              key={selectOptionIndex}\r\n                              value={selectOption}\r\n                            >\r\n                              {selectOption}\r\n                            </MenuItem>\r\n                          ))}\r\n                        </Select>\r\n                      </FormControl>\r\n                    );\r\n                  else return \"\";\r\n                else\r\n                  return (\r\n                    <FormControl\r\n                      key={index}\r\n                      sx={{ flexBasis: width, minWidth: width }}\r\n                    >\r\n                      <InputLabel id={`desk-top-${name}-select-label`}>\r\n                        {label}\r\n                      </InputLabel>\r\n                      <Select\r\n                        labelId={`desk-top-${name}-select-label`}\r\n                        id={`desk-top-${name}-select`}\r\n                        name={name}\r\n                        label={label}\r\n                        size=\"small\"\r\n                        disabled={!hasDeskTop}\r\n                        {...selectParams}\r\n                      >\r\n                        {options.map((selectOption, selectOptionIndex) => (\r\n                          <MenuItem\r\n                            key={selectOptionIndex}\r\n                            value={selectOption}\r\n                          >\r\n                            {selectOption}\r\n                          </MenuItem>\r\n                        ))}\r\n                      </Select>\r\n                    </FormControl>\r\n                  );\r\n              } else\r\n                return (\r\n                  <TextField\r\n                    key={index}\r\n                    type={type}\r\n                    sx={{ flexBasis: width, minWidth: width }}\r\n                    disabled={!hasDeskTop}\r\n                    {...restParams}\r\n                  />\r\n                );\r\n            })}\r\n            <TextField\r\n              label=\"Desk Total Price\"\r\n              type=\"number\"\r\n              name=\"deskTotalPrice\"\r\n              defaultValue={productPrice}\r\n              sx={{ flexBasis: 200, minWidth: 200, mx: \"auto\" }}\r\n              disabled={!hasDeskTop}\r\n              InputProps={{\r\n                endAdornment: (\r\n                  <InputAdornment position=\"end\">HKD</InputAdornment>\r\n                ),\r\n              }}\r\n            />\r\n          </Box>\r\n          <Divider sx={{ my: \"10px\" }} />\r\n          <Box\r\n            sx={{\r\n              display: \"flex\",\r\n              alignItems: \"center\",\r\n              width: \"200px\",\r\n              border: \"1px solid #0000003b\",\r\n              borderRadius: \"4px\",\r\n              mt: \"10px\",\r\n              mx: \"auto\",\r\n              p: \"5px 3px\",\r\n            }}\r\n          >\r\n            <Typography variant=\"span\" sx={{ flexGrow: 1, marginTop: \"8px\" }}>\r\n              Amount\r\n            </Typography>\r\n            <IconButton\r\n              onClick={(e) => {\r\n                e.preventDefault();\r\n                setProductAmount(Math.max(productAmount - 1, 1));\r\n              }}\r\n            >\r\n              <RemoveIcon />\r\n            </IconButton>\r\n            <Typography variant=\"span\" sx={{ ml: \"10px\", marginTop: \"8px\" }}>\r\n              {productAmount}\r\n            </Typography>\r\n            <IconButton\r\n              onClick={(e) => {\r\n                e.preventDefault();\r\n                setProductAmount(Math.min(productAmount + 1, 99));\r\n              }}\r\n            >\r\n              <AddIcon />\r\n            </IconButton>\r\n          </Box>\r\n          <FormControlLabel\r\n            sx={{ display: \"block\", textAlign: \"left\", marginLeft: \"100px\" }}\r\n            control={\r\n              <Checkbox\r\n                name=\"deliveryOption_0\"\r\n                checked={deliveryChecked0}\r\n                onChange={(e) => setDeliveryChecked0(e.target.checked)}\r\n                sx={{ textAlign: \"left\" }}\r\n              />\r\n            }\r\n            label=\"Delivery Included\"\r\n          />\r\n          <FormControlLabel\r\n            sx={{ display: \"block\", textAlign: \"left\", marginLeft: \"100px\" }}\r\n            control={\r\n              <Checkbox\r\n                name=\"deliveryOption_1\"\r\n                checked={deliveryChecked1}\r\n                onChange={(e) => setDeliveryChecked1(e.target.checked)}\r\n              />\r\n            }\r\n            label=\"Delivery and installation included\"\r\n          />\r\n          <FormControlLabel\r\n            sx={{ display: \"block\", textAlign: \"left\", marginLeft: \"100px\" }}\r\n            control={\r\n              <Checkbox\r\n                name=\"deliveryOption_2\"\r\n                checked={deliveryChecked2}\r\n                onChange={(e) => setDeliveryChecked2(e.target.checked)}\r\n              />\r\n            }\r\n            label=\"Remote Area Surcharge\"\r\n          />\r\n          <FormControlLabel\r\n            sx={{ display: \"block\", textAlign: \"left\", marginLeft: \"100px\" }}\r\n            control={\r\n              <Checkbox\r\n                name=\"deliveryOption_3\"\r\n                checked={deliveryChecked3}\r\n                onChange={(e) => setDeliveryChecked3(e.target.checked)}\r\n              />\r\n            }\r\n            label=\"Stairs Surcharge\"\r\n          />\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button\r\n            onClick={(e) => {\r\n              e.preventDefault();\r\n              setTopHoleCount(0);\r\n              setTopHolePosition(\"Left\");\r\n              setTopHoleType(\"Rounded\");\r\n              setTopMaterial(\"Melamine\");\r\n              setTopColor(\"\");\r\n              setTopLength(700);\r\n              setTopWidth(400);\r\n              setTopThickness(25);\r\n              setTopRoundedCorners(0);\r\n              setTopCornerRadius(50);\r\n              setSketchUrl(\"\");\r\n\r\n              setDeliveryChecked0(false);\r\n              setDeliveryChecked1(false);\r\n              setDeliveryChecked2(false);\r\n              setDeliveryChecked3(false);\r\n\r\n              setDeskAddOpen(false);\r\n            }}\r\n          >\r\n            Cancel\r\n          </Button>\r\n          <Button type=\"submit\">OK</Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    </Box>\r\n  );\r\n});\r\n","import React, { useState } from 'react';\r\nimport Detail from './Detail';\r\n\r\nconst Create = (props) => {\r\n  const [phone, setPhone] = useState('');\r\n  return (\r\n    <Detail\r\n      componentType = \"create\"\r\n      initialClient = {{\r\n        phone,\r\n        setPhone,\r\n        paid: true,\r\n        discountType: 1,\r\n        surchargeType: 1,\r\n        dueDate: '',\r\n        remark: '',\r\n      }}\r\n      initialCart = {[]}\r\n      {...props}\r\n    />\r\n  );\r\n};\r\n\r\nexport default Create;\r\n","import React, { useState } from 'react';\r\nimport Detail from './Detail';\r\nimport { Redirect, useLocation } from 'react-router-dom';\r\n\r\nconst Edit = (props) => {\r\n  const location = useLocation();\r\n  const { order } = location.state || {};\r\n  const {\r\n    ChairStocks,\r\n    DeskStocks,\r\n    DeskToOrders,\r\n    AccessoryStocks,\r\n    ServiceToOrders,\r\n    Seller,\r\n    sellerId,\r\n    ...client\r\n  } = order || {};\r\n\r\n  const [phone, setPhone] = useState(client.phone);\r\n\r\n  return order ? (\r\n    <Detail\r\n      componentType=\"edit\"\r\n      initialClient={{\r\n        ...client,\r\n        phone,\r\n        setPhone,\r\n      }}\r\n      initialCart = {ChairStocks.map(({ ChairToOrder, ...restProps }) => ({\r\n        productType: 'chair',\r\n        productDetail: {\r\n          ...restProps,\r\n        },\r\n        remark: ChairToOrder.remark,\r\n        productPrice: ChairToOrder.unitPrice,\r\n        productAmount: ChairToOrder.qty,\r\n        productDeliveryOption: ChairToOrder.deliveryOption,\r\n      }))\r\n        .concat(\r\n          DeskToOrders.map((DeskToOrder) => {\r\n            const {\r\n              stockId,\r\n              unitPrice,\r\n              qty,\r\n              deliveryOption,\r\n              ...deskTopProps\r\n            } = DeskToOrder;\r\n  \r\n            const stock = DeskStocks.find(function(val) {\r\n              return val.id === stockId\r\n            })\r\n  \r\n            return {\r\n              productType: 'desk',\r\n              productDetail: stock,\r\n              productPrice: unitPrice,\r\n              productAmount: qty,\r\n              productDeliveryOption: deliveryOption,\r\n              ...deskTopProps,\r\n            };\r\n          })\r\n        )\r\n        .concat(\r\n          AccessoryStocks.map(({ AccessoryToOrder, ...restProps }) => ({\r\n            productType: 'accessory',\r\n            productDetail: {\r\n              ...restProps,\r\n            },\r\n            remark: AccessoryToOrder.remark,\r\n            productPrice: AccessoryToOrder.unitPrice,\r\n            productAmount: AccessoryToOrder.qty,\r\n            productDeliveryOption: AccessoryToOrder.deliveryOption\r\n          }))\r\n        )}\r\n      initialServices = {ServiceToOrders}\r\n      {...props}\r\n    />\r\n  ) : (\r\n    <Redirect to=\"/user/sales\" />\r\n  );\r\n};\r\n\r\nexport default Edit;\r\n","import React, { useEffect, useRef, useState } from 'react';\r\nimport { Link as RouterLink } from 'react-router-dom';\r\nimport ReactDOMServer from 'react-dom/server';\r\nimport { connect } from 'react-redux';\r\nimport {\r\n  Badge,\r\n  Box,\r\n  Button,\r\n  Checkbox,\r\n  Dialog,\r\n  DialogActions,\r\n  DialogContent,\r\n  DialogTitle,\r\n  IconButton,\r\n  Stack,\r\n  TextField,\r\n} from '@mui/material';\r\nimport {\r\n  Add as AddIcon,\r\n  Deck as DeckIcon,\r\n  Delete as DeleteIcon,\r\n  Edit as EditIcon,\r\n  Email as EmailIcon,\r\n  // PictureAsPdf as PictureAsPdfIcon,\r\n  WhatsApp as WhatsAppIcon,\r\n  DriveFolderUpload as DriveFolderUploadIcon,\r\n} from \"@mui/icons-material\";\r\nimport MuiPhoneNumber from \"material-ui-phone-number\";\r\nimport { useTheme } from \"@mui/material/styles\";\r\nimport useMediaQuery from \"@mui/material/useMediaQuery\";\r\nimport axios from \"axios\";\r\nimport Swal from \"sweetalert2\";\r\nimport QRCode from \"react-qr-code\";\r\n\r\nimport DataGrid from 'components/Common/DataGrid';\r\nimport {\r\n  ProductList,\r\n  ProductListItem,\r\n  ProductListItemText,\r\n  ProductPriceAmount,\r\n} from '../ProductList';\r\nimport CheckableMultiSelect from 'components/Common/MultiSelect';\r\n\r\nconst columns = [\r\n  {\r\n    id: 'quotationNum',\r\n    label: 'Quotation',\r\n  },\r\n  {\r\n    id: 'name',\r\n    label: 'Client',\r\n  },\r\n  {\r\n    id: 'seller',\r\n    label: 'Seller',\r\n  },\r\n  {\r\n    id: 'quotationDate',\r\n    label: 'Quotation',\r\n  },\r\n  {\r\n    id: 'clientAddress',\r\n    label: 'Address',\r\n  },\r\n  {\r\n    id: 'timeLine',\r\n    label: 'TimeLine',\r\n  },\r\n  {\r\n    id: 'remark',\r\n    label: 'Remark',\r\n  },\r\n  {\r\n    id: 'discount',\r\n    label: 'Discount',\r\n  },\r\n  {\r\n    id: 'surcharge',\r\n    label: 'SurCharge',\r\n  },\r\n  {\r\n    id: 'products',\r\n    label: 'Products',\r\n  },\r\n  {\r\n    id: 'paid',\r\n    label: 'Paid',\r\n  },\r\n  {\r\n    id: 'emailIcon',\r\n    nonSort: true,\r\n    label: 'Con',\r\n    align: 'right',\r\n    sx: { maxWidth: 45, width: 45 },\r\n  },\r\n  {\r\n    id: 'whatsappIcon',\r\n    nonSort: true,\r\n    label: 'tact',\r\n    align: 'left',\r\n    sx: { maxWidth: 45, width: 45, paddingLeft: 0 },\r\n  },\r\n  {\r\n    id: \"toInvoice\",\r\n    nonSort: true,\r\n    label: \"To Invoice\",\r\n    sx: { maxWidth: 45 },\r\n  },\r\n  {\r\n    id: \"edit\",\r\n    nonSort: true,\r\n    sx: { maxWidth: 45, width: 45 },\r\n  },\r\n  {\r\n    nonSort: true,\r\n    id: 'delete',\r\n    sx: { maxWidth: 45, width: 45 },\r\n  },\r\n];\r\nconst hideColumns = [\r\n  'Address',\r\n  'TimeLine',\r\n  'Remark',\r\n  'Discount',\r\n  'SurC harge',\r\n  'Products',\r\n  'Paid',\r\n  'Con',\r\n  'tact'\r\n];\r\n\r\nfunction mapStateToProps(state) {\r\n  const { auth } = state;\r\n  return { auth };\r\n}\r\n\r\nexport default connect(mapStateToProps)((props) => {\r\n  const theme = useTheme();\r\n\r\n  const [quotations, setquotations] = useState([]);\r\n  const [name, setName] = useState('');\r\n  const [email, setEmail] = useState('');\r\n  const [phone, setPhone] = useState('');\r\n  const [whatsAppOpen, setWhatsAppOpen] = useState(false);\r\n  const [emailOpen, setEmailOpen] = useState(false);\r\n  const [detailOpen, setDetailOpen] = useState(false);\r\n  const whatsAppMessage = useRef(null);\r\n  const emailContent = useRef(null);\r\n  const [filterAnchor, setFilterAnchor] = useState(null);\r\n\r\n  const [quotationIndex, setquotationIndex] = useState(0);\r\n\r\n  const [selectedHideColumns, setSelectedHideColumns] = useState([])\r\n\r\n  const handleFilterClick = (e) => {\r\n    e.preventDefault();\r\n    if (filterAnchor === null) setFilterAnchor(e.currentTarget);\r\n    else setFilterAnchor(null);\r\n  };\r\n\r\n  const handleWhatsAppSend = (event) => {\r\n    event.preventDefault();\r\n    axios\r\n      .post('whatsapp/send', {\r\n        phone: phone,\r\n        message: whatsAppMessage.current.value,\r\n      })\r\n      .then(() => {\r\n        setWhatsAppOpen(false);\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        setWhatsAppOpen(false);\r\n        Swal.fire({\r\n          icon: 'error',\r\n          title: 'Error',\r\n          text: error.response.data.message,\r\n          allowOutsideClick: false,\r\n        }).then(() => {\r\n          setWhatsAppOpen(true);\r\n        });\r\n      })\r\n      .then(function () {\r\n        // always executed\r\n      });\r\n  };\r\n\r\n  const handleEmailSend = (event) => {\r\n    event.preventDefault();\r\n    axios\r\n      .post('email/send', {\r\n        email: email,\r\n        message: emailContent.current.value,\r\n      })\r\n      .then(() => {\r\n        setEmailOpen(false);\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        setEmailOpen(false);\r\n        Swal.fire({\r\n          icon: 'error',\r\n          title: 'Error',\r\n          text: error.response.data.message,\r\n          allowOutsideClick: false,\r\n        }).then(() => {\r\n          setEmailOpen(true);\r\n        });\r\n      })\r\n      .then(function () {\r\n        // always executed\r\n      });\r\n  };\r\n\r\n  const handleEditClick = (index) => {\r\n    if (index < quotations.length && index >= 0) {\r\n    }\r\n  };\r\n\r\n  const handleRemoveClick = (index) => {\r\n    if (index < quotations.length && index >= 0) {\r\n      Swal.fire({\r\n        title: 'Are you sure?',\r\n        text: 'This action will remove current Quotation permanently.',\r\n        icon: 'question',\r\n        showCancelButton: true,\r\n        confirmButtonText: 'Yes, Remove!',\r\n        cancelButtonText: 'No, Keep It.',\r\n        allowOutsideClick: false,\r\n      }).then((result) => {\r\n        if (result.isConfirmed) {\r\n          axios\r\n            .delete(`/quotation/${quotations[index].id}`)\r\n            .then((response) => {\r\n              // handle success\r\n              getQuotations();\r\n            })\r\n            .catch(function (error) {\r\n              // handle error\r\n              Swal.fire({\r\n                icon: 'error',\r\n                title: 'Error',\r\n                text: error.response.data.message,\r\n                allowOutsideClick: false,\r\n              });\r\n              console.log(error);\r\n            })\r\n            .then(function () {\r\n              // always executed\r\n            });\r\n        }\r\n      });\r\n    }\r\n  };\r\n\r\n  const handleBulkRemoveClick = (selected) => {\r\n    Swal.fire({\r\n      title: 'Are you sure?',\r\n      text: 'This action will remove selected Quotations permanently.',\r\n      icon: 'question',\r\n      showCancelButton: true,\r\n      confirmButtonText: 'Yes, Remove!',\r\n      cancelButtonText: 'No, Keep Them.',\r\n      allowOutsideClick: false,\r\n    }).then((result) => {\r\n      if (result.isConfirmed) {\r\n        axios\r\n          .delete('/quotation', {\r\n            data: { ids: selected },\r\n          })\r\n          .then((response) => {\r\n            // handle success\r\n            getQuotations();\r\n          })\r\n          .catch(function (error) {\r\n            // handle error\r\n            Swal.fire({\r\n              icon: 'error',\r\n              title: 'Error',\r\n              text: error.response.data.message,\r\n              allowOutsideClick: false,\r\n            });\r\n            console.log(error);\r\n          })\r\n          .then(function () {\r\n            // always executed\r\n          });\r\n      }\r\n    });\r\n  };\r\n\r\n  const handleToInvoiceClick = (index) => {\r\n    if (index < quotations.length && index >= 0) {\r\n      Swal.fire({\r\n        title: \"Are you sure?\",\r\n        text: \"This action will convert current Quotation to Invoice.\",\r\n        icon: \"question\",\r\n        showCancelButton: true,\r\n        confirmButtonText: \"Yes, Convert!\",\r\n        cancelButtonText: \"No, Cancel.\",\r\n        allowOutsideClick: false,\r\n      }).then((result) => {\r\n        if (result.isConfirmed) {\r\n          const quotation = quotations[index];\r\n          const cart = quotation.ChairStocks.map(\r\n            ({ ChairToQuotation, ...restProps }) => ({\r\n              productType: \"chair\",\r\n              productDetail: restProps,\r\n              remark: ChairToQuotation.remark,\r\n              productPrice: ChairToQuotation.unitPrice,\r\n              productAmount: ChairToQuotation.qty,\r\n              productDeliveryOption: ChairToQuotation.deliveryOption,\r\n            })\r\n          )\r\n            .concat(\r\n              quotation.DeskToQuotations.map((DeskToQuotation) => {\r\n                const {\r\n                  stockId,\r\n                  unitPrice,\r\n                  qty,\r\n                  deliveryOption,\r\n                  ...deskTopProps\r\n                } = DeskToQuotation;\r\n\r\n                const stock = quotation.DeskStocks.find(function (val) {\r\n                  return val.id === stockId;\r\n                });\r\n\r\n                return {\r\n                  productType: \"desk\",\r\n                  productDetail: stock,\r\n                  productPrice: unitPrice,\r\n                  productAmount: qty,\r\n                  productDeliveryOption: deliveryOption,\r\n                  ...deskTopProps,\r\n                };\r\n              })\r\n            )\r\n            .concat(\r\n              quotation.AccessoryStocks.map(\r\n                ({ AccessoryToQuotation, ...restProps }) => ({\r\n                  productType: \"accessory\",\r\n                  productDetail: restProps,\r\n                  remark: AccessoryToQuotation.remark,\r\n                  productPrice: AccessoryToQuotation.unitPrice,\r\n                  productAmount: AccessoryToQuotation.qty,\r\n                  productDeliveryOption: AccessoryToQuotation.deliveryOption,\r\n                })\r\n              )\r\n            );\r\n          axios\r\n            .post(`/sales/create`, {\r\n              name: quotation.name,\r\n              phone: quotation.phone,\r\n              email: quotation.email,\r\n              district: quotation.district,\r\n              street: quotation.street,\r\n              block: quotation.block,\r\n              floor: quotation.floor,\r\n              unit: quotation.unit,\r\n              timeLine: quotation.timeLine,\r\n              remark: quotation.remark,\r\n              products: cart\r\n                .map(({ productDetail, ...restProps }) => ({\r\n                  productId: productDetail.id,\r\n                  ...restProps,\r\n                }))\r\n                .concat(quotation.ServiceToQuotations),\r\n              paymentTerms: quotation.paymentTerms,\r\n              paid: false,\r\n              dueDate: null,\r\n              discount: quotation.discount,\r\n              discountType: quotation.discountType,\r\n              surcharge: quotation.surcharge,\r\n              surchargeType: quotation.surchargeType,\r\n            })\r\n            .then(() => {\r\n              // handle success\r\n              props.history.push(\"/user/sales\");\r\n            })\r\n            .catch(function (error) {\r\n              // handle error\r\n              Swal.fire({\r\n                icon: \"error\",\r\n                title: \"Error\",\r\n                text: error.response.data.message,\r\n                allowOutsideClick: false,\r\n              }).then(() => {});\r\n              console.log(error);\r\n            })\r\n            .then(function () {\r\n              // always executed\r\n            });\r\n        }\r\n      });\r\n    }\r\n  };\r\n\r\n  const getQuotations = (cancelToken) => {\r\n    axios\r\n      .get('/quotation/current', { cancelToken })\r\n      .then((response) => {\r\n        // handle success\r\n        setquotations(response.data);\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        console.log(error);\r\n      })\r\n      .then(function () {\r\n        // always executed\r\n      });\r\n  };\r\n\r\n  const onHideColumnChanged = (values) => {\r\n    setSelectedHideColumns(values)\r\n  }\r\n\r\n  useEffect(() => {\r\n    const source = axios.CancelToken.source();\r\n    getQuotations(source.token);\r\n    return () => source.cancel('Brand Component got unmounted');\r\n  }, []);\r\n\r\n  return (\r\n    <Box\r\n      sx={{\r\n        height: '100%',\r\n        overflow: 'auto',\r\n        padding: '10px 20px',\r\n      }}\r\n    >\r\n      <Button\r\n        component={RouterLink}\r\n        to=\"/user/quotation/create\"\r\n        startIcon={<AddIcon />}\r\n      >\r\n        New Quotation\r\n      </Button>\r\n      <div>\r\n        <CheckableMultiSelect \r\n          options={hideColumns}\r\n          onChange={onHideColumnChanged}\r\n          selected={selectedHideColumns} \r\n        />\r\n      </div>\r\n      <DataGrid\r\n        title=\"Sales quotations\"\r\n        rows={quotations.map(\r\n          (\r\n            {\r\n              id,\r\n              quotationNum,\r\n              district,\r\n              street,\r\n              block,\r\n              floor,\r\n              unit,\r\n              Seller,\r\n              discount,\r\n              discountType,\r\n              surcharge,\r\n              surchargeType,\r\n              createdAt,\r\n              timeLine,\r\n              paid,\r\n              ChairStocks,\r\n              DeskStocks,\r\n              AccessoryStocks,\r\n              ...restProps\r\n            },\r\n            index\r\n          ) => ({\r\n            id,\r\n            index,\r\n            seller: (Seller.firstName || '').concat(' ', Seller.lastName || ''),\r\n            timeLine:\r\n              timeLine % 7 !== 0\r\n                ? `${timeLine} day${timeLine === 1 ? '' : 's'}`\r\n                : `${timeLine / 7} week${timeLine / 7 === 1 ? '' : 's'}`,\r\n            quotationDate: (() => {\r\n              const createdTime = new Date(createdAt);\r\n              createdTime.setMinutes(\r\n                createdTime.getMinutes() - createdTime.getTimezoneOffset()\r\n              );\r\n              return createdTime.toISOString().split('T')[0];\r\n            })(),\r\n            discount: `${discount}${discountType ? ' HKD' : '%'}`,\r\n            surcharge: `${surcharge}${surchargeType ? ' HKD' : '%'}`,\r\n            clientAddress: [district, street, block, floor, unit].join(', '),\r\n            products: (\r\n              <IconButton\r\n                sx={{ my: '5px' }}\r\n                onClick={(event) => {\r\n                  event.preventDefault();\r\n                  setquotationIndex(index);\r\n                  setDetailOpen(true);\r\n                }}\r\n              >\r\n                <Badge\r\n                  badgeContent={\r\n                    ChairStocks.length +\r\n                    DeskStocks.length +\r\n                    AccessoryStocks.length\r\n                  }\r\n                  color=\"error\"\r\n                >\r\n                  <DeckIcon />\r\n                </Badge>\r\n              </IconButton>\r\n            ),\r\n            paid: (\r\n              <Checkbox\r\n                checked={paid}\r\n                onClick={(event) => {\r\n                  event.stopPropagation();\r\n                  event.preventDefault();\r\n                  axios\r\n                    .put(`/quotation/withoutStock/${id}`, {\r\n                      paid: !paid,\r\n                    })\r\n                    .then(() => {\r\n                      getQuotations();\r\n                    })\r\n                    .catch(function (error) {\r\n                      // handle error\r\n                      Swal.fire({\r\n                        icon: 'error',\r\n                        title: 'Error',\r\n                        text: error.response.data.message,\r\n                        allowOutsideClick: false,\r\n                      });\r\n                    })\r\n                    .then(function () {\r\n                      // always executed\r\n                    });\r\n                }}\r\n              />\r\n            ),\r\n            quotationNum: (\r\n              <RouterLink\r\n                to={`/quotation/${id}`}\r\n                target=\"_blank\"\r\n              >\r\n                { quotationNum }\r\n              </RouterLink>\r\n            ),\r\n            emailIcon: (\r\n              <IconButton\r\n                onClick={() => {\r\n                  setName(restProps.name);\r\n                  setEmail(restProps.email);\r\n                  setEmailOpen(true);\r\n                }}\r\n              >\r\n                <EmailIcon />\r\n              </IconButton>\r\n            ),\r\n            whatsappIcon: (\r\n              <IconButton\r\n                onClick={() => {\r\n                  axios\r\n                    .get('whatsapp/checkauth')\r\n                    .then(() => {\r\n                      setName(restProps.name);\r\n                      setPhone(restProps.phone);\r\n                      setWhatsAppOpen(true);\r\n                    })\r\n                    .catch(function (error) {\r\n                      // handle error\r\n                      axios\r\n                        .get('whatsapp/getqr')\r\n                        .then((response) => {\r\n                          Swal.fire({\r\n                            icon: 'info',\r\n                            title:\r\n                              'Please signin with this QRCode and Click the button again.',\r\n                            html: ReactDOMServer.renderToStaticMarkup(\r\n                              <QRCode\r\n                                value={`${response.data.qrcode}`}\r\n                                level=\"H\"\r\n                              />\r\n                            ),\r\n                            allowOutsideClick: false,\r\n                          });\r\n                        })\r\n                        .catch(function (qrerror) {\r\n                          // handle error\r\n                          Swal.fire({\r\n                            icon: 'error',\r\n                            title: 'Error',\r\n                            text: 'Unable to use WhatsApp Messaging.',\r\n                            allowOutsideClick: false,\r\n                          });\r\n                        })\r\n                        .then(function () {\r\n                          // always executed\r\n                        });\r\n                    })\r\n                    .then(function () {\r\n                      // always executed\r\n                    });\r\n                }}\r\n              >\r\n                <WhatsAppIcon />\r\n              </IconButton>\r\n            ),\r\n            toInvoice: (\r\n              <IconButton\r\n                onClick={(event) => {\r\n                  event.preventDefault();\r\n                  handleToInvoiceClick(index);\r\n                }}\r\n              >\r\n                <DriveFolderUploadIcon />\r\n              </IconButton>\r\n            ),\r\n            edit: (\r\n              <IconButton\r\n                component={RouterLink}\r\n                to={{\r\n                  pathname: '/user/quotation/edit',\r\n                  state: { quotation: quotations[index] },\r\n                }}\r\n              >\r\n                <EditIcon />\r\n              </IconButton>\r\n            ),\r\n            delete: (\r\n              <IconButton\r\n                onClick={(event) => {\r\n                  event.preventDefault();\r\n                  handleRemoveClick(index);\r\n                }}\r\n              >\r\n                <DeleteIcon />\r\n              </IconButton>\r\n            ),\r\n            ...restProps,\r\n          })\r\n        )}\r\n        columns={\r\n          columns.map((column, i) => {\r\n            if (i > 3 && i < 13) {\r\n              if (selectedHideColumns.find(hideColumn=>hideColumn === column.label)) \r\n                return column;\r\n              else\r\n                return undefined;\r\n            } \r\n            return column\r\n          }).filter(column=>column !== undefined)\r\n        }\r\n        onEditClick={handleEditClick}\r\n        onRemoveClick={handleRemoveClick}\r\n        onBulkRemoveClick={handleBulkRemoveClick}\r\n        onFilterClick={handleFilterClick}\r\n      />\r\n      <Dialog\r\n        fullWidth\r\n        fullScreen={useMediaQuery(theme.breakpoints.down('sm'))}\r\n        maxWidth=\"sm\"\r\n        open={whatsAppOpen}\r\n      >\r\n        <DialogTitle>Send WhatsApp Message to the Client</DialogTitle>\r\n        <DialogContent>\r\n          <Stack spacing={2}>\r\n            <MuiPhoneNumber\r\n              variant=\"outlined\"\r\n              label=\"Phone Number\"\r\n              onlyCountries={['hk']}\r\n              defaultCountry={'hk'}\r\n              value={phone}\r\n              InputProps={{\r\n                readOnly: true,\r\n              }}\r\n            />\r\n\r\n            <TextField\r\n              inputRef={whatsAppMessage}\r\n              label=\"Message\"\r\n              fullWidth\r\n              defaultValue={`Hello ${name}.`}\r\n              multiline\r\n              minRows={4}\r\n              maxRows={10}\r\n              // onChange={(e) => {\r\n              //   setWhatsAppMessage(e.target.value);\r\n              // }}\r\n            />\r\n          </Stack>\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button\r\n            onClick={(event) => {\r\n              event.preventDefault();\r\n              setWhatsAppOpen(false);\r\n            }}\r\n          >\r\n            Cancel\r\n          </Button>\r\n          <Button onClick={handleWhatsAppSend}>Send</Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n      <Dialog\r\n        fullWidth\r\n        fullScreen={useMediaQuery(theme.breakpoints.down('sm'))}\r\n        maxWidth=\"sm\"\r\n        open={emailOpen}\r\n      >\r\n        <DialogTitle>Send Email to the Client</DialogTitle>\r\n        <DialogContent>\r\n          <Stack spacing={2}>\r\n            <TextField\r\n              label=\"Email\"\r\n              type=\"email\"\r\n              value={email}\r\n              InputProps={{\r\n                readOnly: true,\r\n              }}\r\n            />\r\n\r\n            <TextField\r\n              inputRef={emailContent}\r\n              label=\"Message\"\r\n              fullWidth\r\n              defaultValue={`Hello ${name}.`}\r\n              multiline\r\n              minRows={4}\r\n              maxRows={10}\r\n            />\r\n          </Stack>\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button\r\n            onClick={(event) => {\r\n              event.preventDefault();\r\n              setEmailOpen(false);\r\n            }}\r\n          >\r\n            Cancel\r\n          </Button>\r\n          <Button onClick={handleEmailSend}>Send</Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n      <Dialog\r\n        maxWidth=\"sm\"\r\n        fullWidth\r\n        open={detailOpen}\r\n        onClose={(event) => {\r\n          event.preventDefault();\r\n          setDetailOpen(false);\r\n        }}\r\n      >\r\n        <DialogTitle>Products Details</DialogTitle>\r\n        <DialogContent>\r\n          <ProductList>\r\n            {quotationIndex < quotations.length &&\r\n              quotations[quotationIndex].ChairStocks.map((item, index) => (\r\n                <ProductListItem key={index}>\r\n                  <ProductListItemText\r\n                    primary={`Chair: ${item.brand}, ${item.model}, ${item.frameColor}, ${item.backColor}, ${item.seatColor}`}\r\n                    secondary={`${item.withHeadrest ? 'Headrest, ' : ''}${\r\n                      item.withAdArmrest ? 'Armrest' : ''\r\n                    }`}\r\n                  />\r\n                  <ProductPriceAmount\r\n                    unitPrice={`${item.ChairToQuotation.unitPrice} HKD`}\r\n                    amount={`Amount: ${item.ChairToQuotation.qty}`}\r\n                    deliveryOption={`${item.ChairToQuotation.deliveryOption}`}\r\n                  />\r\n                </ProductListItem>\r\n              ))}\r\n            {quotationIndex < quotations.length &&\r\n              quotations[quotationIndex].DeskToQuotations.map((item, index) => (\r\n                <ProductListItem key={index}>\r\n                  <ProductListItemText\r\n                    primary={`Desk: \r\n                      ${quotations[quotationIndex].DeskStocks.find(stock=> stock.id===item.stockId).supplierCode}, \r\n                      ${quotations[quotationIndex].DeskStocks.find(stock=> stock.id===item.stockId).model}, \r\n                      ${quotations[quotationIndex].DeskStocks.find(stock=> stock.id===item.stockId).color}, \r\n                      ${quotations[quotationIndex].DeskStocks.find(stock=> stock.id===item.stockId).armSize}, \r\n                      ${quotations[quotationIndex].DeskStocks.find(stock=> stock.id===item.stockId).feetSize}, \r\n                      ${quotations[quotationIndex].DeskStocks.find(stock=> stock.id===item.stockId).beamSize}`}\r\n                    secondary={\r\n                      item.hasDeskTop ? (\r\n                        <span>\r\n                          {`${item.topMaterial}, \r\n                            ${item.topColor}, \r\n                            ${item.topLength}x${item.topWidth}x${item.topThickness}, \r\n                            ${item.topRoundedCorners}-R${item.topCornerRadius}, \r\n                            ${item.topHoleCount}-${item.topHoleType} `}\r\n                          <a\r\n                            href={item.topSketchURL}\r\n                            target=\"_blank\"\r\n                            rel=\"noreferrer\"\r\n                          >\r\n                            Sketch\r\n                          </a>\r\n                        </span>\r\n                      ) : (\r\n                        'Without DeskTop'\r\n                      )\r\n                    }\r\n                  />\r\n                  <ProductPriceAmount\r\n                    unitPrice={`${item.unitPrice} HKD`}\r\n                    amount={`Amount: ${item.qty}`}\r\n                    deliveryOption={`${item.deliveryOption}`}\r\n                  />\r\n                </ProductListItem>\r\n              ))}\r\n            {quotationIndex < quotations.length &&\r\n              quotations[quotationIndex].AccessoryStocks.map((item, index) => (\r\n                <ProductListItem key={index}>\r\n                  <ProductListItemText\r\n                    primary={`Accessory: ${item.name}`}\r\n                    secondary={`${item.remark}`}\r\n                  />\r\n                  <ProductPriceAmount\r\n                    unitPrice={`${item.AccessoryToQuotation.unitPrice} HKD`}\r\n                    amount={`Amount: ${item.AccessoryToQuotation.qty}`}\r\n                    deliveryOption={`${item.AccessoryToQuotation.deliveryOption}`}\r\n                  />\r\n                </ProductListItem>\r\n              ))}\r\n          </ProductList>\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button\r\n            onClick={(event) => {\r\n              event.preventDefault();\r\n              setDetailOpen(false);\r\n            }}\r\n          >\r\n            OK\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    </Box>\r\n  );\r\n});\r\n","import React, { useEffect, useRef, useState, Fragment } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { connect } from \"react-redux\";\r\nimport {\r\n  Autocomplete,\r\n  Box,\r\n  Button,\r\n  Checkbox,\r\n  Dialog,\r\n  DialogActions,\r\n  DialogContent,\r\n  DialogTitle,\r\n  Divider,\r\n  FormControl,\r\n  FormControlLabel,\r\n  IconButton,\r\n  InputAdornment,\r\n  InputLabel,\r\n  MenuItem,\r\n  Paper,\r\n  Radio,\r\n  RadioGroup,\r\n  Select,\r\n  Step,\r\n  Stepper,\r\n  StepLabel,\r\n  Tab,\r\n  Tabs,\r\n  TextField,\r\n  Typography,\r\n  Card,\r\n  Grid,\r\n} from \"@mui/material\";\r\nimport {\r\n  Add as AddIcon,\r\n  Delete as DeleteIcon,\r\n  Remove as RemoveIcon,\r\n  Close as CloseIcon,\r\n  Edit as EditIcon,\r\n} from \"@mui/icons-material\";\r\nimport { useTheme } from \"@mui/material/styles\";\r\nimport useMediaQuery from \"@mui/material/useMediaQuery\";\r\nimport MuiPhoneNumber from \"material-ui-phone-number\";\r\nimport axios from \"axios\";\r\nimport Swal from \"sweetalert2\";\r\n\r\nimport DataGrid from \"components/Common/DataGrid\";\r\nimport {\r\n  ProductList,\r\n  ProductListItem,\r\n  ProductListItemText,\r\n  ProductPriceAmount,\r\n} from \"../ProductList\";\r\nimport { v4 as uuidv4 } from \"uuid\";\r\nimport CheckableMultiSelect from \"components/Common/MultiSelect\";\r\n\r\nconst TabPanel = (props) => {\r\n  const { children, value, index, ...other } = props;\r\n\r\n  return (\r\n    <div\r\n      role=\"tabpanel\"\r\n      hidden={value !== index}\r\n      id={`simple-tabpanel-${index}`}\r\n      aria-labelledby={`simple-tab-${index}`}\r\n      {...other}\r\n    >\r\n      {value === index && <Box sx={{ p: \"0 10px 10px 10px\" }}>{children}</Box>}\r\n    </div>\r\n  );\r\n};\r\n\r\nTabPanel.propTypes = {\r\n  children: PropTypes.node,\r\n  index: PropTypes.number.isRequired,\r\n  value: PropTypes.number.isRequired,\r\n};\r\n\r\nfunction mapStateToProps(state) {\r\n  const { auth } = state;\r\n  return { auth };\r\n}\r\n\r\nconst chairColumns = [\r\n  {\r\n    id: \"add\",\r\n  },\r\n  {\r\n    id: \"thumbnail\",\r\n    sx: { width: 100 },\r\n    nonSort: true,\r\n  },\r\n  {\r\n    id: \"brand\",\r\n    label: \"Brand\",\r\n  },\r\n  {\r\n    id: \"model\",\r\n    label: \"Model\",\r\n  },\r\n  {\r\n    id: \"unitPrice\",\r\n    label: \"Price\",\r\n  },\r\n  {\r\n    id: \"balance\",\r\n    label: \"Balance\",\r\n  },\r\n  {\r\n    id: \"qty\",\r\n    label: \"QTY\",\r\n  },\r\n  {\r\n    id: \"frameColor\",\r\n    label: \"Frame Color\",\r\n  },\r\n  {\r\n    id: \"backColor\",\r\n    label: \"Back Color\",\r\n  },\r\n  {\r\n    id: \"seatColor\",\r\n    label: \"Seat Color\",\r\n  },\r\n  {\r\n    id: \"backMaterial\",\r\n    label: \"Back Material\",\r\n  },\r\n  {\r\n    id: \"seatMaterial\",\r\n    label: \"Seat Material\",\r\n  },\r\n  {\r\n    id: \"withHeadrest\",\r\n    label: \"Headrest\",\r\n  },\r\n  {\r\n    id: \"withAdArmrest\",\r\n    label: \"Adjustable Armrests\",\r\n  },\r\n  {\r\n    id: \"remark\",\r\n    label: \"Other Remark\",\r\n  },\r\n  {\r\n    id: \"shipmentDate\",\r\n    label: \"Shipment\",\r\n  },\r\n  {\r\n    id: \"arrivalDate\",\r\n    label: \"Arrival\",\r\n  },\r\n];\r\n\r\nconst hideChairColumns = [\r\n  \"Frame Color\",\r\n  \"Back Color\",\r\n  \"Seat Color\",\r\n  \"Back Material\",\r\n  \"Seat Material\",\r\n  \"Headrest\",\r\n  \"Adjustable Armrests\",\r\n  \"Other Remark\",\r\n  \"Shipment\",\r\n  \"Arrival\",\r\n];\r\n\r\nconst deskColumns = [\r\n  {\r\n    id: \"add\",\r\n  },\r\n  {\r\n    id: \"thumbnail\",\r\n    sx: { width: 100 },\r\n    nonSort: true,\r\n  },\r\n  {\r\n    id: \"supplierCode\",\r\n    label: \"Supplier\",\r\n  },\r\n  {\r\n    id: \"model\",\r\n    label: \"Model\",\r\n  },\r\n  {\r\n    id: \"unitPrice\",\r\n    label: \"Price\",\r\n  },\r\n  {\r\n    id: \"balance\",\r\n    label: \"Balance\",\r\n  },\r\n  {\r\n    id: \"qty\",\r\n    label: \"QTY\",\r\n  },\r\n  {\r\n    id: \"color\",\r\n    label: \"Color\",\r\n  },\r\n  {\r\n    id: \"armSize\",\r\n    label: \"Arm Size\",\r\n  },\r\n  {\r\n    id: \"feetSize\",\r\n    label: \"Feet Size\",\r\n  },\r\n  {\r\n    id: \"beamSize\",\r\n    label: \"Beam Size\",\r\n  },\r\n  {\r\n    id: \"remark\",\r\n    label: \"Other Remark\",\r\n  },\r\n  {\r\n    id: \"shipmentDate\",\r\n    label: \"Shipment\",\r\n  },\r\n  {\r\n    id: \"arrivalDate\",\r\n    label: \"Arrival\",\r\n  },\r\n];\r\n\r\nconst hideDeskColumns = [\r\n  \"Color\",\r\n  \"Arm Size\",\r\n  \"Feet Size\",\r\n  \"Beam Size\",\r\n  \"Other Remark\",\r\n  \"Shipment\",\r\n  \"Arrival\",\r\n];\r\n\r\nconst accessoryColumns = [\r\n  {\r\n    id: \"add\",\r\n  },\r\n  {\r\n    id: \"thumbnail\",\r\n    sx: { width: 100 },\r\n    nonSort: true,\r\n  },\r\n  {\r\n    id: \"name\",\r\n    label: \"Name\",\r\n  },\r\n  {\r\n    id: \"category\",\r\n    label: \"Category\",\r\n  },\r\n  {\r\n    id: \"remark\",\r\n    label: \"Other Remark\",\r\n  },\r\n  {\r\n    id: \"unitPrice\",\r\n    label: \"Price\",\r\n  },\r\n  {\r\n    id: \"balance\",\r\n    label: \"Balance\",\r\n  },\r\n  {\r\n    id: \"qty\",\r\n    label: \"QTY\",\r\n  },\r\n  {\r\n    id: \"shipmentDate\",\r\n    label: \"Shipment\",\r\n  },\r\n  {\r\n    id: \"arrivalDate\",\r\n    label: \"Arrival\",\r\n  },\r\n];\r\n\r\nconst materialOptions = [\r\n  \"Melamine\",\r\n  \"Laminate\",\r\n  \"North American Walnut\",\r\n  \"South American Walnut\",\r\n  \"Red Oak\",\r\n  \"Maple\",\r\n  \"Bamboo\",\r\n  \"Melamine with glass top\",\r\n  \"Toppal Plyedge\",\r\n];\r\n\r\nexport default connect(mapStateToProps)((props) => {\r\n  const theme = useTheme();\r\n  const { componentType, initialClient, initialCart, initialServices } = props;\r\n\r\n  const [topHoleCount, setTopHoleCount] = useState(0);\r\n  const [topHolePosition, setTopHolePosition] = useState(\"Left\");\r\n  const [topHoleType, setTopHoleType] = useState(\"Rounded\");\r\n  const [topMaterial, setTopMaterial] = useState(\"Melamine\");\r\n  const [topColor, setTopColor] = useState(\"\");\r\n  const [topLength, setTopLength] = useState(700);\r\n  const [topWidth, setTopWidth] = useState(400);\r\n  const [topThickness, setTopThickness] = useState(25);\r\n  const [topRoundedCorners, setTopRoundedCorners] = useState(0);\r\n  const [topCornerRadius, setTopCornerRadius] = useState(50);\r\n  const [sketchUrl, setSketchUrl] = useState(\"\");\r\n\r\n  const steps = [\r\n    \"Input Client Info\",\r\n    \"Select Products\",\r\n    \"Input Payment Details\",\r\n  ];\r\n  const clientForm = useRef(null);\r\n  const [currentStep, setCurrentStep] = useState(0);\r\n  const [addOpen, setAddOpen] = useState(false);\r\n  const [deskAddOpen, setDeskAddOpen] = useState(false);\r\n  const [hasDeskTop, setHasDeskTop] = useState(false);\r\n  const [productType, setProductType] = useState(\"chair\");\r\n  const [productDetail, setProductDetail] = useState(\"\");\r\n  const [productPrice, setProductPrice] = useState(1000);\r\n  const [productAmount, setProductAmount] = useState(0);\r\n  const [productRemark, setProductRemark] = useState(\"\");\r\n\r\n  const [deliveryChecked0, setDeliveryChecked0] = useState(false);\r\n  const [deliveryChecked1, setDeliveryChecked1] = useState(false);\r\n  const [deliveryChecked2, setDeliveryChecked2] = useState(false);\r\n  const [deliveryChecked3, setDeliveryChecked3] = useState(false);\r\n\r\n  const [cart, setCart] = useState(initialCart);\r\n  const [cartItemStatus, setCartItemStatus] = useState(\"add\");\r\n\r\n  const [chairStocks, setChairStocks] = useState([]);\r\n  const [deskStocks, setDeskStocks] = useState([]);\r\n  const [accessoryStocks, setAccessoryStocks] = useState([]);\r\n  const [initAccessoryStocks, setInitAccessoryStocks] = useState([]);\r\n  const [stocksIndex, setStocksIndex] = useState(0);\r\n\r\n  const [chairFeatures, setChairFeatures] = useState([]);\r\n  const [deskFeatures, setDeskFeatures] = useState([]);\r\n  // const [accessoryFeatures, setAccessoryFeatures] = useState([]);\r\n\r\n  const [chairFilterBrand, setChairFilterBrand] = useState(null);\r\n  const [chairFilterModel, setChairFilterModel] = useState(null);\r\n  const [deskFilterSupplier, setDeskFilterSupplier] = useState(null);\r\n  const [deskFilterModel, setDeskFilterModel] = useState(null);\r\n  const [deskFilterColor, setDeskFilterColor] = useState(null);\r\n  const [accessoryFilterCategory, setAccessoryFilterCategory] = useState(\"All\");\r\n\r\n  let initServices = initialServices\r\n    ? initialServices.map((service) =>\r\n        Object.assign(service, { productType: \"misc\" })\r\n      )\r\n    : [];\r\n  const [services, setServices] = useState(initServices);\r\n\r\n  const [selectedHideChairColumns, setSelectedHideChairColumns] = useState([]);\r\n  const [selectedHideDeskColumns, setSelectedHideDeskColumns] = useState([]);\r\n\r\n  const getChairFeatures = (cancelToken) => {\r\n    axios\r\n      .get(\"/chairStock/features\", { cancelToken })\r\n      .then((response) => {\r\n        // handle success\r\n        setChairFeatures(response.data);\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        console.log(error);\r\n      })\r\n      .then(function () {\r\n        // always executed\r\n      });\r\n  };\r\n\r\n  const getDeskFeatures = (cancelToken) => {\r\n    axios\r\n      .get(\"/deskStock/features\", { cancelToken })\r\n      .then((response) => {\r\n        // handle success\r\n        setDeskFeatures(response.data);\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        console.log(error);\r\n      })\r\n      .then(function () {\r\n        // always executed\r\n      });\r\n  };\r\n\r\n  const getAccessoryFeatures = (cancelToken) => {\r\n    axios\r\n      .get(\"/accessoryStock/features\", { cancelToken })\r\n      .then((response) => {\r\n        // handle success\r\n        //setAccessoryFeatures(response.data);\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        console.log(error);\r\n      })\r\n      .then(function () {\r\n        // always executed\r\n      });\r\n  };\r\n\r\n  const getChairStocks = (cancelToken) => {\r\n    axios\r\n      .get(\"/chairStock\", { cancelToken })\r\n      .then((response) => {\r\n        // handle success\r\n        setChairStocks(response.data);\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        console.log(error);\r\n      })\r\n      .then(function () {\r\n        // always executed\r\n      });\r\n  };\r\n\r\n  const getDeskStocks = (cancelToken) => {\r\n    axios\r\n      .get(\"/deskStock\", { cancelToken })\r\n      .then((response) => {\r\n        // handle success\r\n        setDeskStocks(response.data);\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        console.log(error);\r\n      })\r\n      .then(function () {\r\n        // always executed\r\n      });\r\n  };\r\n\r\n  const getAccessoryStocks = (cancelToken) => {\r\n    axios\r\n      .get(\"/accessoryStock\", { cancelToken })\r\n      .then((response) => {\r\n        // handle success\r\n        setAccessoryStocks(response.data);\r\n        setInitAccessoryStocks(response.data);\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        console.log(error);\r\n      })\r\n      .then(function () {\r\n        // always executed\r\n      });\r\n  };\r\n\r\n  useEffect(() => {\r\n    const source = axios.CancelToken.source();\r\n    getChairFeatures(source.token);\r\n    getDeskFeatures(source.token);\r\n    getAccessoryFeatures(source.token);\r\n    getChairStocks(source.token);\r\n    getDeskStocks(source.token);\r\n    getAccessoryStocks(source.token);\r\n    return () => source.cancel(\"Stock Component got unmounted\");\r\n  }, []);\r\n\r\n  const isStepFailed = (step) => {\r\n    if (clientForm.current !== null && currentStep > 0 && step === 0)\r\n      return !clientForm.current.checkValidity();\r\n    else if (\r\n      cart.length === 0 &&\r\n      services.length === 0 &&\r\n      currentStep > 1 &&\r\n      step === 1\r\n    )\r\n      return true;\r\n    else return false;\r\n  };\r\n\r\n  const handleProductRemark = (e) => {\r\n    setProductRemark(e.target.value);\r\n  };\r\n\r\n  const handleAccessoryFilterCategory = (e) => {\r\n    var selected_category = e.target.value;\r\n    setAccessoryFilterCategory(selected_category);\r\n    if (selected_category === \"All\") {\r\n      setAccessoryStocks(initAccessoryStocks);\r\n    } else {\r\n      setAccessoryStocks(\r\n        initAccessoryStocks.filter(\r\n          (stock) => stock.category === selected_category\r\n        )\r\n      );\r\n    }\r\n  };\r\n\r\n  const onAddService = () => {\r\n    const newService = {\r\n      id: uuidv4(),\r\n      description: \"\",\r\n      price: 0,\r\n      productType: \"misc\",\r\n    };\r\n    setServices([...services, newService]);\r\n  };\r\n\r\n  const onDeleteService = (serviceId) => {\r\n    const newServices = services.filter((service) => service.id !== serviceId);\r\n    setServices(newServices);\r\n  };\r\n\r\n  const onChangeServiceDes = (e, serviceId) => {\r\n    const newServices = services.map((service) => {\r\n      if (service.id === serviceId) {\r\n        return Object.assign({}, service, { description: e.target.value });\r\n      }\r\n      return service;\r\n    });\r\n    setServices(newServices);\r\n  };\r\n\r\n  const onChangeServicePrice = (e, serviceId) => {\r\n    const newServices = services.map((service) => {\r\n      if (service.id === serviceId) {\r\n        return Object.assign({}, service, {\r\n          price: parseFloat(e.target.value),\r\n        });\r\n      }\r\n      return service;\r\n    });\r\n    setServices(newServices);\r\n  };\r\n\r\n  const onHideChairColumnChanged = (values) => {\r\n    setSelectedHideChairColumns(values);\r\n  };\r\n\r\n  const onHideDeskColumnChanged = (values) => {\r\n    setSelectedHideDeskColumns(values);\r\n  };\r\n\r\n  const onEditCartProduct = (item) => {\r\n    setCartItemStatus(\"edit\");\r\n    setProductType(item.productType);\r\n    setProductDetail(item.productDetail);\r\n    setProductRemark(item.remark);\r\n    setProductPrice(item.productPrice);\r\n    setProductAmount(item.productAmount);\r\n    const deliveryOptions = JSON.parse(item.productDeliveryOption);\r\n\r\n    if (deliveryOptions.includes(\"Delivery Included\"))\r\n      setDeliveryChecked0(true);\r\n    if (deliveryOptions.includes(\"Delivery and installation included\"))\r\n      setDeliveryChecked1(true);\r\n    if (deliveryOptions.includes(\"Remote Area Surcharge\"))\r\n      setDeliveryChecked2(true);\r\n    if (deliveryOptions.includes(\"Stairs Surcharge\")) setDeliveryChecked3(true);\r\n\r\n    if (item.productType === \"chair\" || item.productType === \"accessory\") {\r\n      setAddOpen(true);\r\n    } else if (item.productType === \"desk\") {\r\n      setHasDeskTop(item.hasDeskTop);\r\n      setTopColor(item.topColor);\r\n      setTopCornerRadius(item.topCornerRadius);\r\n      setTopHoleCount(item.topHoleCount);\r\n      setTopHolePosition(item.topHolePosition);\r\n      setTopHoleType(item.topHoleType);\r\n      setTopLength(item.topLength);\r\n      setTopMaterial(item.topMaterial);\r\n      setTopRoundedCorners(item.topRoundedCorners);\r\n      setTopThickness(item.topThickness);\r\n      setTopWidth(item.topWidth);\r\n      setSketchUrl(item.topSketchURL);\r\n\r\n      setDeskAddOpen(true);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Box\r\n      sx={{\r\n        height: \"100%\",\r\n        overflow: \"auto\",\r\n        padding: \"20px 20px 10px 20px\",\r\n      }}\r\n    >\r\n      <Stepper activeStep={currentStep} sx={{ flexWrap: \"wrap\" }}>\r\n        {steps.map((label, index) => {\r\n          const labelProps = {};\r\n          if (isStepFailed(index)) {\r\n            labelProps.optional = (\r\n              <Typography variant=\"caption\" color=\"error\">\r\n                {[\"Invalid Input\", \"Products cannot be empty\"][index]}\r\n              </Typography>\r\n            );\r\n\r\n            labelProps.error = true;\r\n          }\r\n\r\n          return (\r\n            <Step key={label} sx={{ my: \"10px\" }}>\r\n              <StepLabel {...labelProps}>{label}</StepLabel>\r\n            </Step>\r\n          );\r\n        })}\r\n      </Stepper>\r\n      <Box\r\n        sx={{ mx: \"auto\", mt: \"50px\" }}\r\n        ref={clientForm}\r\n        hidden={currentStep !== 0}\r\n        component=\"form\"\r\n        maxWidth=\"sm\"\r\n        fullWidth\r\n        onSubmit={(e) => {\r\n          e.preventDefault();\r\n          setCurrentStep(1);\r\n        }}\r\n      >\r\n        <Paper\r\n          sx={{\r\n            p: \"10px\",\r\n            display: \"flex\",\r\n            flexWrap: \"wrap\",\r\n            justifyContent: \"space-between\",\r\n          }}\r\n        >\r\n          <Typography variant=\"h6\" sx={{ flexBasis: \"100%\", minWidth: \"100%\" }}>\r\n            Client Info\r\n          </Typography>\r\n          {[\r\n            { name: \"name\", label: \"Name\", type: \"text\", defaultValue: initialClient.name, width: \"100%\", required: true, },\r\n            { name: \"phone\", label: \"Phone\", type: \"text\", value: initialClient.phone, onChange: initialClient.setPhone, width: \"48%\", },\r\n            { name: \"email\", label: \"Email\", type: \"email\", defaultValue: initialClient.email, width: \"48%\", },\r\n            { name: \"district\", label: \"District\", type: \"text\", defaultValue: initialClient.district, width: \"55%\", },\r\n            { name: \"street\", label: \"Street\", type: \"text\", defaultValue: initialClient.street, width: \"40%\", },\r\n            { name: \"block\", label: \"Block\", type: \"text\", defaultValue: initialClient.block, width: \"30%\", },\r\n            { name: \"floor\", label: \"Floor\", type: \"text\", defaultValue: initialClient.floor, width: \"30%\", },\r\n            { name: \"unit\", label: \"Unit\", type: \"text\", defaultValue: initialClient.unit, width: \"30%\", },\r\n          ].map(({ setValue, width, ...restProps }, index) =>\r\n            restProps.label === \"Phone\" ? (\r\n              <MuiPhoneNumber\r\n                key={index}\r\n                variant=\"outlined\"\r\n                onlyCountries={[\"hk\"]}\r\n                defaultCountry={\"hk\"}\r\n                sx={{ flexBasis: width, minWidth: width }}\r\n                margin=\"dense\"\r\n                size=\"small\"\r\n                {...restProps}\r\n              />\r\n            ) : (\r\n              <TextField\r\n                key={index}\r\n                sx={{ flexBasis: width, minWidth: width }}\r\n                {...restProps}\r\n              />\r\n            )\r\n          )}\r\n          <TextField\r\n            sx={{ flexBasis: [\"100%\", \"30%\"], minWidth: [\"100%\", \"30%\"] }}\r\n            name=\"timeLine\"\r\n            label=\"TimeLine\"\r\n            type=\"number\"\r\n            inputProps={{ min: 0 }}\r\n            defaultValue={initialClient.timeLine || 0}\r\n          />\r\n          <RadioGroup\r\n            row\r\n            name=\"timeLineFormat\"\r\n            defaultValue=\"day\"\r\n            sx={{\r\n              flexBasis: [\"100%\", \"70%\"],\r\n              minWidth: [\"100%\", \"70%\"],\r\n              justifyContent: \"flex-end\",\r\n            }}\r\n          >\r\n            <FormControlLabel value=\"day\" control={<Radio />} label=\"Days\" />\r\n            <FormControlLabel value=\"week\" control={<Radio />} label=\"Weeks\" />\r\n          </RadioGroup>\r\n          <TextField\r\n            sx={{ flexBasis: [\"100%\", \"100%\"], minWidth: [\"100%\", \"100%\"] }}\r\n            name=\"remark\" label=\"Delivery Remark\" type=\"text\"\r\n            defaultValue={initialClient.remark || ''}\r\n          />\r\n        </Paper>\r\n        <Button type=\"submit\" sx={{ marginTop: \"10px\", float: \"right\" }}>\r\n          Next\r\n        </Button>\r\n      </Box>\r\n      {currentStep === 1 && (\r\n        <>\r\n          {cart.length > 0 && (\r\n            <Paper>\r\n              <ProductList sx={{ px: \"10px\" }}>\r\n                {cart.map((item, index) => (\r\n                  <ProductListItem\r\n                    key={index}\r\n                    secondaryAction={\r\n                      <Fragment>\r\n                        <IconButton\r\n                          onClick={(event) => {\r\n                            event.preventDefault();\r\n                            onEditCartProduct(item);\r\n                          }}\r\n                        >\r\n                          <EditIcon />\r\n                        </IconButton>\r\n                        <IconButton\r\n                          onClick={(event) => {\r\n                            event.preventDefault();\r\n                            setCart(\r\n                              cart.filter(\r\n                                (product, productIndex) =>\r\n                                  productIndex !== index\r\n                              )\r\n                            );\r\n                          }}\r\n                        >\r\n                          <DeleteIcon />\r\n                        </IconButton>\r\n                      </Fragment>\r\n                    }\r\n                  >\r\n                    {item.productType === \"chair\" && (\r\n                      <ProductListItemText\r\n                        primary={`Chair: ${item.productDetail.brand}, ${item.productDetail.model}, ${item.remark}`}\r\n                        secondary={`${\r\n                          item.productDetail.withHeadrest ? \"Headrest, \" : \"\"\r\n                        }${item.productDetail.withAdArmrest ? \"Armrest\" : \"\"}`}\r\n                      />\r\n                    )}\r\n                    {item.productType === \"desk\" && (\r\n                      <ProductListItemText\r\n                        primary={`Desk: ${item.productDetail.supplierCode}, ${item.productDetail.model}, ${item.productDetail.color}, ${item.productDetail.armSize}, ${item.productDetail.feetSize}, ${item.productDetail.beamSize}`}\r\n                        secondary={\r\n                          item.hasDeskTop\r\n                            ? `${item.topMaterial}, ${item.topColor}, ${item.topLength}x${item.topWidth}x${item.topThickness}, ${item.topRoundedCorners}-R${item.topCornerRadius}, ${item.topHoleCount}-${item.topHoleType}`\r\n                            : \"Without DeskTop\"\r\n                        }\r\n                      />\r\n                    )}\r\n                    {item.productType === \"accessory\" && (\r\n                      <ProductListItemText\r\n                        primary={`Accessory: ${item.productDetail.category}`}\r\n                        secondary={`${item.remark}`}\r\n                      />\r\n                    )}\r\n                    <ProductPriceAmount\r\n                      unitPrice={`${item.productPrice} HKD`}\r\n                      amount={`Amount: ${item.productAmount}`}\r\n                      deliveryOption={`${item.productDeliveryOption}`}\r\n                    />\r\n                  </ProductListItem>\r\n                ))}\r\n              </ProductList>\r\n            </Paper>\r\n          )}\r\n          <Paper sx={{ my: \"10px\" }}>\r\n            <Box sx={{ borderBottom: 1, borderColor: \"divider\" }}>\r\n              <Tabs\r\n                value={stocksIndex}\r\n                onChange={(event, value) => {\r\n                  event.preventDefault();\r\n                  setStocksIndex(value);\r\n                }}\r\n                aria-label=\"basic tabs example\"\r\n              >\r\n                <Tab label=\"Chairs\" />\r\n                <Tab label=\"Desks\" />\r\n                <Tab label=\"Accessories\" />\r\n                <Tab label=\"Miscs\" />\r\n              </Tabs>\r\n            </Box>\r\n            <TabPanel value={stocksIndex} index={0}>\r\n              <Paper\r\n                sx={{\r\n                  marginTop: \"10px\",\r\n                  padding: \"5px 10px\",\r\n                  display: \"flex\",\r\n                  flexWrap: \"wrap\",\r\n                  justifyContent: \"space-around\",\r\n                }}\r\n              >\r\n                {[\r\n                  {\r\n                    label: \"Brand\",\r\n                    value: chairFilterBrand,\r\n                    onChange: (event, value) => {\r\n                      event.preventDefault();\r\n                      setChairFilterBrand(value);\r\n                      setChairFilterModel(null);\r\n                    },\r\n                    options: chairFeatures\r\n                      .map((item) => item.brand)\r\n                      .filter((c, index, chars) => chars.indexOf(c) === index),\r\n                  },\r\n                  {\r\n                    label: \"Model\",\r\n                    value: chairFilterModel,\r\n                    onChange: (event, value) => {\r\n                      event.preventDefault();\r\n                      setChairFilterModel(value);\r\n                    },\r\n                    options: chairFeatures\r\n                      .filter(\r\n                        (item) =>\r\n                          !chairFilterBrand || item.brand === chairFilterBrand\r\n                      )\r\n                      .map((item) => item.model)\r\n                      .filter((c, index, chars) => chars.indexOf(c) === index),\r\n                  },\r\n                ].map(({ label, ...props }, index) => (\r\n                  <Autocomplete\r\n                    key={index}\r\n                    sx={{ flexBasis: \"200px\", maxWidth: \"200px\" }}\r\n                    renderInput={(params) => (\r\n                      <TextField {...params} label={label} />\r\n                    )}\r\n                    {...props}\r\n                  />\r\n                ))}\r\n              </Paper>\r\n              <CheckableMultiSelect\r\n                options={hideChairColumns}\r\n                onChange={onHideChairColumnChanged}\r\n                selected={selectedHideChairColumns}\r\n              />\r\n              <DataGrid\r\n                nonSelect={true}\r\n                title=\"Chair Stocks\"\r\n                rows={chairStocks\r\n                  .map(\r\n                    (\r\n                      {\r\n                        thumbnailURL,\r\n                        withHeadrest,\r\n                        withAdArmrest,\r\n                        shipmentDate,\r\n                        arrivalDate,\r\n                        ...restProps\r\n                      },\r\n                      index\r\n                    ) => ({\r\n                      thumbnail: (\r\n                        <a\r\n                          href=\"/\"\r\n                          onClick={(e) => {\r\n                            e.preventDefault();\r\n                            Swal.fire({\r\n                              html: `<img alt=\"\" width=\"400px\" src=\"${thumbnailURL}\" />`,\r\n                              showCloseButton: true,\r\n                              showConfirmButton: false,\r\n                              allowOutsideClick: false,\r\n                            });\r\n                          }}\r\n                        >\r\n                          <img\r\n                            alt=\"\"\r\n                            width=\"80px\"\r\n                            src={thumbnailURL}\r\n                            style={{ marginTop: \"5px\" }}\r\n                          />\r\n                        </a>\r\n                      ),\r\n                      withHeadrest: withHeadrest ? \"Yes\" : \"No\",\r\n                      withAdArmrest: withAdArmrest ? \"Yes\" : \"No\",\r\n                      add: (\r\n                        <IconButton\r\n                          onClick={(event) => {\r\n                            event.preventDefault();\r\n                            if (\r\n                              cart.find(\r\n                                (item) =>\r\n                                  item.productType === \"chair\" &&\r\n                                  item.productDetail.id ===\r\n                                    chairStocks[index].id\r\n                              )\r\n                            ) {\r\n                              Swal.fire({\r\n                                icon: \"warning\",\r\n                                title: \"Warning\",\r\n                                text: \"This product is already added.\",\r\n                                allowOutsideClick: false,\r\n                              });\r\n                              return;\r\n                            }\r\n                            setProductType(\"chair\");\r\n                            setProductDetail(chairStocks[index]);\r\n                            let frameColor =\r\n                              chairStocks[index].frameColor === \"\"\r\n                                ? \"___\"\r\n                                : chairStocks[index].frameColor;\r\n                            let seatColor =\r\n                              chairStocks[index].seatColor === \"\"\r\n                                ? \"___\"\r\n                                : chairStocks[index].seatColor;\r\n                            let backColor =\r\n                              chairStocks[index].backColor === \"\"\r\n                                ? \"___\"\r\n                                : chairStocks[index].backColor;\r\n                            let remark =\r\n                              \"FrameColor:\" +\r\n                              frameColor +\r\n                              \", SeatColor:\" +\r\n                              seatColor +\r\n                              \", BackColor:\" +\r\n                              backColor;\r\n                            setProductRemark(remark);\r\n                            setProductPrice(chairStocks[index].unitPrice);\r\n                            setProductAmount(1);\r\n                            setAddOpen(true);\r\n                          }}\r\n                        >\r\n                          <AddIcon />\r\n                        </IconButton>\r\n                      ),\r\n                      shipmentDate: (() => {\r\n                        if (shipmentDate === null) return \"No\";\r\n                        const createdTime = new Date(shipmentDate);\r\n                        createdTime.setMinutes(\r\n                          createdTime.getMinutes() -\r\n                            createdTime.getTimezoneOffset()\r\n                        );\r\n                        return createdTime.toISOString().split(\"T\")[0];\r\n                      })(),\r\n                      arrivalDate: (() => {\r\n                        if (arrivalDate === null) return \"No\";\r\n                        const createdTime = new Date(arrivalDate);\r\n                        createdTime.setMinutes(\r\n                          createdTime.getMinutes() -\r\n                            createdTime.getTimezoneOffset()\r\n                        );\r\n                        return createdTime.toISOString().split(\"T\")[0];\r\n                      })(),\r\n                      ...restProps,\r\n                    })\r\n                  )\r\n                  .filter(\r\n                    (item) =>\r\n                      (!chairFilterBrand || item.brand === chairFilterBrand) &&\r\n                      (!chairFilterModel || item.model === chairFilterModel)\r\n                  )}\r\n                columns={chairColumns\r\n                  .map((column, i) => {\r\n                    if (i > 6) {\r\n                      if (\r\n                        selectedHideChairColumns.find(\r\n                          (hideColumn) => hideColumn === column.label\r\n                        )\r\n                      )\r\n                        return column;\r\n                    }\r\n                    return column;\r\n                  })\r\n                  .filter((column) => column !== undefined)}\r\n              />\r\n            </TabPanel>\r\n            <TabPanel value={stocksIndex} index={1}>\r\n              <Paper\r\n                sx={{\r\n                  marginTop: \"10px\",\r\n                  padding: \"5px 10px\",\r\n                  display: \"flex\",\r\n                  flexWrap: \"wrap\",\r\n                  justifyContent: \"space-around\",\r\n                }}\r\n              >\r\n                {[\r\n                  {\r\n                    label: \"Supplier\",\r\n                    value: deskFilterSupplier,\r\n                    onChange: (event, value) => {\r\n                      event.preventDefault();\r\n                      setDeskFilterSupplier(value);\r\n                      setDeskFilterModel(null);\r\n                      setDeskFilterColor(null);\r\n                    },\r\n                    options: deskFeatures\r\n                      .map((item) => item.supplierCode)\r\n                      .filter((c, index, chars) => chars.indexOf(c) === index),\r\n                  },\r\n                  {\r\n                    label: \"Model\",\r\n                    value: deskFilterModel,\r\n                    onChange: (event, value) => {\r\n                      event.preventDefault();\r\n                      setDeskFilterModel(value);\r\n                      setDeskFilterColor(null);\r\n                    },\r\n                    options: deskFeatures\r\n                      .filter(\r\n                        (item) =>\r\n                          !deskFilterSupplier ||\r\n                          item.supplierCode === deskFilterSupplier\r\n                      )\r\n                      .map((item) => item.model)\r\n                      .filter((c, index, chars) => chars.indexOf(c) === index),\r\n                  },\r\n                  {\r\n                    label: \"Color\",\r\n                    value: deskFilterColor,\r\n                    onChange: (event, value) => {\r\n                      event.preventDefault();\r\n                      setDeskFilterColor(value);\r\n                    },\r\n                    options: deskFeatures\r\n                      .filter(\r\n                        (item) =>\r\n                          !deskFilterModel || item.model === deskFilterModel\r\n                      )\r\n                      .map((item) => item.color)\r\n                      .filter((c, index, chars) => chars.indexOf(c) === index),\r\n                  },\r\n                ].map(({ label, ...props }, index) => (\r\n                  <Autocomplete\r\n                    key={index}\r\n                    sx={{ flexBasis: \"200px\", maxWidth: \"200px\" }}\r\n                    renderInput={(params) => (\r\n                      <TextField {...params} label={label} />\r\n                    )}\r\n                    {...props}\r\n                  />\r\n                ))}\r\n              </Paper>\r\n              <CheckableMultiSelect\r\n                options={hideDeskColumns}\r\n                onChange={onHideDeskColumnChanged}\r\n                selected={selectedHideDeskColumns}\r\n              />\r\n              <DataGrid\r\n                nonSelect={true}\r\n                title=\"Desk Leg Stocks\"\r\n                rows={deskStocks\r\n                  .map(\r\n                    (\r\n                      { thumbnailURL, shipmentDate, arrivalDate, ...restProps },\r\n                      index\r\n                    ) => ({\r\n                      thumbnail: (\r\n                        <a\r\n                          href=\"/\"\r\n                          onClick={(e) => {\r\n                            e.preventDefault();\r\n                            Swal.fire({\r\n                              html: `<img alt=\"\" width=\"400px\" src=\"${thumbnailURL}\" />`,\r\n                              showCloseButton: true,\r\n                              showConfirmButton: false,\r\n                              allowOutsideClick: false,\r\n                            });\r\n                          }}\r\n                        >\r\n                          <img\r\n                            alt=\"\"\r\n                            width=\"80px\"\r\n                            src={thumbnailURL}\r\n                            style={{ marginTop: \"5px\" }}\r\n                          />\r\n                        </a>\r\n                      ),\r\n                      add: (\r\n                        <IconButton\r\n                          onClick={(event) => {\r\n                            setProductType(\"desk\");\r\n                            setProductDetail(deskStocks[index]);\r\n                            setProductPrice(deskStocks[index].unitPrice);\r\n                            setProductAmount(1);\r\n                            setHasDeskTop(false);\r\n                            setDeskAddOpen(true);\r\n                          }}\r\n                        >\r\n                          <AddIcon />\r\n                        </IconButton>\r\n                      ),\r\n                      shipmentDate: (() => {\r\n                        if (shipmentDate === null) return \"No\";\r\n                        const createdTime = new Date(shipmentDate);\r\n                        createdTime.setMinutes(\r\n                          createdTime.getMinutes() -\r\n                            createdTime.getTimezoneOffset()\r\n                        );\r\n                        return createdTime.toISOString().split(\"T\")[0];\r\n                      })(),\r\n                      arrivalDate: (() => {\r\n                        if (arrivalDate === null) return \"No\";\r\n                        const createdTime = new Date(arrivalDate);\r\n                        createdTime.setMinutes(\r\n                          createdTime.getMinutes() -\r\n                            createdTime.getTimezoneOffset()\r\n                        );\r\n                        return createdTime.toISOString().split(\"T\")[0];\r\n                      })(),\r\n                      ...restProps,\r\n                    })\r\n                  )\r\n                  .filter(\r\n                    (item) =>\r\n                      (!deskFilterSupplier ||\r\n                        item.supplierCode === deskFilterSupplier) &&\r\n                      (!deskFilterModel || item.model === deskFilterModel) &&\r\n                      (!deskFilterColor || item.color === deskFilterColor)\r\n                  )}\r\n                columns={deskColumns\r\n                  .map((column, i) => {\r\n                    if (i > 6) {\r\n                      if (\r\n                        selectedHideDeskColumns.find(\r\n                          (hideColumn) => hideColumn === column.label\r\n                        )\r\n                      )\r\n                        return column;\r\n                    }\r\n                    return column;\r\n                  })\r\n                  .filter((column) => column !== undefined)}\r\n              />\r\n            </TabPanel>\r\n            <TabPanel value={stocksIndex} index={2}>\r\n              <Paper\r\n                sx={{\r\n                  marginTop: \"10px\",\r\n                  padding: \"5px 10px\",\r\n                  display: \"flex\",\r\n                  flexWrap: \"wrap\",\r\n                  justifyContent: \"space-around\",\r\n                }}\r\n              >\r\n                <FormControl\r\n                  size=\"small\"\r\n                  sx={{ flexBasis: \"200px\", maxWidth: \"200px\" }}\r\n                >\r\n                  <InputLabel id=\"category_filter\">Category</InputLabel>\r\n                  <Select\r\n                    labelId=\"category_filter\"\r\n                    label=\"Category\"\r\n                    value={accessoryFilterCategory}\r\n                    onChange={handleAccessoryFilterCategory}\r\n                  >\r\n                    <MenuItem value=\"All\">All</MenuItem>\r\n                    <MenuItem value=\"Desk Accessories\">\r\n                      Desk Accessories\r\n                    </MenuItem>\r\n                    <MenuItem value=\"Chair Accessories\">\r\n                      Chair Accessories\r\n                    </MenuItem>\r\n                    <MenuItem value=\"Desk on Desk\">Desk on Desk</MenuItem>\r\n                    <MenuItem value=\"Monitor Arms\">Monitor Arms</MenuItem>\r\n                    <MenuItem value=\"Cabinet\">Cabinet</MenuItem>\r\n                    <MenuItem value=\"Drawer\">Drawer</MenuItem>\r\n                  </Select>\r\n                </FormControl>\r\n              </Paper>\r\n              <DataGrid\r\n                nonSelect={true}\r\n                title=\"Accessory Stocks\"\r\n                rows={accessoryStocks.map(\r\n                  (\r\n                    { thumbnailURL, shipmentDate, arrivalDate, ...restProps },\r\n                    index\r\n                  ) => ({\r\n                    thumbnail: (\r\n                      <a\r\n                        href=\"/\"\r\n                        onClick={(e) => {\r\n                          e.preventDefault();\r\n                          Swal.fire({\r\n                            html: `<img alt=\"\" width=\"400px\" src=\"${thumbnailURL}\" />`,\r\n                            showCloseButton: true,\r\n                            showConfirmButton: false,\r\n                            allowOutsideClick: false,\r\n                          });\r\n                        }}\r\n                      >\r\n                        <img\r\n                          alt=\"\"\r\n                          width=\"80px\"\r\n                          src={thumbnailURL}\r\n                          style={{ marginTop: \"5px\" }}\r\n                        />\r\n                      </a>\r\n                    ),\r\n                    add: (\r\n                      <IconButton\r\n                        onClick={(event) => {\r\n                          event.preventDefault();\r\n                          setProductType(\"accessory\");\r\n                          setProductDetail(accessoryStocks[index]);\r\n                          setProductRemark(accessoryStocks[index].remark);\r\n                          setProductPrice(accessoryStocks[index].unitPrice);\r\n                          setProductAmount(1);\r\n                          if (\r\n                            cart.find(\r\n                              (item) =>\r\n                                item.productType === \"accessory\" &&\r\n                                item.productDetail.id ===\r\n                                  accessoryStocks[index].id\r\n                            )\r\n                          ) {\r\n                            Swal.fire({\r\n                              icon: \"warning\",\r\n                              title: \"Warning\",\r\n                              text: \"This product is already added.\",\r\n                              allowOutsideClick: false,\r\n                            });\r\n                            return;\r\n                          }\r\n                          setAddOpen(true);\r\n                        }}\r\n                      >\r\n                        <AddIcon />\r\n                      </IconButton>\r\n                    ),\r\n                    shipmentDate: (() => {\r\n                      if (shipmentDate === null) return \"No\";\r\n                      const createdTime = new Date(shipmentDate);\r\n                      createdTime.setMinutes(\r\n                        createdTime.getMinutes() -\r\n                          createdTime.getTimezoneOffset()\r\n                      );\r\n                      return createdTime.toISOString().split(\"T\")[0];\r\n                    })(),\r\n                    arrivalDate: (() => {\r\n                      if (arrivalDate === null) return \"No\";\r\n                      const createdTime = new Date(arrivalDate);\r\n                      createdTime.setMinutes(\r\n                        createdTime.getMinutes() -\r\n                          createdTime.getTimezoneOffset()\r\n                      );\r\n                      return createdTime.toISOString().split(\"T\")[0];\r\n                    })(),\r\n                    ...restProps,\r\n                  })\r\n                )}\r\n                columns={accessoryColumns}\r\n              />\r\n            </TabPanel>\r\n            <TabPanel value={stocksIndex} index={3}>\r\n              <Box sx={{ m: 3 }}>\r\n                <Button\r\n                  variant=\"contained\"\r\n                  sx={{ mb: 2 }}\r\n                  onClick={onAddService}\r\n                >\r\n                  + New Service\r\n                </Button>\r\n                <Grid container spacing={2}>\r\n                  {services.map((service) => (\r\n                    <Grid item xs={4} key={service.id}>\r\n                      <Card sx={{ px: 2, pb: 2 }}>\r\n                        <Box\r\n                          sx={{ display: \"flex\", justifyContent: \"flex-end\" }}\r\n                        >\r\n                          <IconButton\r\n                            aria-label=\"settings\"\r\n                            size=\"small\"\r\n                            onClick={() => onDeleteService(service.id)}\r\n                          >\r\n                            <CloseIcon fontSize=\"small\" />\r\n                          </IconButton>\r\n                        </Box>\r\n                        <TextField\r\n                          label=\"Description\"\r\n                          multiline\r\n                          rows={5}\r\n                          sx={{ flexBasis: \"100%\", minWidth: \"100%\" }}\r\n                          value={service.description}\r\n                          onChange={(e) => onChangeServiceDes(e, service.id)}\r\n                        />\r\n                        <TextField\r\n                          type=\"number\"\r\n                          sx={{ flexBasis: \"100%\", minWidth: \"100%\" }}\r\n                          label=\"Price\"\r\n                          value={service.price}\r\n                          onChange={(e) => onChangeServicePrice(e, service.id)}\r\n                        />\r\n                      </Card>\r\n                    </Grid>\r\n                  ))}\r\n                </Grid>\r\n              </Box>\r\n            </TabPanel>\r\n          </Paper>\r\n          <Button\r\n            onClick={(e) => {\r\n              e.preventDefault();\r\n              setCurrentStep(0);\r\n            }}\r\n          >\r\n            Previous\r\n          </Button>\r\n          <Button\r\n            sx={{ float: \"right\" }}\r\n            onClick={(e) => {\r\n              e.preventDefault();\r\n              if (cart.length === 0 && services.length === 0) {\r\n                Swal.fire({\r\n                  icon: \"warning\",\r\n                  title: \"Warning\",\r\n                  text: \"Products and services list cannot be empty\",\r\n                  allowOutsideClick: false,\r\n                });\r\n                return;\r\n              }\r\n              setCurrentStep(2);\r\n            }}\r\n          >\r\n            Next\r\n          </Button>\r\n        </>\r\n      )}\r\n      <Box\r\n        sx={{ mx: \"auto\", mt: \"50px\" }}\r\n        hidden={currentStep !== 2}\r\n        component=\"form\"\r\n        maxWidth=\"sm\"\r\n        fullWidth\r\n        onSubmit={(e) => {\r\n          e.preventDefault();\r\n          const clientData = new FormData(clientForm.current);\r\n          const paymentData = new FormData(e.currentTarget);\r\n          if (componentType === \"create\")\r\n            axios\r\n              .post(`/quotation/create`, {\r\n                name: clientData.get(\"name\"),\r\n                phone: clientData.get(\"phone\"),\r\n                email: clientData.get(\"email\"),\r\n                district: clientData.get(\"district\"),\r\n                street: clientData.get(\"street\"),\r\n                block: clientData.get(\"block\"),\r\n                floor: clientData.get(\"floor\"),\r\n                unit: clientData.get(\"unit\"),\r\n                timeLine:\r\n                  Math.max(clientData.get(\"timeLine\"), 0) *\r\n                  (clientData.get(\"timeLineFormat\") === \"day\" ? 1 : 7),\r\n                remark: \"\",\r\n                products: cart\r\n                  .map(({ productDetail, ...restProps }) => ({\r\n                    productId: productDetail.id,\r\n                    productCategory: productDetail.category ?? \"\",\r\n                    ...restProps,\r\n                  }))\r\n                  .concat(services),\r\n                paymentTerms: paymentData.get(\"paymentTerms\"),\r\n                paid: Boolean(paymentData.get(\"paid\")),\r\n                validTil: paymentData.get(\"validTil\") || null,\r\n                discount: Math.max(\r\n                  paymentData.get(\"discountType\") > 0\r\n                    ? paymentData.get(\"discount\")\r\n                    : Math.min(paymentData.get(\"discount\"), 100),\r\n                  0\r\n                ),\r\n                discountType: paymentData.get(\"discountType\"),\r\n                surcharge: Math.max(\r\n                  paymentData.get(\"surchargeType\") > 0\r\n                    ? paymentData.get(\"surcharge\")\r\n                    : Math.min(paymentData.get(\"surcharge\"), 100),\r\n                  0\r\n                ),\r\n                surchargeType: paymentData.get(\"surchargeType\"),\r\n              })\r\n              .then(() => {\r\n                // handle success\r\n                props.history.push(\"/user/quotation\");\r\n              })\r\n              .catch(function (error) {\r\n                // handle error\r\n                Swal.fire({\r\n                  icon: \"error\",\r\n                  title: \"Error\",\r\n                  text: error.response.data.message,\r\n                  allowOutsideClick: false,\r\n                }).then(() => {});\r\n                console.log(error);\r\n              })\r\n              .then(function () {\r\n                // always executed\r\n              });\r\n          else {\r\n            axios\r\n              .put(`/quotation/${initialClient.id}`, {\r\n                name: clientData.get(\"name\"),\r\n                phone: clientData.get(\"phone\"),\r\n                email: clientData.get(\"email\"),\r\n                district: clientData.get(\"district\"),\r\n                street: clientData.get(\"street\"),\r\n                block: clientData.get(\"block\"),\r\n                floor: clientData.get(\"floor\"),\r\n                unit: clientData.get(\"unit\"),\r\n                timeLine:\r\n                  clientData.get(\"timeLine\") *\r\n                  (clientData.get(\"timeLineFormat\") === \"day\" ? 1 : 7),\r\n                remark: clientData.get(\"remark\"),\r\n                products: cart\r\n                  .map(({ productDetail, ...restProps }) => ({\r\n                    productId: productDetail.id,\r\n                    productCategory: productDetail.category ?? \"\",\r\n                    ...restProps,\r\n                  }))\r\n                  .concat(services),\r\n                paymentTerms: paymentData.get(\"paymentTerms\"),\r\n                paid: Boolean(paymentData.get(\"paid\")),\r\n                validTil: paymentData.get(\"validTil\") || null,\r\n                discount: Math.max(\r\n                  paymentData.get(\"discountType\") > 0\r\n                    ? paymentData.get(\"discount\")\r\n                    : Math.min(paymentData.get(\"discount\"), 100),\r\n                  0\r\n                ),\r\n                discountType: paymentData.get(\"discountType\"),\r\n                surcharge: Math.max(\r\n                  paymentData.get(\"surchargeType\") > 0\r\n                    ? paymentData.get(\"surcharge\")\r\n                    : Math.min(paymentData.get(\"surcharge\"), 100),\r\n                  0\r\n                ),\r\n                surchargeType: paymentData.get(\"surchargeType\"),\r\n              })\r\n              .then(() => {\r\n                // handle success\r\n                props.history.push(\"/user/quotation\");\r\n              })\r\n              .catch(function (error) {\r\n                // handle error\r\n                Swal.fire({\r\n                  icon: \"error\",\r\n                  title: \"Error\",\r\n                  text: error.response.data.message,\r\n                  allowOutsideClick: false,\r\n                }).then(() => {});\r\n                console.log(error);\r\n              })\r\n              .then(function () {\r\n                // always executed\r\n              });\r\n          }\r\n        }}\r\n      >\r\n        <Paper\r\n          sx={{\r\n            p: \"10px\",\r\n            display: \"flex\",\r\n            flexWrap: \"wrap\",\r\n            justifyContent: \"space-between\",\r\n          }}\r\n        >\r\n          <Typography variant=\"h6\" sx={{ flexBasis: \"100%\", minWidth: \"100%\" }}>\r\n            Payment Details\r\n          </Typography>\r\n          <Typography variant=\"h7\" sx={{ flexBasis: \"100%\", minWidth: \"100%\" }}>\r\n            Sub Total:{\" \"}\r\n            {cart.reduce(\r\n              (p, c) => p + c.productAmount * parseFloat(c.productPrice),\r\n              0\r\n            ) + services.reduce((p, c) => p + c.price, 0)}\r\n          </Typography>\r\n          <TextField\r\n            name=\"paymentTerms\"\r\n            size=\"small\"\r\n            sx={{ flexBasis: \"100%\", minWidth: \"100%\" }}\r\n            defaultValue={initialClient.paymentTerms}\r\n            label=\"Payment Terms\"\r\n          />\r\n          <FormControlLabel\r\n            sx={{\r\n              flexBasis: \"100%\",\r\n              minWidth: \"100%\",\r\n              alignItems: \"baseline\",\r\n              m: 0,\r\n            }}\r\n            control={\r\n              <TextField\r\n                type=\"number\"\r\n                name=\"validTil\"\r\n                label=\"Valid Til\"\r\n                inputProps={{\r\n                  max: 10,\r\n                  min: 0,\r\n                }}\r\n                defaultValue={initialClient.validTil}\r\n                InputLabelProps={{ shrink: true }}\r\n                fullWidth\r\n                sx={{ m: \"10px 5px 10px 0\" }}\r\n              />\r\n            }\r\n            label=\"month(s)\"\r\n          />\r\n          <TextField\r\n            sx={{\r\n              flexBasis: [\"58%\", \"68%\"],\r\n              minWidth: [\"58%\", \"68%\"],\r\n              alignItems: \"baseline\",\r\n              m: 0,\r\n            }}\r\n            label=\"Discount\"\r\n            type=\"number\"\r\n            name=\"discount\"\r\n            inputProps={{\r\n              min: 0,\r\n            }}\r\n            defaultValue={initialClient.discount}\r\n            fullWidth\r\n          />\r\n          <Select\r\n            sx={{\r\n              flexBasis: [\"40%\", \"30%\"],\r\n              minWidth: [\"40%\", \"30%\"],\r\n              alignItems: \"baseline\",\r\n              m: 0,\r\n            }}\r\n            name=\"discountType\"\r\n            defaultValue={initialClient.discountType}\r\n          >\r\n            <MenuItem value={0}>%</MenuItem>\r\n            <MenuItem value={1}>HKD</MenuItem>\r\n          </Select>\r\n          <TextField\r\n            sx={{\r\n              flexBasis: [\"58%\", \"68%\"],\r\n              minWidth: [\"58%\", \"68%\"],\r\n              alignItems: \"baseline\",\r\n              mt: \"10px\",\r\n              mb: 0,\r\n            }}\r\n            label=\"Surcharge\"\r\n            type=\"number\"\r\n            name=\"surcharge\"\r\n            inputProps={{\r\n              min: 0,\r\n            }}\r\n            defaultValue={initialClient.surcharge}\r\n            fullWidth\r\n          />\r\n          <Select\r\n            sx={{\r\n              flexBasis: [\"40%\", \"30%\"],\r\n              minWidth: [\"40%\", \"30%\"],\r\n              alignItems: \"baseline\",\r\n              mt: \"10px\",\r\n              mb: 0,\r\n            }}\r\n            name=\"surchargeType\"\r\n            defaultValue={initialClient.surchargeType}\r\n          >\r\n            <MenuItem value={0}>%</MenuItem>\r\n            <MenuItem value={1}>HKD</MenuItem>\r\n          </Select>\r\n        </Paper>\r\n        <Button\r\n          sx={{ marginTop: \"10px\" }}\r\n          onClick={(e) => {\r\n            e.preventDefault();\r\n            setCurrentStep(1);\r\n          }}\r\n        >\r\n          Previous\r\n        </Button>\r\n        <Button sx={{ float: \"right\", marginTop: \"10px\" }} type=\"submit\">\r\n          Finish\r\n        </Button>\r\n      </Box>\r\n      <Dialog\r\n        open={addOpen}\r\n        maxWidth=\"sm\"\r\n        fullWidth\r\n        fullScreen={useMediaQuery(theme.breakpoints.down(\"sm\"))}\r\n        PaperProps={{\r\n          component: \"form\",\r\n          onSubmit: (e) => {\r\n            e.preventDefault();\r\n            const data = new FormData(e.currentTarget);\r\n\r\n            setDeliveryChecked0(false);\r\n            setDeliveryChecked1(false);\r\n            setDeliveryChecked2(false);\r\n            setDeliveryChecked3(false);\r\n\r\n            setAddOpen(false);\r\n            if (cartItemStatus === \"add\") {\r\n              if (\r\n                cart.find(\r\n                  (item) =>\r\n                    item.productType === productType &&\r\n                    item.productDetail.id === productDetail.id\r\n                )\r\n              ) {\r\n                Swal.fire({\r\n                  icon: \"warning\",\r\n                  title: \"Warning\",\r\n                  text: \"This product is already added.\",\r\n                  allowOutsideClick: false,\r\n                });\r\n                return;\r\n              }\r\n              setCart(\r\n                cart.concat({\r\n                  productType,\r\n                  productDetail,\r\n                  productAmount,\r\n                  productDeliveryOption: JSON.stringify(\r\n                    [\r\n                      \"Delivery Included\",\r\n                      \"Delivery and installation included\",\r\n                      \"Remote Area Surcharge\",\r\n                      \"Stairs Surcharge\",\r\n                    ].filter((item, index) =>\r\n                      Boolean(data.get(`deliveryOption_${index}`))\r\n                    )\r\n                  ),\r\n                  productPrice: e.currentTarget.unitPrice.value,\r\n                  remark: productRemark,\r\n                })\r\n              );\r\n            } else if (cartItemStatus === \"edit\") {\r\n              const newCart = cart.map((item) => {\r\n                if (\r\n                  item.productType === productType &&\r\n                  item.productDetail.id === productDetail.id\r\n                )\r\n                  return {\r\n                    productType,\r\n                    productDetail,\r\n                    productAmount,\r\n                    productDeliveryOption: JSON.stringify(\r\n                      [\r\n                        \"Delivery Included\",\r\n                        \"Delivery and installation included\",\r\n                        \"Remote Area Surcharge\",\r\n                        \"Stairs Surcharge\",\r\n                      ].filter((item, index) =>\r\n                        Boolean(data.get(`deliveryOption_${index}`))\r\n                      )\r\n                    ),\r\n                    productPrice: e.currentTarget.unitPrice.value,\r\n                    remark: productRemark,\r\n                  };\r\n                else return item;\r\n              });\r\n              setCart(newCart);\r\n            }\r\n          },\r\n        }}\r\n      >\r\n        <DialogTitle>Price and Amount</DialogTitle>\r\n        <DialogContent sx={{ textAlign: \"center\" }}>\r\n          <TextField\r\n            label=\"Unit Price\"\r\n            type=\"number\"\r\n            name=\"unitPrice\"\r\n            // inputProps={{ readOnly: true }}\r\n            value={productPrice}\r\n            sx={{ width: \"200px\" }}\r\n            InputProps={{\r\n              readOnly: true,\r\n              endAdornment: <InputAdornment position=\"end\">HKD</InputAdornment>,\r\n            }}\r\n          />\r\n          <Box\r\n            sx={{\r\n              display: \"flex\",\r\n              alignItems: \"center\",\r\n              width: \"200px\",\r\n              border: \"1px solid #0000003b\",\r\n              borderRadius: \"4px\",\r\n              my: \"10px\",\r\n              mx: \"auto\",\r\n              p: \"5px 3px\",\r\n            }}\r\n          >\r\n            <Typography variant=\"span\" sx={{ flexGrow: 1 }}>\r\n              Amount\r\n            </Typography>\r\n            <IconButton\r\n              onClick={(e) => {\r\n                e.preventDefault();\r\n                setProductAmount(Math.max(productAmount - 1, 1));\r\n              }}\r\n            >\r\n              <RemoveIcon />\r\n            </IconButton>\r\n            <Typography variant=\"span\" sx={{ ml: \"10px\" }}>\r\n              {productAmount}\r\n            </Typography>\r\n            <IconButton\r\n              onClick={(e) => {\r\n                e.preventDefault();\r\n                setProductAmount(Math.min(productAmount + 1, 99));\r\n              }}\r\n            >\r\n              <AddIcon />\r\n            </IconButton>\r\n          </Box>\r\n          <Box\r\n            sx={{\r\n              alignItems: \"center\",\r\n              justifyContent: \"center\",\r\n              my: \"10px\",\r\n              mx: \"auto\",\r\n              p: \"5px 3px\",\r\n            }}\r\n          >\r\n            <TextField\r\n              label=\"Specification\"\r\n              name=\"remark\"\r\n              value={productRemark}\r\n              sx={{ width: 400, mx: \"5px\" }}\r\n              onChange={handleProductRemark}\r\n            />\r\n          </Box>\r\n          <FormControlLabel\r\n            sx={{ display: \"block\", textAlign: \"left\", marginLeft: \"100px\" }}\r\n            control={\r\n              <Checkbox\r\n                name=\"deliveryOption_0\"\r\n                checked={deliveryChecked0}\r\n                onChange={(e) => setDeliveryChecked0(e.target.checked)}\r\n                sx={{ textAlign: \"left\" }}\r\n              />\r\n            }\r\n            label=\"Delivery Included\"\r\n          />\r\n          <FormControlLabel\r\n            sx={{ display: \"block\", textAlign: \"left\", marginLeft: \"100px\" }}\r\n            control={\r\n              <Checkbox\r\n                name=\"deliveryOption_1\"\r\n                checked={deliveryChecked1}\r\n                onChange={(e) => setDeliveryChecked1(e.target.checked)}\r\n              />\r\n            }\r\n            label=\"Delivery and installation included\"\r\n          />\r\n          <FormControlLabel\r\n            sx={{ display: \"block\", textAlign: \"left\", marginLeft: \"100px\" }}\r\n            control={\r\n              <Checkbox\r\n                name=\"deliveryOption_2\"\r\n                checked={deliveryChecked2}\r\n                onChange={(e) => setDeliveryChecked2(e.target.checked)}\r\n              />\r\n            }\r\n            label=\"Remote Area Surcharge\"\r\n          />\r\n          <FormControlLabel\r\n            sx={{ display: \"block\", textAlign: \"left\", marginLeft: \"100px\" }}\r\n            control={\r\n              <Checkbox\r\n                name=\"deliveryOption_3\"\r\n                checked={deliveryChecked3}\r\n                onChange={(e) => setDeliveryChecked3(e.target.checked)}\r\n              />\r\n            }\r\n            label=\"Stairs Surcharge\"\r\n          />\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button\r\n            onClick={(e) => {\r\n              setDeliveryChecked0(false);\r\n              setDeliveryChecked1(false);\r\n              setDeliveryChecked2(false);\r\n              setDeliveryChecked3(false);\r\n              setAddOpen(false);\r\n            }}\r\n          >\r\n            Cancel\r\n          </Button>\r\n          <Button type=\"submit\">OK</Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n      <Dialog\r\n        open={deskAddOpen}\r\n        maxWidth=\"sm\"\r\n        fullWidth\r\n        fullScreen={useMediaQuery(theme.breakpoints.down(\"sm\"))}\r\n        PaperProps={{\r\n          component: \"form\",\r\n          onSubmit: async (e) => {\r\n            e.preventDefault();\r\n\r\n            setTopHoleCount(0);\r\n            setTopHolePosition(\"Left\");\r\n            setTopHoleType(\"Rounded\");\r\n            setTopMaterial(\"Melamine\");\r\n            setTopColor(\"\");\r\n            setTopLength(700);\r\n            setTopWidth(400);\r\n            setTopThickness(25);\r\n            setTopRoundedCorners(0);\r\n            setTopCornerRadius(50);\r\n            setSketchUrl(\"\");\r\n\r\n            setDeliveryChecked0(false);\r\n            setDeliveryChecked1(false);\r\n            setDeliveryChecked2(false);\r\n            setDeliveryChecked3(false);\r\n\r\n            setDeskAddOpen(false);\r\n\r\n            const data = new FormData(e.currentTarget);\r\n\r\n            if (cartItemStatus === \"add\") {\r\n              if (\r\n                !hasDeskTop &&\r\n                cart.find(\r\n                  (item) =>\r\n                    item.productType === \"desk\" &&\r\n                    item.productDetail.id === productDetail.id &&\r\n                    !item.hasDeskTop\r\n                )\r\n              ) {\r\n                Swal.fire({\r\n                  icon: \"warning\",\r\n                  title: \"Warning\",\r\n                  text: \"This product is already added.\",\r\n                  allowOutsideClick: false,\r\n                });\r\n                return;\r\n              }\r\n\r\n              let topSketchURL = \"\";\r\n              if (data.get(\"topSketchImg\") && data.get(\"topSketchImg\").name) {\r\n                const uploadData = new FormData();\r\n                uploadData.append(\"file\", data.get(\"topSketchImg\"));\r\n                try {\r\n                  const response = await axios.post(`/upload`, uploadData, {\r\n                    headers: {\r\n                      \"Content-Type\": \"application/x-www-form-urlencoded\",\r\n                    },\r\n                  });\r\n                  topSketchURL = response.data.url;\r\n                } catch (err) {}\r\n              }\r\n\r\n              setCart(\r\n                cart.concat({\r\n                  productType,\r\n                  productDetail,\r\n                  productAmount,\r\n                  productDeliveryOption: JSON.stringify(\r\n                    [\r\n                      \"Delivery Included\",\r\n                      \"Delivery and installation included\",\r\n                      \"Remote Area Surcharge\",\r\n                      \"Stairs Surcharge\",\r\n                    ].filter((item, index) =>\r\n                      Boolean(data.get(`deliveryOption_${index}`))\r\n                    )\r\n                  ),\r\n                  productPrice: Boolean(data.get(\"hasDeskTop\"))\r\n                    ? Number(data.get(\"deskTotalPrice\"))\r\n                    : Number(data.get(\"deskLegPrice\")),\r\n                  hasDeskTop: Boolean(data.get(\"hasDeskTop\")) || false,\r\n                  topMaterial: data.get(\"topMaterial\") || \"\",\r\n                  topColor: data.get(\"topColor\") || \"\",\r\n                  topLength: data.get(\"topLength\") || 0,\r\n                  topWidth: data.get(\"topWidth\") || 0,\r\n                  topThickness: data.get(\"topThickness\") || 0,\r\n                  topRoundedCorners: data.get(\"topRoundedCorners\") || 0,\r\n                  topCornerRadius: data.get(\"topCornerRadius\") || 50,\r\n                  topHoleCount: data.get(\"topHoleCount\") || 0,\r\n                  topHoleType: data.get(\"topHoleType\") || \"\",\r\n                  topHolePosition: topHolePosition || \"\",\r\n                  remark: data.get(\"remark\") || \"\",\r\n                  topSketchURL: topSketchURL,\r\n                })\r\n              );\r\n            } else if (cartItemStatus === \"edit\") {\r\n              let topSketchURL = sketchUrl;\r\n              if (data.get(\"topSketchImg\") && data.get(\"topSketchImg\").name) {\r\n                const uploadData = new FormData();\r\n                uploadData.append(\"file\", data.get(\"topSketchImg\"));\r\n                try {\r\n                  const response = await axios.post(`/upload`, uploadData, {\r\n                    headers: {\r\n                      \"Content-Type\": \"application/x-www-form-urlencoded\",\r\n                    },\r\n                  });\r\n                  topSketchURL = response.data.url;\r\n                } catch (err) {}\r\n              }\r\n              const newCart = cart.map((item) => {\r\n                if (\r\n                  item.productType === \"desk\" &&\r\n                  item.productDetail.id === productDetail.id\r\n                )\r\n                  return {\r\n                    productType,\r\n                    productDetail,\r\n                    productAmount,\r\n                    productDeliveryOption: JSON.stringify(\r\n                      [\r\n                        \"Delivery Included\",\r\n                        \"Delivery and installation included\",\r\n                        \"Remote Area Surcharge\",\r\n                        \"Stairs Surcharge\",\r\n                      ].filter((item, index) =>\r\n                        Boolean(data.get(`deliveryOption_${index}`))\r\n                      )\r\n                    ),\r\n                    productPrice: Boolean(data.get(\"hasDeskTop\"))\r\n                      ? Number(data.get(\"deskTotalPrice\"))\r\n                      : Number(data.get(\"deskLegPrice\")),\r\n                    hasDeskTop: Boolean(data.get(\"hasDeskTop\")) || false,\r\n                    topMaterial: data.get(\"topMaterial\") || \"\",\r\n                    topColor: data.get(\"topColor\") || \"\",\r\n                    topLength: data.get(\"topLength\") || 0,\r\n                    topWidth: data.get(\"topWidth\") || 0,\r\n                    topThickness: data.get(\"topThickness\") || 0,\r\n                    topRoundedCorners: data.get(\"topRoundedCorners\") || 0,\r\n                    topCornerRadius: data.get(\"topCornerRadius\") || 50,\r\n                    topHoleCount: data.get(\"topHoleCount\") || 0,\r\n                    topHoleType: data.get(\"topHoleType\") || \"\",\r\n                    topHolePosition: topHolePosition || \"\",\r\n                    remark: data.get(\"remark\") || \"\",\r\n                    topSketchURL: topSketchURL,\r\n                  };\r\n                else return item;\r\n              });\r\n              setCart(newCart);\r\n            }\r\n          },\r\n        }}\r\n      >\r\n        <DialogTitle>Price and Amount</DialogTitle>\r\n        <DialogContent sx={{ textAlign: \"center\" }}>\r\n          <TextField\r\n            label=\"Desk Leg Price\"\r\n            type=\"number\"\r\n            name=\"deskLegPrice\"\r\n            value={productPrice}\r\n            sx={{ width: 200, visibility: hasDeskTop ? \"hidden\" : \"visible\" }}\r\n            InputProps={{\r\n              readOnly: true,\r\n              endAdornment: <InputAdornment position=\"end\">HKD</InputAdornment>,\r\n            }}\r\n          />\r\n          <Divider sx={{ my: \"10px\" }} />\r\n          <Box display=\"flex\" flexWrap=\"wrap\" justifyContent=\"space-between\">\r\n            <FormControlLabel\r\n              control={\r\n                <Checkbox\r\n                  name=\"hasDeskTop\"\r\n                  checked={hasDeskTop}\r\n                  onChange={(e) => {\r\n                    setHasDeskTop(e.currentTarget.checked);\r\n                  }}\r\n                />\r\n              }\r\n              label=\"with Table Top\"\r\n              sx={{ flexBasis: \"100%\", minWidth: \"100%\" }}\r\n            />\r\n            {[\r\n              {\r\n                name: \"topMaterial\",\r\n                label: \"Material\",\r\n                type: \"autocomplete\",\r\n                value: topMaterial,\r\n                onChange: (e, newVal) => {\r\n                  e.preventDefault();\r\n                  setTopMaterial(newVal);\r\n                },\r\n                options: materialOptions,\r\n                width: \"65%\",\r\n              },\r\n              {\r\n                name: \"topColor\",\r\n                label: \"Color\",\r\n                type: \"text\",\r\n                width: \"30%\",\r\n                value: topColor,\r\n                onChange: (e) => {\r\n                  e.preventDefault();\r\n                  setTopColor(e.target.value);\r\n                },\r\n              },\r\n              {\r\n                name: \"topLength\",\r\n                label: \"Length\",\r\n                type: \"suffixNumber\",\r\n                suffix: \"mm\",\r\n                inputProps: { min: 0 },\r\n                width: \"30%\",\r\n                value: topLength,\r\n                onChange: (e) => {\r\n                  e.preventDefault();\r\n                  setTopLength(e.target.value);\r\n                },\r\n              },\r\n              {\r\n                name: \"topWidth\",\r\n                label: \"Width\",\r\n                type: \"suffixNumber\",\r\n                suffix: \"mm\",\r\n                inputProps: { min: 0 },\r\n                width: \"30%\",\r\n                value: topWidth,\r\n                onChange: (e) => {\r\n                  e.preventDefault();\r\n                  setTopWidth(e.target.value);\r\n                },\r\n              },\r\n              {\r\n                name: \"topThickness\",\r\n                label: \"Thickness\",\r\n                type: \"suffixNumber\",\r\n                suffix: \"mm\",\r\n                inputProps: { min: 0 },\r\n                width: \"30%\",\r\n                value: topThickness,\r\n                onChange: (e) => {\r\n                  e.preventDefault();\r\n                  setTopThickness(e.target.value);\r\n                },\r\n              },\r\n              {\r\n                name: \"topRoundedCorners\",\r\n                label: \"Rounded Corners\",\r\n                type: \"select\",\r\n                options: [0, 1, 2, 3, 4],\r\n                width: \"48%\",\r\n                value: topRoundedCorners,\r\n                onChange: (e) => {\r\n                  e.preventDefault();\r\n                  setTopRoundedCorners(e.target.value);\r\n                },\r\n              },\r\n              {\r\n                name: \"topCornerRadius\",\r\n                label: \"Corner Radius\",\r\n                type: \"number\",\r\n                inputProps: { min: 0 },\r\n                width: \"48%\",\r\n                value: topCornerRadius,\r\n                onChange: (e) => {\r\n                  e.preventDefault();\r\n                  setTopCornerRadius(e.target.value);\r\n                },\r\n              },\r\n              {\r\n                name: \"topHoleCount\",\r\n                label: \"Number of Holes\",\r\n                type: \"select\",\r\n                value: topHoleCount,\r\n                onChange: (e) => {\r\n                  e.preventDefault();\r\n                  setTopHoleCount(e.target.value);\r\n                  if (e.target.value === 1) setTopHolePosition(\"Left\");\r\n                  else if (e.target.value === 2)\r\n                    setTopHolePosition(\"Left_Right\");\r\n                  else if (e.target.value === 3)\r\n                    setTopHolePosition(\"Left_Right_Center\");\r\n                },\r\n                options: [0, 1, 2, 3],\r\n                width: \"48%\",\r\n              },\r\n              {\r\n                name: \"topHoleType\",\r\n                label: \"Type of Holes\",\r\n                type: \"select\",\r\n                value: topHoleType,\r\n                onChange: (e) => {\r\n                  e.preventDefault();\r\n                  setTopHoleType(e.target.value);\r\n                },\r\n                options: [\"Rounded\", \"Rectangular\"],\r\n                width: \"48%\",\r\n              },\r\n              {\r\n                name: \"topHolePosition\",\r\n                label: \"Hole Position\",\r\n                type: \"select\",\r\n                value: topHolePosition,\r\n                onChange: (e) => {\r\n                  e.preventDefault();\r\n                  setTopHolePosition(e.target.value);\r\n                },\r\n                options:\r\n                  topHoleCount === 1\r\n                    ? [\"Left\", \"Right\", \"Center\"]\r\n                    : [\r\n                        \"Left\",\r\n                        \"Right\",\r\n                        \"Center\",\r\n                        \"Left_Right\",\r\n                        \"Left_Right_Center\",\r\n                      ],\r\n                disabled: topHoleCount !== 1, // || topHoleType !== \"Rounded\",\r\n                visible: \"true\", //topHoleType === \"Rounded\" ? \"1\" : \"0\",\r\n                width: \"48%\",\r\n              },\r\n              {\r\n                name: \"remark\",\r\n                label: \"Specification\",\r\n                type: \"text\",\r\n                width: \"100%\",\r\n                value: productRemark,\r\n                onChange: (e) => {\r\n                  e.preventDefault();\r\n                  setProductRemark(e.target.value);\r\n                },\r\n              },\r\n              {\r\n                name: \"topSketchImg\",\r\n                label: \"Sketch Image (Optional)\",\r\n                type: \"file\",\r\n                inputProps: {\r\n                  accept: \"image/png, image/gif, image/jpeg\",\r\n                },\r\n                InputLabelProps: { shrink: true },\r\n                width: \"100%\",\r\n              },\r\n            ].map(({ type, width, ...restParams }, index) => {\r\n              if (type === \"autocomplete\") {\r\n                const { name, label, ...autocomParams } = restParams;\r\n                return (\r\n                  <Autocomplete\r\n                    key={index}\r\n                    sx={{ flexBasis: width, minWidth: width }}\r\n                    renderInput={(params) => (\r\n                      <TextField {...params} name={name} label={label} />\r\n                    )}\r\n                    disabled={!hasDeskTop}\r\n                    {...autocomParams}\r\n                  />\r\n                );\r\n              } else if (type === \"suffixNumber\") {\r\n                const { suffix, ...fieldParams } = restParams;\r\n                return (\r\n                  <FormControlLabel\r\n                    key={index}\r\n                    sx={{\r\n                      flexBasis: width,\r\n                      minWidth: width,\r\n                      alignItems: \"baseline\",\r\n                      mx: 0,\r\n                    }}\r\n                    control={\r\n                      <TextField\r\n                        fullWidth\r\n                        sx={{ m: \"10px 5px 0 0\" }}\r\n                        type=\"number\"\r\n                        disabled={!hasDeskTop}\r\n                        {...fieldParams}\r\n                      />\r\n                    }\r\n                    label={suffix}\r\n                  />\r\n                );\r\n              } else if (type === \"select\") {\r\n                const { name, label, options, ...selectParams } = restParams;\r\n                if (name === \"topHolePosition\")\r\n                  if (selectParams.visible === \"1\")\r\n                    return (\r\n                      <FormControl\r\n                        key={index}\r\n                        sx={{ flexBasis: width, minWidth: width }}\r\n                      >\r\n                        <InputLabel id={`desk-top-${name}-select-label`}>\r\n                          {label}\r\n                        </InputLabel>\r\n                        <Select\r\n                          labelId={`desk-top-${name}-select-label`}\r\n                          id={`desk-top-${name}-select`}\r\n                          name={name}\r\n                          label={label}\r\n                          size=\"small\"\r\n                          disabled={!hasDeskTop}\r\n                          {...selectParams}\r\n                        >\r\n                          {options.map((selectOption, selectOptionIndex) => (\r\n                            <MenuItem\r\n                              key={selectOptionIndex}\r\n                              value={selectOption}\r\n                            >\r\n                              {selectOption}\r\n                            </MenuItem>\r\n                          ))}\r\n                        </Select>\r\n                      </FormControl>\r\n                    );\r\n                  else return \"\";\r\n                else\r\n                  return (\r\n                    <FormControl\r\n                      key={index}\r\n                      sx={{ flexBasis: width, minWidth: width }}\r\n                    >\r\n                      <InputLabel id={`desk-top-${name}-select-label`}>\r\n                        {label}\r\n                      </InputLabel>\r\n                      <Select\r\n                        labelId={`desk-top-${name}-select-label`}\r\n                        id={`desk-top-${name}-select`}\r\n                        name={name}\r\n                        label={label}\r\n                        size=\"small\"\r\n                        disabled={!hasDeskTop}\r\n                        {...selectParams}\r\n                      >\r\n                        {options.map((selectOption, selectOptionIndex) => (\r\n                          <MenuItem\r\n                            key={selectOptionIndex}\r\n                            value={selectOption}\r\n                          >\r\n                            {selectOption}\r\n                          </MenuItem>\r\n                        ))}\r\n                      </Select>\r\n                    </FormControl>\r\n                  );\r\n              } else\r\n                return (\r\n                  <TextField\r\n                    key={index}\r\n                    type={type}\r\n                    sx={{ flexBasis: width, minWidth: width }}\r\n                    disabled={!hasDeskTop}\r\n                    {...restParams}\r\n                  />\r\n                );\r\n            })}\r\n            <TextField\r\n              label=\"Desk Total Price\"\r\n              type=\"number\"\r\n              name=\"deskTotalPrice\"\r\n              defaultValue={productPrice}\r\n              sx={{ flexBasis: 200, minWidth: 200, mx: \"auto\" }}\r\n              disabled={!hasDeskTop}\r\n              InputProps={{\r\n                endAdornment: (\r\n                  <InputAdornment position=\"end\">HKD</InputAdornment>\r\n                ),\r\n              }}\r\n            />\r\n          </Box>\r\n          <Divider sx={{ my: \"10px\" }} />\r\n          <Box\r\n            sx={{\r\n              display: \"flex\",\r\n              alignItems: \"center\",\r\n              width: \"200px\",\r\n              border: \"1px solid #0000003b\",\r\n              borderRadius: \"4px\",\r\n              mt: \"10px\",\r\n              mx: \"auto\",\r\n              p: \"5px 3px\",\r\n            }}\r\n          >\r\n            <Typography variant=\"span\" sx={{ flexGrow: 1 }}>\r\n              Amount\r\n            </Typography>\r\n            <IconButton\r\n              onClick={(e) => {\r\n                e.preventDefault();\r\n                setProductAmount(Math.max(productAmount - 1, 1));\r\n              }}\r\n            >\r\n              <RemoveIcon />\r\n            </IconButton>\r\n            <Typography variant=\"span\" mx=\"10px\">\r\n              {productAmount}\r\n            </Typography>\r\n            <IconButton\r\n              onClick={(e) => {\r\n                e.preventDefault();\r\n                setProductAmount(Math.min(productAmount + 1, 99));\r\n              }}\r\n            >\r\n              <AddIcon />\r\n            </IconButton>\r\n          </Box>\r\n          <FormControlLabel\r\n            sx={{ display: \"block\", textAlign: \"left\", marginLeft: \"100px\" }}\r\n            control={\r\n              <Checkbox\r\n                name=\"deliveryOption_0\"\r\n                checked={deliveryChecked0}\r\n                onChange={(e) => setDeliveryChecked0(e.target.checked)}\r\n                sx={{ textAlign: \"left\" }}\r\n              />\r\n            }\r\n            label=\"Delivery Included\"\r\n          />\r\n          <FormControlLabel\r\n            sx={{ display: \"block\", textAlign: \"left\", marginLeft: \"100px\" }}\r\n            control={\r\n              <Checkbox\r\n                name=\"deliveryOption_1\"\r\n                checked={deliveryChecked1}\r\n                onChange={(e) => setDeliveryChecked1(e.target.checked)}\r\n              />\r\n            }\r\n            label=\"Delivery and installation included\"\r\n          />\r\n          <FormControlLabel\r\n            sx={{ display: \"block\", textAlign: \"left\", marginLeft: \"100px\" }}\r\n            control={\r\n              <Checkbox\r\n                name=\"deliveryOption_2\"\r\n                checked={deliveryChecked2}\r\n                onChange={(e) => setDeliveryChecked2(e.target.checked)}\r\n              />\r\n            }\r\n            label=\"Remote Area Surcharge\"\r\n          />\r\n          <FormControlLabel\r\n            sx={{ display: \"block\", textAlign: \"left\", marginLeft: \"100px\" }}\r\n            control={\r\n              <Checkbox\r\n                name=\"deliveryOption_3\"\r\n                checked={deliveryChecked3}\r\n                onChange={(e) => setDeliveryChecked3(e.target.checked)}\r\n              />\r\n            }\r\n            label=\"Stairs Surcharge\"\r\n          />\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button\r\n            onClick={(e) => {\r\n              e.preventDefault();\r\n              setTopHoleCount(0);\r\n              setTopHolePosition(\"Left\");\r\n              setTopHoleType(\"Rounded\");\r\n              setTopMaterial(\"Melamine\");\r\n              setTopColor(\"\");\r\n              setTopLength(700);\r\n              setTopWidth(400);\r\n              setTopThickness(25);\r\n              setTopRoundedCorners(0);\r\n              setTopCornerRadius(50);\r\n              setSketchUrl(\"\");\r\n\r\n              setDeliveryChecked0(false);\r\n              setDeliveryChecked1(false);\r\n              setDeliveryChecked2(false);\r\n              setDeliveryChecked3(false);\r\n\r\n              setDeskAddOpen(false);\r\n            }}\r\n          >\r\n            Cancel\r\n          </Button>\r\n          <Button type=\"submit\">OK</Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    </Box>\r\n  );\r\n});\r\n","import React, { useState } from 'react';\r\nimport Detail from './Detail';\r\n\r\nconst Create = (props) => {\r\n  const [phone, setPhone] = useState('');\r\n  return (\r\n    <Detail\r\n      componentType=\"create\"\r\n      initialClient={{\r\n        phone,\r\n        setPhone,\r\n        paid: true,\r\n        discountType: 1,\r\n        surchargeType: 1,\r\n        validTil: 1,\r\n      }}\r\n      initialCart={[]}\r\n      {...props}\r\n    />\r\n  );\r\n};\r\n\r\nexport default Create;\r\n","import React, { useState } from 'react';\r\nimport Detail from './Detail';\r\nimport { Redirect, useLocation } from 'react-router-dom';\r\n\r\nconst Edit = (props) => {\r\n  const location = useLocation();\r\n  const { quotation } = location.state || {};\r\n  const {\r\n    ChairStocks,\r\n    DeskStocks,\r\n    DeskToQuotations,\r\n    AccessoryStocks,\r\n    ServiceToQuotations,\r\n    Seller,\r\n    sellerId,\r\n    remark,\r\n    ...client\r\n  } = quotation || {};\r\n\r\n  const [phone, setPhone] = useState(client.phone);\r\n\r\n  return quotation ? (\r\n    <Detail\r\n      componentType=\"edit\"\r\n      initialClient={{\r\n        ...client,\r\n        phone,\r\n        setPhone,\r\n      }}\r\n      initialCart={ChairStocks.map(({ ChairToQuotation, ...restProps }) => ({\r\n        productType: 'chair',\r\n        productDetail: restProps,\r\n        remark: ChairToQuotation.remark,\r\n        productPrice: ChairToQuotation.unitPrice,\r\n        productAmount: ChairToQuotation.qty,\r\n        productDeliveryOption: ChairToQuotation.deliveryOption,\r\n      }))\r\n        .concat(\r\n          DeskToQuotations.map((DeskToQuotation) => {\r\n            const {\r\n              stockId,\r\n              unitPrice,\r\n              qty,\r\n              deliveryOption,\r\n              ...deskTopProps\r\n            } = DeskToQuotation;\r\n\r\n            const stock = DeskStocks.find(function(val) {\r\n              return val.id === stockId\r\n            })\r\n\r\n            return {\r\n              productType: 'desk',\r\n              productDetail: stock,\r\n              productPrice: unitPrice,\r\n              productAmount: qty,\r\n              productDeliveryOption: deliveryOption,\r\n              ...deskTopProps,\r\n            };\r\n          })\r\n        )\r\n        .concat(\r\n          AccessoryStocks.map(({ AccessoryToQuotation, ...restProps }) => ({\r\n            productType: 'accessory',\r\n            productDetail: restProps,\r\n            remark: AccessoryToQuotation.remark,\r\n            productPrice: AccessoryToQuotation.unitPrice,\r\n            productAmount: AccessoryToQuotation.qty,\r\n            productDeliveryOption: AccessoryToQuotation.deliveryOption,\r\n          }))\r\n        )}\r\n      initialServices = {ServiceToQuotations}\r\n      {...props}\r\n    />\r\n  ) : (\r\n    <Redirect to=\"/user/quotation\" />\r\n  );\r\n};\r\n\r\nexport default Edit;\r\n","import React, { useState } from 'react';\r\nimport { Route, Switch, useRouteMatch } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport { Box } from '@mui/material';\r\nimport {\r\n  BookOnline as BookOnlineIcon,\r\n  Storefront as StorefrontIcon,\r\n} from '@mui/icons-material';\r\nimport Swal from 'sweetalert2';\r\n\r\nimport AppHeader from 'components/Common/AppHeader';\r\nimport { CollapsedSidebar, FixedSidebar } from 'components/Common/Sidebar';\r\nimport { logout } from 'services/auth.service';\r\n\r\nimport { ChairStock } from './Chair';\r\nimport { DeskStock } from './Desk';\r\nimport { AccessoryStock } from './Accessory';\r\nimport {\r\n  SalesOrderCreate,\r\n  SalesOrderEdit,\r\n  SalesOrderView,\r\n} from './Salement/SalesOrder';\r\nimport {\r\n  QuotationCreate,\r\n  QuotationEdit,\r\n  QuotationView,\r\n} from './Salement/Quotation';\r\n\r\nfunction mapStateToProps(state) {\r\n  const { auth } = state;\r\n  return { auth };\r\n}\r\n\r\nconst drawerWidth = 240;\r\nconst drawerHeight = 50;\r\n\r\nconst menuLists = [\r\n  {\r\n    category: 'Chair',\r\n    content: [\r\n      { to: '/user/chair/stock', icon: <StorefrontIcon />, label: 'Stock' },\r\n    ],\r\n  },\r\n  {\r\n    category: 'Desk',\r\n    content: [\r\n      { to: '/user/desk/stock', icon: <StorefrontIcon />, label: 'Stock' },\r\n    ],\r\n  },\r\n  {\r\n    category: 'Accessory',\r\n    content: [\r\n      {\r\n        to: '/user/accessory/stock',\r\n        icon: <StorefrontIcon />,\r\n        label: 'Stock',\r\n      },\r\n    ],\r\n  },\r\n  {\r\n    category: 'Sales',\r\n    content: [\r\n      { to: '/user/sales', icon: <BookOnlineIcon />, label: 'Order' },\r\n      { to: '/user/quotation', icon: <BookOnlineIcon />, label: 'Quotation' },\r\n    ],\r\n  },\r\n];\r\n\r\nconst Standard = (props) => {\r\n  const [mobileOpen, setMobileOpen] = useState(false);\r\n  const { path } = useRouteMatch();\r\n\r\n  const handleDrawerOpen = (e) => {\r\n    e.preventDefault();\r\n    setMobileOpen(true);\r\n  };\r\n\r\n  const handleDrawerClose = (e) => {\r\n    e.preventDefault();\r\n    setMobileOpen(false);\r\n  };\r\n\r\n  const handleLogout = (e) => {\r\n    e.preventDefault();\r\n    Swal.fire({\r\n      title: 'Are you sure?',\r\n      text: 'Log out will remove your session information permanently.',\r\n      icon: 'question',\r\n      showCancelButton: true,\r\n      confirmButtonText: 'Yes, Logout!',\r\n      cancelButtonText: 'No, Keep Login',\r\n      allowOutsideClick: false,\r\n    }).then((result) => {\r\n      if (result.isConfirmed) {\r\n        props.logout();\r\n      }\r\n    });\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <AppHeader\r\n        drawerHeight={drawerHeight}\r\n        handleDrawerToggle={handleDrawerOpen}\r\n        title=\"Salesman\"\r\n      />\r\n      <Box\r\n        flexBasis={`calc(100% - ${drawerHeight}px)`}\r\n        maxHeight={`calc(100% - ${drawerHeight}px)`}\r\n        position=\"relative\"\r\n        display=\"flex\"\r\n        backgroundColor=\"#f4f5f7\"\r\n      >\r\n        <CollapsedSidebar\r\n          mobileOpen={mobileOpen}\r\n          handleDrawerClose={handleDrawerClose}\r\n          drawerWidth={drawerWidth}\r\n          handleLogout={handleLogout}\r\n          lists={menuLists}\r\n        />\r\n        <FixedSidebar\r\n          drawerWidth={drawerWidth}\r\n          handleLogout={handleLogout}\r\n          lists={menuLists}\r\n        />\r\n        <Box\r\n          component=\"main\"\r\n          sx={{\r\n            flexGrow: 1,\r\n            p: 3,\r\n            width: { sm: `calc(100% - ${drawerWidth}px)` },\r\n          }}\r\n        >\r\n          <Switch>\r\n            <Route path={`${path}/chair/stock`} component={ChairStock} />\r\n            <Route path={`${path}/desk/stock`} component={DeskStock} />\r\n            <Route path={`${path}/accessory/stock`} component={AccessoryStock} />\r\n            <Route path={`${path}/sales`} exact component={SalesOrderView} />\r\n            <Route path={`${path}/sales/create`} exact component={SalesOrderCreate} />\r\n            <Route path={`${path}/sales/edit`} exact component={SalesOrderEdit} />\r\n            <Route path={`${path}/quotation`} exact component={QuotationView} />\r\n            <Route path={`${path}/quotation/create`} exact component={QuotationCreate} />\r\n            <Route path={`${path}/quotation/edit`} exact component={QuotationEdit} />\r\n          </Switch>\r\n        </Box>\r\n      </Box>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default connect(mapStateToProps, { logout })(Standard);\r\n","import React from 'react';\r\nimport { Route, Redirect } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport PropTypes from 'prop-types';\r\n\r\nconst AdminRoute = ({ component: Component, auth, ...rest }) => (\r\n  <Route\r\n    {...rest}\r\n    render={(props) =>\r\n      auth.isLoggedIn === true ? (\r\n        auth.isAdmin === true ? (\r\n          <Component {...props} />\r\n        ) : (\r\n          <Redirect to=\"/user/sales\" />\r\n        )\r\n      ) : (\r\n        <Redirect to=\"/signin\" />\r\n      )\r\n    }\r\n  />\r\n);\r\n\r\nAdminRoute.propTypes = {\r\n  auth: PropTypes.object.isRequired,\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n  auth: state.auth,\r\n});\r\n\r\nexport default connect(mapStateToProps)(AdminRoute);\r\n","import React from 'react';\r\nimport { Route, Redirect } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport PropTypes from 'prop-types';\r\n\r\nconst GuestRoute = ({ component: Component, auth, ...rest }) => (\r\n  <Route\r\n    {...rest}\r\n    render={(props) =>\r\n      auth.isLoggedIn === false ? (\r\n        <Component {...props} />\r\n      ) : auth.isAdmin === true ? (\r\n        <Redirect to=\"/admin/sales\" />\r\n      ) : (\r\n        <Redirect to=\"/user/sales\" />\r\n      )\r\n    }\r\n  />\r\n);\r\n\r\nGuestRoute.propTypes = {\r\n  auth: PropTypes.object.isRequired,\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n  auth: state.auth,\r\n});\r\n\r\nexport default connect(mapStateToProps)(GuestRoute);\r\n","import React from 'react';\r\nimport { Route, Redirect } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport PropTypes from 'prop-types';\r\n\r\nconst PrivateRoute = ({ component: Component, auth, ...rest }) => (\r\n  <Route\r\n    {...rest}\r\n    render={(props) =>\r\n      auth.isLoggedIn === true ? (\r\n        auth.isAdmin === false ? (\r\n          <Component {...props} />\r\n        ) : (\r\n          <Redirect to=\"/admin/sales\" />\r\n        )\r\n      ) : (\r\n        <Redirect to=\"/signin\" />\r\n      )\r\n    }\r\n  />\r\n);\r\n\r\nPrivateRoute.propTypes = {\r\n  auth: PropTypes.object.isRequired,\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n  auth: state.auth,\r\n});\r\n\r\nexport default connect(mapStateToProps)(PrivateRoute);\r\n","import React, { useEffect, useState } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { useParams } from 'react-router-dom';\r\nimport axios from 'axios';\r\nimport Swal from 'sweetalert2';\r\n\r\nconst mapStateToProps = (state) => ({\r\n  auth: state.auth,\r\n});\r\n\r\nexport default connect(mapStateToProps)(() => {\r\n  const { productType, deliveryId } = useParams();\r\n  const [link, setLink] = useState('');\r\n  useEffect(() => {\r\n    if (!link) {\r\n      axios\r\n        .post('/delivery/generatePDF', {\r\n          productType,\r\n          deliveryId,\r\n          signature: '',\r\n        })\r\n        .then((response) => {\r\n          // handle success\r\n          if (!response.data) {\r\n            Swal.fire({\r\n              icon: 'info',\r\n              title: 'Alarm',\r\n              text:\r\n                'New Delivery PDF was created. Please click the button again to check.',\r\n              allowOutsideClick: false,\r\n            });\r\n          }\r\n          setLink(response.data.url);\r\n          if (response.data.url) window.location.href = response.data.url;\r\n        })\r\n        .catch(function (error) {\r\n          // handle error\r\n          Swal.fire({\r\n            icon: 'error',\r\n            title: 'Error',\r\n            text: error.response.data.message,\r\n            allowOutsideClick: false,\r\n          });\r\n        });\r\n    }\r\n  }, [link]);\r\n  return <></>;\r\n});\r\n","import React, { useState } from \"react\";\r\nimport { BrowserRouter, Redirect, Route, Switch } from \"react-router-dom\";\r\nimport {\r\n  Backdrop,\r\n  CircularProgress,\r\n  Container,\r\n  CssBaseline,\r\n} from \"@mui/material\";\r\nimport { createTheme, ThemeProvider } from \"@mui/material/styles\";\r\nimport { Provider } from \"react-redux\";\r\nimport store from \"store\";\r\nimport axios from \"axios\";\r\n\r\nimport { Invoice, Quotation, Receipt, SignIn, SignUp } from \"components/Guest\";\r\nimport Admin from \"components/Admin\";\r\nimport Standard from \"components/Standard\";\r\nimport { AdminRoute, GuestRoute, PrivateRoute } from \"components/Common/Routes\";\r\nimport DeliveryPDF from \"components/Common/DeliveryPDF\";\r\n\r\nif (store.getState().auth.isLoggedIn)\r\n  axios.defaults.headers.common[\"Authorization\"] = `Bearer ${\r\n    store.getState().auth.token\r\n  }`;\r\n\r\nconst theme = createTheme({\r\n  components: {\r\n    MuiButton: {\r\n      variants: [\r\n        {\r\n          props: { color: \"aaaa\" },\r\n          style: {\r\n            root: { color: `#888888` },\r\n          },\r\n        },\r\n      ],\r\n      defaultProps: {\r\n        variant: \"outlined\",\r\n      },\r\n      styleOverrides: {\r\n        root: {\r\n          textTransform: \"none\",\r\n        },\r\n      },\r\n    },\r\n    MuiTextField: {\r\n      defaultProps: {\r\n        variant: \"outlined\",\r\n        margin: \"dense\",\r\n        size: \"small\",\r\n      },\r\n    },\r\n    MuiSelect: {\r\n      defaultProps: {\r\n        margin: \"dense\",\r\n        size: \"small\",\r\n      },\r\n    },\r\n    MuiFormControl: {\r\n      defaultProps: {\r\n        margin: \"dense\",\r\n      },\r\n    },\r\n  },\r\n});\r\n\r\n// axios.defaults.baseURL = \"http://localhost:4000/api\";\r\naxios.defaults.baseURL = \"https://blueoceanblue.com/api\";\r\n\r\naxios.interceptors.request.use(\r\n  function (config) {\r\n    store.dispatch({ type: \"loading/beginLoading\" });\r\n    return config;\r\n  },\r\n  function (error) {\r\n    return Promise.reject(error);\r\n  }\r\n);\r\n\r\n// Add a response interceptor\r\naxios.interceptors.response.use(\r\n  function (response) {\r\n    store.dispatch({ type: \"loading/endLoading\" });\r\n    return response;\r\n  },\r\n  function (error) {\r\n    store.dispatch({ type: \"loading/endLoading\" });\r\n    if (error.response && error.response.status === 401)\r\n      store.dispatch({ type: \"auth/logout\" });\r\n    return Promise.reject(error);\r\n  }\r\n);\r\n\r\nconst App = () => {\r\n  const [loading, setLoading] = useState(store.getState().loading.value);\r\n  store.subscribe(() => {\r\n    setLoading(store.getState().loading.value);\r\n  });\r\n  return (\r\n    <ThemeProvider theme={theme}>\r\n      <Provider store={store}>\r\n        <CssBaseline />\r\n        <Container\r\n          maxWidth = {false}\r\n          disableGutters\r\n          sx = {{\r\n            height: \"100vh\",\r\n            overflow: \"auto\",\r\n            display: \"flex\",\r\n            flexDirection: \"column\",\r\n          }}\r\n        >\r\n          <Backdrop\r\n            sx = {{ color: \"#fff\", zIndex: (theme) => theme.zIndex.modal + 1 }}\r\n            open = {loading}\r\n          >\r\n            <CircularProgress color=\"inherit\" />\r\n          </Backdrop>\r\n          <BrowserRouter>\r\n            <Switch>\r\n              <Route path = \"/\" exact>\r\n                <Redirect to = \"/signin\" />\r\n              </Route>\r\n              <Route path = \"/invoice/:id\" exact component = {Invoice} />\r\n              <Route path = \"/receipt/:id\" exact component = {Receipt} />\r\n              <Route path = \"/quotation/:id\" exact component = {Quotation} />\r\n              <GuestRoute path = \"/signin\" exact component = {SignIn} />\r\n              <GuestRoute path = \"/signup\" exact component = {SignUp} />\r\n              <AdminRoute path = \"/admin\" component = {Admin} />\r\n              <PrivateRoute path = \"/user\" component = {Standard} />\r\n              <Route\r\n                path = \"/deliveryPDF/:productType/:deliveryId\"\r\n                component = {DeliveryPDF}\r\n              />\r\n            </Switch>\r\n          </BrowserRouter>\r\n        </Container>\r\n      </Provider>\r\n    </ThemeProvider>\r\n  );\r\n};\r\n\r\nexport default App;\r\n","const reportWebVitals = (onPerfEntry) => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport reportWebVitals from './reportWebVitals';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}